var C=Object.defineProperty;var _=Object.getOwnPropertySymbols;var V=Object.prototype.hasOwnProperty,A=Object.prototype.propertyIsEnumerable;var P=(s,t,e)=>t in s?C(s,t,{enumerable:!0,configurable:!0,writable:!0,value:e}):s[t]=e,l=(s,t)=>{for(var e in t||(t={}))V.call(t,e)&&P(s,e,t[e]);if(_)for(var e of _(t))A.call(t,e)&&P(s,e,t[e]);return s};import{_ as h}from"./index.52407c78.js";import{n as z,d as k,a as v,q as f,s as R,t as I,v as T,o as p,c as b,b as y,u as c,x as B,j as N}from"./vendor.6d3ef757.js";import{p as O}from"./proposicaoService.8f275e90.js";const j=z({id:"dashboardStore",state:()=>({cardAtivo:{tipo:"MinhasEmendas",titulo:"",totalItens:0,lista:[],parametros:{tipoPesquisa:"MinhasEmendas",sigla:"MPV",numero:void 0,ano:2022,pagina:1}}}),getters:{},actions:{setDadosCardAtivo(s){this.cardAtivo=s}}}),w={key:0,class:"container"},x=N("span",null,"Carregando...",-1),L=[x],F=k({setup(s){const t=v(()=>h(()=>import("./DashboardCards.549d551d.js"),["assets/DashboardCards.549d551d.js","assets/index.52407c78.js","assets/index.0b49b026.css","assets/vendor.6d3ef757.js"])),e=v(()=>h(()=>import("./DashboardResultadoPesquisa.ede22a77.js"),["assets/DashboardResultadoPesquisa.ede22a77.js","assets/DashboardResultadoPesquisa.d78a33ce.css","assets/index.52407c78.js","assets/index.0b49b026.css","assets/vendor.6d3ef757.js","assets/plugin-vue_export-helper.21dcd24c.js"]));let u=f();const m=j(),E=R(),M=I(),d=f(!1);T(()=>E.query,a=>{var i,n,r,g;const o={tipoPesquisa:a.tipoPesquisa||"Parametrizada",sigla:((i=a.sigla)==null?void 0:i.toString())||"MPV",numero:(n=a.numero)==null?void 0:n.toString(),ano:Number((r=a.ano)==null?void 0:r.toString())||new Date().getFullYear(),pagina:Number((g=a.pagina)==null?void 0:g.toString())||1};m.setDadosCardAtivo({tipo:o.tipoPesquisa,titulo:o.tipoPesquisa||"",totalItens:0,lista:[],parametros:o}),D(o)},{immediate:!0,deep:!0});function q(a){let o={tipoPesquisa:a.detail.tipo};a.detail.tipo==="Parametrizada"&&(o=l(l({},o),a.detail.parametros)),M.push({path:"/",query:o})}function D(a){const o={MinhasEmendas:{sigla:"MPV",numero:void 0,ano:2019,pagina:1},PrazoEmendaAberto:{sigla:"MPV",numero:void 0,ano:2020,pagina:1},EmTramitacao:{sigla:"MPV",numero:void 0,ano:2021,pagina:1},Parametrizada:{sigla:a.sigla,numero:a.numero,ano:a.ano,pagina:a.pagina}};d.value=!0;const i=a.tipoPesquisa||"Parametrizada";o[i].pagina=a.pagina;const n=o[i];O.buscarProposicoes(n.sigla,n.numero,n.ano).then(r=>{u.value={tipo:i,titulo:i,totalItens:r.length,lista:a.tipoPesquisa==="MinhasEmendas"?S(r):r,parametros:{tipoPesquisa:i,sigla:n.sigla,numero:n.numero,ano:n.ano,pagina:n.pagina}},m.setDadosCardAtivo(u.value)}).finally(()=>d.value=!1)}function S(a){return a.map((o,i)=>({titulo:"Minha Emenda "+(i+1),proposicao:o}))}return(a,o)=>(p(),b("div",null,[y(c(t),{onCardClick:q}),d.value?(p(),b("div",w,L)):(p(),B(c(e),{key:1,dados:c(u)},null,8,["dados"]))]))}});var K=Object.freeze(Object.defineProperty({__proto__:null,default:F},Symbol.toStringTag,{value:"Module"}));export{K as D,j as u};
