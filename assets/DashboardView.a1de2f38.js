var V=Object.defineProperty;var P=Object.getOwnPropertySymbols;var C=Object.prototype.hasOwnProperty,A=Object.prototype.propertyIsEnumerable;var _=(e,s,t)=>s in e?V(e,s,{enumerable:!0,configurable:!0,writable:!0,value:t}):e[s]=t,l=(e,s)=>{for(var t in s||(s={}))C.call(s,t)&&_(e,t,s[t]);if(P)for(var t of P(s))A.call(s,t)&&_(e,t,s[t]);return e};import{_ as h}from"./index.be445900.js";import{d as R,a as z,b as v,q as f,s as k,t as I,v as T,o as p,c as b,e as w,u as c,x as y,f as B}from"./vendor.7a07ef18.js";import{p as N}from"./proposicaoService.8f275e90.js";const O=R({id:"dashboardStore",state:()=>({cardAtivo:{tipo:"MinhasEmendas",titulo:"",totalItens:0,lista:[],parametros:{tipoPesquisa:"MinhasEmendas",sigla:"MPV",numero:void 0,ano:2022,pagina:1}},proposicoesRecentes:[],minhasEmendas:[],parametrosPesquisaProposicao:{sigla:"MPV",ano:new Date().getFullYear()}}),getters:{},actions:{setDadosCardAtivo(e){this.cardAtivo=e},setProposicoesRecentes(e){this.proposicoesRecentes=e},setParametrosPesquisaProposicao(e){this.parametrosPesquisaProposicao=e}}}),x={key:0,class:"container"},j=B("span",null,"Carregando...",-1),F=[j],L=z({setup(e){const s=v(()=>h(()=>import("./DashboardCards.320f463f.js"),["assets/DashboardCards.320f463f.js","assets/index.be445900.js","assets/index.68742fa1.css","assets/vendor.7a07ef18.js"])),t=v(()=>h(()=>import("./DashboardResultadoPesquisa.4c8e0ea2.js"),["assets/DashboardResultadoPesquisa.4c8e0ea2.js","assets/DashboardResultadoPesquisa.d78a33ce.css","assets/index.be445900.js","assets/index.68742fa1.css","assets/vendor.7a07ef18.js","assets/plugin-vue_export-helper.21dcd24c.js"]));let u=f();const m=O(),q=k(),E=I(),d=f(!1);T(()=>q.query,a=>{var i,n,r,g;const o={tipoPesquisa:a.tipoPesquisa||"Parametrizada",sigla:((i=a.sigla)==null?void 0:i.toString())||"MPV",numero:(n=a.numero)==null?void 0:n.toString(),ano:Number((r=a.ano)==null?void 0:r.toString())||new Date().getFullYear(),pagina:Number((g=a.pagina)==null?void 0:g.toString())||1};m.setDadosCardAtivo({tipo:o.tipoPesquisa,titulo:o.tipoPesquisa||"",totalItens:0,lista:[],parametros:o}),D(o)},{immediate:!0,deep:!0});function M(a){let o={tipoPesquisa:a.detail.tipo};a.detail.tipo==="Parametrizada"&&(o=l(l({},o),a.detail.parametros)),E.push({path:"/",query:o})}function D(a){const o={MinhasEmendas:{sigla:"MPV",numero:void 0,ano:2019,pagina:1},PrazoEmendaAberto:{sigla:"MPV",numero:void 0,ano:2020,pagina:1},EmTramitacao:{sigla:"MPV",numero:void 0,ano:2021,pagina:1},Parametrizada:{sigla:a.sigla,numero:a.numero,ano:a.ano,pagina:a.pagina}};d.value=!0;const i=a.tipoPesquisa||"Parametrizada";o[i].pagina=a.pagina;const n=o[i];N.buscarProposicoes(n.sigla,n.numero,n.ano).then(r=>{u.value={tipo:i,titulo:i,totalItens:r.length,lista:a.tipoPesquisa==="MinhasEmendas"?S(r):r,parametros:{tipoPesquisa:i,sigla:n.sigla,numero:n.numero,ano:n.ano,pagina:n.pagina}},m.setDadosCardAtivo(u.value)}).finally(()=>d.value=!1)}function S(a){return a.map((o,i)=>({titulo:"Minha Emenda "+(i+1),proposicao:o}))}return(a,o)=>(p(),b("div",null,[w(c(s),{onCardClick:M}),d.value?(p(),b("div",x,F)):(p(),y(c(t),{key:1,dados:c(u)},null,8,["dados"]))]))}});var K=Object.freeze(Object.defineProperty({__proto__:null,default:L},Symbol.toStringTag,{value:"Module"}));export{K as D,O as u};
