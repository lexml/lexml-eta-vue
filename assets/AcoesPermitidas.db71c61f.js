import{d as N,q as x,t as S,o as c,c as l,e as m,p as C,l as O,k as _,j as a}from"./vendor.6d3ef757.js";import{_ as P}from"./plugin-vue_export-helper.21dcd24c.js";const A=e=>"titulo"in e&&"proposicao"in e,y=e=>A(e)?e.proposicao:e;const b=e=>(C("data-v-040772d6"),e=e(),O(),e),I={class:"proposicao-actions"},U=b(()=>a("span",{class:"btn-label"},[a("svg",{class:"bi proposicao-action-icon"},[a("use",{"xlink:href":"#journal-code"})])],-1)),B=_(" Emendar "),E=[U,B],q=b(()=>a("span",{class:"btn-label"},[a("svg",{class:"bi proposicao-action-icon"},[a("use",{"xlink:href":"#save"})])],-1)),w=_(" Salvar "),J=[q,w],V=b(()=>a("span",{class:"btn-label"},[a("svg",{class:"bi proposicao-action-icon"},[a("use",{"xlink:href":"#folder2-open"})])],-1)),R=_(" Abrir "),T=[V,R],$=N({props:{item:null,emenda:null,projetoNorma:null,acoesPermitidas:null},setup(e){const n=e,r=x(n.acoesPermitidas),f=S();function g(){if(n.item){const{sigla:t,numero:o,ano:s}=y(n.item);f.push({path:"/edicao",query:{sigla:t,numero:o,ano:s}})}}function h(){if(n.item){const{sigla:t,numero:o,ano:s}=y(n.item),p=JSON.stringify({sigla:t,numero:o,ano:s,projetoNorma:n.projetoNorma,emenda:n.emenda||""}),d=new Blob([p],{type:"application/json"}),i=`${t} ${o}/${s}.json`,j=URL.createObjectURL(d),u=document.createElement("a");u.href=j,u.download=i,document.body.appendChild(u),u.click()}}function v(){let t=document.getElementById("fileUpload");t!=null&&t.click()}function k(t){const o=t.target;if(o&&o.files){var s=new FileReader;s.readAsText(o.files[0]),s.onloadend=p=>{var d;if((d=p.target)!=null&&d.result){const i=JSON.parse(p.target.result);f.push({name:"edicao",query:{sigla:i.sigla,numero:i.numero,ano:i.ano},params:{emenda:JSON.stringify(i.emenda)}})}}}}return(t,o)=>(c(),l("span",I,[r.value.includes("emendar")?(c(),l("button",{key:0,type:"button",class:"btn btn-labeled proposicao-action",onClick:g},E)):m("",!0),r.value.includes("salvar")?(c(),l("button",{key:1,type:"button",class:"btn btn-labeled proposicao-action",onClick:h},J)):m("",!0),r.value.includes("abrir")?(c(),l("button",{key:2,type:"button",class:"btn btn-labeled proposicao-action",onClick:v},T)):m("",!0),r.value.includes("abrir")?(c(),l("input",{key:3,type:"file",id:"fileUpload",accept:"application/json",onChange:o[0]||(o[0]=s=>k(s)),style:{display:"none"}},null,32)):m("",!0)]))}});var F=P($,[["__scopeId","data-v-040772d6"]]),M=Object.freeze(Object.defineProperty({__proto__:null,default:F},Symbol.toStringTag,{value:"Module"}));export{F as A,M as a,y as g,A as i};
