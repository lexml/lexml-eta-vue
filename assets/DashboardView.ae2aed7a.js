var B=Object.defineProperty,j=Object.defineProperties;var Y=Object.getOwnPropertyDescriptors;var M=Object.getOwnPropertySymbols;var $=Object.prototype.hasOwnProperty,G=Object.prototype.propertyIsEnumerable;var S=(a,t,r)=>t in a?B(a,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):a[t]=r,v=(a,t)=>{for(var r in t||(t={}))$.call(t,r)&&S(a,r,t[r]);if(M)for(var r of M(t))G.call(t,r)&&S(a,r,t[r]);return a},C=(a,t)=>j(a,Y(t));import{u as H,_ as h}from"./index.088d89e7.js";import{d as J,a as K,b as f,s as E,t as Q,u as U,v as I,x as W,o as m,c as b,g as q,y as z,f as u,e as y,w as X,h as Z,p as aa,n as ea}from"./vendor.d72107b9.js";import{p as ta}from"./proposicaoService.8f275e90.js";import{_ as oa}from"./plugin-vue_export-helper.21dcd24c.js";const sa=J({id:"dashboardStore",state:()=>({cardAtivo:{tipo:"MinhasEmendas",titulo:"",totalItens:0,lista:[],parametros:{sigla:"MPV",numero:void 0,ano:2022,pagina:1}},proposicoesRecentes:[],minhasEmendas:[],parametrosPesquisaProposicao:{sigla:"MPV",ano:new Date().getFullYear()}}),getters:{},actions:{setDadosCardAtivo(a){this.cardAtivo=a},setProposicoesRecentes(a){this.proposicoesRecentes=a},setParametrosPesquisaProposicao(a){this.parametrosPesquisaProposicao=a}}});const ra=a=>(aa("data-v-9945d17a"),a=a(),ea(),a),ia={class:"container"},na={key:0},da=ra(()=>q("span",null,"Carregando...",-1)),la=[da],ca={key:0},ua=K({setup(a){const t=f(()=>h(()=>import("./DashboardCardPesquisaPronta.d51ce40c.js"),["assets/DashboardCardPesquisaPronta.d51ce40c.js","assets/DashboardCardPesquisaPronta.970f1a02.css","assets/vendor.d72107b9.js","assets/plugin-vue_export-helper.21dcd24c.js","assets/index.088d89e7.js","assets/index.68742fa1.css","assets/proposicaoService.8f275e90.js"])),r=f(()=>h(()=>import("./DashboardCardPesquisaParametrizada.9bea33e1.js"),["assets/DashboardCardPesquisaParametrizada.9bea33e1.js","assets/DashboardCardPesquisaParametrizada.8a20a2fe.css","assets/vendor.d72107b9.js","assets/plugin-vue_export-helper.21dcd24c.js","assets/index.088d89e7.js","assets/index.68742fa1.css","assets/proposicaoService.8f275e90.js"])),V=f(()=>h(()=>import("./DashboardResultadoPesquisa.e6692cfe.js"),["assets/DashboardResultadoPesquisa.e6692cfe.js","assets/DashboardResultadoPesquisa.06873d49.css","assets/index.088d89e7.js","assets/index.68742fa1.css","assets/vendor.d72107b9.js","assets/plugin-vue_export-helper.21dcd24c.js"])),w=f(()=>h(()=>import("./AcoesPermitidas.4d4f05d2.js"),["assets/AcoesPermitidas.4d4f05d2.js","assets/AcoesPermitidas.bd995759.css","assets/vendor.d72107b9.js","assets/index.088d89e7.js","assets/index.68742fa1.css","assets/plugin-vue_export-helper.21dcd24c.js"]));let d=E();const p=sa(),x=Q(),R=U(),c=E(!1),n=E(new Map);n.value.set("MinhasEmendas",{tipo:"MinhasEmendas",titulo:"Minhas Emendas",subtitulo:"Acesse as emendas que voc\xEA est\xE1 trabalhando",totalItens:0,icone:"person-workspace",lista:[]}),n.value.set("PrazoEmendaAberto",{tipo:"PrazoEmendaAberto",titulo:"Proposi\xE7\xF5es com prazo de emendamento aberto",subtitulo:"Veja as proposi\xE7\xF5es que est\xE3o com prazo de emendamento aberto",totalItens:0,icone:"hourglass-split",lista:[]}),n.value.set("EmTramitacao",{tipo:"EmTramitacao",titulo:"Proposi\xE7\xF5es em tramita\xE7\xE3o",subtitulo:"Lista com todas as proposi\xE7\xF5es em tramita\xE7\xE3o",totalItens:0,icone:"arrow-left-right",lista:[]}),n.value.set("Parametrizada",{tipo:"Parametrizada",titulo:"Parametrizada",subtitulo:"",totalItens:0,icone:"search",lista:[]});const P=E(),g=H();I(()=>x.query,()=>A(),{deep:!0}),I(()=>g.emendas,()=>_()),W(()=>{_(),A()});function A(){const{sigla:e,numero:o,ano:s,tipoPesquisa:i,pagina:l}=x.query;i==="MinhasEmendas"?_():i==="PrazoEmendaAberto"?N():i==="EmTramitacao"?F():T(e==null?void 0:e.toString(),o==null?void 0:o.toString(),Number(s==null?void 0:s.toString()),i==null?void 0:i.toString(),Number(l==null?void 0:l.toString()))}function T(e="MPV",o,s,i="Parametrizada",l=1){c.value=!0,i==="MinhasEmendas"?_():(P.value={sigla:e,numero:o,ano:!s||isNaN(s)?new Date().getFullYear():s,pagina:isNaN(l)?1:l},O(P.value,i))}function k(e){let o={tipoPesquisa:e.detail.tipo};e.detail.tipo==="Parametrizada"&&(o=v(v({},o),e.detail.parametros)),R.push({path:"/",query:o})}function _(){const e=C(v({},n.value.get("MinhasEmendas")),{lista:g.emendas,totalItens:g.emendas.length});n.value.set("MinhasEmendas",e),d.value=e,p.setDadosCardAtivo(e),c.value=!1}function N(){const e=n.value.get("PrazoEmendaAberto");d.value=e,p.setDadosCardAtivo(d.value),c.value=!1}function F(){const e=n.value.get("EmTramitacao");d.value=e,p.setDadosCardAtivo(d.value),c.value=!1}function O(e,o){const{sigla:s,numero:i,ano:l,pagina:L}=e;ta.buscarProposicoes(s,i,l).then(D=>{d.value={tipo:o,titulo:o,totalItens:D.length,lista:D,parametros:{sigla:s,numero:i,ano:l,pagina:L}},p.setDadosCardAtivo(d.value)}).finally(()=>c.value=!1)}return(e,o)=>(m(),b("div",ia,[q("div",{class:"row",onCardClick:k},[(m(),z(u(t),{key:n.value.get("MinhasEmendas").totalItens,config:n.value.get("MinhasEmendas")},null,8,["config"])),y(u(r),{config:P.value},null,8,["config"])],32),c.value?(m(),b("div",na,la)):(m(),z(u(V),{key:1,dados:u(d)},{default:X(()=>{var s;return[((s=u(d))==null?void 0:s.tipo)==="MinhasEmendas"?(m(),b("div",ca,[y(u(w),{"acoes-permitidas":["abrirDoDisco"]})])):Z("",!0)]}),_:1},8,["dados"]))]))}});var ma=oa(ua,[["__scopeId","data-v-9945d17a"]]),Ea=Object.freeze(Object.defineProperty({__proto__:null,default:ma},Symbol.toStringTag,{value:"Module"}));export{Ea as D,sa as u};
