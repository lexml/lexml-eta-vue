var gc=Object.defineProperty,bc=Object.defineProperties;var yc=Object.getOwnPropertyDescriptors;var Ps=Object.getOwnPropertySymbols;var xc=Object.prototype.hasOwnProperty,Ec=Object.prototype.propertyIsEnumerable;var Ts=(o,e,t)=>e in o?gc(o,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):o[e]=t,Oo=(o,e)=>{for(var t in e||(e={}))xc.call(e,t)&&Ts(o,t,e[t]);if(Ps)for(var t of Ps(e))Ec.call(e,t)&&Ts(o,t,e[t]);return o},tr=(o,e)=>bc(o,yc(e));import{_ as fn}from"./index.87bf87ca.js";import{d as wc,a as mn,q as Rt,y as Oc,B as Ac,o as vn,c as Cs,j as Ce,x as Rs,u as gn,e as or,C as _c,D as qc,b as Ds,p as Ic,l as Sc}from"./vendor.6d3ef757.js";import{h as kc,p as Nc}from"./proposicaoService.8f275e90.js";import{_ as Pc}from"./plugin-vue_export-helper.21dcd24c.js";const In=Symbol("defaultState"),nl=Symbol("delegatesFocus"),qo=Symbol("firstRender"),Wr=Symbol("focusTarget"),Nr=Symbol("hasDynamicTemplate"),rl=Symbol("ids"),Sn=Symbol("nativeInternals"),ei=Symbol("raiseChangeEvents"),Jt=Symbol("render"),kn=Symbol("renderChanges"),ki=Symbol("rendered"),Ni=Symbol("rendering"),Pr=Symbol("setState"),Di=Symbol("shadowRoot"),Tr=Symbol("shadowRootMode"),Cr=Symbol("state"),Pi=Symbol("stateEffects"),sl=Symbol("template"),bn=Symbol("mousedownListener");function Bi(o,e){return typeof e=="boolean"?e:typeof e=="string"&&(e===""||o.toLowerCase()===e.toLowerCase())}function al(o){for(const e of cl(o)){const t=e[Wr]||e,i=t;if(t instanceof HTMLElement&&t.tabIndex>=0&&!i.disabled&&!(t instanceof HTMLSlotElement))return t}return null}function mo(o,e){let t=e;for(;t;){const i=t.assignedSlot||t.parentNode||t.host;if(i===o)return!0;t=i}return!1}function Dn(o){const e=hl(o,i=>i instanceof HTMLElement&&i.matches('a[href],area[href],button:not([disabled]),details,iframe,input:not([disabled]),select:not([disabled]),textarea:not([disabled]),[contentEditable="true"],[tabindex]')&&i.tabIndex>=0),{value:t}=e.next();return t instanceof HTMLElement?t:null}function Rr(o,e){o[bn]&&o.removeEventListener("mousedown",o[bn]),e&&(o[bn]=t=>{if(t.button!==0)return;const i=al(e[Wr]||e);i&&(i.focus(),t.preventDefault())},o.addEventListener("mousedown",o[bn]))}function ll(o,e){return Array.prototype.findIndex.call(o,t=>t===e||mo(t,e))}function ul(o,e){const t=e.composedPath()[0];return o===t||mo(o,t)}function*cl(o){o&&(yield o,yield*function*(e){let t=e;for(;t=t instanceof HTMLElement&&t.assignedSlot?t.assignedSlot:t instanceof ShadowRoot?t.host:t.parentNode,t;)yield t}(o))}function zi(o,e,t){o.toggleAttribute(e,t),o[Sn]&&o[Sn].states&&o[Sn].states.toggle(e,t)}const dl={checked:!0,defer:!0,disabled:!0,hidden:!0,ismap:!0,multiple:!0,noresize:!0,readonly:!0,selected:!0};function pl(o,e){const t=[...e],i=o.childNodes.length,n=t.length,r=Math.max(i,n);for(let s=0;s<r;s++){const p=o.childNodes[s],d=t[s];s>=i?o.append(d):s>=n?o.removeChild(o.childNodes[n]):p!==d&&(t.indexOf(p,s)>=s?o.insertBefore(d,p):o.replaceChild(d,p))}}function*hl(o,e){let t;if(e(o)&&(yield o),o instanceof HTMLElement&&o.shadowRoot)t=o.shadowRoot.children;else{const i=o instanceof HTMLSlotElement?o.assignedNodes({flatten:!0}):[];t=i.length>0?i:o.childNodes}if(t)for(let i=0;i<t.length;i++)yield*hl(t[i],e)}const pe={html:(o,...e)=>kt.html(o,...e).content},kt={html(o,...e){const t=document.createElement("template");return t.innerHTML=String.raw(o,...e),t}},Ls=new Map;function fl(o){if(typeof o=="function"){let e;try{e=new o}catch(t){if(t.name!=="TypeError")throw t;(function(i){let n;const r=/^[A-Za-z][A-Za-z0-9_$]*$/,s=i.name&&i.name.match(r);if(s){const c=/([A-Z])/g;n=s[0].replace(c,(u,a,l)=>l>0?`-${a}`:a).toLowerCase()}else n="custom-element";let p,d=Ls.get(n)||0;for(;p=`${n}-${d}`,customElements.get(p);d++);customElements.define(p,i),Ls.set(n,d+1)})(o),e=new o}return e}return document.createElement(o)}function Dr(o,e){const t=o.parentNode;if(!t)throw"An element must have a parent before it can be substituted.";return(o instanceof HTMLElement||o instanceof SVGElement)&&(e instanceof HTMLElement||e instanceof SVGElement)&&(Array.prototype.forEach.call(o.attributes,i=>{e.getAttribute(i.name)||i.name==="class"||i.name==="style"||e.setAttribute(i.name,i.value)}),Array.prototype.forEach.call(o.classList,i=>{e.classList.add(i)}),Array.prototype.forEach.call(o.style,i=>{e.style[i]||(e.style[i]=o.style[i])})),e.append(...o.childNodes),t.replaceChild(e,o),e}function Qt(o,e){if(typeof e=="function"&&o.constructor===e||typeof e=="string"&&o instanceof Element&&o.localName===e)return o;{const t=fl(e);return Dr(o,t),t}}const js={tabindex:"tabIndex"},Ms={tabIndex:"tabindex"};function ml(o){if(o===HTMLElement)return[];const e=Object.getPrototypeOf(o.prototype).constructor;let t=e.observedAttributes;t||(t=ml(e));const i=Object.getOwnPropertyNames(o.prototype).filter(n=>{const r=Object.getOwnPropertyDescriptor(o.prototype,n);return r&&typeof r.set=="function"}).map(n=>function(r){let s=Ms[r];if(!s){const p=/([A-Z])/g;s=r.replace(p,"-$1").toLowerCase(),Ms[r]=s}return s}(n)).filter(n=>t.indexOf(n)<0);return t.concat(i)}const yn=Symbol("state"),ir=Symbol("raiseChangeEventsInNextRender"),Qo=Symbol("changedSinceLastRender");function Tc(o,e){const t={};for(const r in e)i=e[r],n=o[r],(i instanceof Date&&n instanceof Date?i.getTime()===n.getTime():i===n)||(t[r]=!0);var i,n;return t}const Fs=new Map,nr=Symbol("shadowIdProxy"),vl=Symbol("proxyElement"),Cc={get(o,e){const t=o[vl][Di];return t&&typeof e=="string"?t.getElementById(e):null}},_t=function(o){return class extends o{attributeChangedCallback(e,t,i){if(super.attributeChangedCallback&&super.attributeChangedCallback(e,t,i),i!==t&&!this[Ni]){const n=function(r){let s=js[r];if(!s){const p=/-([a-z])/g;s=r.replace(p,d=>d[1].toUpperCase()),js[r]=s}return s}(e);if(n in this){const r=dl[e]?Bi(e,i):i;this[n]=r}}}static get observedAttributes(){return ml(this)}}}(function(o){class e extends o{constructor(){super(),this[qo]=void 0,this[ei]=!1,this[Qo]=null,this[Pr](this[In])}connectedCallback(){super.connectedCallback&&super.connectedCallback(),this[kn]()}get[In](){return super[In]||{}}[Jt](i){super[Jt]&&super[Jt](i)}[kn](){this[qo]===void 0&&(this[qo]=!0);const i=this[Qo];if(this[qo]||i){const n=this[ei];this[ei]=this[ir],this[Ni]=!0,this[Jt](i),this[Ni]=!1,this[Qo]=null,this[ki](i),this[qo]=!1,this[ei]=n,this[ir]=n}}[ki](i){super[ki]&&super[ki](i)}async[Pr](i){this[Ni]&&console.warn(`${this.constructor.name} called [setState] during rendering, which you should avoid.
See https://elix.org/documentation/ReactiveMixin.`);const{state:n,changed:r}=function(p,d){const c=Object.assign({},p[yn]),u={};let a=d;for(;;){const l=Tc(c,a);if(Object.keys(l).length===0)break;Object.assign(c,a),Object.assign(u,l),a=p[Pi](c,l)}return{state:c,changed:u}}(this,i);if(this[yn]&&Object.keys(r).length===0)return;Object.freeze(n),this[yn]=n,this[ei]&&(this[ir]=!0);const s=this[qo]===void 0||this[Qo]!==null;this[Qo]=Object.assign(this[Qo]||{},r),this.isConnected&&!s&&(await Promise.resolve(),this[kn]())}get[Cr](){return this[yn]}[Pi](i,n){return super[Pi]?super[Pi](i,n):{}}}return new URLSearchParams(location.search).get("elixdebug")==="true"&&Object.defineProperty(e.prototype,"state",{get(){return this[Cr]}}),e}(function(o){return class extends o{get[rl](){if(!this[nr]){const e={[vl]:this};this[nr]=new Proxy(e,Cc)}return this[nr]}[Jt](e){if(super[Jt]&&super[Jt](e),!this[Di]){const t=function(i){let n=i[Nr]?void 0:Fs.get(i.constructor);if(n===void 0){if(n=i[sl],n&&!(n instanceof HTMLTemplateElement))throw`Warning: the [template] property for ${i.constructor.name} must return an HTMLTemplateElement.`;i[Nr]||Fs.set(i.constructor,n||null)}return n}(this);if(t){const i=this.attachShadow({delegatesFocus:this[nl],mode:this[Tr]}),n=document.importNode(t.content,!0);i.append(n),this[Di]=i}else this[Di]=null}}get[Tr](){return"open"}}}(HTMLElement))),Lr=Symbol("checkSize"),Po=Symbol("closestAvailableItemIndex"),jr=Symbol("contentSlot"),M=In,Ln=Symbol("defaultTabIndex"),Zr=nl,si=Symbol("effectEndTarget"),_e=qo,Mr=Wr,ut=Symbol("getItemText"),io=Symbol("goDown"),Mt=Symbol("goEnd"),zt=Symbol("goFirst"),Vt=Symbol("goLast"),no=Symbol("goLeft"),yt=Symbol("goNext"),xt=Symbol("goPrevious"),ro=Symbol("goRight"),Ft=Symbol("goStart"),ti=Symbol("goToItemWithPrefix"),so=Symbol("goUp"),Rc=Nr,H=rl,$e=Symbol("inputDelegate"),qt=Symbol("itemsDelegate"),ce=Symbol("keydown"),Us=Symbol("matchText"),Dc=Symbol("mouseenter"),Lc=Symbol("mouseleave"),Ne=Sn,Z=ei,$=Jt,jc=kn,Mc=Symbol("renderDataToElement"),Y=ki,Bo=Ni,nt=Symbol("scrollTarget"),U=Pr,je=Di,Fc=Tr,Xr=Symbol("startEffect"),N=Cr,ne=Pi,Uc=Symbol("swipeDown"),$c=Symbol("swipeDownComplete"),Bc=Symbol("swipeLeft"),zc=Symbol("swipeLeftTransitionEnd"),Vc=Symbol("swipeRight"),Hc=Symbol("swipeRightTransitionEnd"),Kc=Symbol("swipeUp"),Gc=Symbol("swipeUpComplete"),Qc=Symbol("swipeStart"),Wc=Symbol("swipeTarget"),di=Symbol("tap"),J=sl,Zc=Symbol("toggleSelectedFlag");new URLSearchParams(location.search).get("elixdebug")==="true"&&(window.elix={internal:{checkSize:Lr,closestAvailableItemIndex:Po,contentSlot:jr,defaultState:M,defaultTabIndex:Ln,delegatesFocus:Zr,effectEndTarget:si,firstRender:_e,focusTarget:Mr,getItemText:ut,goDown:io,goEnd:Mt,goFirst:zt,goLast:Vt,goLeft:no,goNext:yt,goPrevious:xt,goRight:ro,goStart:Ft,goToItemWithPrefix:ti,goUp:so,hasDynamicTemplate:Rc,ids:H,inputDelegate:$e,itemsDelegate:qt,keydown:ce,mouseenter:Dc,mouseleave:Lc,nativeInternals:Ne,event,raiseChangeEvents:Z,render:$,renderChanges:jc,renderDataToElement:Mc,rendered:Y,rendering:Bo,scrollTarget:nt,setState:U,shadowRoot:je,shadowRootMode:Fc,startEffect:Xr,state:N,stateEffects:ne,swipeDown:Uc,swipeDownComplete:$c,swipeLeft:Bc,swipeLeftTransitionEnd:zc,swipeRight:Vc,swipeRightTransitionEnd:Hc,swipeUp:Kc,swipeUpComplete:Gc,swipeStart:Qc,swipeTarget:Wc,tap:di,template:J,toggleSelectedFlag:Zc}});const xn=Symbol("previousBodyStyleOverflow"),En=Symbol("previousDocumentMarginRight"),gl=Symbol("wrap"),rr=Symbol("wrappingFocus");function Yr(o){return class extends o{[ce](e){const t=Dn(this[je]);if(t){const i=document.activeElement&&(document.activeElement===t||document.activeElement.contains(t)),n=this[je].activeElement,r=n&&(n===t||mo(n,t));(i||r)&&e.key==="Tab"&&e.shiftKey&&(this[rr]=!0,this[H].focusCatcher.focus(),this[rr]=!1)}return super[ce]&&super[ce](e)||!1}[$](e){super[$]&&super[$](e),this[_e]&&this[H].focusCatcher.addEventListener("focus",()=>{if(!this[rr]){const t=Dn(this[je]);t&&t.focus()}})}[gl](e){const t=pe.html`
        <style>
          #focusCapture {
            display: flex;
            height: 100%;
            overflow: hidden;
            width: 100%;
          }

          #focusCaptureContainer {
            align-items: center;
            display: flex;
            flex: 1;
            flex-direction: column;
            justify-content: center;
            position: relative;
          }
        </style>
        <div id="focusCapture">
          <div id="focusCaptureContainer"></div>
          <div id="focusCatcher" tabindex="0"></div>
        </div>
      `,i=t.getElementById("focusCaptureContainer");i&&(e.replaceWith(t),i.append(e))}}}function bi(o){return class extends o{constructor(){super(),this.addEventListener("keydown",async e=>{this[Z]=!0,this[N].focusVisible||this[U]({focusVisible:!0}),this[ce](e)&&(e.preventDefault(),e.stopImmediatePropagation()),await Promise.resolve(),this[Z]=!1})}attributeChangedCallback(e,t,i){if(e==="tabindex"){let n;i===null?n=-1:(n=Number(i),isNaN(n)&&(n=this[Ln]?this[Ln]:0)),this.tabIndex=n}else super.attributeChangedCallback(e,t,i)}get[M](){const e=this[Zr]?-1:0;return Object.assign(super[M]||{},{tabIndex:e})}[ce](e){return!!super[ce]&&super[ce](e)}[$](e){super[$]&&super[$](e),e.tabIndex&&(this.tabIndex=this[N].tabIndex)}get tabIndex(){return super.tabIndex}set tabIndex(e){super.tabIndex!==e&&(super.tabIndex=e),this[Bo]||this[U]({tabIndex:e})}}}Yr.wrap=gl;const Xc=function(o){return class extends o{get[M](){return Object.assign(super[M]||{},{role:null})}[$](e){if(super[$]&&super[$](e),e.role){const{role:t}=this[N];t?this.setAttribute("role",t):this.removeAttribute("role")}}get role(){return super.role}set role(e){const t=String(e);super.role=t,this[Bo]||this[U]({s:t})}}}(_t);class Jr extends Xc{get[M](){return Object.assign(super[M],{role:"none"})}get[J](){return kt.html`
      <style>
        :host {
          display: inline-block;
          height: 100%;
          left: 0;
          position: fixed;
          top: 0;
          touch-action: manipulation;
          width: 100%;
        }
      </style>
      <slot></slot>
    `}}class bl extends Jr{constructor(){super(),"PointerEvent"in window||this.addEventListener("touchmove",e=>{e.touches.length===1&&e.preventDefault()})}}const wn=Symbol("closePromise"),sr=Symbol("closeResolve");function yl(o){return class extends o{attributeChangedCallback(e,t,i){if(e==="opened"){const n=Bi(e,i);this.opened!==n&&(this.opened=n)}else super.attributeChangedCallback(e,t,i)}async close(e){super.close&&await super.close(),this[U]({closeResult:e}),await this.toggle(!1)}get closed(){return this[N]&&!this[N].opened}get closeFinished(){return this[N].closeFinished}get closeResult(){return this[N].closeResult}get[M](){const e={closeResult:null,opened:!1};return this[Xr]&&Object.assign(e,{closeFinished:!0,effect:"close",effectPhase:"after",openCloseEffects:!0}),Object.assign(super[M]||{},e)}async open(){super.open&&await super.open(),this[U]({closeResult:void 0}),await this.toggle(!0)}get opened(){return this[N]&&this[N].opened}set opened(e){this[U]({closeResult:void 0}),this.toggle(e)}[$](e){if(super[$](e),e.opened){const{opened:t}=this[N];zi(this,"opened",t)}if(e.closeFinished){const{closeFinished:t}=this[N];zi(this,"closed",t)}}[Y](e){if(super[Y]&&super[Y](e),e.opened&&this[Z]){const i=new CustomEvent("opened-changed",{bubbles:!0,detail:{closeResult:this[N].closeResult,opened:this[N].opened}});this.dispatchEvent(i);const n=new CustomEvent("openedchange",{bubbles:!0,detail:{closeResult:this[N].closeResult,opened:this[N].opened}});if(this.dispatchEvent(n),this[N].opened){const r=new CustomEvent("opened",{bubbles:!0});this.dispatchEvent(r);const s=new CustomEvent("open",{bubbles:!0});this.dispatchEvent(s)}else{const r=new CustomEvent("closed",{bubbles:!0,detail:{closeResult:this[N].closeResult}});this.dispatchEvent(r);const s=new CustomEvent("close",{bubbles:!0,detail:{closeResult:this[N].closeResult}});this.dispatchEvent(s)}}const t=this[sr];this.closeFinished&&t&&(this[sr]=null,this[wn]=null,t(this[N].closeResult))}[ne](e,t){const i=super[ne]?super[ne](e,t):{};if(t.openCloseEffects||t.effect||t.effectPhase||t.opened){const{effect:n,effectPhase:r,openCloseEffects:s,opened:p}=e;Object.assign(i,{closeFinished:s?n==="close"&&r==="after":!p})}return i}async toggle(e=!this.opened){if(super.toggle&&await super.toggle(e),e!==this[N].opened){const t={opened:e};this[N].openCloseEffects&&(t.effect=e?"open":"close",this[N].effectPhase==="after"&&(t.effectPhase="before")),await this[U](t)}}whenClosed(){return this[wn]||(this[wn]=new Promise(e=>{this[sr]=e})),this[wn]}}}class xl extends _t{get[J](){return kt.html`
      <style>
        :host {
          display: inline-block;
          position: relative;
        }
      </style>
      <slot></slot>
    `}}const ar=Symbol("appendedToDocument"),Ti=Symbol("assignedZIndex"),Ao=Symbol("restoreFocusToElement");function $s(o){const e=function(){const t=document.body.querySelectorAll("*"),i=Array.from(t,n=>{const r=getComputedStyle(n);let s=0;if(r.position!=="static"&&r.zIndex!=="auto"){const p=r.zIndex?parseInt(r.zIndex):0;s=isNaN(p)?0:p}return s});return Math.max(...i)}()+1;o[Ti]=e,o.style.zIndex=e.toString()}function Fr(o){const e=getComputedStyle(o).zIndex,t=o.style.zIndex,i=!isNaN(parseInt(t));if(e==="auto")return i;if(e==="0"&&!i){const n=o.assignedSlot||(o instanceof ShadowRoot?o.host:o.parentNode);if(!(n instanceof HTMLElement))return!0;if(!Fr(n))return!1}return!0}function El(o){return class extends o{get[jr](){const e=this[je]&&this[je].querySelector("slot:not([name])");return this[je]&&e||console.warn(`SlotContentMixin expects ${this.constructor.name} to define a shadow tree that includes a default (unnamed) slot.
See https://elix.org/documentation/SlotContentMixin.`),e}get[M](){return Object.assign(super[M]||{},{content:null})}[Y](e){if(super[Y]&&super[Y](e),this[_e]){const t=this[jr];t&&t.addEventListener("slotchange",async()=>{this[Z]=!0;const i=t.assignedNodes({flatten:!0});Object.freeze(i),this[U]({content:i}),await Promise.resolve(),this[Z]=!1})}}}}const Yc=yl(function(o){return class extends o{get autoFocus(){return this[N].autoFocus}set autoFocus(e){this[U]({autoFocus:e})}get[M](){return Object.assign(super[M]||{},{autoFocus:!0,persistent:!1})}async open(){this[N].persistent||this.isConnected||(this[ar]=!0,document.body.append(this)),super.open&&await super.open()}[$](e){super[$]&&super[$](e),this[_e]&&this.addEventListener("blur",t=>{const i=t.relatedTarget||document.activeElement;i instanceof HTMLElement&&(mo(this,i)||(this.opened?this[Ao]=i:(i.focus(),this[Ao]=null)))}),(e.effectPhase||e.opened||e.persistent)&&!this[N].persistent&&((this.closeFinished===void 0?this.closed:this.closeFinished)?this[Ti]&&(this.style.zIndex="",this[Ti]=null):this[Ti]?this.style.zIndex=this[Ti]:Fr(this)||$s(this))}[Y](e){if(super[Y]&&super[Y](e),this[_e]&&this[N].persistent&&!Fr(this)&&$s(this),e.opened&&this[N].autoFocus)if(this[N].opened){this[Ao]||document.activeElement===document.body||(this[Ao]=document.activeElement);const t=Dn(this);t&&t.focus()}else this[Ao]&&(this[Ao].focus(),this[Ao]=null);!this[_e]&&!this[N].persistent&&this.closeFinished&&this[ar]&&(this[ar]=!1,this.parentNode&&this.parentNode.removeChild(this))}get[J](){const e=super[J]||kt.html``;return e.content.append(pe.html`
        <style>
          :host([closed]) {
            display: none;
          }
        </style>
      `),e}}}(El(_t)));class wl extends Yc{get backdrop(){return this[H]&&this[H].backdrop}get backdropPartType(){return this[N].backdropPartType}set backdropPartType(e){this[U]({backdropPartType:e})}get[M](){return Object.assign(super[M],{backdropPartType:Jr,framePartType:xl})}get frame(){return this[H].frame}get framePartType(){return this[N].framePartType}set framePartType(e){this[U]({framePartType:e})}[$](e){super[$](e),Bs(this[je],this[N],e)}[Y](e){super[Y](e),e.opened&&this[N].content&&this[N].content.forEach(t=>{t[Lr]&&t[Lr]()})}get[J](){const e=super[J];return e.content.append(pe.html`
      <style>
        :host {
          display: inline-grid;
          /* Constrain content if overlay's height is constrained. */
          grid-template: minmax(0, 1fr) / minmax(0, 1fr);
          max-height: 100vh;
          max-width: 100vw;
          outline: none;
          position: fixed;
          -webkit-tap-highlight-color: transparent;
        }

        [part~="frame"] {
          box-sizing: border-box;
          display: grid;
          overscroll-behavior: contain;
          pointer-events: initial;
          position: relative;
        }

        #frameContent {
          display: grid;
          grid-template: minmax(0, 1fr) / minmax(0, 1fr);
          overflow: hidden;
        }
      </style>
      <div id="backdrop" part="backdrop" tabindex="-1"></div>
      <div id="frame" part="frame" role="none">
        <div id="frameContent">
          <slot></slot>
        </div>
      </div>
    `),Bs(e.content,this[N]),e}}function Bs(o,e,t){if(!t||t.backdropPartType){const{backdropPartType:i}=e,n=o.getElementById("backdrop");n&&Qt(n,i)}if(!t||t.framePartType){const{framePartType:i}=e,n=o.getElementById("frame");n&&Qt(n,i)}}const Jc=function(o){return class extends o{get[M](){return Object.assign(super[M]||{},{role:"dialog"})}[ce](e){let t=!1;switch(e.key){case"Escape":this.close({canceled:"Escape"}),t=!0}return t||super[ce]&&super[ce](e)||!1}[$](e){if(super[$]&&super[$](e),e.opened)if(this[N].opened&&document.documentElement){const t=document.documentElement.clientWidth,i=window.innerWidth-t;this[xn]=document.body.style.overflow,this[En]=i>0?document.documentElement.style.marginRight:null,document.body.style.overflow="hidden",i>0&&(document.documentElement.style.marginRight=`${i}px`)}else this[xn]!=null&&(document.body.style.overflow=this[xn],this[xn]=null),this[En]!=null&&(document.documentElement.style.marginRight=this[En],this[En]=null);if(e.role){const{role:t}=this[N];this.setAttribute("role",t)}}get role(){return super.role}set role(e){super.role=e,this[Bo]||this[U]({role:e})}}}(Yr(bi(wl)));class Ol extends Jc{get[M](){return Object.assign(super[M],{backdropPartType:bl,tabIndex:-1})}get[J](){const e=super[J],t=e.content.querySelector("#frame");return this[Yr.wrap](t),e.content.append(pe.html`
        <style>
          :host {
            height: 100%;
            left: 0;
            pointer-events: initial;
            top: 0;
            width: 100%;
          }
        </style>
      `),e}}class ed extends Ol{get choiceButtons(){return this[N].choiceButtons}get choiceButtonPartType(){return this[N].choiceButtonPartType}set choiceButtonPartType(e){this[U]({choiceButtonPartType:e})}get choices(){return this[N].choices}set choices(e){this[U]({choices:e})}get[M](){return Object.assign(super[M],{choiceButtonPartType:"button",choiceButtons:[],choices:["OK"]})}[ce](e){let t=!1;const i=e.key.length===1&&e.key.toLowerCase();if(i){const n=this.choices.find(r=>r[0].toLowerCase()===i);n&&(this.close({choice:n}),t=!0)}return t||super[ce]&&super[ce](e)||!1}[$](e){super[$](e),this[_e]&&this[H].choiceButtonContainer.addEventListener("click",async t=>{const i=t.target;if(i instanceof HTMLElement){const n=i.textContent;this[Z]=!0,await this.close({choice:n}),this[Z]=!1}}),e.choiceButtons&&pl(this[H].choiceButtonContainer,this[N].choiceButtons)}[ne](e,t){const i=super[ne](e,t);if(t.choiceButtonPartType||t.choices){const n=e.choices.map(r=>{const s=fl(e.choiceButtonPartType);return"part"in s&&(s.part="choice-button"),s.textContent=r,s});Object.freeze(n),Object.assign(i,{choiceButtons:n})}return i}get[J](){const e=super[J],t=e.content.querySelector("slot:not([name])");return t&&t.replaceWith(pe.html`
        <div id="alertDialogContent">
          <slot></slot>
          <div id="choiceButtonContainer" part="choice-button-container"></div>
        </div>
      `),e}}const Al=document.createElement("div");Al.attachShadow({mode:"open",delegatesFocus:!0});const td=Al.shadowRoot.delegatesFocus;function _l(o){return class extends o{get[M](){return Object.assign(super[M]||{},{composeFocus:!td})}[$](e){super[$]&&super[$](e),this[_e]&&this.addEventListener("mousedown",t=>{if(this[N].composeFocus&&t.button===0&&t.target instanceof Element){const i=al(t.target);i&&(i.focus(),t.preventDefault())}})}}}function es(o){return class extends o{get ariaLabel(){return this[N].ariaLabel}set ariaLabel(e){this[N].removingAriaAttribute||this[U]({ariaLabel:String(e)})}get ariaLabelledby(){return this[N].ariaLabelledby}set ariaLabelledby(e){this[N].removingAriaAttribute||this[U]({ariaLabelledby:String(e)})}get[M](){return Object.assign(super[M]||{},{ariaLabel:null,ariaLabelledby:null,inputLabel:null,removingAriaAttribute:!1})}[$](e){if(super[$]&&super[$](e),this[_e]&&this.addEventListener("focus",()=>{this[Z]=!0;const t=ur(this,this[N]);this[U]({inputLabel:t}),this[Z]=!1}),e.inputLabel){const{inputLabel:t}=this[N];t?this[$e].setAttribute("aria-label",t):this[$e].removeAttribute("aria-label")}}[Y](e){super[Y]&&super[Y](e),this[_e]&&(window.requestIdleCallback||setTimeout)(()=>{const n=ur(this,this[N]);this[U]({inputLabel:n})});const{ariaLabel:t,ariaLabelledby:i}=this[N];e.ariaLabel&&!this[N].removingAriaAttribute&&this.getAttribute("aria-label")&&(this.setAttribute("delegated-label",t),this[U]({removingAriaAttribute:!0}),this.removeAttribute("aria-label")),e.ariaLabelledby&&!this[N].removingAriaAttribute&&this.getAttribute("aria-labelledby")&&(this.setAttribute("delegated-labelledby",i),this[U]({removingAriaAttribute:!0}),this.removeAttribute("aria-labelledby")),e.removingAriaAttribute&&this[N].removingAriaAttribute&&this[U]({removingAriaAttribute:!1})}[ne](e,t){const i=super[ne]?super[ne](e,t):{};if(t.ariaLabel&&e.ariaLabel||t.selectedText&&e.ariaLabelledby&&this.matches(":focus-within")){const n=ur(this,e);Object.assign(i,{inputLabel:n})}return i}}}function lr(o){if("selectedText"in o)return o.selectedText;if("value"in o&&"options"in o){const e=o.value,t=o.options.find(i=>i.value===e);return t?t.innerText:""}return"value"in o?o.value:o.innerText}function ur(o,e){const{ariaLabel:t,ariaLabelledby:i}=e,n=o.isConnected?o.getRootNode():null;let r=null;if(i&&n)r=i.split(" ").map(s=>{const p=n.getElementById(s);return p?p===o&&e.value!==null?e.selectedText:lr(p):""}).join(" ");else if(t)r=t;else if(n){const s=o.id;if(s){const p=n.querySelector(`[for="${s}"]`);p instanceof HTMLElement&&(r=lr(p))}if(r===null){const p=o.closest("label");p&&(r=lr(p))}}return r&&(r=r.trim()),r}let ko=!1;const xi=Symbol("focusVisibleChangedListener");function an(o){return class extends o{constructor(){super(),this.addEventListener("focusout",e=>{Promise.resolve().then(()=>{const t=e.relatedTarget||document.activeElement,i=this===t,n=mo(this,t);!i&&!n&&(this[U]({focusVisible:!1}),document.removeEventListener("focusvisiblechange",this[xi]),this[xi]=null)})}),this.addEventListener("focusin",()=>{Promise.resolve().then(()=>{this[N].focusVisible!==ko&&this[U]({focusVisible:ko}),this[xi]||(this[xi]=()=>{this[U]({focusVisible:ko})},document.addEventListener("focusvisiblechange",this[xi]))})})}get[M](){return Object.assign(super[M]||{},{focusVisible:!1})}[$](e){if(super[$]&&super[$](e),e.focusVisible){const{focusVisible:t}=this[N];this.toggleAttribute("focus-visible",t)}}get[J](){const e=super[J]||kt.html``;return e.content.append(pe.html`
        <style>
          :host {
            outline: none;
          }

          :host([focus-visible]:focus-within) {
            outline-color: Highlight; /* Firefox */
            outline-color: -webkit-focus-ring-color; /* All other browsers */
            outline-style: auto;
          }
        </style>
      `),e}}}function zs(o){if(ko!==o){ko=o;const e=new CustomEvent("focus-visible-changed",{detail:{focusVisible:ko}});document.dispatchEvent(e);const t=new CustomEvent("focusvisiblechange",{detail:{focusVisible:ko}});document.dispatchEvent(t)}}function $n(o){return class extends o{get[Zr](){return!0}focus(e){const t=this[Mr];t&&t.focus(e)}get[Mr](){return Dn(this[je])}}}window.addEventListener("keydown",()=>{zs(!0)},{capture:!0}),window.addEventListener("mousedown",()=>{zs(!1)},{capture:!0});const Vs=Symbol("extends"),cr=Symbol("delegatedPropertySetters"),od={a:!0,area:!0,button:!0,details:!0,iframe:!0,input:!0,select:!0,textarea:!0},id={address:["scroll"],blockquote:["scroll"],caption:["scroll"],center:["scroll"],dd:["scroll"],dir:["scroll"],div:["scroll"],dl:["scroll"],dt:["scroll"],fieldset:["scroll"],form:["reset","scroll"],frame:["load"],h1:["scroll"],h2:["scroll"],h3:["scroll"],h4:["scroll"],h5:["scroll"],h6:["scroll"],iframe:["load"],img:["abort","error","load"],input:["abort","change","error","select","load"],li:["scroll"],link:["load"],menu:["scroll"],object:["error","scroll"],ol:["scroll"],p:["scroll"],script:["error","load"],select:["change","scroll"],tbody:["scroll"],tfoot:["scroll"],thead:["scroll"],textarea:["change","select","scroll"]},nd=["click","dblclick","mousedown","mouseenter","mouseleave","mousemove","mouseout","mouseover","mouseup","wheel"],rd={abort:!0,change:!0,reset:!0},sd=["address","article","aside","blockquote","canvas","dd","div","dl","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","header","hgroup","hr","li","main","nav","noscript","ol","output","p","pre","section","table","tfoot","ul","video"],Hs=["accept-charset","autoplay","buffered","challenge","codebase","colspan","contenteditable","controls","crossorigin","datetime","dirname","for","formaction","http-equiv","icon","ismap","itemprop","keytype","language","loop","manifest","maxlength","minlength","muted","novalidate","preload","radiogroup","readonly","referrerpolicy","rowspan","scoped","usemap"],ad=$n(_t);class Bn extends ad{constructor(){super();const e=this;!this[Ne]&&e.attachInternals&&(this[Ne]=e.attachInternals())}attributeChangedCallback(e,t,i){if(Hs.indexOf(e)>=0){const n=Object.assign({},this[N].innerAttributes,{[e]:i});this[U]({innerAttributes:n})}else super.attributeChangedCallback(e,t,i)}blur(){this.inner.blur()}get[M](){return Object.assign(super[M],{innerAttributes:{}})}get[Ln](){return od[this.extends]?0:-1}get extends(){return this.constructor[Vs]}get inner(){const e=this[H]&&this[H].inner;return e||console.warn("Attempted to get an inner standard element before it was instantiated."),e}static get observedAttributes(){return[...super.observedAttributes,...Hs]}[$](e){super[$](e);const t=this.inner;if(this[_e]&&((id[this.extends]||[]).forEach(i=>{t.addEventListener(i,()=>{const n=new Event(i,{bubbles:rd[i]||!1});this.dispatchEvent(n)})}),"disabled"in t&&nd.forEach(i=>{this.addEventListener(i,n=>{t.disabled&&n.stopImmediatePropagation()})})),e.tabIndex&&(t.tabIndex=this[N].tabIndex),e.innerAttributes){const{innerAttributes:i}=this[N];for(const n in i)ld(t,n,i[n])}this.constructor[cr].forEach(i=>{if(e[i]){const n=this[N][i];(i==="selectionEnd"||i==="selectionStart")&&n===null||(t[i]=n)}})}[Y](e){if(super[Y](e),e.disabled){const{disabled:t}=this[N];t!==void 0&&zi(this,"disabled",t)}}get[J](){const e=sd.includes(this.extends)?"block":"inline-block",t=this.extends;return kt.html`
      <style>
        :host {
          display: ${e}
        }
        
        [part~="inner"] {
          box-sizing: border-box;
          height: 100%;
          width: 100%;
        }
      </style>
      <${t} id="inner" part="inner ${t}">
        <slot></slot>
      </${t}>
    `}static wrap(e){class t extends Bn{}t[Vs]=e;const i=document.createElement(e);return function(n,r){const s=Object.getOwnPropertyNames(r);n[cr]=[],s.forEach(p=>{const d=Object.getOwnPropertyDescriptor(r,p);if(!d)return;const c=function(u,a){if(typeof a.value=="function"){if(u!=="constructor")return function(l,h){const f=function(...m){this.inner[l](...m)};return{configurable:h.configurable,enumerable:h.enumerable,value:f,writable:h.writable}}(u,a)}else if(typeof a.get=="function"||typeof a.set=="function")return function(l,h){const f={configurable:h.configurable,enumerable:h.enumerable};return h.get&&(f.get=function(){return function(m,v){return m[N][v]||m[je]&&m.inner[v]}(this,l)}),h.set&&(f.set=function(m){(function(v,g,y){v[N][g]!==y&&v[U]({[g]:y})})(this,l,m)}),h.writable&&(f.writable=h.writable),f}(u,a);return null}(p,d);c&&(Object.defineProperty(n.prototype,p,c),c.set&&n[cr].push(p))})}(t,Object.getPrototypeOf(i)),t}}function ld(o,e,t){dl[e]?typeof t=="string"?o.setAttribute(e,""):t===null&&o.removeAttribute(e):t!=null?o.setAttribute(e,t.toString()):o.removeAttribute(e)}const ud=_l(es(an(Bn.wrap("button"))));class cd extends ud{get[M](){return Object.assign(super[M],{role:"button"})}get[$e](){return this[H].inner}[di](){const e=new MouseEvent("click",{bubbles:!0,cancelable:!0});this.dispatchEvent(e)}get[J](){const e=super[J];return e.content.append(pe.html`
        <style>
          :host {
            display: inline-flex;
            outline: none;
            -webkit-tap-highlight-color: transparent;
            touch-action: manipulation;
          }

          [part~="button"] {
            align-items: center;
            background: none;
            border: none;
            color: inherit;
            flex: 1;
            font: inherit;
            outline: none;
            padding: 0;
          }
        </style>
      `),e}}class dd extends function(e){return class extends e{get[J](){const t=super[J];return t.content.append(pe.html`
        <style>
          :host([disabled]) ::slotted(*) {
            opacity: 0.5;
          }

          [part~="button"] {
            display: inline-flex;
            justify-content: center;
            margin: 0;
            position: relative;
          }
        </style>
      `),t}}}(cd){}class ql extends dd{get[J](){const e=super[J];return e.content.append(pe.html`
        <style>
          [part~="button"] {
            background: #eee;
            border: 1px solid #ccc;
            padding: 0.25em 0.5em;
          }
        </style>
      `),e}}class pd extends bl{get[J](){const e=super[J];return e.content.append(pe.html`
        <style>
          :host {
            background: rgba(0, 0, 0, 0.2);
          }
        </style>
      `),e}}class ts extends xl{get[J](){const e=super[J];return e.content.append(pe.html`
        <style>
          :host {
            background: white;
            border: 1px solid rgba(0, 0, 0, 0.2);
            box-shadow: 0 0px 10px rgba(0, 0, 0, 0.5);
            box-sizing: border-box;
          }
        </style>
      `),e}}function Il(o){return class extends o{get[M](){return Object.assign(super[M]||{},{backdropPartType:pd,framePartType:ts})}}}class hd extends Il(ed){get[M](){return Object.assign(super[M],{choiceButtonPartType:ql})}get[J](){const e=super[J];return e.content.append(pe.html`
        <style>
          [part~="frame"] {
            padding: 1em;
          }

          [part~="choice-button-container"] {
            margin-top: 1em;
          }

          [part~="choice-button"]:not(:first-child) {
            margin-left: 0.5em;
          }
        </style>
      `),e}}customElements.define("elix-alert-dialog",class extends hd{});class fd extends Il(Ol){}customElements.define("elix-dialog",class extends fd{});const Ks=Symbol("generatedId");let md=0;const Sl={a:"link",article:"region",button:"button",h1:"sectionhead",h2:"sectionhead",h3:"sectionhead",h4:"sectionhead",h5:"sectionhead",h6:"sectionhead",hr:"sectionhead",iframe:"region",link:"link",menu:"menu",ol:"list",option:"option",output:"liveregion",progress:"progressbar",select:"select",table:"table",td:"td",textarea:"textbox",th:"th",ul:"list"};function Gs(o){let e=o.id||o[Ks];return e||(e="_id"+md++,o[Ks]=e),e}function os(o){return class extends o{attributeChangedCallback(e,t,i){if(e==="current-index")this.currentIndex=Number(i);else if(e==="current-item-required"){const n=Bi(e,i);this.currentItemRequired!==n&&(this.currentItemRequired=n)}else if(e==="cursor-operations-wrap"){const n=Bi(e,i);this.cursorOperationsWrap!==n&&(this.cursorOperationsWrap=n)}else super.attributeChangedCallback(e,t,i)}get currentIndex(){const{items:e,currentIndex:t}=this[N];return e&&e.length>0?t:-1}set currentIndex(e){isNaN(e)||this[U]({currentIndex:e})}get currentItem(){const{items:e,currentIndex:t}=this[N];return e&&e[t]}set currentItem(e){const{items:t}=this[N];if(!t)return;const i=t.indexOf(e);this[U]({currentIndex:i})}get currentItemRequired(){return this[N].currentItemRequired}set currentItemRequired(e){this[U]({currentItemRequired:e})}get cursorOperationsWrap(){return this[N].cursorOperationsWrap}set cursorOperationsWrap(e){this[U]({cursorOperationsWrap:e})}goFirst(){return super.goFirst&&super.goFirst(),this[zt]()}goLast(){return super.goLast&&super.goLast(),this[Vt]()}goNext(){return super.goNext&&super.goNext(),this[yt]()}goPrevious(){return super.goPrevious&&super.goPrevious(),this[xt]()}[Y](e){if(super[Y]&&super[Y](e),e.currentIndex&&this[Z]){const{currentIndex:t}=this[N],i=new CustomEvent("current-index-changed",{bubbles:!0,detail:{currentIndex:t}});this.dispatchEvent(i);const n=new CustomEvent("currentindexchange",{bubbles:!0,detail:{currentIndex:t}});this.dispatchEvent(n)}}}}function kl(o){const e=o[je],t=e&&e.querySelector("slot:not([name])");return t&&t.parentNode instanceof Element&&function(i){for(const n of cl(i))if(n instanceof HTMLElement&&vd(n))return n;return null}(t.parentNode)||o}function vd(o){const e=getComputedStyle(o),t=e.overflowX,i=e.overflowY;return t==="scroll"||t==="auto"||i==="scroll"||i==="auto"}function Nl(o){return class extends o{[Y](e){super[Y]&&super[Y](e),e.currentItem&&this.scrollCurrentItemIntoView()}scrollCurrentItemIntoView(){super.scrollCurrentItemIntoView&&super.scrollCurrentItemIntoView();const{currentItem:e,items:t}=this[N];if(!e||!t)return;const i=this[nt].getBoundingClientRect(),n=e.getBoundingClientRect(),r=n.bottom-i.bottom,s=n.left-i.left,p=n.right-i.right,d=n.top-i.top,c=this[N].orientation||"both";c!=="horizontal"&&c!=="both"||(p>0?this[nt].scrollLeft+=p:s<0&&(this[nt].scrollLeft+=Math.ceil(s))),c!=="vertical"&&c!=="both"||(r>0?this[nt].scrollTop+=r:d<0&&(this[nt].scrollTop+=Math.ceil(d)))}get[nt](){return super[nt]||kl(this)}}}function Pl(o){return class extends o{get[M](){return Object.assign(super[M]||{},{canGoDown:null,canGoLeft:null,canGoRight:null,canGoUp:null})}[io](){return super[io]&&super[io](),this[yt]()}[Mt](){return super[Mt]&&super[Mt](),this[Vt]()}[no](){return super[no]&&super[no](),this[N]&&this[N].rightToLeft?this[yt]():this[xt]()}[ro](){return super[ro]&&super[ro](),this[N]&&this[N].rightToLeft?this[xt]():this[yt]()}[Ft](){return super[Ft]&&super[Ft](),this[zt]()}[so](){return super[so]&&super[so](),this[xt]()}[ne](e,t){const i=super[ne]?super[ne](e,t):{};if(t.canGoNext||t.canGoPrevious||t.languageDirection||t.orientation||t.rightToLeft){const{canGoNext:n,canGoPrevious:r,orientation:s,rightToLeft:p}=e,d=s==="horizontal"||s==="both",c=s==="vertical"||s==="both";Object.assign(i,{canGoDown:c&&n,canGoLeft:!!d&&(p?n:r),canGoRight:!!d&&(p?r:n),canGoUp:c&&r})}return i}}}function Tl(o){return class extends o{get items(){return this[N]?this[N].items:null}[Y](e){if(super[Y]&&super[Y](e),!this[_e]&&e.items&&this[Z]){const t=new CustomEvent("items-changed",{bubbles:!0});this.dispatchEvent(t);const i=new CustomEvent("itemschange",{bubbles:!0});this.dispatchEvent(i)}}}}function Cl(o){return class extends o{[Po](e,t={}){const i=t.direction!==void 0?t.direction:1,n=t.index!==void 0?t.index:e.currentIndex,r=t.wrap!==void 0?t.wrap:e.cursorOperationsWrap,{items:s}=e,p=s?s.length:0;if(p===0)return-1;if(r){let d=(n%p+p)%p;const c=((d-i)%p+p)%p;for(;d!==c;){if(!e.availableItemFlags||e.availableItemFlags[d])return d;d=((d+i)%p+p)%p}}else for(let d=n;d>=0&&d<p;d+=i)if(!e.availableItemFlags||e.availableItemFlags[d])return d;return-1}get[M](){return Object.assign(super[M]||{},{currentIndex:-1,desiredCurrentIndex:null,currentItem:null,currentItemRequired:!1,cursorOperationsWrap:!1})}[zt](){return super[zt]&&super[zt](),On(this,0,1)}[Vt](){return super[Vt]&&super[Vt](),On(this,this[N].items.length-1,-1)}[yt](){super[yt]&&super[yt]();const{currentIndex:e,items:t}=this[N];return On(this,e<0&&t?0:e+1,1)}[xt](){super[xt]&&super[xt]();const{currentIndex:e,items:t}=this[N];return On(this,e<0&&t?t.length-1:e-1,-1)}[ne](e,t){const i=super[ne]?super[ne](e,t):{};if(t.availableItemFlags||t.items||t.currentIndex||t.currentItemRequired){const{currentIndex:n,desiredCurrentIndex:r,currentItem:s,currentItemRequired:p,items:d}=e,c=d?d.length:0;let u,a=r;if(t.items&&!t.currentIndex&&s&&c>0&&d[n]!==s){const h=d.indexOf(s);h>=0&&(a=h)}else t.currentIndex&&(n<0&&s!==null||n>=0&&(c===0||d[n]!==s)||r===null)&&(a=n);p&&a<0&&(a=0),a<0?(a=-1,u=-1):c===0?u=-1:(u=Math.max(Math.min(c-1,a),0),u=this[Po](e,{direction:1,index:u,wrap:!1}),u<0&&(u=this[Po](e,{direction:-1,index:u-1,wrap:!1})));const l=d&&d[u]||null;Object.assign(i,{currentIndex:u,desiredCurrentIndex:a,currentItem:l})}return i}}}function On(o,e,t){const i=o[Po](o[N],{direction:t,index:e});if(i<0)return!1;const n=o[N].currentIndex!==i;return n&&o[U]({currentIndex:i}),n}const gd=["applet","basefont","embed","font","frame","frameset","isindex","keygen","link","multicol","nextid","noscript","object","param","script","style","template","noembed"];function is(o){return o.getAttribute("aria-label")||o.getAttribute("alt")||o.innerText||o.textContent||""}function ns(o){return class extends o{get[M](){return Object.assign(super[M]||{},{texts:null})}[ut](e){return super[ut]?super[ut](e):is(e)}[ne](e,t){const i=super[ne]?super[ne](e,t):{};if(t.items){const{items:n}=e,r=function(s,p){return s?Array.from(s,d=>p(d)):null}(n,this[ut]);r&&(Object.freeze(r),Object.assign(i,{texts:r}))}return i}}}function Rl(o){return class extends o{[io](){if(super[io])return super[io]()}[Mt](){if(super[Mt])return super[Mt]()}[no](){if(super[no])return super[no]()}[ro](){if(super[ro])return super[ro]()}[Ft](){if(super[Ft])return super[Ft]()}[so](){if(super[so])return super[so]()}[ce](e){let t=!1;if(e.target===this){const i=this[N].orientation||"both",n=i==="horizontal"||i==="both",r=i==="vertical"||i==="both";switch(e.key){case"ArrowDown":r&&(t=e.altKey?this[Mt]():this[io]());break;case"ArrowLeft":!n||e.metaKey||e.altKey||(t=this[no]());break;case"ArrowRight":!n||e.metaKey||e.altKey||(t=this[ro]());break;case"ArrowUp":r&&(t=e.altKey?this[Ft]():this[so]());break;case"End":t=this[Mt]();break;case"Home":t=this[Ft]()}}return t||super[ce]&&super[ce](e)||!1}}}function Dl(o){return class extends o{[ce](e){let t=!1;if(this.orientation!=="horizontal")switch(e.key){case"PageDown":t=this.pageDown();break;case"PageUp":t=this.pageUp()}return t||super[ce]&&super[ce](e)}get orientation(){return super.orientation||this[N]&&this[N].orientation||"both"}pageDown(){return super.pageDown&&super.pageDown(),Ws(this,!0)}pageUp(){return super.pageUp&&super.pageUp(),Ws(this,!1)}get[nt](){return super[nt]||kl(this)}}}function Qs(o,e,t){const i=o[N].items,n=t?0:i.length-1,r=t?i.length:0,s=t?1:-1;let p,d,c=null;const{availableItemFlags:u}=o[N];for(p=n;p!==r;p+=s)if((!u||u[p])&&(d=i[p].getBoundingClientRect(),d.top<=e&&e<=d.bottom)){c=i[p];break}if(!c||!d)return null;const a=getComputedStyle(c),l=a.paddingTop?parseFloat(a.paddingTop):0,h=a.paddingBottom?parseFloat(a.paddingBottom):0,f=d.top+l,m=f+c.clientHeight-l-h;return t&&f<=e||!t&&m>=e?p:p-s}function Ws(o,e){const t=o[N].items,i=o[N].currentIndex,n=o[nt].getBoundingClientRect(),r=Qs(o,e?n.bottom:n.top,e);let s;if(r&&i===r){const d=t[i].getBoundingClientRect(),c=o[nt].clientHeight;s=Qs(o,e?d.bottom+c:d.top-c,e)}else s=r;if(!s){const d=e?t.length-1:0;s=o[Po]?o[Po](o[N],{direction:e?-1:1,index:d}):d}const p=s!==i;if(p){const d=o[Z];o[Z]=!0,o[U]({currentIndex:s}),o[Z]=d}return p}const jt=Symbol("typedPrefix"),Nn=Symbol("prefixTimeout");function Ll(o){return class extends o{constructor(){super(),Ur(this)}[ti](e){if(super[ti]&&super[ti](e),e==null||e.length===0)return!1;const t=e.toLowerCase(),i=this[N].texts.findIndex(n=>n.substr(0,e.length).toLowerCase()===t);if(i>=0){const n=this[N].currentIndex;return this[U]({currentIndex:i}),this[N].currentIndex!==n}return!1}[ce](e){let t;switch(e.key){case"Backspace":(function(i){const n=i,r=n[jt]?n[jt].length:0;r>0&&(n[jt]=n[jt].substr(0,r-1)),i[ti](n[jt]),Zs(i)})(this),t=!0;break;case"Escape":Ur(this);break;default:e.ctrlKey||e.metaKey||e.altKey||e.key.length!==1||function(i,n){const r=i,s=r[jt]||"";r[jt]=s+n,i[ti](r[jt]),Zs(i)}(this,e.key)}return t||super[ce]&&super[ce](e)}}}function jl(o){const e=o;e[Nn]&&(clearTimeout(e[Nn]),e[Nn]=!1)}function Ur(o){o[jt]="",jl(o)}function Zs(o){jl(o),o[Nn]=setTimeout(()=>{Ur(o)},1e3)}function zn(o){return class extends o{connectedCallback(){const e=getComputedStyle(this).direction==="rtl";this[U]({rightToLeft:e}),super.connectedCallback()}}}function bd(o){return class extends o{get[M](){return Object.assign(super[M]||{},{items:null})}[ne](e,t){const i=super[ne]?super[ne](e,t):{};if(t.content){const n=e.content,r=n?Array.prototype.filter.call(n,s=>{return(p=s)instanceof Element&&(!p.localName||gd.indexOf(p.localName)<0);var p}):null;r&&Object.freeze(r),Object.assign(i,{items:r})}return i}}}function Ml(o){return bd(El(o))}function Fl(o){return class extends o{constructor(){super(),this.addEventListener("mousedown",e=>{e.button===0&&(this[Z]=!0,this[di](e),this[Z]=!1)})}[$](e){super[$]&&super[$](e),this[_e]&&Object.assign(this.style,{touchAction:"manipulation",mozUserSelect:"none",msUserSelect:"none",webkitUserSelect:"none",userSelect:"none"})}[di](e){const t=e.composedPath?e.composedPath()[0]:e.target,{items:i,currentItemRequired:n}=this[N];if(i&&t instanceof Node){const r=ll(i,t),s=r>=0?i[r]:null;(s&&!s.disabled||!s&&!n)&&(this[U]({currentIndex:r}),e.stopPropagation())}}}}const yd=function(o){return class extends o{get[M](){const e=super[M];return Object.assign(e,{itemRole:e.itemRole||"menuitem",role:e.role||"menu"})}get itemRole(){return this[N].itemRole}set itemRole(e){this[U]({itemRole:e})}[$](e){super[$]&&super[$](e);const t=this[N].items;if((e.items||e.itemRole)&&t){const{itemRole:i}=this[N];t.forEach(n=>{i===Sl[n.localName]?n.removeAttribute("role"):n.setAttribute("role",i)})}if(e.role){const{role:i}=this[N];this.setAttribute("role",i)}}get role(){return super.role}set role(e){super.role=e,this[Bo]||this[U]({role:e})}}}(os(Nl($n(Pl(Tl(Cl(ns(Rl(bi(Dl(Ll(zn(Ml(Fl(_t)))))))))))))));class Ul extends yd{get[M](){return Object.assign(super[M],{availableItemFlags:null,highlightCurrentItem:!0,orientation:"vertical",currentItemFocused:!1})}async flashCurrentItem(){const e=this[N].focusVisible,t=matchMedia("(pointer: fine)").matches;(e||t)&&(this[U]({highlightCurrentItem:!1}),await new Promise(n=>setTimeout(n,75)),this[U]({highlightCurrentItem:!0}),await new Promise(n=>setTimeout(n,75)))}[$](e){super[$](e),this[_e]&&(this.addEventListener("disabledchange",n=>{this[Z]=!0;const r=n.target,{items:s}=this[N],p=s===null?-1:s.indexOf(r);if(p>=0){const d=this[N].availableItemFlags.slice();d[p]=!r.disabled,this[U]({availableItemFlags:d})}this[Z]=!1}),"PointerEvent"in window?this.addEventListener("pointerdown",n=>this[di](n)):this.addEventListener("touchstart",n=>this[di](n)),this.removeAttribute("tabindex"));const{currentIndex:t,items:i}=this[N];if((e.items||e.currentIndex||e.highlightCurrentItem)&&i){const{highlightCurrentItem:n}=this[N];i.forEach((r,s)=>{r.toggleAttribute("current",n&&s===t)})}(e.items||e.currentIndex||e.currentItemFocused||e.focusVisible)&&i&&i.forEach((n,r)=>{const s=r===t,p=t<0&&r===0;this[N].currentItemFocused?s||p||n.removeAttribute("tabindex"):(s||p)&&(n.tabIndex=0)})}[Y](e){if(super[Y](e),!this[_e]&&e.currentIndex&&!this[N].currentItemFocused){const{currentItem:t}=this[N];(t instanceof HTMLElement?t:this).focus(),this[U]({currentItemFocused:!0})}}get[nt](){return this[H].content}[ne](e,t){const i=super[ne](e,t);if(t.currentIndex&&Object.assign(i,{currentItemFocused:!1}),t.items){const{items:n}=e,r=n===null?null:n.map(s=>!s.disabled);Object.assign(i,{availableItemFlags:r})}return i}get[J](){return kt.html`
      <style>
        :host {
          box-sizing: border-box;
          cursor: default;
          display: inline-flex;
          -webkit-tap-highlight-color: transparent;
          touch-action: manipulation;
        }

        #content {
          display: flex;
          flex: 1;
          flex-direction: column;
          max-height: 100%;
          overflow-x: hidden;
          overflow-y: auto;
          -webkit-overflow-scrolling: touch; /* for momentum scrolling */
        }
        
        ::slotted(*) {
          flex-shrink: 0;
          outline: none;
          touch-action: manipulation;
        }

        ::slotted(option) {
          font: inherit;
          min-height: inherit;
        }
      </style>
      <div id="content" role="none">
        <slot></slot>
      </div>
    `}}const Wo=Symbol("documentMouseupListener");function $l(o){return class extends o{connectedCallback(){super.connectedCallback(),dr(this)}get[M](){return Object.assign(super[M]||{},{dragSelect:!0})}disconnectedCallback(){super.disconnectedCallback&&super.disconnectedCallback(),dr(this)}[Y](e){super[Y](e),e.opened&&dr(this)}[ne](e,t){const i=super[ne](e,t);return t.opened&&e.opened&&Object.assign(i,{dragSelect:!0}),i}}}async function xd(o){const e=this,t=e[je].elementsFromPoint(o.clientX,o.clientY);if(e.opened){const i=t.indexOf(e[H].source)>=0,n=e[H].popup,r=t.indexOf(n)>=0,s=n.frame&&t.indexOf(n.frame)>=0;i?e[N].dragSelect&&(e[Z]=!0,e[U]({dragSelect:!1}),e[Z]=!1):r||s||(e[Z]=!0,await e.close(),e[Z]=!1)}}function dr(o){o[N].opened&&o.isConnected?o[Wo]||(o[Wo]=xd.bind(o),document.addEventListener("mouseup",o[Wo])):o[Wo]&&(document.removeEventListener("mouseup",o[Wo]),o[Wo]=null)}function rs(o){return class extends o{get[M](){return Object.assign(super[M]||{},{disabled:!1})}get disabled(){return this[N].disabled}set disabled(e){this[U]({disabled:e})}[Y](e){if(super[Y]&&super[Y](e),e.disabled&&(this.toggleAttribute("disabled",this.disabled),this[Z])){const t=new CustomEvent("disabled-changed",{bubbles:!0});this.dispatchEvent(t);const i=new CustomEvent("disabledchange",{bubbles:!0});this.dispatchEvent(i)}}}}function Xs(o,e,t,i){const n=Bl(o,t,i);let r=0,s=0;const p=t==="above"||t==="below";switch(t){case"above":r=n.y-e.top;break;case"below":r=e.bottom-n.y;break;case"left":s=n.x-e.left;break;case"right":s=e.right-n.x}switch(i){case"bottom":r=n.y-e.top;break;case"center":p?s=e.width:r=e.height;break;case"stretch":p?s=o.width:r=o.height;break;case"left":s=e.right-n.x;break;case"right":s=n.x-e.left;break;case"top":r=e.bottom-n.y}return r=Math.max(0,r),s=Math.max(0,s),{height:r,width:s}}function Bl(o,e,t){let i=0,n=0;const r=e==="above"||e==="below";switch(e){case"above":n=o.top;break;case"below":n=o.bottom;break;case"left":case"right":i=o[e]}switch(t){case"bottom":case"top":n=o[t];break;case"left":case"right":i=o[t];break;case"center":r?i=o.left+o.width/2:n=o.top+o.height/2;break;case"stretch":r?i=o.left:n=o.top}return{x:i,y:n}}function Ed(o,e,t,i){const n=function(p){const{align:d,direction:c,rightToLeft:u}=p,a="below",l={above:"above",below:"below",column:"below","column-reverse":"above",left:"left",right:"right",row:u?"left":"right","row-reverse":u?"right":"left"}[c]||a,h={above:"horizontal",below:"horizontal",left:"vertical",right:"vertical"}[l],f={horizontal:"left",vertical:"top"}[h];return{align:{horizontal:{center:"center",end:u?"left":"right",left:"left",right:"right",start:u?"right":"left",stretch:"stretch"},vertical:{bottom:"bottom",center:"center",end:"bottom",start:"top",stretch:"stretch",top:"top"}}[h][d]||f,direction:l,rightToLeft:u}}(i),r=function(p,d){const c={above:"below",below:"above",left:"right",right:"left"},u={top:"bottom",bottom:"top",left:"right",right:"left"},a=[{align:d,direction:p}];return d==="center"||d==="stretch"?a.push({align:d,direction:c[p]}):(a.push({align:u[d],direction:p}),a.push({align:d,direction:c[p]}),a.push({align:u[d],direction:c[p]})),a}(n.direction,n.align);r.sort((p,d)=>function(c,u,a,l,h){const f=Xs(a,h,c.direction,c.align),m=Xs(a,h,u.direction,u.align),v=l.width<=f.width,g=l.height<=f.height,y=v||g,b=v&&g,x=l.width<=m.width,E=l.height<=m.height,w=x||E,I=x&&E,k=f.width*f.height,P=m.width*m.height;return b&&I?0:b?-1:I?1:y&&!w?-1:w&&!y?1:y&&k>P?-1:w&&P>k?1:k>P?-1:P>k?1:0}(p,d,o,e,t));const s=r[0];return s.rect=function(p,d,c,u,a){const l=Bl(p,u,a);let{x:h,y:f,bottom:m,right:v}=c,g=0,y=0,b=d.height,x=d.width;const E=u==="above"||u==="below";switch(u){case"above":y=l.y-d.height,m=l.y;break;case"below":y=l.y,f=l.y;break;case"left":g=l.x-d.width,v=l.x;break;case"right":g=l.x,h=l.x}switch(a){case"bottom":y=l.y-d.height,m=l.y;break;case"left":g=l.x,h=l.x;break;case"center":E?g=l.x-d.width/2:y=l.y-d.height/2;break;case"right":g=l.x-d.width,v=l.x;break;case"stretch":E?(g=l.x,x=p.width):(y=l.y,b=p.height);break;case"top":y=l.y,f=l.y}return g=Math.max(g,h),y=Math.max(y,f),x=Math.min(x,v-g),b=Math.min(b,m-y),new DOMRect(g,y,x,b)}(o,e,t,s.direction,s.align),s}const Dt=Symbol("implicitCloseListener");async function wd(o){const e=this,t=o.relatedTarget||document.activeElement;t instanceof Element&&!mo(e,t)&&(e[Z]=!0,await e.close({canceled:"window blur"}),e[Z]=!1)}async function Od(o){const e=this,t=o.type!=="resize"||e[N].closeOnWindowResize;!ul(e,o)&&t&&(e[Z]=!0,await e.close({canceled:`window ${o.type}`}),e[Z]=!1)}const Ad=bi(function(o){return class extends o{get closeOnWindowResize(){return this[N].closeOnWindowResize}set closeOnWindowResize(e){this[U]({closeOnWindowResize:e})}get[M](){return Object.assign(super[M]||{},{closeOnWindowResize:!0,role:"alert"})}[ce](e){let t=!1;switch(e.key){case"Escape":this.close({canceled:"Escape"}),t=!0}return t||super.keydown&&super.keydown(e)||!1}[$](e){if(super[$]&&super[$](e),this[_e]&&this.addEventListener("blur",wd.bind(this)),e.role){const{role:t}=this[N];this.setAttribute("role",t)}}[Y](e){super[Y]&&super[Y](e),e.opened&&(this.opened?("requestIdleCallback"in window?window.requestIdleCallback:setTimeout)(()=>{var i;this.opened&&((i=this)[Dt]=Od.bind(i),window.addEventListener("blur",i[Dt]),window.addEventListener("resize",i[Dt]),window.addEventListener("scroll",i[Dt]))}):(t=this)[Dt]&&(window.removeEventListener("blur",t[Dt]),window.removeEventListener("resize",t[Dt]),window.removeEventListener("scroll",t[Dt]),t[Dt]=null));var t}get role(){return super.role}set role(e){super.role=e,this[Bo]||this[U]({role:e})}}}(wl));class ss extends Ad{[$](e){super[$](e),e.backdropPartType&&(this[H].backdrop.addEventListener("mousedown",Ys.bind(this)),"PointerEvent"in window||this[H].backdrop.addEventListener("touchend",Ys))}}async function Ys(o){const e=this;e[Z]=!0,await e.close({canceled:"mousedown outside"}),e[Z]=!1,o.preventDefault(),o.stopPropagation()}const Ei=Symbol("resizeListener"),_d=rs(an(zn(yl(_t))));class zl extends _d{get[M](){return Object.assign(super[M],{ariaHasPopup:"true",popupAlign:"start",popupDirection:"column",popupLayout:null,popupPartType:ss,sourcePartType:"div"})}get[$e](){return this[H].source}get frame(){return this[H].popup.frame}get horizontalAlign(){return this[N].popupAlign}set horizontalAlign(e){console.warn('The "horizontalAlign" property has been renamed to "popupAlign"; the "horizontal-align" attribute is now "popup-align".'),this[U]({popupAlign:e})}get popupAlign(){return this[N].popupAlign}set popupAlign(e){this[U]({popupAlign:e})}get popupDirection(){return this[N].popupDirection}set popupDirection(e){this[U]({popupDirection:e})}get popupPosition(){return this[N].popupPosition}set popupPosition(e){console.warn('The "popupPosition" property has been renamed to "popupDirection"; the "popup-position" attribute is now "popup-direction".'),this[U]({popupPosition:e})}get popupPartType(){return this[N].popupPartType}set popupPartType(e){this[U]({popupPartType:e})}[$](e){if(super[$](e),Js(this[je],this[N],e),this[_e]||e.ariaHasPopup){const{ariaHasPopup:t}=this[N];t===null?this[$e].removeAttribute("aria-haspopup"):this[$e].setAttribute("aria-haspopup",this[N].ariaHasPopup)}if(e.popupPartType&&(this[H].popup.addEventListener("open",()=>{this.opened||(this[Z]=!0,this.open(),this[Z]=!1)}),this[H].popup.addEventListener("close",t=>{if(!this.closed){this[Z]=!0;const i=t.detail.closeResult;this.close(i),this[Z]=!1}})),e.opened||e.popupLayout){const{opened:t,popupLayout:i}=this[N];if(t)if(i){const n=this[H].popup,r=function(s){const{align:p,direction:d,rect:c}=s,u=Vl(),a={},l=d==="above"||d==="below";switch(d){case"above":a.bottom=u.bottom-c.bottom+"px";break;case"below":a.top=`${c.top}px`;break;case"left":a.right=u.right-c.right+"px";break;case"right":a.left=`${c.left}px`}switch(p){case"bottom":a.bottom=u.bottom-c.bottom+"px";break;case"center":case"stretch":l?(a.left=`${c.left}px`,a.right=u.right-c.right+"px"):(a.bottom=u.bottom-c.bottom+"px",a.top=`${c.top}px`);break;case"left":a.left=`${c.left}px`;break;case"right":a.right=u.right-c.right+"px";break;case"top":a.top=`${c.top}px`}return a}(i);Object.assign(n.style,r,{opacity:""})}else Object.assign(this[H].popup.style,{bottom:"",left:"",opacity:0,right:"",top:""});else Object.assign(this[H].popup.style,{bottom:"",left:"",opacity:"",right:"",top:""})}if(e.opened){const{opened:t}=this[N];this[H].popup.opened=t}if(e.disabled&&"disabled"in this[H].source){const{disabled:t}=this[N];this[H].source.disabled=t}if(e.popupLayout){const{popupLayout:t}=this[N];if(t){const{align:i,direction:n}=t,r=this[H].popup;"position"in r&&(r.position=n),"align"in r&&(r.align=i)}}}[Y](e){super[Y](e);const{opened:t}=this[N];var i;e.opened?t?(i=this,setTimeout(()=>{i[N].opened&&(pr(i),function(n){const r=n;r[Ei]=()=>{pr(n)},(window.visualViewport||window).addEventListener("resize",r[Ei])}(i))})):function(n){const r=n;r[Ei]&&((window.visualViewport||window).removeEventListener("resize",r[Ei]),r[Ei]=null)}(this):e.popupLayout&&this[N].opened&&!this[N].popupLayout&&pr(this)}get sourcePartType(){return this[N].sourcePartType}set sourcePartType(e){this[U]({sourcePartType:e})}[ne](e,t){const i=super[ne](e,t);return(t.opened&&!e.opened||e.opened&&(t.popupAlign||t.popupDirection||t.rightToLeft))&&Object.assign(i,{popupLayout:null}),i}get[J](){const e=super[J];return e.content.append(pe.html`
      <style>
        :host {
          display: inline-block;
          position: relative;
        }

        [part~="source"] {
          height: 100%;
          -webkit-tap-highlight-color: transparent;
          touch-action: manipulation;
          width: 100%;
        }

        [part~="popup"] {
          max-height: 100%;
          max-width: 100%;
          outline: none;
          position: fixed;
        }
      </style>
      <div id="source" part="source">
        <slot name="source"></slot>
      </div>
      <div id="popup" part="popup" exportparts="backdrop, frame" role="none">
        <slot></slot>
      </div>
    `),Js(e.content,this[N]),e}}function pr(o){const{popupAlign:e,popupDirection:t,rightToLeft:i}=o[N],n=Ed(o[H].source.getBoundingClientRect(),o[H].popup.getBoundingClientRect(),Vl(),{align:e,direction:t,rightToLeft:i});o[U]({popupLayout:n})}function Js(o,e,t){if(!t||t.popupPartType){const{popupPartType:i}=e,n=o.getElementById("popup");n&&Qt(n,i)}if(!t||t.sourcePartType){const{sourcePartType:i}=e,n=o.getElementById("source");n&&Qt(n,i)}}function Vl(){const o=window.visualViewport;return o?new DOMRect(o.offsetLeft,o.offsetTop,o.width,o.height):new DOMRect(0,0,window.innerWidth,window.innerHeight)}const qd=$n(bi($l(zl)));async function Id(o){const e=this,t=o.relatedTarget||document.activeElement;t instanceof Element&&!mo(e,t)&&(e[Z]=!0,await e.close({canceled:"blur"}),e[Z]=!1)}const Zo=Symbol("documentMousemoveListener");function Hl(o){return class extends o{connectedCallback(){super.connectedCallback(),hr(this)}get[M](){return Object.assign(super[M]||{},{currentIndex:-1,hasHoveredOverItemSinceOpened:!1,popupList:null})}disconnectedCallback(){super.disconnectedCallback&&super.disconnectedCallback(),hr(this)}[ce](e){let t=!1;switch(e.key){case"Enter":this.opened&&(ea(this),t=!0)}return t||super[ce]&&super[ce](e)||!1}[$](e){if(super[$]&&super[$](e),e.popupList){const{popupList:t}=this[N];t&&(t.addEventListener("mouseup",async i=>{const n=this[N].currentIndex;this[N].dragSelect||n>=0?(i.stopPropagation(),this[Z]=!0,await ea(this),this[Z]=!1):i.stopPropagation()}),t.addEventListener("currentindexchange",i=>{this[Z]=!0;const n=i;this[U]({currentIndex:n.detail.currentIndex}),this[Z]=!1}))}if(e.currentIndex||e.popupList){const{currentIndex:t,popupList:i}=this[N];i&&"currentIndex"in i&&(i.currentIndex=t)}}[Y](e){if(super[Y]&&super[Y](e),e.opened){if(this[N].opened){const{popupList:t}=this[N];t.scrollCurrentItemIntoView&&setTimeout(()=>{t.scrollCurrentItemIntoView()})}hr(this)}}[ne](e,t){const i=super[ne]?super[ne](e,t):{};return t.opened&&e.opened&&Object.assign(i,{hasHoveredOverItemSinceOpened:!1}),i}}}function Sd(o){const e=this,{hasHoveredOverItemSinceOpened:t,opened:i}=e[N];if(i){const n=o.composedPath?o.composedPath()[0]:o.target,r=e.items;if(n&&n instanceof Node&&r){const s=ll(r,n),p=r[s],d=p&&!p.disabled?s:-1;(t||d>=0)&&d!==e[N].currentIndex&&(e[Z]=!0,e[U]({currentIndex:d}),d>=0&&!t&&e[U]({hasHoveredOverItemSinceOpened:!0}),e[Z]=!1)}}}function hr(o){o[N].opened&&o.isConnected?o[Zo]||(o[Zo]=Sd.bind(o),document.addEventListener("mousemove",o[Zo])):o[Zo]&&(document.removeEventListener("mousemove",o[Zo]),o[Zo]=null)}async function ea(o){const e=o[Z],t=o[N].currentIndex>=0,i=o.items;if(i){const n=t?i[o[N].currentIndex]:void 0,r=o[N].popupList;t&&"flashCurrentItem"in r&&await r.flashCurrentItem();const s=o[Z];o[Z]=e,await o.close(n),o[Z]=s}}const kd=Hl(class extends qd{get[M](){return Object.assign(super[M],{sourcePartType:"button"})}[ce](o){let e;switch(o.key){case" ":case"ArrowDown":case"ArrowUp":this.closed&&(this.open(),e=!0);break;case"Enter":this.opened||(this.open(),e=!0);break;case"Escape":this.opened&&(this.close({canceled:"Escape"}),e=!0)}if(e=super[ce]&&super[ce](o),!e&&this.opened&&!o.metaKey&&!o.altKey)switch(o.key){case"ArrowDown":case"ArrowLeft":case"ArrowRight":case"ArrowUp":case"End":case"Home":case"PageDown":case"PageUp":case" ":e=!0}return e}[$](o){if(super[$](o),this[_e]&&(this.addEventListener("blur",Id.bind(this)),this[H].source.addEventListener("focus",async e=>{const t=ul(this[H].popup,e),i=this[N].popupHeight!==null;!t&&this.opened&&i&&(this[Z]=!0,await this.close(),this[Z]=!1)})),o.opened){const{opened:e}=this[N];this.toggleAttribute("opened",e)}o.sourcePartType&&this[H].source.addEventListener("mousedown",e=>{if(this.disabled)return void e.preventDefault();const t=e;t.button&&t.button!==0||(setTimeout(()=>{this.opened||(this[Z]=!0,this.open(),this[Z]=!1)}),e.stopPropagation())}),o.popupPartType&&this[H].popup.removeAttribute("tabindex")}get[J](){const o=super[J];return o.content.append(pe.html`
        <style>
          [part~="source"] {
            cursor: default;
            outline: none;
            -webkit-tap-highlight-color: transparent;
            touch-action: manipulation;
            -moz-user-select: none;
            -ms-user-select: none;
            -webkit-user-select: none;
            user-select: none;
          }

          :host([opened][focus-visible]) {
            outline: none;
          }
        </style>
      `),o}});class Nd extends kd{get[M](){return Object.assign(super[M],{menuPartType:Ul})}get items(){const e=this[H]&&this[H].menu;return e?e.items:null}get menuPartType(){return this[N].menuPartType}set menuPartType(e){this[U]({menuPartType:e})}[$](e){if(super[$](e),ta(this[je],this[N],e),e.menuPartType&&(this[H].menu.addEventListener("blur",async t=>{const i=t.relatedTarget||document.activeElement;this.opened&&!mo(this[H].menu,i)&&(this[Z]=!0,await this.close(),this[Z]=!1)}),this[H].menu.addEventListener("mousedown",t=>{t.button===0&&this.opened&&(t.stopPropagation(),t.preventDefault())})),e.opened){const{opened:t}=this[N];this[H].source.setAttribute("aria-expanded",t.toString())}}[Y](e){super[Y](e),e.menuPartType&&this[U]({popupList:this[H].menu})}[ne](e,t){const i=super[ne](e,t);return t.opened&&!e.opened&&Object.assign(i,{currentIndex:-1}),i}get[J](){const e=super[J],t=e.content.querySelector("slot:not([name])");return t&&t.replaceWith(pe.html`
        <div id="menu" part="menu">
          <slot></slot>
        </div>
      `),ta(e.content,this[N]),e.content.append(pe.html`
      <style>
        [part~="menu"] {
          max-height: 100%;
        }
      </style>
    `),e}}function ta(o,e,t){if(!t||t.menuPartType){const{menuPartType:i}=e,n=o.getElementById("menu");n&&Qt(n,i)}}const Pd=rs(_t);class Kl extends Pd{get[M](){return Object.assign(super[M],{direction:"down"})}get direction(){return this[N].direction}set direction(e){this[U]({direction:e})}[$](e){if(super[$](e),e.direction){const{direction:t}=this[N];this[H].downIcon.style.display=t==="down"?"block":"none",this[H].upIcon.style.display=t==="up"?"block":"none"}}get[J](){return kt.html`
      <style>
        :host {
          display: inline-block;
        }
      </style>
      <div id="downIcon" part="toggle-icon down-icon">
        <slot name="down-icon"></slot>
      </div>
      <div id="upIcon" part="toggle-icon up-icon">
        <slot name="up-icon"></slot>
      </div>
    `}}function Gl(o){return class extends o{get[M](){return Object.assign(super[M]||{},{popupTogglePartType:Kl})}get popupTogglePartType(){return this[N].popupTogglePartType}set popupTogglePartType(e){this[U]({popupTogglePartType:e})}[$](e){if(super[$](e),oa(this[je],this[N],e),e.popupDirection||e.popupTogglePartType){const{popupDirection:t}=this[N],i=t==="above"||t==="column-reverse"?"up":"down",n=this[H].popupToggle;"direction"in n&&(n.direction=i)}if(e.disabled){const{disabled:t}=this[N];this[H].popupToggle.disabled=t}}get[J](){const e=super[J],t=e.content.querySelector('[part~="source"]');return t&&t.append(pe.html`
          <div
            id="popupToggle"
            part="popup-toggle"
            exportparts="toggle-icon, down-icon, up-icon"
            tabindex="-1"
          ></div>
      `),oa(e.content,this[N]),e.content.append(pe.html`
      <style>
        [part~="popup-toggle"] {
          outline: none;
        }

        [part~="source"] {
          align-items: center;
          display: flex;
        }
      </style>
    `),e}}}function oa(o,e,t){if(!t||t.popupTogglePartType){const{popupTogglePartType:i}=e,n=o.getElementById("popupToggle");n&&Qt(n,i)}}class Td extends Ul{get[J](){const e=super[J];return e.content.append(pe.html`
        <style>
          :host ::slotted(*) {
            padding: 0.25em 1em;
          }
          
          :host ::slotted([current]) {
            background: highlight;
            color: highlighttext;
          }

          @media (pointer: coarse) {
            ::slotted(*) {
              padding: 1em;
            }
          }
        </style>
      `),e}}class Ql extends Kl{get[J](){const e=super[J],t=e.content.getElementById("downIcon"),i=pe.html`
      <svg
        id="downIcon"
        part="toggle-icon down-icon"
        xmlns="http://www.w3.org/2000/svg"
        viewBox="0 0 10 5"
      >
        <path d="M 0 0 l5 5 5 -5 z" />
      </svg>
    `.firstElementChild;t&&i&&Dr(t,i);const n=e.content.getElementById("upIcon"),r=pe.html`
      <svg
        id="upIcon"
        part="toggle-icon up-icon"
        xmlns="http://www.w3.org/2000/svg"
        viewBox="0 0 10 5"
      >
        <path d="M 0 5 l5 -5 5 5 z" />
      </svg>
    `.firstElementChild;return n&&r&&Dr(n,r),e.content.append(pe.html`
        <style>
          :host {
            align-items: center;
            display: inline-flex;
            padding: 2px;
          }

          :host(:not([disabled])):hover {
            background: #eee;
          }

          [part~="toggle-icon"] {
            fill: currentColor;
            height: 10px;
            margin: 0.25em;
            width: 10px;
          }
        </style>
      `),e}}class Cd extends Jr{}class Wl extends ss{get[M](){return Object.assign(super[M],{backdropPartType:Cd,framePartType:ts})}}class Rd extends Gl(Nd){get[M](){return Object.assign(super[M],{menuPartType:Td,popupPartType:Wl,popupTogglePartType:Ql,sourcePartType:ql})}get[J](){const e=super[J];return e.content.append(pe.html`
        <style>
          [part~="menu"] {
            background: window;
            border: none;
            padding: 0.5em 0;
          }
        </style>
      `),e}}customElements.define("elix-menu-button",class extends Rd{});class Dd extends function(e){return class extends e{constructor(){super();const t=this;!this[Ne]&&t.attachInternals&&(this[Ne]=t.attachInternals())}attributeChangedCallback(t,i,n){if(t==="current"){const r=Bi(t,n);this.current!==r&&(this.current=r)}else super.attributeChangedCallback(t,i,n)}get[M](){return Object.assign(super[M]||{},{current:!1})}[$](t){if(super[$](t),t.current){const{current:i}=this[N];zi(this,"current",i)}}[Y](t){if(super[Y]&&super[Y](t),t.current){const{current:i}=this[N],n=new CustomEvent("current-changed",{bubbles:!0,detail:{current:i}});this.dispatchEvent(n);const r=new CustomEvent("currentchange",{bubbles:!0,detail:{current:i}});this.dispatchEvent(r)}}get current(){return this[N].current}set current(t){this[U]({current:t})}}}(rs(function(e){return class extends e{constructor(){super();const t=this;!this[Ne]&&t.attachInternals&&(this[Ne]=t.attachInternals())}get[M](){return Object.assign(super[M]||{},{selected:!1})}[$](t){if(super[$](t),t.selected){const{selected:i}=this[N];zi(this,"selected",i)}}[Y](t){if(super[Y]&&super[Y](t),t.selected){const{selected:i}=this[N],n=new CustomEvent("selected-changed",{bubbles:!0,detail:{selected:i}});this.dispatchEvent(n);const r=new CustomEvent("selectedchange",{bubbles:!0,detail:{selected:i}});this.dispatchEvent(r)}}get selected(){return this[N].selected}set selected(t){this[U]({selected:t})}}}(_t))){}class Ld extends Dd{get[J](){return kt.html`
      <style>
        :host {
          font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen, Ubuntu, Cantarell, 'Open Sans', 'Helvetica Neue', sans-serif;
          font-size: 10pt;
          white-space: nowrap;
        }

        :host([disabled]) {
          opacity: 0.5;
        }

        #checkmark {
          height: 1em;
          visibility: hidden;
          width: 1em;
        }

        :host([selected]) #checkmark {
          visibility: visible;
        }
      </style>
      <svg id="checkmark" xmlns="http://www.w3.org/2000/svg" viewBox="4 6 18 12">
        <path d="M0 0h24v24H0V0z" fill="none"/>
        <path d="M9 16.17L4.83 12l-1.42 1.41L9 19 21 7l-1.41-1.41L9 16.17z"/>
      </svg>
      <slot></slot>
    `}}customElements.define("elix-menu-item",class extends Ld{});class jd extends _t{get disabled(){return!0}[$](e){super[$](e),this[_e]&&this.setAttribute("aria-hidden","true")}}class Md extends jd{get[J](){return kt.html`
      <style>
        :host {
          padding: 0 !important;
        }

        hr {
          border-bottom-width: 0px;
          border-color: #fff; /* Ends up as light gray */
          border-top-width: 1px;
          margin: 0.25em 0;
        }
      </style>
      <hr>
    `}}customElements.define("elix-menu-separator",class extends Md{});const Pn=Symbol("timeout"),Fd=zn(function(o){return class extends o{get[si](){return super[si]||this}[$](e){super[$]&&super[$](e),this[_e]&&(this[si]===this?this:this[je]).addEventListener("transitionend",t=>{const i=this[N].effectEndTarget||this[si];t.target===i&&this[U]({effectPhase:"after"})})}[Y](e){if(super[Y]&&super[Y](e),e.effect||e.effectPhase){const{effect:t,effectPhase:i}=this[N],n=new CustomEvent("effect-phase-changed",{bubbles:!0,detail:{effect:t,effectPhase:i}});this.dispatchEvent(n);const r=new CustomEvent("effectphasechange",{bubbles:!0,detail:{effect:t,effectPhase:i}});this.dispatchEvent(r),t&&(i!=="after"&&this.offsetHeight,i==="before"&&this[U]({effectPhase:"during"}))}}async[Xr](e){await this[U]({effect:e,effectPhase:"before"})}}}(ss));class Ud extends Fd{constructor(){super(),this.addEventListener("mouseout",()=>{ia(this)}),this.addEventListener("mouseover",()=>{Zl(this)})}attributeChangedCallback(e,t,i){e==="duration"?this.duration=Number(i):super.attributeChangedCallback(e,t,i)}get[M](){return Object.assign(super[M],{duration:null,fromEdge:"bottom"})}get duration(){return this[N].duration}set duration(e){isNaN(e)||this[U]({duration:e})}get[si](){return this[H].frame}get fromEdge(){return this[N].fromEdge}set fromEdge(e){this[U]({fromEdge:e})}[$](e){if(super[$](e),e.fromEdge){const t={bottom:{alignItems:"center",justifyContent:"flex-end"},"bottom-left":{alignItems:"flex-start",justifyContent:"flex-end"},"bottom-right":{alignItems:"flex-end",justifyContent:"flex-end"},top:{alignItems:"center",justifyContent:null},"top-left":{alignItems:"flex-start",justifyContent:null},"top-right":{alignItems:"flex-end",justifyContent:null}};Object.assign(this.style,t[this[N].fromEdge])}if(e.effect||e.effectPhase||e.fromEdge||e.rightToLeft){const{effect:t,effectPhase:i,fromEdge:n,rightToLeft:r}=this[N],s={"bottom-left":"bottom-right","bottom-right":"bottom-left","top-left":"top-right","top-right":"top-left"},p=r&&s[n]||n,d={bottom:"translateY(100%)","bottom-left":"translateX(-100%)","bottom-right":"translateX(100%)",top:"translateY(-100%)","top-left":"translateX(-100%)","top-right":"translateX(100%)"},c={bottom:"translateY(0)","bottom-left":"translateX(0)","bottom-right":"translateX(0)",top:"translateY(0)","top-left":"translateX(0)","top-right":"translateX(0)"},u=t==="open"&&i!=="before"||t==="close"&&i==="before",a=u?1:0,l=u?c[p]:d[p];Object.assign(this[H].frame.style,{opacity:a,transform:l})}}[Y](e){super[Y](e),ia(this)}}function Zl(o){const e=o;e[Pn]&&(clearTimeout(e[Pn]),e[Pn]=null)}function ia(o){o.opened&&function(e){Zl(e);const t=e[N].duration;t!==null&&t>0&&(e[Pn]=setTimeout(()=>{e.close()},t))}(o)}class $d extends Ud{get[M](){return Object.assign(super[M],{framePartType:ts})}get[J](){const e=super[J];return e.content.append(pe.html`
        <style>
          :host {
            align-items: initial;
            display: flex;
            flex-direction: column;
            height: 100%;
            justify-content: initial;
            left: 0;
            outline: none;
            pointer-events: none;
            top: 0;
            -webkit-tap-highlight-color: transparent;
            width: 100%;
          }

          [part~="frame"] {
            margin: 1em;
            transition-duration: 0.25s;
            transition-property: opacity, transform;
            will-change: opacity, transform;
          }
        </style>
      `),e}}function as(o){return class extends o{constructor(){super();const e=this;!this[Ne]&&e.attachInternals&&(this[Ne]=e.attachInternals())}checkValidity(){return this[Ne].checkValidity()}get[M](){return Object.assign(super[M]||{},{name:"",validationMessage:"",valid:!0})}get internals(){return this[Ne]}static get formAssociated(){return!0}get form(){return this[Ne].form}get name(){return this[N]?this[N].name:""}set name(e){const t=String(e);"name"in o.prototype&&(super.name=t),this[U]({name:t})}[$](e){if(super[$]&&super[$](e),e.name){const{name:t}=this[N];t?this.setAttribute("name",t):this.removeAttribute("name")}if(this[Ne]&&this[Ne].setValidity&&(e.valid||e.validationMessage)){const{valid:t,validationMessage:i}=this[N];t?this[Ne].setValidity({}):this[Ne].setValidity({customError:!0},i)}}[Y](e){super[Y]&&super[Y](e),e.value&&this[Ne]&&this[Ne].setFormValue(this[N].value,this[N])}reportValidity(){return this[Ne].reportValidity()}get type(){return super.type||this.localName}get validationMessage(){return this[N].validationMessage}get validity(){return this[Ne].validity}get willValidate(){return this[Ne].willValidate}}}customElements.define("elix-toast",class extends $d{});const Bd=es(an(as(function(o){return class extends o{get[M](){return Object.assign(super[M]||{},{selectionEnd:0,selectionStart:0})}[$](e){if(super[$]&&super[$](e),this[_e]){const t=(()=>{setTimeout(()=>{this[Z]=!0,function(i){const n=i.inner,{selectionEnd:r,selectionStart:s}=n;i[U]({selectionEnd:r,selectionStart:s})}(this),this[Z]=!1},10)}).bind(this);this.addEventListener("keydown",t),this.addEventListener("mousedown",t),this.addEventListener("touchend",t)}}}}(Bn.wrap("input")))));class Xl extends Bd{get[M](){return Object.assign(super[M],{valueCopy:""})}get[$e](){return this.inner}[$](e){super[$](e),this[_e]&&this[H].inner.addEventListener("input",()=>{this[Z]=!0;const t=this[H].inner;this.value=t.value,this[U]({selectionEnd:t.selectionEnd,selectionStart:t.selectionStart}),this[Z]=!1})}get[J](){const e=super[J];return e.content.append(pe.html`
      <style>
        [part~="input"] {
          font: inherit;
          outline: none;
          text-align: inherit;
        }
      </style>
    `),e}get value(){return super.value}set value(e){const t=String(e);super.value=t,this[U]({valueCopy:t})}}function Yl(o){return class extends o{attributeChangedCallback(e,t,i){e==="selected-index"?this.selectedIndex=Number(i):super.attributeChangedCallback(e,t,i)}[Y](e){if(super[Y]&&super[Y](e),e.selectedIndex&&this[Z]){const t=this[N].selectedIndex,i=new CustomEvent("selected-index-changed",{bubbles:!0,detail:{selectedIndex:t}});this.dispatchEvent(i);const n=new CustomEvent("selectedindexchange",{bubbles:!0,detail:{selectedIndex:t}});this.dispatchEvent(n)}}get selectedIndex(){const{items:e,selectedIndex:t}=this[N];return e&&e.length>0?t:-1}set selectedIndex(e){isNaN(e)||this[U]({selectedIndex:e})}get selectedItem(){const{items:e,selectedIndex:t}=this[N];return e&&e[t]}set selectedItem(e){const{items:t}=this[N];if(!t)return;const i=t.indexOf(e);i>=0&&this[U]({selectedIndex:i})}}}const zd=function(o){return class extends o{get[M](){const e=super[M];return Object.assign(e,{itemRole:e.itemRole||"option",role:e.role||"listbox"})}get itemRole(){return this[N].itemRole}set itemRole(e){this[U]({itemRole:e})}[$](e){super[$]&&super[$](e);const{itemRole:t}=this[N],i=this[N].items;if(e.items&&i&&i.forEach(n=>{n.id||(n.id=Gs(n))}),(e.items||e.itemRole)&&i&&i.forEach(n=>{t===Sl[n.localName]?n.removeAttribute("role"):n.setAttribute("role",t)}),e.items||e.selectedIndex||e.selectedItemFlags){const{selectedItemFlags:n,selectedIndex:r}=this[N];i&&i.forEach((s,p)=>{const d=n?n[p]:p===r;s.setAttribute("aria-selected",d.toString())})}if(e.items||e.selectedIndex){const{selectedIndex:n}=this[N],r=n>=0&&i?i[n]:null;r?(r.id||(r.id=Gs(r)),this.setAttribute("aria-activedescendant",r.id)):this.removeAttribute("aria-activedescendant")}if(e.selectedItemFlags&&(this[N].selectedItemFlags?this.setAttribute("aria-multiselectable","true"):this.removeAttribute("aria-multiselectable")),e.orientation){const{orientation:n}=this[N];this.setAttribute("aria-orientation",n)}if(e.role){const{role:n}=this[N];this.setAttribute("role",n)}}get role(){return super.role}set role(e){super.role=e,this[Bo]||this[U]({role:e})}}}(_l(os(Nl(function(o){return class extends o{get[M](){return Object.assign(super[M]||{},{selectedIndex:-1,selectedItem:null})}[ne](e,t){const i=super[ne]?super[ne](e,t):{};return t.currentIndex?Object.assign(i,{selectedIndex:e.currentIndex}):t.selectedIndex&&Object.assign(i,{currentIndex:e.selectedIndex}),t.currentItem?Object.assign(i,{selectedItem:e.currentItem}):t.selectedItem&&Object.assign(i,{currentItem:e.selectedItem}),i}}}(Pl(an(as(Tl(Cl(ns(Rl(bi(Dl(Ll(zn(Yl(function(o){return class extends o{get[M](){return Object.assign(super[M]||{},{selectedText:""})}[ut](e){return super[ut]?super[ut](e):is(e)}[ne](e,t){const i=super[ne]?super[ne](e,t):{};if(t.items||t.selectedIndex){const{items:n,selectedIndex:r}=e,s=n?n[r]:null,p=s?this[ut](s):"";Object.assign(i,{selectedText:p})}return i}get selectedText(){return this[N].selectedText}set selectedText(e){const{items:t}=this[N],i=t?function(n,r,s){return n.findIndex(p=>r(p)===s)}(t,this[ut],String(e)):-1;this[U]({selectedIndex:i})}}}(function(o){return class extends o{get[M](){return Object.assign(super[M]||{},{value:""})}[ne](e,t){const i=super[ne]?super[ne](e,t):{};if(t.items||t.selectedIndex){const{items:n,selectedIndex:r}=e,s=n?n[r]:null,p=s?s.getAttribute("value"):"";Object.assign(i,{value:p})}return i}get value(){return this[N].value}set value(e){const{items:t}=this[N],i=t?function(n,r){return n.findIndex(s=>s.getAttribute("value")===r)}(t,String(e)):-1;this[U]({selectedIndex:i})}}}(Ml(Fl(_t)))))))))))))))))))));class ls extends zd{get[M](){return Object.assign(super[M],{orientation:"vertical"})}get orientation(){return this[N].orientation}set orientation(e){this[U]({orientation:e})}[$](e){if(super[$](e),e.items||e.currentIndex){const{currentIndex:t,items:i}=this[N];i&&i.forEach((n,r)=>{n.toggleAttribute("selected",r===t)})}if(e.orientation){const t=this[N].orientation==="vertical"?{display:"block",flexDirection:"",overflowX:"hidden",overflowY:"auto"}:{display:"flex",flexDirection:"row",overflowX:"auto",overflowY:"hidden"};Object.assign(this[H].container.style,t)}}get[nt](){return this[H].container}get[J](){const e=super[J];return e.content.append(pe.html`
      <style>
        :host {
          box-sizing: border-box;
          cursor: default;
          display: flex;
          overflow: hidden; /* Container element is responsible for scrolling */
          -webkit-tap-highlight-color: transparent;
        }

        #container {
          display: flex;
          flex: 1;
          -webkit-overflow-scrolling: touch; /* for momentum scrolling */
        }
      </style>
      <div id="container" role="none">
        <slot id="slot"></slot>
      </div>
    `),e}}class Jl extends Xl{get[M](){return Object.assign(super[M],{autoCompleteSelect:!1,opened:!1,originalText:"",textIndex:-1,texts:[]})}[Us](e,t){if(t.length===0||!e)return null;const i=t.toLowerCase();return e.find(n=>n.toLowerCase().startsWith(i))||null}get opened(){return this[N].opened}set opened(e){this[U]({opened:e})}[$](e){if(super[$](e),this[_e]&&(this[H].inner.addEventListener("input",()=>{setTimeout(()=>{this[Z]=!0;const t=this.inner,i=this.value.toLowerCase(),n=t.selectionStart===i.length&&t.selectionEnd===i.length,r=this[N].originalText,s=i.startsWith(r)&&i.length===r.length+1;n&&s&&function(p){const d=p[Us](p.texts,p.value);d&&p[U]({autoCompleteSelect:!0,value:d})}(this),this[U]({originalText:i}),this[Z]=!1})}),Qt(this[H].accessibleList,ls)),e.opened){const{opened:t}=this[N];this[H].inner.setAttribute("aria-expanded",t.toString())}if(e.texts){const{texts:t}=this[N],i=t===null?[]:t.map(n=>{const r=document.createElement("div");return r.textContent=n,r});pl(this[H].accessibleList,i)}if(e.textIndex){const{textIndex:t}=this[N],i=this[H].accessibleList;"currentIndex"in i&&(i.currentIndex=t);const n=i.currentItem,r=n?n.id:null;r?this[$e].setAttribute("aria-activedescendant",r):this[$e].removeAttribute("aria-activedescendant")}}[Y](e){super[Y](e);const{autoCompleteSelect:t,originalText:i}=this[N];if(e.originalText&&t){this[U]({autoCompleteSelect:!1,selectionEnd:this[N].value.length,selectionStart:i.length});const n=new(window.InputEvent||Event)("input",{detail:{originalText:i}});this.dispatchEvent(n)}}[ne](e,t){const i=super[ne]?super[ne](e,t):{};if(t.valueCopy){const{texts:n,valueCopy:r}=e,s=n.indexOf(r);Object.assign(i,{textIndex:s})}return i}get[J](){const e=super[J],t=e.content.querySelector('[part~="input"]');return t&&(t.setAttribute("aria-autocomplete","both"),t.setAttribute("aria-controls","accessibleList"),t.setAttribute("role","combobox")),e.content.append(pe.html`
      <style>
        #accessibleList {
          height: 0;
          position: absolute;
          width: 0;
        }
      </style>
      <div id="accessibleList" tabindex="-1"></div>
    `),e}get texts(){return this[N].texts}set texts(e){this[U]({texts:e})}get value(){return super.value}set value(e){super.value=e,this[je]&&!this.inner.matches(":focus")&&this[U]({originalText:e})}}class Vd extends _t{[$](e){super[$](e),this[_e]&&this.setAttribute("hidden","")}}const Hd=$n(es(function(o){return class extends o{select(){this[$e].select()}get selectionEnd(){return this[$e].selectionEnd}set selectionEnd(e){this[$e].selectionEnd=e}get selectionStart(){return this[$e].selectionStart}set selectionStart(e){this[$e].selectionStart=e}setRangeText(...e){this[$e].setRangeText(...e)}setSelectionRange(...e){this[$e].setSelectionRange(...e),document.createElement("input").select}}}(an(as(bi($l(Gl(zl))))))));function na(o,e,t){if(!t||t.inputPartType){const{inputPartType:i}=e,n=o.getElementById("input");n&&Qt(n,i)}}function An(o,e){const t=o[qt];if(!t[e])return!1;const i=t[e]();if(i){const n=t.currentIndex;o[U]({currentIndex:n})}return i}const fr=Symbol("itemsChangedListener"),ra=Symbol("previousItemsDelegate"),mr=Symbol("currentIndexChangedListener"),Kd=os(function(o){return class extends o{[zt](){return An(this,zt)}[Vt](){return An(this,Vt)}[yt](){return An(this,yt)}[xt](){return An(this,xt)}}}(function(o){return class extends o{constructor(){super(),this[fr]=e=>{const t=e.target.items;this[N].items!==t&&this[U]({items:t})},this[mr]=e=>{const t=e.detail.currentIndex;this[N].currentIndex!==t&&this[U]({currentIndex:t})}}get[M](){return Object.assign(super[M]||{},{items:null})}get items(){return this[N]?this[N].items:null}[$](e){if(super[$]&&super[$](e),e.currentIndex){if(this[qt]===void 0)throw`To use DelegateItemsMixin, ${this.constructor.name} must define a getter for [itemsDelegate].`;"currentIndex"in this[qt]&&(this[qt].currentIndex=this[N].currentIndex)}}[Y](e){super[Y]&&super[Y](e);const t=this[ra];this[qt]!==t&&(t&&(t.removeEventListener(this[fr]),t.removeEventListener(this[mr])),this[qt].addEventListener("itemschange",this[fr]),this[qt].addEventListener("currentindexchange",this[mr]),this[ra]=this[qt])}}}(Hl(Yl(class extends Hd{get[M](){return Object.assign(super[M],{ariaHasPopup:null,confirmedValue:"",focused:!1,inputPartType:"input",orientation:"vertical",placeholder:"",selectText:!1,value:""})}get[$e](){return this[H].input}get input(){return this[je]?this[H].input:null}get inputPartType(){return this[N].inputPartType}set inputPartType(o){this[U]({inputPartType:o})}[ce](o){let e;switch(o.key){case"ArrowDown":case"ArrowUp":case"PageDown":case"PageUp":this.closed&&(this.open(),e=!0);break;case"Enter":this.opened||(this.open(),e=!0);break;case"Escape":this.close({canceled:"Escape"}),e=!0;break;case"F4":this.opened?this.close({canceled:"F4"}):this.open(),e=!0}return e||super[ce]&&super[ce](o)}get placeholder(){return this[N].placeholder}set placeholder(o){this[U]({placeholder:String(o)})}[$](o){if(super[$](o),na(this[je],this[N],o),o.inputPartType&&(this[H].input.addEventListener("blur",()=>{this[U]({focused:!1}),this.opened&&(this[Z]=!0,this.close(),this[Z]=!1)}),this[H].input.addEventListener("focus",()=>{this[Z]=!0,this[U]({focused:!0}),this[Z]=!1}),this[H].input.addEventListener("input",()=>{this[Z]=!0;const e=this[H].input.value,t={value:e,selectText:!1};this.closed&&e>""&&(t.opened=!0),this[U](t),this[Z]=!1}),this[H].input.addEventListener("keydown",()=>{this[Z]=!0,this[U]({selectText:!1}),this[Z]=!1}),this[H].input.addEventListener("mousedown",e=>{e.button===0&&(this[Z]=!0,this[U]({selectText:!1}),this.closed&&!this.disabled&&this.open(),this[Z]=!1)})),o.opened||o.inputPartType){const e=this[H].input;if("opened"in e){const{opened:t}=this[N];e.opened=t}}if(o.popupTogglePartType){const e=this[H].popupToggle,t=this[H].input;e.addEventListener("mousedown",i=>{i.button===0&&(this[N].disabled?i.preventDefault():(this[Z]=!0,this.toggle(),this[Z]=!1))}),e instanceof HTMLElement&&t instanceof HTMLElement&&Rr(e,t)}if(o.popupPartType){const e=this[H].popup,t=e;e.removeAttribute("tabindex"),"backdropPartType"in e&&(t.backdropPartType=Vd),"autoFocus"in e&&(t.autoFocus=!1);const i=t.frame;i&&Object.assign(i.style,{display:"flex",flexDirection:"column"}),"closeOnWindowResize"in e&&(t.closeOnWindowResize=!1)}if(o.disabled){const{disabled:e}=this[N];this[H].input.disabled=e,this[H].popupToggle.disabled=e}if(o.placeholder){const{placeholder:e}=this[N];this[H].input.placeholder=e}if(o.value){const{value:e}=this[N];this[H].input.value=e}}[Y](o){super[Y](o),this[N].selectText&&setTimeout(()=>{if(this[N].selectText){const e=this[H].input;e.value>""&&(e.selectionStart=0,e.selectionEnd=e.value.length)}})}[ne](o,e){const t=super[ne](o,e);if(e.opened||e.value){const{closeResult:i,opened:n}=o;n||(i&&i.canceled?Object.assign(t,{value:o.confirmedValue}):Object.assign(t,{confirmedValue:o.value}))}if(e.opened&&!o.opened){const i=!matchMedia("(pointer: coarse)").matches;Object.assign(t,{selectText:i})}return t}get[J](){const o=super[J],e=o.content.querySelector('slot[name="source"]');return e&&e.replaceWith(pe.html`
        <input id="input" part="input"></input>
      `),na(o.content,this[N]),o.content.append(pe.html`
        <style>
          [part~="source"] {
            background-color: inherit;
            display: inline-grid;
            grid-template-columns: 1fr auto;
            position: relative;
          }

          [part~="input"] {
            outline: none;
          }
        </style>
      `),o}get value(){return this[N].value}set value(o){this[U]({value:o})}})))));function sa(o,e,t){if(!t||t.listPartType){const{listPartType:i}=e,n=o.getElementById("list");n&&Qt(n,i)}}const Gd=ns(class extends Kd{get[M](){return Object.assign(super[M],{currentIndex:-1,listPartType:ls,popupAlign:"stretch",selectedIndex:-1,selectedItem:null})}[ut](o){return is(o)}[ce](o){let e;const t=this[H].list;switch(o.key){case"ArrowDown":this.opened&&(e=o.altKey?this[Vt]():this[yt]());break;case"ArrowUp":this.opened&&(e=o.altKey?this[zt]():this[xt]());break;case"PageDown":this.opened&&(e=t.pageDown&&t.pageDown());break;case"PageUp":this.opened&&(e=t.pageUp&&t.pageUp())}if(e){const{selectedIndex:i}=this[N];i!==t.currentIndex&&this[U]({selectedIndex:t.currentIndex})}return e||super[ce]&&super[ce](o)}get listPartType(){return this[N].listPartType}set listPartType(o){this[U]({listPartType:o})}get[qt](){return this[H].list}[$](o){if(o.listPartType&&this[H].list&&Rr(this[H].list,null),super[$](o),sa(this[je],this[N],o),o.listPartType){const e=this[H].list;e instanceof HTMLElement&&Rr(e,this)}}[Y](o){super[Y](o),o.listPartType&&this[U]({popupList:this[H].list})}get selectedItemValue(){const{items:o,selectedIndex:e}=this[N],t=o?o[e]:null;return t?t.getAttribute("value"):""}set selectedItemValue(o){const{items:e}=this[N],t=String(o),i=e.findIndex(n=>n.getAttribute("value")===t);this[U]({selectedIndex:i})}[ne](o,e){const t=super[ne](o,e);if(e.selectedIndex&&Object.assign(t,{currentIndex:o.selectedIndex}),e.selectedItem&&Object.assign(t,{currentItem:o.selectedItem}),e.items||e.value){const{value:i}=o,n=o.items;if(n&&i!=null){const r=i.toLowerCase(),s=n.findIndex(p=>this[ut](p).toLowerCase()===r);Object.assign(t,{currentIndex:s})}}if(e.selectedIndex){const{items:i,selectedIndex:n,value:r}=o,s=i?i[n]:null,p=s?this[ut](s):"",d=!matchMedia("(pointer: coarse)").matches;r!==p&&Object.assign(t,{selectText:d,value:p})}if(e.opened){const{closeResult:i,currentIndex:n,opened:r}=o,s=e.opened&&!r,p=i&&i.canceled;s&&!p&&n>=0&&Object.assign(t,{selectedIndex:n})}return e.items&&Object.assign(t,{popupMeasured:!1}),t}get[J](){const o=super[J],e=o.content.querySelector("slot:not([name])");return e&&e.replaceWith(pe.html`
        <div id="list" part="list" tabindex="-1">
          <slot></slot>
        </div>
      `),o.content.append(pe.html`
      <style>
        [part~="list"] {
          border: none;
          flex: 1;
          height: 100%;
          max-height: 100%;
          overscroll-behavior: contain;
          width: 100%;
        }
      </style>
    `),sa(o.content,this[N]),o}});class Qd extends Gd{get[M](){return Object.assign(super[M],{inputPartType:Jl})}[$](e){super[$](e),e.texts&&"texts"in this[H].input&&(this[H].input.texts=this[N].texts)}}function eu(o){return class extends o{get[J](){const e=super[J];return e.content.append(pe.html`
        <style>
          :host {
            background: white;
            border: 1px solid gray;
            box-sizing: border-box;
          }

          [part~="input"] {
            background: transparent;
            border-color: transparent;
          }
        </style>
      `),e}}}class Wd extends eu(Jl){}class Zd extends eu(Xl){}class Xd extends function(e){return class extends e{get[J](){const t=super[J];return t.content.append(pe.html`
          <style>
            :host {
              border: 1px solid gray;
              box-sizing: border-box;
            }

            ::slotted(*),
            #slot > * {
              padding: 0.25em;
            }

            ::slotted([selected]),
            #slot > [selected] {
              background: highlight;
              color: highlighttext;
            }

            @media (pointer: coarse) {
              ::slotted(*),
              #slot > * {
                padding: 1em;
              }
            }
          </style>
        `),t}}}(ls){}class Yd extends function(e){return class extends e{get[M](){return Object.assign(super[M]||{},{inputPartType:Zd,popupPartType:Wl,popupTogglePartType:Ql})}[$](t){if(super[$]&&super[$](t),t.inputPartType){const i=this[H].input,n="inner"in i?i.inner:i;Object.assign(n.style,{outline:"none"})}if(t.opened||t.popupLayout){const{opened:i,popupLayout:n}=this[N],r=n?n.direction:null,s="10px",p=r==="column-reverse"||r==="above",d=r==="column"||r==="below"?`polygon(0px 0px, 100% 0px, 100% -${s}, calc(100% + ${s}) -${s}, calc(100% + ${s}) calc(100% + ${s}), -${s} calc(100% + ${s}), -${s} -${s}, 0px -${s})`:p?`polygon(-${s} -${s}, calc(100% + ${s}) -${s}, calc(100% + ${s}) calc(100% + ${s}), 100% calc(100% + ${s}), 100% 100%, 0px 100%, 0px calc(100% + ${s}), -${s} calc(100% + ${s}))`:"";this[H].popup.style.clipPath=i?d:""}}get[J](){const t=super[J];return t.content.append(pe.html`
        <style>
          :host {
            background: white;
            border: 1px solid gray;
            box-sizing: border-box;
          }

          [part~="input"] {
            background: transparent;
            border: none;
          }
        </style>
      `),t}}}(Qd){get[M](){return Object.assign(super[M],{inputPartType:Wd,listPartType:Xd})}}/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */function Le(o,e,t,i){var n,r=arguments.length,s=r<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(o,e,t,i);else for(var p=o.length-1;p>=0;p--)(n=o[p])&&(s=(r<3?n(s):r>3?n(e,t,s):n(e,t))||s);return r>3&&s&&Object.defineProperty(e,t,s),s;/**
 * @license
 * Copyright 2019 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */}customElements.define("elix-auto-complete-combo-box",class extends Yd{}),function(o,e){typeof exports=="object"&&typeof module=="object"?module.exports=e():typeof define=="function"&&define.amd?define([],e):typeof exports=="object"?exports.Quill=e():o.Quill=e()}(typeof self!="undefined"?self:void 0,function(){return function(o){var e={};function t(i){if(e[i])return e[i].exports;var n=e[i]={i,l:!1,exports:{}};return o[i].call(n.exports,n,n.exports,t),n.l=!0,n.exports}return t.m=o,t.c=e,t.d=function(i,n,r){t.o(i,n)||Object.defineProperty(i,n,{configurable:!1,enumerable:!0,get:r})},t.n=function(i){var n=i&&i.__esModule?function(){return i.default}:function(){return i};return t.d(n,"a",n),n},t.o=function(i,n){return Object.prototype.hasOwnProperty.call(i,n)},t.p="",t(t.s=109)}([function(o,e,t){Object.defineProperty(e,"__esModule",{value:!0});var i=t(17),n=t(18),r=t(19),s=t(45),p=t(46),d=t(47),c=t(48),u=t(49),a=t(12),l=t(32),h=t(33),f=t(31),m=t(1),v={Scope:m.Scope,create:m.create,find:m.find,query:m.query,register:m.register,Container:i.default,Format:n.default,Leaf:r.default,Embed:c.default,Scroll:s.default,Block:d.default,Inline:p.default,Text:u.default,Attributor:{Attribute:a.default,Class:l.default,Style:h.default,Store:f.default}};e.default=v},function(o,e,t){var i,n=this&&this.__extends||(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(l,h){l.__proto__=h}||function(l,h){for(var f in h)h.hasOwnProperty(f)&&(l[f]=h[f])},function(l,h){function f(){this.constructor=l}i(l,h),l.prototype=h===null?Object.create(h):(f.prototype=h.prototype,new f)});Object.defineProperty(e,"__esModule",{value:!0});var r=function(l){function h(f){var m=this;return f="[Parchment] "+f,(m=l.call(this,f)||this).message=f,m.name=m.constructor.name,m}return n(h,l),h}(Error);e.ParchmentError=r;var s,p={},d={},c={},u={};function a(l,h){var f;if(h===void 0&&(h=s.ANY),typeof l=="string")f=u[l]||p[l];else if(l instanceof Text||l.nodeType===Node.TEXT_NODE)f=u.text;else if(typeof l=="number")l&s.LEVEL&s.BLOCK?f=u.block:l&s.LEVEL&s.INLINE&&(f=u.inline);else if(l instanceof HTMLElement){var m=(l.getAttribute("class")||"").split(/\s+/);for(var v in m)if(f=d[m[v]])break;f=f||c[l.tagName]}return f==null?null:h&s.LEVEL&f.scope&&h&s.TYPE&f.scope?f:null}e.DATA_KEY="__blot",function(l){l[l.TYPE=3]="TYPE",l[l.LEVEL=12]="LEVEL",l[l.ATTRIBUTE=13]="ATTRIBUTE",l[l.BLOT=14]="BLOT",l[l.INLINE=7]="INLINE",l[l.BLOCK=11]="BLOCK",l[l.BLOCK_BLOT=10]="BLOCK_BLOT",l[l.INLINE_BLOT=6]="INLINE_BLOT",l[l.BLOCK_ATTRIBUTE=9]="BLOCK_ATTRIBUTE",l[l.INLINE_ATTRIBUTE=5]="INLINE_ATTRIBUTE",l[l.ANY=15]="ANY"}(s=e.Scope||(e.Scope={})),e.create=function(l,h){var f=a(l);if(f==null)throw new r("Unable to create "+l+" blot");var m=f,v=l instanceof Node||l.nodeType===Node.TEXT_NODE?l:m.create(h);return new m(v,h)},e.find=function l(h,f){return f===void 0&&(f=!1),h==null?null:h[e.DATA_KEY]!=null?h[e.DATA_KEY].blot:f?l(h.parentNode,f):null},e.query=a,e.register=function l(){for(var h=[],f=0;f<arguments.length;f++)h[f]=arguments[f];if(h.length>1)return h.map(function(g){return l(g)});var m=h[0];if(typeof m.blotName!="string"&&typeof m.attrName!="string")throw new r("Invalid definition");if(m.blotName==="abstract")throw new r("Cannot register abstract class");if(u[m.blotName||m.attrName]=m,typeof m.keyName=="string")p[m.keyName]=m;else if(m.className!=null&&(d[m.className]=m),m.tagName!=null){Array.isArray(m.tagName)?m.tagName=m.tagName.map(function(g){return g.toUpperCase()}):m.tagName=m.tagName.toUpperCase();var v=Array.isArray(m.tagName)?m.tagName:[m.tagName];v.forEach(function(g){c[g]!=null&&m.className!=null||(c[g]=m)})}return m}},function(o,e,t){var i=t(51),n=t(11),r=t(3),s=t(20),p=String.fromCharCode(0),d=function(c){Array.isArray(c)?this.ops=c:c!=null&&Array.isArray(c.ops)?this.ops=c.ops:this.ops=[]};d.prototype.insert=function(c,u){var a={};return c.length===0?this:(a.insert=c,u!=null&&typeof u=="object"&&Object.keys(u).length>0&&(a.attributes=u),this.push(a))},d.prototype.delete=function(c){return c<=0?this:this.push({delete:c})},d.prototype.retain=function(c,u){if(c<=0)return this;var a={retain:c};return u!=null&&typeof u=="object"&&Object.keys(u).length>0&&(a.attributes=u),this.push(a)},d.prototype.push=function(c){var u=this.ops.length,a=this.ops[u-1];if(c=r(!0,{},c),typeof a=="object"){if(typeof c.delete=="number"&&typeof a.delete=="number")return this.ops[u-1]={delete:a.delete+c.delete},this;if(typeof a.delete=="number"&&c.insert!=null&&(u-=1,typeof(a=this.ops[u-1])!="object"))return this.ops.unshift(c),this;if(n(c.attributes,a.attributes)){if(typeof c.insert=="string"&&typeof a.insert=="string")return this.ops[u-1]={insert:a.insert+c.insert},typeof c.attributes=="object"&&(this.ops[u-1].attributes=c.attributes),this;if(typeof c.retain=="number"&&typeof a.retain=="number")return this.ops[u-1]={retain:a.retain+c.retain},typeof c.attributes=="object"&&(this.ops[u-1].attributes=c.attributes),this}}return u===this.ops.length?this.ops.push(c):this.ops.splice(u,0,c),this},d.prototype.chop=function(){var c=this.ops[this.ops.length-1];return c&&c.retain&&!c.attributes&&this.ops.pop(),this},d.prototype.filter=function(c){return this.ops.filter(c)},d.prototype.forEach=function(c){this.ops.forEach(c)},d.prototype.map=function(c){return this.ops.map(c)},d.prototype.partition=function(c){var u=[],a=[];return this.forEach(function(l){(c(l)?u:a).push(l)}),[u,a]},d.prototype.reduce=function(c,u){return this.ops.reduce(c,u)},d.prototype.changeLength=function(){return this.reduce(function(c,u){return u.insert?c+s.length(u):u.delete?c-u.delete:c},0)},d.prototype.length=function(){return this.reduce(function(c,u){return c+s.length(u)},0)},d.prototype.slice=function(c,u){c=c||0,typeof u!="number"&&(u=1/0);for(var a=[],l=s.iterator(this.ops),h=0;h<u&&l.hasNext();){var f;h<c?f=l.next(c-h):(f=l.next(u-h),a.push(f)),h+=s.length(f)}return new d(a)},d.prototype.compose=function(c){var u=s.iterator(this.ops),a=s.iterator(c.ops),l=[],h=a.peek();if(h!=null&&typeof h.retain=="number"&&h.attributes==null){for(var f=h.retain;u.peekType()==="insert"&&u.peekLength()<=f;)f-=u.peekLength(),l.push(u.next());h.retain-f>0&&a.next(h.retain-f)}for(var m=new d(l);u.hasNext()||a.hasNext();)if(a.peekType()==="insert")m.push(a.next());else if(u.peekType()==="delete")m.push(u.next());else{var v=Math.min(u.peekLength(),a.peekLength()),g=u.next(v),y=a.next(v);if(typeof y.retain=="number"){var b={};typeof g.retain=="number"?b.retain=v:b.insert=g.insert;var x=s.attributes.compose(g.attributes,y.attributes,typeof g.retain=="number");if(x&&(b.attributes=x),m.push(b),!a.hasNext()&&n(m.ops[m.ops.length-1],b)){var E=new d(u.rest());return m.concat(E).chop()}}else typeof y.delete=="number"&&typeof g.retain=="number"&&m.push(y)}return m.chop()},d.prototype.concat=function(c){var u=new d(this.ops.slice());return c.ops.length>0&&(u.push(c.ops[0]),u.ops=u.ops.concat(c.ops.slice(1))),u},d.prototype.diff=function(c,u){if(this.ops===c.ops)return new d;var a=[this,c].map(function(v){return v.map(function(g){if(g.insert!=null)return typeof g.insert=="string"?g.insert:p;throw new Error("diff() called "+(v===c?"on":"with")+" non-document")}).join("")}),l=new d,h=i(a[0],a[1],u),f=s.iterator(this.ops),m=s.iterator(c.ops);return h.forEach(function(v){for(var g=v[1].length;g>0;){var y=0;switch(v[0]){case i.INSERT:y=Math.min(m.peekLength(),g),l.push(m.next(y));break;case i.DELETE:y=Math.min(g,f.peekLength()),f.next(y),l.delete(y);break;case i.EQUAL:y=Math.min(f.peekLength(),m.peekLength(),g);var b=f.next(y),x=m.next(y);n(b.insert,x.insert)?l.retain(y,s.attributes.diff(b.attributes,x.attributes)):l.push(x).delete(y)}g-=y}}),l.chop()},d.prototype.eachLine=function(c,u){u=u||`
`;for(var a=s.iterator(this.ops),l=new d,h=0;a.hasNext();){if(a.peekType()!=="insert")return;var f=a.peek(),m=s.length(f)-a.peekLength(),v=typeof f.insert=="string"?f.insert.indexOf(u,m)-m:-1;if(v<0)l.push(a.next());else if(v>0)l.push(a.next(v));else{if(c(l,a.next(1).attributes||{},h)===!1)return;h+=1,l=new d}}l.length()>0&&c(l,{},h)},d.prototype.transform=function(c,u){if(u=!!u,typeof c=="number")return this.transformPosition(c,u);for(var a=s.iterator(this.ops),l=s.iterator(c.ops),h=new d;a.hasNext()||l.hasNext();)if(a.peekType()!=="insert"||!u&&l.peekType()==="insert")if(l.peekType()==="insert")h.push(l.next());else{var f=Math.min(a.peekLength(),l.peekLength()),m=a.next(f),v=l.next(f);if(m.delete)continue;v.delete?h.push(v):h.retain(f,s.attributes.transform(m.attributes,v.attributes,u))}else h.retain(s.length(a.next()));return h.chop()},d.prototype.transformPosition=function(c,u){u=!!u;for(var a=s.iterator(this.ops),l=0;a.hasNext()&&l<=c;){var h=a.peekLength(),f=a.peekType();a.next(),f!=="delete"?(f==="insert"&&(l<c||!u)&&(c+=h),l+=h):c-=Math.min(h,c-l)}return c},o.exports=d},function(o,e){var t=Object.prototype.hasOwnProperty,i=Object.prototype.toString,n=Object.defineProperty,r=Object.getOwnPropertyDescriptor,s=function(u){return typeof Array.isArray=="function"?Array.isArray(u):i.call(u)==="[object Array]"},p=function(u){if(!u||i.call(u)!=="[object Object]")return!1;var a,l=t.call(u,"constructor"),h=u.constructor&&u.constructor.prototype&&t.call(u.constructor.prototype,"isPrototypeOf");if(u.constructor&&!l&&!h)return!1;for(a in u);return a===void 0||t.call(u,a)},d=function(u,a){n&&a.name==="__proto__"?n(u,a.name,{enumerable:!0,configurable:!0,value:a.newValue,writable:!0}):u[a.name]=a.newValue},c=function(u,a){if(a==="__proto__"){if(!t.call(u,a))return;if(r)return r(u,a).value}return u[a]};o.exports=function u(){var a,l,h,f,m,v,g=arguments[0],y=1,b=arguments.length,x=!1;for(typeof g=="boolean"&&(x=g,g=arguments[1]||{},y=2),(g==null||typeof g!="object"&&typeof g!="function")&&(g={});y<b;++y)if((a=arguments[y])!=null)for(l in a)h=c(g,l),g!==(f=c(a,l))&&(x&&f&&(p(f)||(m=s(f)))?(m?(m=!1,v=h&&s(h)?h:[]):v=h&&p(h)?h:{},d(g,{name:l,newValue:u(x,v,f)})):f!==void 0&&d(g,{name:l,newValue:f}));return g}},function(o,e,t){Object.defineProperty(e,"__esModule",{value:!0}),e.default=e.BlockEmbed=e.bubbleFormats=void 0;var i=function(){function y(b,x){for(var E=0;E<x.length;E++){var w=x[E];w.enumerable=w.enumerable||!1,w.configurable=!0,"value"in w&&(w.writable=!0),Object.defineProperty(b,w.key,w)}}return function(b,x,E){return x&&y(b.prototype,x),E&&y(b,E),b}}(),n=function y(b,x,E){b===null&&(b=Function.prototype);var w=Object.getOwnPropertyDescriptor(b,x);if(w===void 0){var I=Object.getPrototypeOf(b);return I===null?void 0:y(I,x,E)}if("value"in w)return w.value;var k=w.get;return k!==void 0?k.call(E):void 0},r=a(t(3)),s=a(t(2)),p=a(t(0)),d=a(t(16)),c=a(t(6)),u=a(t(7));function a(y){return y&&y.__esModule?y:{default:y}}function l(y,b){if(!(y instanceof b))throw new TypeError("Cannot call a class as a function")}function h(y,b){if(!y)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!b||typeof b!="object"&&typeof b!="function"?y:b}function f(y,b){if(typeof b!="function"&&b!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof b);y.prototype=Object.create(b&&b.prototype,{constructor:{value:y,enumerable:!1,writable:!0,configurable:!0}}),b&&(Object.setPrototypeOf?Object.setPrototypeOf(y,b):y.__proto__=b)}var m=function(y){function b(){return l(this,b),h(this,(b.__proto__||Object.getPrototypeOf(b)).apply(this,arguments))}return f(b,y),i(b,[{key:"attach",value:function(){n(b.prototype.__proto__||Object.getPrototypeOf(b.prototype),"attach",this).call(this),this.attributes=new p.default.Attributor.Store(this.domNode)}},{key:"delta",value:function(){return new s.default().insert(this.value(),(0,r.default)(this.formats(),this.attributes.values()))}},{key:"format",value:function(x,E){var w=p.default.query(x,p.default.Scope.BLOCK_ATTRIBUTE);w!=null&&this.attributes.attribute(w,E)}},{key:"formatAt",value:function(x,E,w,I){this.format(w,I)}},{key:"insertAt",value:function(x,E,w){if(typeof E=="string"&&E.endsWith(`
`)){var I=p.default.create(v.blotName);this.parent.insertBefore(I,x===0?this:this.next),I.insertAt(0,E.slice(0,-1))}else n(b.prototype.__proto__||Object.getPrototypeOf(b.prototype),"insertAt",this).call(this,x,E,w)}}]),b}(p.default.Embed);m.scope=p.default.Scope.BLOCK_BLOT;var v=function(y){function b(x){l(this,b);var E=h(this,(b.__proto__||Object.getPrototypeOf(b)).call(this,x));return E.cache={},E}return f(b,y),i(b,[{key:"delta",value:function(){return this.cache.delta==null&&(this.cache.delta=this.descendants(p.default.Leaf).reduce(function(x,E){return E.length()===0?x:x.insert(E.value(),g(E))},new s.default).insert(`
`,g(this))),this.cache.delta}},{key:"deleteAt",value:function(x,E){n(b.prototype.__proto__||Object.getPrototypeOf(b.prototype),"deleteAt",this).call(this,x,E),this.cache={}}},{key:"formatAt",value:function(x,E,w,I){E<=0||(p.default.query(w,p.default.Scope.BLOCK)?x+E===this.length()&&this.format(w,I):n(b.prototype.__proto__||Object.getPrototypeOf(b.prototype),"formatAt",this).call(this,x,Math.min(E,this.length()-x-1),w,I),this.cache={})}},{key:"insertAt",value:function(x,E,w){if(w!=null)return n(b.prototype.__proto__||Object.getPrototypeOf(b.prototype),"insertAt",this).call(this,x,E,w);if(E.length!==0){var I=E.split(`
`),k=I.shift();k.length>0&&(x<this.length()-1||this.children.tail==null?n(b.prototype.__proto__||Object.getPrototypeOf(b.prototype),"insertAt",this).call(this,Math.min(x,this.length()-1),k):this.children.tail.insertAt(this.children.tail.length(),k),this.cache={});var P=this;I.reduce(function(A,_){return(P=P.split(A,!0)).insertAt(0,_),_.length},x+k.length)}}},{key:"insertBefore",value:function(x,E){var w=this.children.head;n(b.prototype.__proto__||Object.getPrototypeOf(b.prototype),"insertBefore",this).call(this,x,E),w instanceof d.default&&w.remove(),this.cache={}}},{key:"length",value:function(){return this.cache.length==null&&(this.cache.length=n(b.prototype.__proto__||Object.getPrototypeOf(b.prototype),"length",this).call(this)+1),this.cache.length}},{key:"moveChildren",value:function(x,E){n(b.prototype.__proto__||Object.getPrototypeOf(b.prototype),"moveChildren",this).call(this,x,E),this.cache={}}},{key:"optimize",value:function(x){n(b.prototype.__proto__||Object.getPrototypeOf(b.prototype),"optimize",this).call(this,x),this.cache={}}},{key:"path",value:function(x){return n(b.prototype.__proto__||Object.getPrototypeOf(b.prototype),"path",this).call(this,x,!0)}},{key:"removeChild",value:function(x){n(b.prototype.__proto__||Object.getPrototypeOf(b.prototype),"removeChild",this).call(this,x),this.cache={}}},{key:"split",value:function(x){var E=arguments.length>1&&arguments[1]!==void 0&&arguments[1];if(E&&(x===0||x>=this.length()-1)){var w=this.clone();return x===0?(this.parent.insertBefore(w,this),this):(this.parent.insertBefore(w,this.next),w)}var I=n(b.prototype.__proto__||Object.getPrototypeOf(b.prototype),"split",this).call(this,x,E);return this.cache={},I}}]),b}(p.default.Block);function g(y){var b=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return y==null?b:(typeof y.formats=="function"&&(b=(0,r.default)(b,y.formats())),y.parent==null||y.parent.blotName=="scroll"||y.parent.statics.scope!==y.statics.scope?b:g(y.parent,b))}v.blotName="block",v.tagName="P",v.defaultChild="break",v.allowedChildren=[c.default,p.default.Embed,u.default],e.bubbleFormats=g,e.BlockEmbed=m,e.default=v},function(o,e,t){Object.defineProperty(e,"__esModule",{value:!0}),e.default=e.overload=e.expandConfig=void 0;var i=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(P){return typeof P}:function(P){return P&&typeof Symbol=="function"&&P.constructor===Symbol&&P!==Symbol.prototype?"symbol":typeof P},n=function(P,A){if(Array.isArray(P))return P;if(Symbol.iterator in Object(P))return function(_,O){var q=[],S=!0,T=!1,C=void 0;try{for(var L,B=_[Symbol.iterator]();!(S=(L=B.next()).done)&&(q.push(L.value),!O||q.length!==O);S=!0);}catch(Q){T=!0,C=Q}finally{try{!S&&B.return&&B.return()}finally{if(T)throw C}}return q}(P,A);throw new TypeError("Invalid attempt to destructure non-iterable instance")},r=function(){function P(A,_){for(var O=0;O<_.length;O++){var q=_[O];q.enumerable=q.enumerable||!1,q.configurable=!0,"value"in q&&(q.writable=!0),Object.defineProperty(A,q.key,q)}}return function(A,_,O){return _&&P(A.prototype,_),O&&P(A,O),A}}();t(50);var s=v(t(2)),p=v(t(14)),d=v(t(8)),c=v(t(9)),u=v(t(0)),a=t(15),l=v(a),h=v(t(3)),f=v(t(10)),m=v(t(34));function v(P){return P&&P.__esModule?P:{default:P}}function g(P,A,_){return A in P?Object.defineProperty(P,A,{value:_,enumerable:!0,configurable:!0,writable:!0}):P[A]=_,P}function y(P,A){if(!(P instanceof A))throw new TypeError("Cannot call a class as a function")}var b=(0,f.default)("quill"),x=function(){function P(A){var _=this,O=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(y(this,P),this.options=E(A,O),this.container=this.options.container,this.container==null)return b.error("Invalid Quill container",A);this.options.debug&&P.debug(this.options.debug);var q=this.container.innerHTML.trim();this.container.classList.add("ql-container"),this.container.innerHTML="",this.container.__quill=this,this.root=this.addContainer("ql-editor"),this.root.classList.add("ql-blank"),this.root.setAttribute("data-gramm",!1),this.scrollingContainer=this.options.scrollingContainer||this.root,this.emitter=new d.default,this.scroll=u.default.create(this.root,{emitter:this.emitter,whitelist:this.options.formats}),this.editor=new p.default(this.scroll),this.selection=new l.default(this.scroll,this.emitter),this.theme=new this.options.theme(this,this.options),this.keyboard=this.theme.addModule("keyboard"),this.clipboard=this.theme.addModule("clipboard"),this.history=this.theme.addModule("history"),this.theme.init(),this.emitter.on(d.default.events.EDITOR_CHANGE,function(T){T===d.default.events.TEXT_CHANGE&&_.root.classList.toggle("ql-blank",_.editor.isBlank())}),this.emitter.on(d.default.events.SCROLL_UPDATE,function(T,C){var L=_.selection.lastRange,B=L&&L.length===0?L.index:void 0;w.call(_,function(){return _.editor.update(null,C,B)},T)});var S=this.clipboard.convert(`<div class='ql-editor' style="white-space: normal;">`+q+"<p><br></p></div>");this.setContents(S),this.history.clear(),this.options.placeholder&&this.root.setAttribute("data-placeholder",this.options.placeholder),this.options.readOnly&&this.disable()}return r(P,null,[{key:"debug",value:function(A){A===!0&&(A="log"),f.default.level(A)}},{key:"find",value:function(A){return A.__quill||u.default.find(A)}},{key:"import",value:function(A){return this.imports[A]==null&&b.error("Cannot import "+A+". Are you sure it was registered?"),this.imports[A]}},{key:"register",value:function(A,_){var O=this,q=arguments.length>2&&arguments[2]!==void 0&&arguments[2];if(typeof A!="string"){var S=A.attrName||A.blotName;typeof S=="string"?this.register("formats/"+S,A,_):Object.keys(A).forEach(function(T){O.register(T,A[T],_)})}else this.imports[A]==null||q||b.warn("Overwriting "+A+" with",_),this.imports[A]=_,(A.startsWith("blots/")||A.startsWith("formats/"))&&_.blotName!=="abstract"?u.default.register(_):A.startsWith("modules")&&typeof _.register=="function"&&_.register()}}]),r(P,[{key:"addContainer",value:function(A){var _=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null;if(typeof A=="string"){var O=A;(A=document.createElement("div")).classList.add(O)}return this.container.insertBefore(A,_),A}},{key:"blur",value:function(){this.selection.setRange(null)}},{key:"deleteText",value:function(A,_,O){var q=this,S=I(A,_,O),T=n(S,4);return A=T[0],_=T[1],O=T[3],w.call(this,function(){return q.editor.deleteText(A,_)},O,A,-1*_)}},{key:"disable",value:function(){this.enable(!1)}},{key:"enable",value:function(){var A=!(arguments.length>0&&arguments[0]!==void 0)||arguments[0];this.scroll.enable(A),this.container.classList.toggle("ql-disabled",!A)}},{key:"focus",value:function(){var A=this.scrollingContainer.scrollTop;this.selection.focus(),this.scrollingContainer.scrollTop=A,this.scrollIntoView()}},{key:"format",value:function(A,_){var O=this,q=arguments.length>2&&arguments[2]!==void 0?arguments[2]:d.default.sources.API;return w.call(this,function(){var S=O.getSelection(!0),T=new s.default;if(S==null)return T;if(u.default.query(A,u.default.Scope.BLOCK))T=O.editor.formatLine(S.index,S.length,g({},A,_));else{if(S.length===0)return O.selection.format(A,_),T;T=O.editor.formatText(S.index,S.length,g({},A,_))}return O.setSelection(S,d.default.sources.SILENT),T},q)}},{key:"formatLine",value:function(A,_,O,q,S){var T,C=this,L=I(A,_,O,q,S),B=n(L,4);return A=B[0],_=B[1],T=B[2],S=B[3],w.call(this,function(){return C.editor.formatLine(A,_,T)},S,A,0)}},{key:"formatText",value:function(A,_,O,q,S){var T,C=this,L=I(A,_,O,q,S),B=n(L,4);return A=B[0],_=B[1],T=B[2],S=B[3],w.call(this,function(){return C.editor.formatText(A,_,T)},S,A,0)}},{key:"getBounds",value:function(A){var _=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,O=void 0;O=typeof A=="number"?this.selection.getBounds(A,_):this.selection.getBounds(A.index,A.length);var q=this.container.getBoundingClientRect();return{bottom:O.bottom-q.top,height:O.height,left:O.left-q.left,right:O.right-q.left,top:O.top-q.top,width:O.width}}},{key:"getContents",value:function(){var A=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,_=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.getLength()-A,O=I(A,_),q=n(O,2);return A=q[0],_=q[1],this.editor.getContents(A,_)}},{key:"getFormat",value:function(){var A=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.getSelection(!0),_=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return typeof A=="number"?this.editor.getFormat(A,_):this.editor.getFormat(A.index,A.length)}},{key:"getIndex",value:function(A){return A.offset(this.scroll)}},{key:"getLength",value:function(){return this.scroll.length()}},{key:"getLeaf",value:function(A){return this.scroll.leaf(A)}},{key:"getLine",value:function(A){return this.scroll.line(A)}},{key:"getLines",value:function(){var A=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,_=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Number.MAX_VALUE;return typeof A!="number"?this.scroll.lines(A.index,A.length):this.scroll.lines(A,_)}},{key:"getModule",value:function(A){return this.theme.modules[A]}},{key:"getSelection",value:function(){var A=arguments.length>0&&arguments[0]!==void 0&&arguments[0];return A&&this.focus(),this.update(),this.selection.getRange()[0]}},{key:"getText",value:function(){var A=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,_=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.getLength()-A,O=I(A,_),q=n(O,2);return A=q[0],_=q[1],this.editor.getText(A,_)}},{key:"hasFocus",value:function(){return this.selection.hasFocus()}},{key:"insertEmbed",value:function(A,_,O){var q=this,S=arguments.length>3&&arguments[3]!==void 0?arguments[3]:P.sources.API;return w.call(this,function(){return q.editor.insertEmbed(A,_,O)},S,A)}},{key:"insertText",value:function(A,_,O,q,S){var T,C=this,L=I(A,0,O,q,S),B=n(L,4);return A=B[0],T=B[2],S=B[3],w.call(this,function(){return C.editor.insertText(A,_,T)},S,A,_.length)}},{key:"isEnabled",value:function(){return!this.container.classList.contains("ql-disabled")}},{key:"off",value:function(){return this.emitter.off.apply(this.emitter,arguments)}},{key:"on",value:function(){return this.emitter.on.apply(this.emitter,arguments)}},{key:"once",value:function(){return this.emitter.once.apply(this.emitter,arguments)}},{key:"pasteHTML",value:function(A,_,O){this.clipboard.dangerouslyPasteHTML(A,_,O)}},{key:"removeFormat",value:function(A,_,O){var q=this,S=I(A,_,O),T=n(S,4);return A=T[0],_=T[1],O=T[3],w.call(this,function(){return q.editor.removeFormat(A,_)},O,A)}},{key:"scrollIntoView",value:function(){this.selection.scrollIntoView(this.scrollingContainer)}},{key:"setContents",value:function(A){var _=this,O=arguments.length>1&&arguments[1]!==void 0?arguments[1]:d.default.sources.API;return w.call(this,function(){A=new s.default(A);var q=_.getLength(),S=_.editor.deleteText(0,q),T=_.editor.applyDelta(A),C=T.ops[T.ops.length-1];return C!=null&&typeof C.insert=="string"&&C.insert[C.insert.length-1]===`
`&&(_.editor.deleteText(_.getLength()-1,1),T.delete(1)),S.compose(T)},O)}},{key:"setSelection",value:function(A,_,O){if(A==null)this.selection.setRange(null,_||P.sources.API);else{var q=I(A,_,O),S=n(q,4);A=S[0],_=S[1],O=S[3],this.selection.setRange(new a.Range(A,_),O),O!==d.default.sources.SILENT&&this.selection.scrollIntoView(this.scrollingContainer)}}},{key:"setText",value:function(A){var _=arguments.length>1&&arguments[1]!==void 0?arguments[1]:d.default.sources.API,O=new s.default().insert(A);return this.setContents(O,_)}},{key:"update",value:function(){var A=arguments.length>0&&arguments[0]!==void 0?arguments[0]:d.default.sources.USER,_=this.scroll.update(A);return this.selection.update(A),_}},{key:"updateContents",value:function(A){var _=this,O=arguments.length>1&&arguments[1]!==void 0?arguments[1]:d.default.sources.API;return w.call(this,function(){return A=new s.default(A),_.editor.applyDelta(A,O)},O,!0)}}]),P}();function E(P,A){if((A=(0,h.default)(!0,{container:P,modules:{clipboard:!0,keyboard:!0,history:!0}},A)).theme&&A.theme!==x.DEFAULTS.theme){if(A.theme=x.import("themes/"+A.theme),A.theme==null)throw new Error("Invalid theme "+A.theme+". Did you register it?")}else A.theme=m.default;var _=(0,h.default)(!0,{},A.theme.DEFAULTS);[_,A].forEach(function(q){q.modules=q.modules||{},Object.keys(q.modules).forEach(function(S){q.modules[S]===!0&&(q.modules[S]={})})});var O=Object.keys(_.modules).concat(Object.keys(A.modules)).reduce(function(q,S){var T=x.import("modules/"+S);return T==null?b.error("Cannot load "+S+" module. Are you sure you registered it?"):q[S]=T.DEFAULTS||{},q},{});return A.modules!=null&&A.modules.toolbar&&A.modules.toolbar.constructor!==Object&&(A.modules.toolbar={container:A.modules.toolbar}),A=(0,h.default)(!0,{},x.DEFAULTS,{modules:O},_,A),["bounds","container","scrollingContainer"].forEach(function(q){typeof A[q]=="string"&&(A[q]=document.querySelector(A[q]))}),A.modules=Object.keys(A.modules).reduce(function(q,S){return A.modules[S]&&(q[S]=A.modules[S]),q},{}),A}function w(P,A,_,O){if(this.options.strict&&!this.isEnabled()&&A===d.default.sources.USER)return new s.default;var q=_==null?null:this.getSelection(),S=this.editor.delta,T=P();if(q!=null&&(_===!0&&(_=q.index),O==null?q=k(q,T,A):O!==0&&(q=k(q,_,O,A)),this.setSelection(q,d.default.sources.SILENT)),T.length()>0){var C,L,B=[d.default.events.TEXT_CHANGE,T,S,A];(C=this.emitter).emit.apply(C,[d.default.events.EDITOR_CHANGE].concat(B)),A!==d.default.sources.SILENT&&(L=this.emitter).emit.apply(L,B)}return T}function I(P,A,_,O,q){var S={};return typeof P.index=="number"&&typeof P.length=="number"?typeof A!="number"?(q=O,O=_,_=A,A=P.length,P=P.index):(A=P.length,P=P.index):typeof A!="number"&&(q=O,O=_,_=A,A=0),(_===void 0?"undefined":i(_))==="object"?(S=_,q=O):typeof _=="string"&&(O!=null?S[_]=O:q=_),[P,A,S,q=q||d.default.sources.API]}function k(P,A,_,O){if(P==null)return null;var q=void 0,S=void 0;if(A instanceof s.default){var T=[P.index,P.index+P.length].map(function(Q){return A.transformPosition(Q,O!==d.default.sources.USER)}),C=n(T,2);q=C[0],S=C[1]}else{var L=[P.index,P.index+P.length].map(function(Q){return Q<A||Q===A&&O===d.default.sources.USER?Q:_>=0?Q+_:Math.max(A,Q+_)}),B=n(L,2);q=B[0],S=B[1]}return new a.Range(q,S-q)}x.DEFAULTS={bounds:null,formats:null,modules:{},placeholder:"",readOnly:!1,scrollingContainer:null,strict:!0,theme:"default"},x.events=d.default.events,x.sources=d.default.sources,x.version="1.3.7",x.imports={delta:s.default,parchment:u.default,"core/module":c.default,"core/theme":m.default},e.expandConfig=E,e.overload=I,e.default=x},function(o,e,t){Object.defineProperty(e,"__esModule",{value:!0});var i=function(){function a(l,h){for(var f=0;f<h.length;f++){var m=h[f];m.enumerable=m.enumerable||!1,m.configurable=!0,"value"in m&&(m.writable=!0),Object.defineProperty(l,m.key,m)}}return function(l,h,f){return h&&a(l.prototype,h),f&&a(l,f),l}}(),n=function a(l,h,f){l===null&&(l=Function.prototype);var m=Object.getOwnPropertyDescriptor(l,h);if(m===void 0){var v=Object.getPrototypeOf(l);return v===null?void 0:a(v,h,f)}if("value"in m)return m.value;var g=m.get;return g!==void 0?g.call(f):void 0},r=p(t(7)),s=p(t(0));function p(a){return a&&a.__esModule?a:{default:a}}function d(a,l){if(!(a instanceof l))throw new TypeError("Cannot call a class as a function")}function c(a,l){if(!a)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!l||typeof l!="object"&&typeof l!="function"?a:l}var u=function(a){function l(){return d(this,l),c(this,(l.__proto__||Object.getPrototypeOf(l)).apply(this,arguments))}return function(h,f){if(typeof f!="function"&&f!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof f);h.prototype=Object.create(f&&f.prototype,{constructor:{value:h,enumerable:!1,writable:!0,configurable:!0}}),f&&(Object.setPrototypeOf?Object.setPrototypeOf(h,f):h.__proto__=f)}(l,a),i(l,[{key:"formatAt",value:function(h,f,m,v){if(l.compare(this.statics.blotName,m)<0&&s.default.query(m,s.default.Scope.BLOT)){var g=this.isolate(h,f);v&&g.wrap(m,v)}else n(l.prototype.__proto__||Object.getPrototypeOf(l.prototype),"formatAt",this).call(this,h,f,m,v)}},{key:"optimize",value:function(h){if(n(l.prototype.__proto__||Object.getPrototypeOf(l.prototype),"optimize",this).call(this,h),this.parent instanceof l&&l.compare(this.statics.blotName,this.parent.statics.blotName)>0){var f=this.parent.isolate(this.offset(),this.length());this.moveChildren(f),f.wrap(this)}}}],[{key:"compare",value:function(h,f){var m=l.order.indexOf(h),v=l.order.indexOf(f);return m>=0||v>=0?m-v:h===f?0:h<f?-1:1}}]),l}(s.default.Inline);u.allowedChildren=[u,s.default.Embed,r.default],u.order=["cursor","inline","underline","strike","italic","bold","script","link","code"],e.default=u},function(o,e,t){Object.defineProperty(e,"__esModule",{value:!0});var i,n=t(0);function r(d,c){if(!(d instanceof c))throw new TypeError("Cannot call a class as a function")}function s(d,c){if(!d)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!c||typeof c!="object"&&typeof c!="function"?d:c}var p=function(d){function c(){return r(this,c),s(this,(c.__proto__||Object.getPrototypeOf(c)).apply(this,arguments))}return function(u,a){if(typeof a!="function"&&a!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof a);u.prototype=Object.create(a&&a.prototype,{constructor:{value:u,enumerable:!1,writable:!0,configurable:!0}}),a&&(Object.setPrototypeOf?Object.setPrototypeOf(u,a):u.__proto__=a)}(c,d),c}(((i=n)&&i.__esModule?i:{default:i}).default.Text);e.default=p},function(o,e,t){Object.defineProperty(e,"__esModule",{value:!0});var i=function(){function c(u,a){for(var l=0;l<a.length;l++){var h=a[l];h.enumerable=h.enumerable||!1,h.configurable=!0,"value"in h&&(h.writable=!0),Object.defineProperty(u,h.key,h)}}return function(u,a,l){return a&&c(u.prototype,a),l&&c(u,l),u}}(),n=function c(u,a,l){u===null&&(u=Function.prototype);var h=Object.getOwnPropertyDescriptor(u,a);if(h===void 0){var f=Object.getPrototypeOf(u);return f===null?void 0:c(f,a,l)}if("value"in h)return h.value;var m=h.get;return m!==void 0?m.call(l):void 0},r=s(t(54));function s(c){return c&&c.__esModule?c:{default:c}}var p=(0,s(t(10)).default)("quill:events");["selectionchange","mousedown","mouseup","click"].forEach(function(c){document.addEventListener(c,function(){for(var u=arguments.length,a=Array(u),l=0;l<u;l++)a[l]=arguments[l];[].slice.call(document.querySelectorAll(".ql-container")).forEach(function(h){var f;h.__quill&&h.__quill.emitter&&(f=h.__quill.emitter).handleDOM.apply(f,a)})})});var d=function(c){function u(){(function(l,h){if(!(l instanceof h))throw new TypeError("Cannot call a class as a function")})(this,u);var a=function(l,h){if(!l)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!h||typeof h!="object"&&typeof h!="function"?l:h}(this,(u.__proto__||Object.getPrototypeOf(u)).call(this));return a.listeners={},a.on("error",p.error),a}return function(a,l){if(typeof l!="function"&&l!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof l);a.prototype=Object.create(l&&l.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}}),l&&(Object.setPrototypeOf?Object.setPrototypeOf(a,l):a.__proto__=l)}(u,c),i(u,[{key:"emit",value:function(){p.log.apply(p,arguments),n(u.prototype.__proto__||Object.getPrototypeOf(u.prototype),"emit",this).apply(this,arguments)}},{key:"handleDOM",value:function(a){for(var l=arguments.length,h=Array(l>1?l-1:0),f=1;f<l;f++)h[f-1]=arguments[f];(this.listeners[a.type]||[]).forEach(function(m){var v=m.node,g=m.handler;(a.target===v||v.contains(a.target))&&g.apply(void 0,[a].concat(h))})}},{key:"listenDOM",value:function(a,l,h){this.listeners[a]||(this.listeners[a]=[]),this.listeners[a].push({node:l,handler:h})}}]),u}(r.default);d.events={EDITOR_CHANGE:"editor-change",SCROLL_BEFORE_UPDATE:"scroll-before-update",SCROLL_OPTIMIZE:"scroll-optimize",SCROLL_UPDATE:"scroll-update",SELECTION_CHANGE:"selection-change",TEXT_CHANGE:"text-change"},d.sources={API:"api",SILENT:"silent",USER:"user"},e.default=d},function(o,e,t){function i(r,s){if(!(r instanceof s))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(e,"__esModule",{value:!0});var n=function r(s){var p=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};i(this,r),this.quill=s,this.options=p};n.DEFAULTS={},e.default=n},function(o,e,t){Object.defineProperty(e,"__esModule",{value:!0});var i=["error","warn","log","info"],n="warn";function r(p){if(i.indexOf(p)<=i.indexOf(n)){for(var d,c=arguments.length,u=Array(c>1?c-1:0),a=1;a<c;a++)u[a-1]=arguments[a];(d=console)[p].apply(d,u)}}function s(p){return i.reduce(function(d,c){return d[c]=r.bind(console,c,p),d},{})}r.level=s.level=function(p){n=p},e.default=s},function(o,e,t){var i=Array.prototype.slice,n=t(52),r=t(53),s=o.exports=function(c,u,a){return a||(a={}),c===u||(c instanceof Date&&u instanceof Date?c.getTime()===u.getTime():!c||!u||typeof c!="object"&&typeof u!="object"?a.strict?c===u:c==u:function(l,h,f){var m,v;if(p(l)||p(h)||l.prototype!==h.prototype)return!1;if(r(l))return!!r(h)&&(l=i.call(l),h=i.call(h),s(l,h,f));if(d(l)){if(!d(h)||l.length!==h.length)return!1;for(m=0;m<l.length;m++)if(l[m]!==h[m])return!1;return!0}try{var g=n(l),y=n(h)}catch{return!1}if(g.length!=y.length)return!1;for(g.sort(),y.sort(),m=g.length-1;m>=0;m--)if(g[m]!=y[m])return!1;for(m=g.length-1;m>=0;m--)if(v=g[m],!s(l[v],h[v],f))return!1;return typeof l==typeof h}(c,u,a))};function p(c){return c==null}function d(c){return!(!c||typeof c!="object"||typeof c.length!="number")&&typeof c.copy=="function"&&typeof c.slice=="function"&&!(c.length>0&&typeof c[0]!="number")}},function(o,e,t){Object.defineProperty(e,"__esModule",{value:!0});var i=t(1),n=function(){function r(s,p,d){d===void 0&&(d={}),this.attrName=s,this.keyName=p;var c=i.Scope.TYPE&i.Scope.ATTRIBUTE;d.scope!=null?this.scope=d.scope&i.Scope.LEVEL|c:this.scope=i.Scope.ATTRIBUTE,d.whitelist!=null&&(this.whitelist=d.whitelist)}return r.keys=function(s){return[].map.call(s.attributes,function(p){return p.name})},r.prototype.add=function(s,p){return!!this.canAdd(s,p)&&(s.setAttribute(this.keyName,p),!0)},r.prototype.canAdd=function(s,p){return i.query(s,i.Scope.BLOT&(this.scope|i.Scope.TYPE))!=null&&(this.whitelist==null||(typeof p=="string"?this.whitelist.indexOf(p.replace(/["']/g,""))>-1:this.whitelist.indexOf(p)>-1))},r.prototype.remove=function(s){s.removeAttribute(this.keyName)},r.prototype.value=function(s){var p=s.getAttribute(this.keyName);return this.canAdd(s,p)&&p?p:""},r}();e.default=n},function(o,e,t){Object.defineProperty(e,"__esModule",{value:!0}),e.default=e.Code=void 0;var i=function(g,y){if(Array.isArray(g))return g;if(Symbol.iterator in Object(g))return function(b,x){var E=[],w=!0,I=!1,k=void 0;try{for(var P,A=b[Symbol.iterator]();!(w=(P=A.next()).done)&&(E.push(P.value),!x||E.length!==x);w=!0);}catch(_){I=!0,k=_}finally{try{!w&&A.return&&A.return()}finally{if(I)throw k}}return E}(g,y);throw new TypeError("Invalid attempt to destructure non-iterable instance")},n=function(){function g(y,b){for(var x=0;x<b.length;x++){var E=b[x];E.enumerable=E.enumerable||!1,E.configurable=!0,"value"in E&&(E.writable=!0),Object.defineProperty(y,E.key,E)}}return function(y,b,x){return b&&g(y.prototype,b),x&&g(y,x),y}}(),r=function g(y,b,x){y===null&&(y=Function.prototype);var E=Object.getOwnPropertyDescriptor(y,b);if(E===void 0){var w=Object.getPrototypeOf(y);return w===null?void 0:g(w,b,x)}if("value"in E)return E.value;var I=E.get;return I!==void 0?I.call(x):void 0},s=a(t(2)),p=a(t(0)),d=a(t(4)),c=a(t(6)),u=a(t(7));function a(g){return g&&g.__esModule?g:{default:g}}function l(g,y){if(!(g instanceof y))throw new TypeError("Cannot call a class as a function")}function h(g,y){if(!g)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!y||typeof y!="object"&&typeof y!="function"?g:y}function f(g,y){if(typeof y!="function"&&y!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof y);g.prototype=Object.create(y&&y.prototype,{constructor:{value:g,enumerable:!1,writable:!0,configurable:!0}}),y&&(Object.setPrototypeOf?Object.setPrototypeOf(g,y):g.__proto__=y)}var m=function(g){function y(){return l(this,y),h(this,(y.__proto__||Object.getPrototypeOf(y)).apply(this,arguments))}return f(y,g),y}(c.default);m.blotName="code",m.tagName="CODE";var v=function(g){function y(){return l(this,y),h(this,(y.__proto__||Object.getPrototypeOf(y)).apply(this,arguments))}return f(y,g),n(y,[{key:"delta",value:function(){var b=this,x=this.domNode.textContent;return x.endsWith(`
`)&&(x=x.slice(0,-1)),x.split(`
`).reduce(function(E,w){return E.insert(w).insert(`
`,b.formats())},new s.default)}},{key:"format",value:function(b,x){if(b!==this.statics.blotName||!x){var E=this.descendant(u.default,this.length()-1),w=i(E,1)[0];w!=null&&w.deleteAt(w.length()-1,1),r(y.prototype.__proto__||Object.getPrototypeOf(y.prototype),"format",this).call(this,b,x)}}},{key:"formatAt",value:function(b,x,E,w){if(x!==0&&p.default.query(E,p.default.Scope.BLOCK)!=null&&(E!==this.statics.blotName||w!==this.statics.formats(this.domNode))){var I=this.newlineIndex(b);if(!(I<0||I>=b+x)){var k=this.newlineIndex(b,!0)+1,P=I-k+1,A=this.isolate(k,P),_=A.next;A.format(E,w),_ instanceof y&&_.formatAt(0,b-k+x-P,E,w)}}}},{key:"insertAt",value:function(b,x,E){if(E==null){var w=this.descendant(u.default,b),I=i(w,2),k=I[0],P=I[1];k.insertAt(P,x)}}},{key:"length",value:function(){var b=this.domNode.textContent.length;return this.domNode.textContent.endsWith(`
`)?b:b+1}},{key:"newlineIndex",value:function(b){var x=arguments.length>1&&arguments[1]!==void 0&&arguments[1];if(x)return this.domNode.textContent.slice(0,b).lastIndexOf(`
`);var E=this.domNode.textContent.slice(b).indexOf(`
`);return E>-1?b+E:-1}},{key:"optimize",value:function(b){this.domNode.textContent.endsWith(`
`)||this.appendChild(p.default.create("text",`
`)),r(y.prototype.__proto__||Object.getPrototypeOf(y.prototype),"optimize",this).call(this,b);var x=this.next;x!=null&&x.prev===this&&x.statics.blotName===this.statics.blotName&&this.statics.formats(this.domNode)===x.statics.formats(x.domNode)&&(x.optimize(b),x.moveChildren(this),x.remove())}},{key:"replace",value:function(b){r(y.prototype.__proto__||Object.getPrototypeOf(y.prototype),"replace",this).call(this,b),[].slice.call(this.domNode.querySelectorAll("*")).forEach(function(x){var E=p.default.find(x);E==null?x.parentNode.removeChild(x):E instanceof p.default.Embed?E.remove():E.unwrap()})}}],[{key:"create",value:function(b){var x=r(y.__proto__||Object.getPrototypeOf(y),"create",this).call(this,b);return x.setAttribute("spellcheck",!1),x}},{key:"formats",value:function(){return!0}}]),y}(d.default);v.blotName="code-block",v.tagName="PRE",v.TAB="  ",e.Code=m,e.default=v},function(o,e,t){Object.defineProperty(e,"__esModule",{value:!0});var i=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(E){return typeof E}:function(E){return E&&typeof Symbol=="function"&&E.constructor===Symbol&&E!==Symbol.prototype?"symbol":typeof E},n=function(E,w){if(Array.isArray(E))return E;if(Symbol.iterator in Object(E))return function(I,k){var P=[],A=!0,_=!1,O=void 0;try{for(var q,S=I[Symbol.iterator]();!(A=(q=S.next()).done)&&(P.push(q.value),!k||P.length!==k);A=!0);}catch(T){_=!0,O=T}finally{try{!A&&S.return&&S.return()}finally{if(_)throw O}}return P}(E,w);throw new TypeError("Invalid attempt to destructure non-iterable instance")},r=function(){function E(w,I){for(var k=0;k<I.length;k++){var P=I[k];P.enumerable=P.enumerable||!1,P.configurable=!0,"value"in P&&(P.writable=!0),Object.defineProperty(w,P.key,P)}}return function(w,I,k){return I&&E(w.prototype,I),k&&E(w,k),w}}(),s=g(t(2)),p=g(t(20)),d=g(t(0)),c=g(t(13)),u=g(t(24)),a=t(4),l=g(a),h=g(t(16)),f=g(t(21)),m=g(t(11)),v=g(t(3));function g(E){return E&&E.__esModule?E:{default:E}}var y=/^[ -~]*$/,b=function(){function E(w){(function(I,k){if(!(I instanceof k))throw new TypeError("Cannot call a class as a function")})(this,E),this.scroll=w,this.delta=this.getDelta()}return r(E,[{key:"applyDelta",value:function(w){var I=this,k=!1;this.scroll.update();var P=this.scroll.length();return this.scroll.batchStart(),(w=function(A){return A.reduce(function(_,O){if(O.insert===1){var q=(0,f.default)(O.attributes);return delete q.image,_.insert({image:O.attributes.image},q)}if(O.attributes==null||O.attributes.list!==!0&&O.attributes.bullet!==!0||((O=(0,f.default)(O)).attributes.list?O.attributes.list="ordered":(O.attributes.list="bullet",delete O.attributes.bullet)),typeof O.insert=="string"){var S=O.insert.replace(/\r\n/g,`
`).replace(/\r/g,`
`);return _.insert(S,O.attributes)}return _.push(O)},new s.default)}(w)).reduce(function(A,_){var O=_.retain||_.delete||_.insert.length||1,q=_.attributes||{};if(_.insert!=null){if(typeof _.insert=="string"){var S=_.insert;S.endsWith(`
`)&&k&&(k=!1,S=S.slice(0,-1)),A>=P&&!S.endsWith(`
`)&&(k=!0),I.scroll.insertAt(A,S);var T=I.scroll.line(A),C=n(T,2),L=C[0],B=C[1],Q=(0,v.default)({},(0,a.bubbleFormats)(L));if(L instanceof l.default){var oe=L.descendant(d.default.Leaf,B),xe=n(oe,1)[0];Q=(0,v.default)(Q,(0,a.bubbleFormats)(xe))}q=p.default.attributes.diff(Q,q)||{}}else if(i(_.insert)==="object"){var D=Object.keys(_.insert)[0];if(D==null)return A;I.scroll.insertAt(A,D,_.insert[D])}P+=O}return Object.keys(q).forEach(function(F){I.scroll.formatAt(A,O,F,q[F])}),A+O},0),w.reduce(function(A,_){return typeof _.delete=="number"?(I.scroll.deleteAt(A,_.delete),A):A+(_.retain||_.insert.length||1)},0),this.scroll.batchEnd(),this.update(w)}},{key:"deleteText",value:function(w,I){return this.scroll.deleteAt(w,I),this.update(new s.default().retain(w).delete(I))}},{key:"formatLine",value:function(w,I){var k=this,P=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return this.scroll.update(),Object.keys(P).forEach(function(A){if(k.scroll.whitelist==null||k.scroll.whitelist[A]){var _=k.scroll.lines(w,Math.max(I,1)),O=I;_.forEach(function(q){var S=q.length();if(q instanceof c.default){var T=w-q.offset(k.scroll),C=q.newlineIndex(T+O)-T+1;q.formatAt(T,C,A,P[A])}else q.format(A,P[A]);O-=S})}}),this.scroll.optimize(),this.update(new s.default().retain(w).retain(I,(0,f.default)(P)))}},{key:"formatText",value:function(w,I){var k=this,P=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return Object.keys(P).forEach(function(A){k.scroll.formatAt(w,I,A,P[A])}),this.update(new s.default().retain(w).retain(I,(0,f.default)(P)))}},{key:"getContents",value:function(w,I){return this.delta.slice(w,w+I)}},{key:"getDelta",value:function(){return this.scroll.lines().reduce(function(w,I){return w.concat(I.delta())},new s.default)}},{key:"getFormat",value:function(w){var I=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,k=[],P=[];I===0?this.scroll.path(w).forEach(function(_){var O=n(_,1)[0];O instanceof l.default?k.push(O):O instanceof d.default.Leaf&&P.push(O)}):(k=this.scroll.lines(w,I),P=this.scroll.descendants(d.default.Leaf,w,I));var A=[k,P].map(function(_){if(_.length===0)return{};for(var O=(0,a.bubbleFormats)(_.shift());Object.keys(O).length>0;){var q=_.shift();if(q==null)return O;O=x((0,a.bubbleFormats)(q),O)}return O});return v.default.apply(v.default,A)}},{key:"getText",value:function(w,I){return this.getContents(w,I).filter(function(k){return typeof k.insert=="string"}).map(function(k){return k.insert}).join("")}},{key:"insertEmbed",value:function(w,I,k){return this.scroll.insertAt(w,I,k),this.update(new s.default().retain(w).insert(function(P,A,_){return A in P?Object.defineProperty(P,A,{value:_,enumerable:!0,configurable:!0,writable:!0}):P[A]=_,P}({},I,k)))}},{key:"insertText",value:function(w,I){var k=this,P=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return I=I.replace(/\r\n/g,`
`).replace(/\r/g,`
`),this.scroll.insertAt(w,I),Object.keys(P).forEach(function(A){k.scroll.formatAt(w,I.length,A,P[A])}),this.update(new s.default().retain(w).insert(I,(0,f.default)(P)))}},{key:"isBlank",value:function(){if(this.scroll.children.length==0)return!0;if(this.scroll.children.length>1)return!1;var w=this.scroll.children.head;return w.statics.blotName===l.default.blotName&&!(w.children.length>1)&&w.children.head instanceof h.default}},{key:"removeFormat",value:function(w,I){var k=this.getText(w,I),P=this.scroll.line(w+I),A=n(P,2),_=A[0],O=A[1],q=0,S=new s.default;_!=null&&(q=_ instanceof c.default?_.newlineIndex(O)-O+1:_.length()-O,S=_.delta().slice(O,O+q-1).insert(`
`));var T=this.getContents(w,I+q).diff(new s.default().insert(k).concat(S)),C=new s.default().retain(w).concat(T);return this.applyDelta(C)}},{key:"update",value:function(w){var I=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],k=arguments.length>2&&arguments[2]!==void 0?arguments[2]:void 0,P=this.delta;if(I.length===1&&I[0].type==="characterData"&&I[0].target.data.match(y)&&d.default.find(I[0].target)){var A=d.default.find(I[0].target),_=(0,a.bubbleFormats)(A),O=A.offset(this.scroll),q=I[0].oldValue.replace(u.default.CONTENTS,""),S=new s.default().insert(q),T=new s.default().insert(A.value()),C=new s.default().retain(O).concat(S.diff(T,k));w=C.reduce(function(L,B){return B.insert?L.insert(B.insert,_):L.push(B)},new s.default),this.delta=P.compose(w)}else this.delta=this.getDelta(),w&&(0,m.default)(P.compose(w),this.delta)||(w=P.diff(this.delta,k));return w}}]),E}();function x(E,w){return Object.keys(w).reduce(function(I,k){return E[k]==null||(w[k]===E[k]?I[k]=w[k]:Array.isArray(w[k])?w[k].indexOf(E[k])<0&&(I[k]=w[k].concat([E[k]])):I[k]=[w[k],E[k]]),I},{})}e.default=b},function(o,e,t){Object.defineProperty(e,"__esModule",{value:!0}),e.default=e.Range=void 0;var i=function(v,g){if(Array.isArray(v))return v;if(Symbol.iterator in Object(v))return function(y,b){var x=[],E=!0,w=!1,I=void 0;try{for(var k,P=y[Symbol.iterator]();!(E=(k=P.next()).done)&&(x.push(k.value),!b||x.length!==b);E=!0);}catch(A){w=!0,I=A}finally{try{!E&&P.return&&P.return()}finally{if(w)throw I}}return x}(v,g);throw new TypeError("Invalid attempt to destructure non-iterable instance")},n=function(){function v(g,y){for(var b=0;b<y.length;b++){var x=y[b];x.enumerable=x.enumerable||!1,x.configurable=!0,"value"in x&&(x.writable=!0),Object.defineProperty(g,x.key,x)}}return function(g,y,b){return y&&v(g.prototype,y),b&&v(g,b),g}}(),r=c(t(0)),s=c(t(21)),p=c(t(11)),d=c(t(8));function c(v){return v&&v.__esModule?v:{default:v}}function u(v){if(Array.isArray(v)){for(var g=0,y=Array(v.length);g<v.length;g++)y[g]=v[g];return y}return Array.from(v)}function a(v,g){if(!(v instanceof g))throw new TypeError("Cannot call a class as a function")}var l=(0,c(t(10)).default)("quill:selection"),h=function v(g){var y=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;a(this,v),this.index=g,this.length=y},f=function(){function v(g,y){var b=this;a(this,v),this.emitter=y,this.scroll=g,this.composing=!1,this.mouseDown=!1,this.root=this.scroll.domNode,this.cursor=r.default.create("cursor",this),this.lastRange=this.savedRange=new h(0,0),this.handleComposition(),this.handleDragging(),this.emitter.listenDOM("selectionchange",document,function(){b.mouseDown||setTimeout(b.update.bind(b,d.default.sources.USER),1)}),this.emitter.on(d.default.events.EDITOR_CHANGE,function(x,E){x===d.default.events.TEXT_CHANGE&&E.length()>0&&b.update(d.default.sources.SILENT)}),this.emitter.on(d.default.events.SCROLL_BEFORE_UPDATE,function(){if(b.hasFocus()){var x=b.getNativeRange();x!=null&&x.start.node!==b.cursor.textNode&&b.emitter.once(d.default.events.SCROLL_UPDATE,function(){try{b.setNativeRange(x.start.node,x.start.offset,x.end.node,x.end.offset)}catch{}})}}),this.emitter.on(d.default.events.SCROLL_OPTIMIZE,function(x,E){if(E.range){var w=E.range,I=w.startNode,k=w.startOffset,P=w.endNode,A=w.endOffset;b.setNativeRange(I,k,P,A)}}),this.update(d.default.sources.SILENT)}return n(v,[{key:"handleComposition",value:function(){var g=this;this.root.addEventListener("compositionstart",function(){g.composing=!0}),this.root.addEventListener("compositionend",function(){if(g.composing=!1,g.cursor.parent){var y=g.cursor.restore();if(!y)return;setTimeout(function(){g.setNativeRange(y.startNode,y.startOffset,y.endNode,y.endOffset)},1)}})}},{key:"handleDragging",value:function(){var g=this;this.emitter.listenDOM("mousedown",document.body,function(){g.mouseDown=!0}),this.emitter.listenDOM("mouseup",document.body,function(){g.mouseDown=!1,g.update(d.default.sources.USER)})}},{key:"focus",value:function(){this.hasFocus()||(this.root.focus(),this.setRange(this.savedRange))}},{key:"format",value:function(g,y){if(this.scroll.whitelist==null||this.scroll.whitelist[g]){this.scroll.update();var b=this.getNativeRange();if(b!=null&&b.native.collapsed&&!r.default.query(g,r.default.Scope.BLOCK)){if(b.start.node!==this.cursor.textNode){var x=r.default.find(b.start.node,!1);if(x==null)return;if(x instanceof r.default.Leaf){var E=x.split(b.start.offset);x.parent.insertBefore(this.cursor,E)}else x.insertBefore(this.cursor,b.start.node);this.cursor.attach()}this.cursor.format(g,y),this.scroll.optimize(),this.setNativeRange(this.cursor.textNode,this.cursor.textNode.data.length),this.update()}}}},{key:"getBounds",value:function(g){var y=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,b=this.scroll.length();g=Math.min(g,b-1),y=Math.min(g+y,b-1)-g;var x=void 0,E=this.scroll.leaf(g),w=i(E,2),I=w[0],k=w[1];if(I==null)return null;var P=I.position(k,!0),A=i(P,2);x=A[0],k=A[1];var _=document.createRange();if(y>0){_.setStart(x,k);var O=this.scroll.leaf(g+y),q=i(O,2);if(I=q[0],k=q[1],I==null)return null;var S=I.position(k,!0),T=i(S,2);return x=T[0],k=T[1],_.setEnd(x,k),_.getBoundingClientRect()}var C="left",L=void 0;return x instanceof Text?(k<x.data.length?(_.setStart(x,k),_.setEnd(x,k+1)):(_.setStart(x,k-1),_.setEnd(x,k),C="right"),L=_.getBoundingClientRect()):(L=I.domNode.getBoundingClientRect(),k>0&&(C="right")),{bottom:L.top+L.height,height:L.height,left:L[C],right:L[C],top:L.top,width:0}}},{key:"getNativeRange",value:function(){var g=document.getSelection();if(g==null||g.rangeCount<=0)return null;var y=g.getRangeAt(0);if(y==null)return null;var b=this.normalizeNative(y);return l.info("getNativeRange",b),b}},{key:"getRange",value:function(){var g=this.getNativeRange();return g==null?[null,null]:[this.normalizedToRange(g),g]}},{key:"hasFocus",value:function(){return document.activeElement===this.root}},{key:"normalizedToRange",value:function(g){var y=this,b=[[g.start.node,g.start.offset]];g.native.collapsed||b.push([g.end.node,g.end.offset]);var x=b.map(function(I){var k=i(I,2),P=k[0],A=k[1],_=r.default.find(P,!0),O=_.offset(y.scroll);return A===0?O:_ instanceof r.default.Container?O+_.length():O+_.index(P,A)}),E=Math.min(Math.max.apply(Math,u(x)),this.scroll.length()-1),w=Math.min.apply(Math,[E].concat(u(x)));return new h(w,E-w)}},{key:"normalizeNative",value:function(g){if(!m(this.root,g.startContainer)||!g.collapsed&&!m(this.root,g.endContainer))return null;var y={start:{node:g.startContainer,offset:g.startOffset},end:{node:g.endContainer,offset:g.endOffset},native:g};return[y.start,y.end].forEach(function(b){for(var x=b.node,E=b.offset;!(x instanceof Text)&&x.childNodes.length>0;)if(x.childNodes.length>E)x=x.childNodes[E],E=0;else{if(x.childNodes.length!==E)break;E=(x=x.lastChild)instanceof Text?x.data.length:x.childNodes.length+1}b.node=x,b.offset=E}),y}},{key:"rangeToNative",value:function(g){var y=this,b=g.collapsed?[g.index]:[g.index,g.index+g.length],x=[],E=this.scroll.length();return b.forEach(function(w,I){w=Math.min(E-1,w);var k,P=y.scroll.leaf(w),A=i(P,2),_=A[0],O=A[1],q=_.position(O,I!==0),S=i(q,2);k=S[0],O=S[1],x.push(k,O)}),x.length<2&&(x=x.concat(x)),x}},{key:"scrollIntoView",value:function(g){var y=this.lastRange;if(y!=null){var b=this.getBounds(y.index,y.length);if(b!=null){var x=this.scroll.length()-1,E=this.scroll.line(Math.min(y.index,x)),w=i(E,1)[0],I=w;if(y.length>0){var k=this.scroll.line(Math.min(y.index+y.length,x));I=i(k,1)[0]}if(w!=null&&I!=null){var P=g.getBoundingClientRect();b.top<P.top?g.scrollTop-=P.top-b.top:b.bottom>P.bottom&&(g.scrollTop+=b.bottom-P.bottom)}}}}},{key:"setNativeRange",value:function(g,y){var b=arguments.length>2&&arguments[2]!==void 0?arguments[2]:g,x=arguments.length>3&&arguments[3]!==void 0?arguments[3]:y,E=arguments.length>4&&arguments[4]!==void 0&&arguments[4];if(l.info("setNativeRange",g,y,b,x),g==null||this.root.parentNode!=null&&g.parentNode!=null&&b.parentNode!=null){var w=document.getSelection();if(w!=null)if(g!=null){this.hasFocus()||this.root.focus();var I=(this.getNativeRange()||{}).native;if(I==null||E||g!==I.startContainer||y!==I.startOffset||b!==I.endContainer||x!==I.endOffset){g.tagName=="BR"&&(y=[].indexOf.call(g.parentNode.childNodes,g),g=g.parentNode),b.tagName=="BR"&&(x=[].indexOf.call(b.parentNode.childNodes,b),b=b.parentNode);var k=document.createRange();k.setStart(g,y),k.setEnd(b,x),w.removeAllRanges(),w.addRange(k)}}else w.removeAllRanges(),this.root.blur(),document.body.focus()}}},{key:"setRange",value:function(g){var y=arguments.length>1&&arguments[1]!==void 0&&arguments[1],b=arguments.length>2&&arguments[2]!==void 0?arguments[2]:d.default.sources.API;if(typeof y=="string"&&(b=y,y=!1),l.info("setRange",g),g!=null){var x=this.rangeToNative(g);this.setNativeRange.apply(this,u(x).concat([y]))}else this.setNativeRange(null);this.update(b)}},{key:"update",value:function(){var g=arguments.length>0&&arguments[0]!==void 0?arguments[0]:d.default.sources.USER,y=this.lastRange,b=this.getRange(),x=i(b,2),E=x[0],w=x[1];if(this.lastRange=E,this.lastRange!=null&&(this.savedRange=this.lastRange),!(0,p.default)(y,this.lastRange)){var I;!this.composing&&w!=null&&w.native.collapsed&&w.start.node!==this.cursor.textNode&&this.cursor.restore();var k,P=[d.default.events.SELECTION_CHANGE,(0,s.default)(this.lastRange),(0,s.default)(y),g];(I=this.emitter).emit.apply(I,[d.default.events.EDITOR_CHANGE].concat(P)),g!==d.default.sources.SILENT&&(k=this.emitter).emit.apply(k,P)}}}]),v}();function m(v,g){try{g.parentNode}catch{return!1}return g instanceof Text&&(g=g.parentNode),v.contains(g)}e.Range=h,e.default=f},function(o,e,t){Object.defineProperty(e,"__esModule",{value:!0});var i,n=function(){function u(a,l){for(var h=0;h<l.length;h++){var f=l[h];f.enumerable=f.enumerable||!1,f.configurable=!0,"value"in f&&(f.writable=!0),Object.defineProperty(a,f.key,f)}}return function(a,l,h){return l&&u(a.prototype,l),h&&u(a,h),a}}(),r=function u(a,l,h){a===null&&(a=Function.prototype);var f=Object.getOwnPropertyDescriptor(a,l);if(f===void 0){var m=Object.getPrototypeOf(a);return m===null?void 0:u(m,l,h)}if("value"in f)return f.value;var v=f.get;return v!==void 0?v.call(h):void 0},s=t(0);function p(u,a){if(!(u instanceof a))throw new TypeError("Cannot call a class as a function")}function d(u,a){if(!u)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!a||typeof a!="object"&&typeof a!="function"?u:a}var c=function(u){function a(){return p(this,a),d(this,(a.__proto__||Object.getPrototypeOf(a)).apply(this,arguments))}return function(l,h){if(typeof h!="function"&&h!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof h);l.prototype=Object.create(h&&h.prototype,{constructor:{value:l,enumerable:!1,writable:!0,configurable:!0}}),h&&(Object.setPrototypeOf?Object.setPrototypeOf(l,h):l.__proto__=h)}(a,u),n(a,[{key:"insertInto",value:function(l,h){l.children.length===0?r(a.prototype.__proto__||Object.getPrototypeOf(a.prototype),"insertInto",this).call(this,l,h):this.remove()}},{key:"length",value:function(){return 0}},{key:"value",value:function(){return""}}],[{key:"value",value:function(){}}]),a}(((i=s)&&i.__esModule?i:{default:i}).default.Embed);c.blotName="break",c.tagName="BR",e.default=c},function(o,e,t){var i,n=this&&this.__extends||(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(u,a){u.__proto__=a}||function(u,a){for(var l in a)a.hasOwnProperty(l)&&(u[l]=a[l])},function(u,a){function l(){this.constructor=u}i(u,a),u.prototype=a===null?Object.create(a):(l.prototype=a.prototype,new l)});Object.defineProperty(e,"__esModule",{value:!0});var r=t(44),s=t(30),p=t(1),d=function(u){function a(l){var h=u.call(this,l)||this;return h.build(),h}return n(a,u),a.prototype.appendChild=function(l){this.insertBefore(l)},a.prototype.attach=function(){u.prototype.attach.call(this),this.children.forEach(function(l){l.attach()})},a.prototype.build=function(){var l=this;this.children=new r.default,[].slice.call(this.domNode.childNodes).reverse().forEach(function(h){try{var f=c(h);l.insertBefore(f,l.children.head||void 0)}catch(m){if(m instanceof p.ParchmentError)return;throw m}})},a.prototype.deleteAt=function(l,h){if(l===0&&h===this.length())return this.remove();this.children.forEachAt(l,h,function(f,m,v){f.deleteAt(m,v)})},a.prototype.descendant=function(l,h){var f=this.children.find(h),m=f[0],v=f[1];return l.blotName==null&&l(m)||l.blotName!=null&&m instanceof l?[m,v]:m instanceof a?m.descendant(l,v):[null,-1]},a.prototype.descendants=function(l,h,f){h===void 0&&(h=0),f===void 0&&(f=Number.MAX_VALUE);var m=[],v=f;return this.children.forEachAt(h,f,function(g,y,b){(l.blotName==null&&l(g)||l.blotName!=null&&g instanceof l)&&m.push(g),g instanceof a&&(m=m.concat(g.descendants(l,y,v))),v-=b}),m},a.prototype.detach=function(){this.children.forEach(function(l){l.detach()}),u.prototype.detach.call(this)},a.prototype.formatAt=function(l,h,f,m){this.children.forEachAt(l,h,function(v,g,y){v.formatAt(g,y,f,m)})},a.prototype.insertAt=function(l,h,f){var m=this.children.find(l),v=m[0],g=m[1];if(v)v.insertAt(g,h,f);else{var y=f==null?p.create("text",h):p.create(h,f);this.appendChild(y)}},a.prototype.insertBefore=function(l,h){if(this.statics.allowedChildren!=null&&!this.statics.allowedChildren.some(function(f){return l instanceof f}))throw new p.ParchmentError("Cannot insert "+l.statics.blotName+" into "+this.statics.blotName);l.insertInto(this,h)},a.prototype.length=function(){return this.children.reduce(function(l,h){return l+h.length()},0)},a.prototype.moveChildren=function(l,h){this.children.forEach(function(f){l.insertBefore(f,h)})},a.prototype.optimize=function(l){if(u.prototype.optimize.call(this,l),this.children.length===0)if(this.statics.defaultChild!=null){var h=p.create(this.statics.defaultChild);this.appendChild(h),h.optimize(l)}else this.remove()},a.prototype.path=function(l,h){h===void 0&&(h=!1);var f=this.children.find(l,h),m=f[0],v=f[1],g=[[this,l]];return m instanceof a?g.concat(m.path(v,h)):(m!=null&&g.push([m,v]),g)},a.prototype.removeChild=function(l){this.children.remove(l)},a.prototype.replace=function(l){l instanceof a&&l.moveChildren(this),u.prototype.replace.call(this,l)},a.prototype.split=function(l,h){if(h===void 0&&(h=!1),!h){if(l===0)return this;if(l===this.length())return this.next}var f=this.clone();return this.parent.insertBefore(f,this.next),this.children.forEachAt(l,this.length(),function(m,v,g){m=m.split(v,h),f.appendChild(m)}),f},a.prototype.unwrap=function(){this.moveChildren(this.parent,this.next),this.remove()},a.prototype.update=function(l,h){var f=this,m=[],v=[];l.forEach(function(g){g.target===f.domNode&&g.type==="childList"&&(m.push.apply(m,g.addedNodes),v.push.apply(v,g.removedNodes))}),v.forEach(function(g){if(!(g.parentNode!=null&&g.tagName!=="IFRAME"&&document.body.compareDocumentPosition(g)&Node.DOCUMENT_POSITION_CONTAINED_BY)){var y=p.find(g);y!=null&&(y.domNode.parentNode!=null&&y.domNode.parentNode!==f.domNode||y.detach())}}),m.filter(function(g){return g.parentNode==f.domNode}).sort(function(g,y){return g===y?0:g.compareDocumentPosition(y)&Node.DOCUMENT_POSITION_FOLLOWING?1:-1}).forEach(function(g){var y=null;g.nextSibling!=null&&(y=p.find(g.nextSibling));var b=c(g);b.next==y&&b.next!=null||(b.parent!=null&&b.parent.removeChild(f),f.insertBefore(b,y||void 0))})},a}(s.default);function c(u){var a=p.find(u);if(a==null)try{a=p.create(u)}catch{a=p.create(p.Scope.INLINE),[].slice.call(u.childNodes).forEach(function(h){a.domNode.appendChild(h)}),u.parentNode&&u.parentNode.replaceChild(a.domNode,u),a.attach()}return a}e.default=d},function(o,e,t){var i,n=this&&this.__extends||(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(u,a){u.__proto__=a}||function(u,a){for(var l in a)a.hasOwnProperty(l)&&(u[l]=a[l])},function(u,a){function l(){this.constructor=u}i(u,a),u.prototype=a===null?Object.create(a):(l.prototype=a.prototype,new l)});Object.defineProperty(e,"__esModule",{value:!0});var r=t(12),s=t(31),p=t(17),d=t(1),c=function(u){function a(l){var h=u.call(this,l)||this;return h.attributes=new s.default(h.domNode),h}return n(a,u),a.formats=function(l){return typeof this.tagName=="string"||(Array.isArray(this.tagName)?l.tagName.toLowerCase():void 0)},a.prototype.format=function(l,h){var f=d.query(l);f instanceof r.default?this.attributes.attribute(f,h):h&&(f==null||l===this.statics.blotName&&this.formats()[l]===h||this.replaceWith(l,h))},a.prototype.formats=function(){var l=this.attributes.values(),h=this.statics.formats(this.domNode);return h!=null&&(l[this.statics.blotName]=h),l},a.prototype.replaceWith=function(l,h){var f=u.prototype.replaceWith.call(this,l,h);return this.attributes.copy(f),f},a.prototype.update=function(l,h){var f=this;u.prototype.update.call(this,l,h),l.some(function(m){return m.target===f.domNode&&m.type==="attributes"})&&this.attributes.build()},a.prototype.wrap=function(l,h){var f=u.prototype.wrap.call(this,l,h);return f instanceof a&&f.statics.scope===this.statics.scope&&this.attributes.move(f),f},a}(p.default);e.default=c},function(o,e,t){var i,n=this&&this.__extends||(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d,c){d.__proto__=c}||function(d,c){for(var u in c)c.hasOwnProperty(u)&&(d[u]=c[u])},function(d,c){function u(){this.constructor=d}i(d,c),d.prototype=c===null?Object.create(c):(u.prototype=c.prototype,new u)});Object.defineProperty(e,"__esModule",{value:!0});var r=t(30),s=t(1),p=function(d){function c(){return d!==null&&d.apply(this,arguments)||this}return n(c,d),c.value=function(u){return!0},c.prototype.index=function(u,a){return this.domNode===u||this.domNode.compareDocumentPosition(u)&Node.DOCUMENT_POSITION_CONTAINED_BY?Math.min(a,1):-1},c.prototype.position=function(u,a){var l=[].indexOf.call(this.parent.domNode.childNodes,this.domNode);return u>0&&(l+=1),[this.parent.domNode,l]},c.prototype.value=function(){var u;return(u={})[this.statics.blotName]=this.statics.value(this.domNode)||!0,u},c.scope=s.Scope.INLINE_BLOT,c}(r.default);e.default=p},function(o,e,t){var i=t(11),n=t(3),r={attributes:{compose:function(p,d,c){typeof p!="object"&&(p={}),typeof d!="object"&&(d={});var u=n(!0,{},d);for(var a in c||(u=Object.keys(u).reduce(function(l,h){return u[h]!=null&&(l[h]=u[h]),l},{})),p)p[a]!==void 0&&d[a]===void 0&&(u[a]=p[a]);return Object.keys(u).length>0?u:void 0},diff:function(p,d){typeof p!="object"&&(p={}),typeof d!="object"&&(d={});var c=Object.keys(p).concat(Object.keys(d)).reduce(function(u,a){return i(p[a],d[a])||(u[a]=d[a]===void 0?null:d[a]),u},{});return Object.keys(c).length>0?c:void 0},transform:function(p,d,c){if(typeof p!="object")return d;if(typeof d=="object"){if(!c)return d;var u=Object.keys(d).reduce(function(a,l){return p[l]===void 0&&(a[l]=d[l]),a},{});return Object.keys(u).length>0?u:void 0}}},iterator:function(p){return new s(p)},length:function(p){return typeof p.delete=="number"?p.delete:typeof p.retain=="number"?p.retain:typeof p.insert=="string"?p.insert.length:1}};function s(p){this.ops=p,this.index=0,this.offset=0}s.prototype.hasNext=function(){return this.peekLength()<1/0},s.prototype.next=function(p){p||(p=1/0);var d=this.ops[this.index];if(d){var c=this.offset,u=r.length(d);if(p>=u-c?(p=u-c,this.index+=1,this.offset=0):this.offset+=p,typeof d.delete=="number")return{delete:p};var a={};return d.attributes&&(a.attributes=d.attributes),typeof d.retain=="number"?a.retain=p:typeof d.insert=="string"?a.insert=d.insert.substr(c,p):a.insert=d.insert,a}return{retain:1/0}},s.prototype.peek=function(){return this.ops[this.index]},s.prototype.peekLength=function(){return this.ops[this.index]?r.length(this.ops[this.index])-this.offset:1/0},s.prototype.peekType=function(){return this.ops[this.index]?typeof this.ops[this.index].delete=="number"?"delete":typeof this.ops[this.index].retain=="number"?"retain":"insert":"retain"},s.prototype.rest=function(){if(this.hasNext()){if(this.offset===0)return this.ops.slice(this.index);var p=this.offset,d=this.index,c=this.next(),u=this.ops.slice(this.index);return this.offset=p,this.index=d,[c].concat(u)}return[]},o.exports=r},function(o,e){var t=function(){function i(u,a){return a!=null&&u instanceof a}var n,r,s;try{n=Map}catch{n=function(){}}try{r=Set}catch{r=function(){}}try{s=Promise}catch{s=function(){}}function p(u,a,l,h,f){typeof a=="object"&&(l=a.depth,h=a.prototype,f=a.includeNonEnumerable,a=a.circular);var m=[],v=[],g=typeof Buffer!="undefined";return a===void 0&&(a=!0),l===void 0&&(l=1/0),function y(b,x){if(b===null)return null;if(x===0)return b;var E,w;if(typeof b!="object")return b;if(i(b,n))E=new n;else if(i(b,r))E=new r;else if(i(b,s))E=new s(function(T,C){b.then(function(L){T(y(L,x-1))},function(L){C(y(L,x-1))})});else if(p.__isArray(b))E=[];else if(p.__isRegExp(b))E=new RegExp(b.source,c(b)),b.lastIndex&&(E.lastIndex=b.lastIndex);else if(p.__isDate(b))E=new Date(b.getTime());else{if(g&&Buffer.isBuffer(b))return E=Buffer.allocUnsafe?Buffer.allocUnsafe(b.length):new Buffer(b.length),b.copy(E),E;i(b,Error)?E=Object.create(b):h===void 0?(w=Object.getPrototypeOf(b),E=Object.create(w)):(E=Object.create(h),w=h)}if(a){var I=m.indexOf(b);if(I!=-1)return v[I];m.push(b),v.push(E)}for(var k in i(b,n)&&b.forEach(function(T,C){var L=y(C,x-1),B=y(T,x-1);E.set(L,B)}),i(b,r)&&b.forEach(function(T){var C=y(T,x-1);E.add(C)}),b){var P;w&&(P=Object.getOwnPropertyDescriptor(w,k)),P&&P.set==null||(E[k]=y(b[k],x-1))}if(Object.getOwnPropertySymbols){var A=Object.getOwnPropertySymbols(b);for(k=0;k<A.length;k++){var _=A[k];(!(q=Object.getOwnPropertyDescriptor(b,_))||q.enumerable||f)&&(E[_]=y(b[_],x-1),q.enumerable||Object.defineProperty(E,_,{enumerable:!1}))}}if(f){var O=Object.getOwnPropertyNames(b);for(k=0;k<O.length;k++){var q,S=O[k];(q=Object.getOwnPropertyDescriptor(b,S))&&q.enumerable||(E[S]=y(b[S],x-1),Object.defineProperty(E,S,{enumerable:!1}))}}return E}(u,l)}function d(u){return Object.prototype.toString.call(u)}function c(u){var a="";return u.global&&(a+="g"),u.ignoreCase&&(a+="i"),u.multiline&&(a+="m"),a}return p.clonePrototype=function(u){if(u===null)return null;var a=function(){};return a.prototype=u,new a},p.__objToStr=d,p.__isDate=function(u){return typeof u=="object"&&d(u)==="[object Date]"},p.__isArray=function(u){return typeof u=="object"&&d(u)==="[object Array]"},p.__isRegExp=function(u){return typeof u=="object"&&d(u)==="[object RegExp]"},p.__getRegExpFlags=c,p}();typeof o=="object"&&o.exports&&(o.exports=t)},function(o,e,t){Object.defineProperty(e,"__esModule",{value:!0});var i=function(v,g){if(Array.isArray(v))return v;if(Symbol.iterator in Object(v))return function(y,b){var x=[],E=!0,w=!1,I=void 0;try{for(var k,P=y[Symbol.iterator]();!(E=(k=P.next()).done)&&(x.push(k.value),!b||x.length!==b);E=!0);}catch(A){w=!0,I=A}finally{try{!E&&P.return&&P.return()}finally{if(w)throw I}}return x}(v,g);throw new TypeError("Invalid attempt to destructure non-iterable instance")},n=function(){function v(g,y){for(var b=0;b<y.length;b++){var x=y[b];x.enumerable=x.enumerable||!1,x.configurable=!0,"value"in x&&(x.writable=!0),Object.defineProperty(g,x.key,x)}}return function(g,y,b){return y&&v(g.prototype,y),b&&v(g,b),g}}(),r=function v(g,y,b){g===null&&(g=Function.prototype);var x=Object.getOwnPropertyDescriptor(g,y);if(x===void 0){var E=Object.getPrototypeOf(g);return E===null?void 0:v(E,y,b)}if("value"in x)return x.value;var w=x.get;return w!==void 0?w.call(b):void 0},s=h(t(0)),p=h(t(8)),d=t(4),c=h(d),u=h(t(16)),a=h(t(13)),l=h(t(25));function h(v){return v&&v.__esModule?v:{default:v}}function f(v){return v instanceof c.default||v instanceof d.BlockEmbed}var m=function(v){function g(y,b){(function(E,w){if(!(E instanceof w))throw new TypeError("Cannot call a class as a function")})(this,g);var x=function(E,w){if(!E)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!w||typeof w!="object"&&typeof w!="function"?E:w}(this,(g.__proto__||Object.getPrototypeOf(g)).call(this,y));return x.emitter=b.emitter,Array.isArray(b.whitelist)&&(x.whitelist=b.whitelist.reduce(function(E,w){return E[w]=!0,E},{})),x.domNode.addEventListener("DOMNodeInserted",function(){}),x.optimize(),x.enable(),x}return function(y,b){if(typeof b!="function"&&b!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof b);y.prototype=Object.create(b&&b.prototype,{constructor:{value:y,enumerable:!1,writable:!0,configurable:!0}}),b&&(Object.setPrototypeOf?Object.setPrototypeOf(y,b):y.__proto__=b)}(g,v),n(g,[{key:"batchStart",value:function(){this.batch=!0}},{key:"batchEnd",value:function(){this.batch=!1,this.optimize()}},{key:"deleteAt",value:function(y,b){var x=this.line(y),E=i(x,2),w=E[0],I=E[1],k=this.line(y+b),P=i(k,1)[0];if(r(g.prototype.__proto__||Object.getPrototypeOf(g.prototype),"deleteAt",this).call(this,y,b),P!=null&&w!==P&&I>0){if(w instanceof d.BlockEmbed||P instanceof d.BlockEmbed)return void this.optimize();if(w instanceof a.default){var A=w.newlineIndex(w.length(),!0);if(A>-1&&(w=w.split(A+1))===P)return void this.optimize()}else if(P instanceof a.default){var _=P.newlineIndex(0);_>-1&&P.split(_+1)}var O=P.children.head instanceof u.default?null:P.children.head;w.moveChildren(P,O),w.remove()}this.optimize()}},{key:"enable",value:function(){var y=!(arguments.length>0&&arguments[0]!==void 0)||arguments[0];this.domNode.setAttribute("contenteditable",y)}},{key:"formatAt",value:function(y,b,x,E){(this.whitelist==null||this.whitelist[x])&&(r(g.prototype.__proto__||Object.getPrototypeOf(g.prototype),"formatAt",this).call(this,y,b,x,E),this.optimize())}},{key:"insertAt",value:function(y,b,x){if(x==null||this.whitelist==null||this.whitelist[b]){if(y>=this.length())if(x==null||s.default.query(b,s.default.Scope.BLOCK)==null){var E=s.default.create(this.statics.defaultChild);this.appendChild(E),x==null&&b.endsWith(`
`)&&(b=b.slice(0,-1)),E.insertAt(0,b,x)}else{var w=s.default.create(b,x);this.appendChild(w)}else r(g.prototype.__proto__||Object.getPrototypeOf(g.prototype),"insertAt",this).call(this,y,b,x);this.optimize()}}},{key:"insertBefore",value:function(y,b){if(y.statics.scope===s.default.Scope.INLINE_BLOT){var x=s.default.create(this.statics.defaultChild);x.appendChild(y),y=x}r(g.prototype.__proto__||Object.getPrototypeOf(g.prototype),"insertBefore",this).call(this,y,b)}},{key:"leaf",value:function(y){return this.path(y).pop()||[null,-1]}},{key:"line",value:function(y){return y===this.length()?this.line(y-1):this.descendant(f,y)}},{key:"lines",value:function(){var y=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,b=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Number.MAX_VALUE,x=function E(w,I,k){var P=[],A=k;return w.children.forEachAt(I,k,function(_,O,q){f(_)?P.push(_):_ instanceof s.default.Container&&(P=P.concat(E(_,O,A))),A-=q}),P};return x(this,y,b)}},{key:"optimize",value:function(){var y=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],b=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};this.batch!==!0&&(r(g.prototype.__proto__||Object.getPrototypeOf(g.prototype),"optimize",this).call(this,y,b),y.length>0&&this.emitter.emit(p.default.events.SCROLL_OPTIMIZE,y,b))}},{key:"path",value:function(y){return r(g.prototype.__proto__||Object.getPrototypeOf(g.prototype),"path",this).call(this,y).slice(1)}},{key:"update",value:function(y){if(this.batch!==!0){var b=p.default.sources.USER;typeof y=="string"&&(b=y),Array.isArray(y)||(y=this.observer.takeRecords()),y.length>0&&this.emitter.emit(p.default.events.SCROLL_BEFORE_UPDATE,b,y),r(g.prototype.__proto__||Object.getPrototypeOf(g.prototype),"update",this).call(this,y.concat([])),y.length>0&&this.emitter.emit(p.default.events.SCROLL_UPDATE,b,y)}}}]),g}(s.default.Scroll);m.blotName="scroll",m.className="ql-editor",m.tagName="DIV",m.defaultChild="block",m.allowedChildren=[c.default,d.BlockEmbed,l.default],e.default=m},function(o,e,t){Object.defineProperty(e,"__esModule",{value:!0}),e.SHORTKEY=e.default=void 0;var i=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(O){return typeof O}:function(O){return O&&typeof Symbol=="function"&&O.constructor===Symbol&&O!==Symbol.prototype?"symbol":typeof O},n=function(O,q){if(Array.isArray(O))return O;if(Symbol.iterator in Object(O))return function(S,T){var C=[],L=!0,B=!1,Q=void 0;try{for(var oe,xe=S[Symbol.iterator]();!(L=(oe=xe.next()).done)&&(C.push(oe.value),!T||C.length!==T);L=!0);}catch(D){B=!0,Q=D}finally{try{!L&&xe.return&&xe.return()}finally{if(B)throw Q}}return C}(O,q);throw new TypeError("Invalid attempt to destructure non-iterable instance")},r=function(){function O(q,S){for(var T=0;T<S.length;T++){var C=S[T];C.enumerable=C.enumerable||!1,C.configurable=!0,"value"in C&&(C.writable=!0),Object.defineProperty(q,C.key,C)}}return function(q,S,T){return S&&O(q.prototype,S),T&&O(q,T),q}}(),s=m(t(21)),p=m(t(11)),d=m(t(3)),c=m(t(2)),u=m(t(20)),a=m(t(0)),l=m(t(5)),h=m(t(10)),f=m(t(9));function m(O){return O&&O.__esModule?O:{default:O}}function v(O,q,S){return q in O?Object.defineProperty(O,q,{value:S,enumerable:!0,configurable:!0,writable:!0}):O[q]=S,O}var g=(0,h.default)("quill:keyboard"),y=/Mac/i.test(navigator.platform)?"metaKey":"ctrlKey",b=function(O){function q(S,T){(function(L,B){if(!(L instanceof B))throw new TypeError("Cannot call a class as a function")})(this,q);var C=function(L,B){if(!L)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!B||typeof B!="object"&&typeof B!="function"?L:B}(this,(q.__proto__||Object.getPrototypeOf(q)).call(this,S,T));return C.bindings={},Object.keys(C.options.bindings).forEach(function(L){(L!=="list autofill"||S.scroll.whitelist==null||S.scroll.whitelist.list)&&C.options.bindings[L]&&C.addBinding(C.options.bindings[L])}),C.addBinding({key:q.keys.ENTER,shiftKey:null},k),C.addBinding({key:q.keys.ENTER,metaKey:null,ctrlKey:null,altKey:null},function(){}),/Firefox/i.test(navigator.userAgent)?(C.addBinding({key:q.keys.BACKSPACE},{collapsed:!0},E),C.addBinding({key:q.keys.DELETE},{collapsed:!0},w)):(C.addBinding({key:q.keys.BACKSPACE},{collapsed:!0,prefix:/^.?$/},E),C.addBinding({key:q.keys.DELETE},{collapsed:!0,suffix:/^.?$/},w)),C.addBinding({key:q.keys.BACKSPACE},{collapsed:!1},I),C.addBinding({key:q.keys.DELETE},{collapsed:!1},I),C.addBinding({key:q.keys.BACKSPACE,altKey:null,ctrlKey:null,metaKey:null,shiftKey:null},{collapsed:!0,offset:0},E),C.listen(),C}return function(S,T){if(typeof T!="function"&&T!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof T);S.prototype=Object.create(T&&T.prototype,{constructor:{value:S,enumerable:!1,writable:!0,configurable:!0}}),T&&(Object.setPrototypeOf?Object.setPrototypeOf(S,T):S.__proto__=T)}(q,O),r(q,null,[{key:"match",value:function(S,T){return T=_(T),!["altKey","ctrlKey","metaKey","shiftKey"].some(function(C){return!!T[C]!==S[C]&&T[C]!==null})&&T.key===(S.which||S.keyCode)}}]),r(q,[{key:"addBinding",value:function(S){var T=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},C=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},L=_(S);if(L==null||L.key==null)return g.warn("Attempted to add invalid keyboard binding",L);typeof T=="function"&&(T={handler:T}),typeof C=="function"&&(C={handler:C}),L=(0,d.default)(L,T,C),this.bindings[L.key]=this.bindings[L.key]||[],this.bindings[L.key].push(L)}},{key:"listen",value:function(){var S=this;this.quill.root.addEventListener("keydown",function(T){if(!T.defaultPrevented){var C=T.which||T.keyCode,L=(S.bindings[C]||[]).filter(function(ge){return q.match(T,ge)});if(L.length!==0){var B=S.quill.getSelection();if(B!=null&&S.quill.hasFocus()){var Q=S.quill.getLine(B.index),oe=n(Q,2),xe=oe[0],D=oe[1],F=S.quill.getLeaf(B.index),z=n(F,2),V=z[0],K=z[1],se=B.length===0?[V,K]:S.quill.getLeaf(B.index+B.length),re=n(se,2),ae=re[0],qe=re[1],ve=V instanceof a.default.Text?V.value().slice(0,K):"",ot=ae instanceof a.default.Text?ae.value().slice(qe):"",we={collapsed:B.length===0,empty:B.length===0&&xe.length()<=1,format:S.quill.getFormat(B),offset:D,prefix:ve,suffix:ot};L.some(function(ge){if(ge.collapsed!=null&&ge.collapsed!==we.collapsed||ge.empty!=null&&ge.empty!==we.empty||ge.offset!=null&&ge.offset!==we.offset)return!1;if(Array.isArray(ge.format)){if(ge.format.every(function(Fe){return we.format[Fe]==null}))return!1}else if(i(ge.format)==="object"&&!Object.keys(ge.format).every(function(Fe){return ge.format[Fe]===!0?we.format[Fe]!=null:ge.format[Fe]===!1?we.format[Fe]==null:(0,p.default)(ge.format[Fe],we.format[Fe])}))return!1;return!(ge.prefix!=null&&!ge.prefix.test(we.prefix))&&!(ge.suffix!=null&&!ge.suffix.test(we.suffix))&&ge.handler.call(S,B,we)!==!0})&&T.preventDefault()}}}})}}]),q}(f.default);function x(O,q){var S,T=O===b.keys.LEFT?"prefix":"suffix";return v(S={key:O,shiftKey:q,altKey:null},T,/^$/),v(S,"handler",function(C){var L=C.index;O===b.keys.RIGHT&&(L+=C.length+1);var B=this.quill.getLeaf(L);return!(n(B,1)[0]instanceof a.default.Embed)||(O===b.keys.LEFT?q?this.quill.setSelection(C.index-1,C.length+1,l.default.sources.USER):this.quill.setSelection(C.index-1,l.default.sources.USER):q?this.quill.setSelection(C.index,C.length+1,l.default.sources.USER):this.quill.setSelection(C.index+C.length+1,l.default.sources.USER),!1)}),S}function E(O,q){if(!(O.index===0||this.quill.getLength()<=1)){var S=this.quill.getLine(O.index),T=n(S,1)[0],C={};if(q.offset===0){var L=this.quill.getLine(O.index-1),B=n(L,1)[0];if(B!=null&&B.length()>1){var Q=T.formats(),oe=this.quill.getFormat(O.index-1,1);C=u.default.attributes.diff(Q,oe)||{}}}var xe=/[\uD800-\uDBFF][\uDC00-\uDFFF]$/.test(q.prefix)?2:1;this.quill.deleteText(O.index-xe,xe,l.default.sources.USER),Object.keys(C).length>0&&this.quill.formatLine(O.index-xe,xe,C,l.default.sources.USER),this.quill.focus()}}function w(O,q){var S=/^[\uD800-\uDBFF][\uDC00-\uDFFF]/.test(q.suffix)?2:1;if(!(O.index>=this.quill.getLength()-S)){var T={},C=0,L=this.quill.getLine(O.index),B=n(L,1)[0];if(q.offset>=B.length()-1){var Q=this.quill.getLine(O.index+1),oe=n(Q,1)[0];if(oe){var xe=B.formats(),D=this.quill.getFormat(O.index,1);T=u.default.attributes.diff(xe,D)||{},C=oe.length()}}this.quill.deleteText(O.index,S,l.default.sources.USER),Object.keys(T).length>0&&this.quill.formatLine(O.index+C-1,S,T,l.default.sources.USER)}}function I(O){var q=this.quill.getLines(O),S={};if(q.length>1){var T=q[0].formats(),C=q[q.length-1].formats();S=u.default.attributes.diff(C,T)||{}}this.quill.deleteText(O,l.default.sources.USER),Object.keys(S).length>0&&this.quill.formatLine(O.index,1,S,l.default.sources.USER),this.quill.setSelection(O.index,l.default.sources.SILENT),this.quill.focus()}function k(O,q){var S=this;O.length>0&&this.quill.scroll.deleteAt(O.index,O.length);var T=Object.keys(q.format).reduce(function(C,L){return a.default.query(L,a.default.Scope.BLOCK)&&!Array.isArray(q.format[L])&&(C[L]=q.format[L]),C},{});this.quill.insertText(O.index,`
`,T,l.default.sources.USER),this.quill.setSelection(O.index+1,l.default.sources.SILENT),this.quill.focus(),Object.keys(q.format).forEach(function(C){T[C]==null&&(Array.isArray(q.format[C])||C!=="link"&&S.quill.format(C,q.format[C],l.default.sources.USER))})}function P(O){return{key:b.keys.TAB,shiftKey:!O,format:{"code-block":!0},handler:function(q){var S=a.default.query("code-block"),T=q.index,C=q.length,L=this.quill.scroll.descendant(S,T),B=n(L,2),Q=B[0],oe=B[1];if(Q!=null){var xe=this.quill.getIndex(Q),D=Q.newlineIndex(oe,!0)+1,F=Q.newlineIndex(xe+oe+C),z=Q.domNode.textContent.slice(D,F).split(`
`);oe=0,z.forEach(function(V,K){O?(Q.insertAt(D+oe,S.TAB),oe+=S.TAB.length,K===0?T+=S.TAB.length:C+=S.TAB.length):V.startsWith(S.TAB)&&(Q.deleteAt(D+oe,S.TAB.length),oe-=S.TAB.length,K===0?T-=S.TAB.length:C-=S.TAB.length),oe+=V.length+1}),this.quill.update(l.default.sources.USER),this.quill.setSelection(T,C,l.default.sources.SILENT)}}}}function A(O){return{key:O[0].toUpperCase(),shortKey:!0,handler:function(q,S){this.quill.format(O,!S.format[O],l.default.sources.USER)}}}function _(O){if(typeof O=="string"||typeof O=="number")return _({key:O});if((O===void 0?"undefined":i(O))==="object"&&(O=(0,s.default)(O,!1)),typeof O.key=="string")if(b.keys[O.key.toUpperCase()]!=null)O.key=b.keys[O.key.toUpperCase()];else{if(O.key.length!==1)return null;O.key=O.key.toUpperCase().charCodeAt(0)}return O.shortKey&&(O[y]=O.shortKey,delete O.shortKey),O}b.keys={BACKSPACE:8,TAB:9,ENTER:13,ESCAPE:27,LEFT:37,UP:38,RIGHT:39,DOWN:40,DELETE:46},b.DEFAULTS={bindings:{bold:A("bold"),italic:A("italic"),underline:A("underline"),indent:{key:b.keys.TAB,format:["blockquote","indent","list"],handler:function(O,q){if(q.collapsed&&q.offset!==0)return!0;this.quill.format("indent","+1",l.default.sources.USER)}},outdent:{key:b.keys.TAB,shiftKey:!0,format:["blockquote","indent","list"],handler:function(O,q){if(q.collapsed&&q.offset!==0)return!0;this.quill.format("indent","-1",l.default.sources.USER)}},"outdent backspace":{key:b.keys.BACKSPACE,collapsed:!0,shiftKey:null,metaKey:null,ctrlKey:null,altKey:null,format:["indent","list"],offset:0,handler:function(O,q){q.format.indent!=null?this.quill.format("indent","-1",l.default.sources.USER):q.format.list!=null&&this.quill.format("list",!1,l.default.sources.USER)}},"indent code-block":P(!0),"outdent code-block":P(!1),"remove tab":{key:b.keys.TAB,shiftKey:!0,collapsed:!0,prefix:/\t$/,handler:function(O){this.quill.deleteText(O.index-1,1,l.default.sources.USER)}},tab:{key:b.keys.TAB,handler:function(O){this.quill.history.cutoff();var q=new c.default().retain(O.index).delete(O.length).insert("	");this.quill.updateContents(q,l.default.sources.USER),this.quill.history.cutoff(),this.quill.setSelection(O.index+1,l.default.sources.SILENT)}},"list empty enter":{key:b.keys.ENTER,collapsed:!0,format:["list"],empty:!0,handler:function(O,q){this.quill.format("list",!1,l.default.sources.USER),q.format.indent&&this.quill.format("indent",!1,l.default.sources.USER)}},"checklist enter":{key:b.keys.ENTER,collapsed:!0,format:{list:"checked"},handler:function(O){var q=this.quill.getLine(O.index),S=n(q,2),T=S[0],C=S[1],L=(0,d.default)({},T.formats(),{list:"checked"}),B=new c.default().retain(O.index).insert(`
`,L).retain(T.length()-C-1).retain(1,{list:"unchecked"});this.quill.updateContents(B,l.default.sources.USER),this.quill.setSelection(O.index+1,l.default.sources.SILENT),this.quill.scrollIntoView()}},"header enter":{key:b.keys.ENTER,collapsed:!0,format:["header"],suffix:/^$/,handler:function(O,q){var S=this.quill.getLine(O.index),T=n(S,2),C=T[0],L=T[1],B=new c.default().retain(O.index).insert(`
`,q.format).retain(C.length()-L-1).retain(1,{header:null});this.quill.updateContents(B,l.default.sources.USER),this.quill.setSelection(O.index+1,l.default.sources.SILENT),this.quill.scrollIntoView()}},"list autofill":{key:" ",collapsed:!0,format:{list:!1},prefix:/^\s*?(\d+\.|-|\*|\[ ?\]|\[x\])$/,handler:function(O,q){var S=q.prefix.length,T=this.quill.getLine(O.index),C=n(T,2),L=C[0],B=C[1];if(B>S)return!0;var Q=void 0;switch(q.prefix.trim()){case"[]":case"[ ]":Q="unchecked";break;case"[x]":Q="checked";break;case"-":case"*":Q="bullet";break;default:Q="ordered"}this.quill.insertText(O.index," ",l.default.sources.USER),this.quill.history.cutoff();var oe=new c.default().retain(O.index-B).delete(S+1).retain(L.length()-2-B).retain(1,{list:Q});this.quill.updateContents(oe,l.default.sources.USER),this.quill.history.cutoff(),this.quill.setSelection(O.index-S,l.default.sources.SILENT)}},"code exit":{key:b.keys.ENTER,collapsed:!0,format:["code-block"],prefix:/\n\n$/,suffix:/^\s+$/,handler:function(O){var q=this.quill.getLine(O.index),S=n(q,2),T=S[0],C=S[1],L=new c.default().retain(O.index+T.length()-C-2).retain(1,{"code-block":null}).delete(1);this.quill.updateContents(L,l.default.sources.USER)}},"embed left":x(b.keys.LEFT,!1),"embed left shift":x(b.keys.LEFT,!0),"embed right":x(b.keys.RIGHT,!1),"embed right shift":x(b.keys.RIGHT,!0)}},e.default=b,e.SHORTKEY=y},function(o,e,t){Object.defineProperty(e,"__esModule",{value:!0});var i=function(u,a){if(Array.isArray(u))return u;if(Symbol.iterator in Object(u))return function(l,h){var f=[],m=!0,v=!1,g=void 0;try{for(var y,b=l[Symbol.iterator]();!(m=(y=b.next()).done)&&(f.push(y.value),!h||f.length!==h);m=!0);}catch(x){v=!0,g=x}finally{try{!m&&b.return&&b.return()}finally{if(v)throw g}}return f}(u,a);throw new TypeError("Invalid attempt to destructure non-iterable instance")},n=function u(a,l,h){a===null&&(a=Function.prototype);var f=Object.getOwnPropertyDescriptor(a,l);if(f===void 0){var m=Object.getPrototypeOf(a);return m===null?void 0:u(m,l,h)}if("value"in f)return f.value;var v=f.get;return v!==void 0?v.call(h):void 0},r=function(){function u(a,l){for(var h=0;h<l.length;h++){var f=l[h];f.enumerable=f.enumerable||!1,f.configurable=!0,"value"in f&&(f.writable=!0),Object.defineProperty(a,f.key,f)}}return function(a,l,h){return l&&u(a.prototype,l),h&&u(a,h),a}}(),s=d(t(0)),p=d(t(7));function d(u){return u&&u.__esModule?u:{default:u}}var c=function(u){function a(l,h){(function(m,v){if(!(m instanceof v))throw new TypeError("Cannot call a class as a function")})(this,a);var f=function(m,v){if(!m)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!v||typeof v!="object"&&typeof v!="function"?m:v}(this,(a.__proto__||Object.getPrototypeOf(a)).call(this,l));return f.selection=h,f.textNode=document.createTextNode(a.CONTENTS),f.domNode.appendChild(f.textNode),f._length=0,f}return function(l,h){if(typeof h!="function"&&h!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof h);l.prototype=Object.create(h&&h.prototype,{constructor:{value:l,enumerable:!1,writable:!0,configurable:!0}}),h&&(Object.setPrototypeOf?Object.setPrototypeOf(l,h):l.__proto__=h)}(a,u),r(a,null,[{key:"value",value:function(){}}]),r(a,[{key:"detach",value:function(){this.parent!=null&&this.parent.removeChild(this)}},{key:"format",value:function(l,h){if(this._length!==0)return n(a.prototype.__proto__||Object.getPrototypeOf(a.prototype),"format",this).call(this,l,h);for(var f=this,m=0;f!=null&&f.statics.scope!==s.default.Scope.BLOCK_BLOT;)m+=f.offset(f.parent),f=f.parent;f!=null&&(this._length=a.CONTENTS.length,f.optimize(),f.formatAt(m,a.CONTENTS.length,l,h),this._length=0)}},{key:"index",value:function(l,h){return l===this.textNode?0:n(a.prototype.__proto__||Object.getPrototypeOf(a.prototype),"index",this).call(this,l,h)}},{key:"length",value:function(){return this._length}},{key:"position",value:function(){return[this.textNode,this.textNode.data.length]}},{key:"remove",value:function(){n(a.prototype.__proto__||Object.getPrototypeOf(a.prototype),"remove",this).call(this),this.parent=null}},{key:"restore",value:function(){if(!this.selection.composing&&this.parent!=null){var l=this.textNode,h=this.selection.getNativeRange(),f=void 0,m=void 0,v=void 0;if(h!=null&&h.start.node===l&&h.end.node===l){var g=[l,h.start.offset,h.end.offset];f=g[0],m=g[1],v=g[2]}for(;this.domNode.lastChild!=null&&this.domNode.lastChild!==this.textNode;)this.domNode.parentNode.insertBefore(this.domNode.lastChild,this.domNode);if(this.textNode.data!==a.CONTENTS){var y=this.textNode.data.split(a.CONTENTS).join("");this.next instanceof p.default?(f=this.next.domNode,this.next.insertAt(0,y),this.textNode.data=a.CONTENTS):(this.textNode.data=y,this.parent.insertBefore(s.default.create(this.textNode),this),this.textNode=document.createTextNode(a.CONTENTS),this.domNode.appendChild(this.textNode))}if(this.remove(),m!=null){var b=[m,v].map(function(E){return Math.max(0,Math.min(f.data.length,E-1))}),x=i(b,2);return m=x[0],v=x[1],{startNode:f,startOffset:m,endNode:f,endOffset:v}}}}},{key:"update",value:function(l,h){var f=this;if(l.some(function(v){return v.type==="characterData"&&v.target===f.textNode})){var m=this.restore();m&&(h.range=m)}}},{key:"value",value:function(){return""}}]),a}(s.default.Embed);c.blotName="cursor",c.className="ql-cursor",c.tagName="span",c.CONTENTS="\uFEFF",e.default=c},function(o,e,t){Object.defineProperty(e,"__esModule",{value:!0});var i=s(t(0)),n=t(4),r=s(n);function s(u){return u&&u.__esModule?u:{default:u}}function p(u,a){if(!(u instanceof a))throw new TypeError("Cannot call a class as a function")}function d(u,a){if(!u)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!a||typeof a!="object"&&typeof a!="function"?u:a}var c=function(u){function a(){return p(this,a),d(this,(a.__proto__||Object.getPrototypeOf(a)).apply(this,arguments))}return function(l,h){if(typeof h!="function"&&h!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof h);l.prototype=Object.create(h&&h.prototype,{constructor:{value:l,enumerable:!1,writable:!0,configurable:!0}}),h&&(Object.setPrototypeOf?Object.setPrototypeOf(l,h):l.__proto__=h)}(a,u),a}(i.default.Container);c.allowedChildren=[r.default,n.BlockEmbed,c],e.default=c},function(o,e,t){Object.defineProperty(e,"__esModule",{value:!0}),e.ColorStyle=e.ColorClass=e.ColorAttributor=void 0;var i,n=function(){function h(f,m){for(var v=0;v<m.length;v++){var g=m[v];g.enumerable=g.enumerable||!1,g.configurable=!0,"value"in g&&(g.writable=!0),Object.defineProperty(f,g.key,g)}}return function(f,m,v){return m&&h(f.prototype,m),v&&h(f,v),f}}(),r=function h(f,m,v){f===null&&(f=Function.prototype);var g=Object.getOwnPropertyDescriptor(f,m);if(g===void 0){var y=Object.getPrototypeOf(f);return y===null?void 0:h(y,m,v)}if("value"in g)return g.value;var b=g.get;return b!==void 0?b.call(v):void 0},s=t(0),p=(i=s)&&i.__esModule?i:{default:i};function d(h,f){if(!(h instanceof f))throw new TypeError("Cannot call a class as a function")}function c(h,f){if(!h)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!f||typeof f!="object"&&typeof f!="function"?h:f}var u=function(h){function f(){return d(this,f),c(this,(f.__proto__||Object.getPrototypeOf(f)).apply(this,arguments))}return function(m,v){if(typeof v!="function"&&v!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof v);m.prototype=Object.create(v&&v.prototype,{constructor:{value:m,enumerable:!1,writable:!0,configurable:!0}}),v&&(Object.setPrototypeOf?Object.setPrototypeOf(m,v):m.__proto__=v)}(f,h),n(f,[{key:"value",value:function(m){var v=r(f.prototype.__proto__||Object.getPrototypeOf(f.prototype),"value",this).call(this,m);return v.startsWith("rgb(")?(v=v.replace(/^[^\d]+/,"").replace(/[^\d]+$/,""),"#"+v.split(",").map(function(g){return("00"+parseInt(g).toString(16)).slice(-2)}).join("")):v}}]),f}(p.default.Attributor.Style),a=new p.default.Attributor.Class("color","ql-color",{scope:p.default.Scope.INLINE}),l=new u("color","color",{scope:p.default.Scope.INLINE});e.ColorAttributor=u,e.ColorClass=a,e.ColorStyle=l},function(o,e,t){Object.defineProperty(e,"__esModule",{value:!0}),e.sanitize=e.default=void 0;var i,n=function(){function a(l,h){for(var f=0;f<h.length;f++){var m=h[f];m.enumerable=m.enumerable||!1,m.configurable=!0,"value"in m&&(m.writable=!0),Object.defineProperty(l,m.key,m)}}return function(l,h,f){return h&&a(l.prototype,h),f&&a(l,f),l}}(),r=function a(l,h,f){l===null&&(l=Function.prototype);var m=Object.getOwnPropertyDescriptor(l,h);if(m===void 0){var v=Object.getPrototypeOf(l);return v===null?void 0:a(v,h,f)}if("value"in m)return m.value;var g=m.get;return g!==void 0?g.call(f):void 0},s=t(6);function p(a,l){if(!(a instanceof l))throw new TypeError("Cannot call a class as a function")}function d(a,l){if(!a)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!l||typeof l!="object"&&typeof l!="function"?a:l}var c=function(a){function l(){return p(this,l),d(this,(l.__proto__||Object.getPrototypeOf(l)).apply(this,arguments))}return function(h,f){if(typeof f!="function"&&f!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof f);h.prototype=Object.create(f&&f.prototype,{constructor:{value:h,enumerable:!1,writable:!0,configurable:!0}}),f&&(Object.setPrototypeOf?Object.setPrototypeOf(h,f):h.__proto__=f)}(l,a),n(l,[{key:"format",value:function(h,f){if(h!==this.statics.blotName||!f)return r(l.prototype.__proto__||Object.getPrototypeOf(l.prototype),"format",this).call(this,h,f);f=this.constructor.sanitize(f),this.domNode.setAttribute("href",f)}}],[{key:"create",value:function(h){var f=r(l.__proto__||Object.getPrototypeOf(l),"create",this).call(this,h);return h=this.sanitize(h),f.setAttribute("href",h),f.setAttribute("rel","noopener noreferrer"),f.setAttribute("target","_blank"),f}},{key:"formats",value:function(h){return h.getAttribute("href")}},{key:"sanitize",value:function(h){return u(h,this.PROTOCOL_WHITELIST)?h:this.SANITIZED_URL}}]),l}(((i=s)&&i.__esModule?i:{default:i}).default);function u(a,l){var h=document.createElement("a");h.href=a;var f=h.href.slice(0,h.href.indexOf(":"));return l.indexOf(f)>-1}c.blotName="link",c.tagName="A",c.SANITIZED_URL="about:blank",c.PROTOCOL_WHITELIST=["http","https","mailto","tel"],e.default=c,e.sanitize=u},function(o,e,t){Object.defineProperty(e,"__esModule",{value:!0});var i=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(a){return typeof a}:function(a){return a&&typeof Symbol=="function"&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a},n=function(){function a(l,h){for(var f=0;f<h.length;f++){var m=h[f];m.enumerable=m.enumerable||!1,m.configurable=!0,"value"in m&&(m.writable=!0),Object.defineProperty(l,m.key,m)}}return function(l,h,f){return h&&a(l.prototype,h),f&&a(l,f),l}}(),r=p(t(23)),s=p(t(107));function p(a){return a&&a.__esModule?a:{default:a}}var d=0;function c(a,l){a.setAttribute(l,a.getAttribute(l)!=="true")}var u=function(){function a(l){var h=this;(function(f,m){if(!(f instanceof m))throw new TypeError("Cannot call a class as a function")})(this,a),this.select=l,this.container=document.createElement("span"),this.buildPicker(),this.select.style.display="none",this.select.parentNode.insertBefore(this.container,this.select),this.label.addEventListener("mousedown",function(){h.togglePicker()}),this.label.addEventListener("keydown",function(f){switch(f.keyCode){case r.default.keys.ENTER:h.togglePicker();break;case r.default.keys.ESCAPE:h.escape(),f.preventDefault()}}),this.select.addEventListener("change",this.update.bind(this))}return n(a,[{key:"togglePicker",value:function(){this.container.classList.toggle("ql-expanded"),c(this.label,"aria-expanded"),c(this.options,"aria-hidden")}},{key:"buildItem",value:function(l){var h=this,f=document.createElement("span");return f.tabIndex="0",f.setAttribute("role","button"),f.classList.add("ql-picker-item"),l.hasAttribute("value")&&f.setAttribute("data-value",l.getAttribute("value")),l.textContent&&f.setAttribute("data-label",l.textContent),f.addEventListener("click",function(){h.selectItem(f,!0)}),f.addEventListener("keydown",function(m){switch(m.keyCode){case r.default.keys.ENTER:h.selectItem(f,!0),m.preventDefault();break;case r.default.keys.ESCAPE:h.escape(),m.preventDefault()}}),f}},{key:"buildLabel",value:function(){var l=document.createElement("span");return l.classList.add("ql-picker-label"),l.innerHTML=s.default,l.tabIndex="0",l.setAttribute("role","button"),l.setAttribute("aria-expanded","false"),this.container.appendChild(l),l}},{key:"buildOptions",value:function(){var l=this,h=document.createElement("span");h.classList.add("ql-picker-options"),h.setAttribute("aria-hidden","true"),h.tabIndex="-1",h.id="ql-picker-options-"+d,d+=1,this.label.setAttribute("aria-controls",h.id),this.options=h,[].slice.call(this.select.options).forEach(function(f){var m=l.buildItem(f);h.appendChild(m),f.selected===!0&&l.selectItem(m)}),this.container.appendChild(h)}},{key:"buildPicker",value:function(){var l=this;[].slice.call(this.select.attributes).forEach(function(h){l.container.setAttribute(h.name,h.value)}),this.container.classList.add("ql-picker"),this.label=this.buildLabel(),this.buildOptions()}},{key:"escape",value:function(){var l=this;this.close(),setTimeout(function(){return l.label.focus()},1)}},{key:"close",value:function(){this.container.classList.remove("ql-expanded"),this.label.setAttribute("aria-expanded","false"),this.options.setAttribute("aria-hidden","true")}},{key:"selectItem",value:function(l){var h=arguments.length>1&&arguments[1]!==void 0&&arguments[1],f=this.container.querySelector(".ql-selected");if(l!==f&&(f!=null&&f.classList.remove("ql-selected"),l!=null&&(l.classList.add("ql-selected"),this.select.selectedIndex=[].indexOf.call(l.parentNode.children,l),l.hasAttribute("data-value")?this.label.setAttribute("data-value",l.getAttribute("data-value")):this.label.removeAttribute("data-value"),l.hasAttribute("data-label")?this.label.setAttribute("data-label",l.getAttribute("data-label")):this.label.removeAttribute("data-label"),h))){if(typeof Event=="function")this.select.dispatchEvent(new Event("change"));else if((typeof Event=="undefined"?"undefined":i(Event))==="object"){var m=document.createEvent("Event");m.initEvent("change",!0,!0),this.select.dispatchEvent(m)}this.close()}}},{key:"update",value:function(){var l=void 0;if(this.select.selectedIndex>-1){var h=this.container.querySelector(".ql-picker-options").children[this.select.selectedIndex];l=this.select.options[this.select.selectedIndex],this.selectItem(h)}else this.selectItem(null);var f=l!=null&&l!==this.select.querySelector("option[selected]");this.label.classList.toggle("ql-active",f)}}]),a}();e.default=u},function(o,e,t){Object.defineProperty(e,"__esModule",{value:!0});var i=g(t(0)),n=g(t(5)),r=t(4),s=g(r),p=g(t(16)),d=g(t(25)),c=g(t(24)),u=g(t(35)),a=g(t(6)),l=g(t(22)),h=g(t(7)),f=g(t(55)),m=g(t(42)),v=g(t(23));function g(y){return y&&y.__esModule?y:{default:y}}n.default.register({"blots/block":s.default,"blots/block/embed":r.BlockEmbed,"blots/break":p.default,"blots/container":d.default,"blots/cursor":c.default,"blots/embed":u.default,"blots/inline":a.default,"blots/scroll":l.default,"blots/text":h.default,"modules/clipboard":f.default,"modules/history":m.default,"modules/keyboard":v.default}),i.default.register(s.default,p.default,c.default,a.default,l.default,h.default),e.default=n.default},function(o,e,t){Object.defineProperty(e,"__esModule",{value:!0});var i=t(1),n=function(){function r(s){this.domNode=s,this.domNode[i.DATA_KEY]={blot:this}}return Object.defineProperty(r.prototype,"statics",{get:function(){return this.constructor},enumerable:!0,configurable:!0}),r.create=function(s){if(this.tagName==null)throw new i.ParchmentError("Blot definition missing tagName");var p;return Array.isArray(this.tagName)?(typeof s=="string"&&(s=s.toUpperCase(),parseInt(s).toString()===s&&(s=parseInt(s))),p=typeof s=="number"?document.createElement(this.tagName[s-1]):this.tagName.indexOf(s)>-1?document.createElement(s):document.createElement(this.tagName[0])):p=document.createElement(this.tagName),this.className&&p.classList.add(this.className),p},r.prototype.attach=function(){this.parent!=null&&(this.scroll=this.parent.scroll)},r.prototype.clone=function(){var s=this.domNode.cloneNode(!1);return i.create(s)},r.prototype.detach=function(){this.parent!=null&&this.parent.removeChild(this),delete this.domNode[i.DATA_KEY]},r.prototype.deleteAt=function(s,p){this.isolate(s,p).remove()},r.prototype.formatAt=function(s,p,d,c){var u=this.isolate(s,p);if(i.query(d,i.Scope.BLOT)!=null&&c)u.wrap(d,c);else if(i.query(d,i.Scope.ATTRIBUTE)!=null){var a=i.create(this.statics.scope);u.wrap(a),a.format(d,c)}},r.prototype.insertAt=function(s,p,d){var c=d==null?i.create("text",p):i.create(p,d),u=this.split(s);this.parent.insertBefore(c,u)},r.prototype.insertInto=function(s,p){p===void 0&&(p=null),this.parent!=null&&this.parent.children.remove(this);var d=null;s.children.insertBefore(this,p),p!=null&&(d=p.domNode),this.domNode.parentNode==s.domNode&&this.domNode.nextSibling==d||s.domNode.insertBefore(this.domNode,d),this.parent=s,this.attach()},r.prototype.isolate=function(s,p){var d=this.split(s);return d.split(p),d},r.prototype.length=function(){return 1},r.prototype.offset=function(s){return s===void 0&&(s=this.parent),this.parent==null||this==s?0:this.parent.children.offset(this)+this.parent.offset(s)},r.prototype.optimize=function(s){this.domNode[i.DATA_KEY]!=null&&delete this.domNode[i.DATA_KEY].mutations},r.prototype.remove=function(){this.domNode.parentNode!=null&&this.domNode.parentNode.removeChild(this.domNode),this.detach()},r.prototype.replace=function(s){s.parent!=null&&(s.parent.insertBefore(this,s.next),s.remove())},r.prototype.replaceWith=function(s,p){var d=typeof s=="string"?i.create(s,p):s;return d.replace(this),d},r.prototype.split=function(s,p){return s===0?this:this.next},r.prototype.update=function(s,p){},r.prototype.wrap=function(s,p){var d=typeof s=="string"?i.create(s,p):s;return this.parent!=null&&this.parent.insertBefore(d,this.next),d.appendChild(this),d},r.blotName="abstract",r}();e.default=n},function(o,e,t){Object.defineProperty(e,"__esModule",{value:!0});var i=t(12),n=t(32),r=t(33),s=t(1),p=function(){function d(c){this.attributes={},this.domNode=c,this.build()}return d.prototype.attribute=function(c,u){u?c.add(this.domNode,u)&&(c.value(this.domNode)!=null?this.attributes[c.attrName]=c:delete this.attributes[c.attrName]):(c.remove(this.domNode),delete this.attributes[c.attrName])},d.prototype.build=function(){var c=this;this.attributes={};var u=i.default.keys(this.domNode),a=n.default.keys(this.domNode),l=r.default.keys(this.domNode);u.concat(a).concat(l).forEach(function(h){var f=s.query(h,s.Scope.ATTRIBUTE);f instanceof i.default&&(c.attributes[f.attrName]=f)})},d.prototype.copy=function(c){var u=this;Object.keys(this.attributes).forEach(function(a){var l=u.attributes[a].value(u.domNode);c.format(a,l)})},d.prototype.move=function(c){var u=this;this.copy(c),Object.keys(this.attributes).forEach(function(a){u.attributes[a].remove(u.domNode)}),this.attributes={}},d.prototype.values=function(){var c=this;return Object.keys(this.attributes).reduce(function(u,a){return u[a]=c.attributes[a].value(c.domNode),u},{})},d}();e.default=p},function(o,e,t){var i,n=this&&this.__extends||(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(p,d){p.__proto__=d}||function(p,d){for(var c in d)d.hasOwnProperty(c)&&(p[c]=d[c])},function(p,d){function c(){this.constructor=p}i(p,d),p.prototype=d===null?Object.create(d):(c.prototype=d.prototype,new c)});function r(p,d){return(p.getAttribute("class")||"").split(/\s+/).filter(function(c){return c.indexOf(d+"-")===0})}Object.defineProperty(e,"__esModule",{value:!0});var s=function(p){function d(){return p!==null&&p.apply(this,arguments)||this}return n(d,p),d.keys=function(c){return(c.getAttribute("class")||"").split(/\s+/).map(function(u){return u.split("-").slice(0,-1).join("-")})},d.prototype.add=function(c,u){return!!this.canAdd(c,u)&&(this.remove(c),c.classList.add(this.keyName+"-"+u),!0)},d.prototype.remove=function(c){r(c,this.keyName).forEach(function(u){c.classList.remove(u)}),c.classList.length===0&&c.removeAttribute("class")},d.prototype.value=function(c){var u=(r(c,this.keyName)[0]||"").slice(this.keyName.length+1);return this.canAdd(c,u)?u:""},d}(t(12).default);e.default=s},function(o,e,t){var i,n=this&&this.__extends||(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(p,d){p.__proto__=d}||function(p,d){for(var c in d)d.hasOwnProperty(c)&&(p[c]=d[c])},function(p,d){function c(){this.constructor=p}i(p,d),p.prototype=d===null?Object.create(d):(c.prototype=d.prototype,new c)});function r(p){var d=p.split("-"),c=d.slice(1).map(function(u){return u[0].toUpperCase()+u.slice(1)}).join("");return d[0]+c}Object.defineProperty(e,"__esModule",{value:!0});var s=function(p){function d(){return p!==null&&p.apply(this,arguments)||this}return n(d,p),d.keys=function(c){return(c.getAttribute("style")||"").split(";").map(function(u){return u.split(":")[0].trim()})},d.prototype.add=function(c,u){return!!this.canAdd(c,u)&&(c.style[r(this.keyName)]=u,!0)},d.prototype.remove=function(c){c.style[r(this.keyName)]="",c.getAttribute("style")||c.removeAttribute("style")},d.prototype.value=function(c){var u=c.style[r(this.keyName)];return this.canAdd(c,u)?u:""},d}(t(12).default);e.default=s},function(o,e,t){Object.defineProperty(e,"__esModule",{value:!0});var i=function(){function r(s,p){for(var d=0;d<p.length;d++){var c=p[d];c.enumerable=c.enumerable||!1,c.configurable=!0,"value"in c&&(c.writable=!0),Object.defineProperty(s,c.key,c)}}return function(s,p,d){return p&&r(s.prototype,p),d&&r(s,d),s}}(),n=function(){function r(s,p){(function(d,c){if(!(d instanceof c))throw new TypeError("Cannot call a class as a function")})(this,r),this.quill=s,this.options=p,this.modules={}}return i(r,[{key:"init",value:function(){var s=this;Object.keys(this.options.modules).forEach(function(p){s.modules[p]==null&&s.addModule(p)})}},{key:"addModule",value:function(s){var p=this.quill.constructor.import("modules/"+s);return this.modules[s]=new p(this.quill,this.options.modules[s]||{}),this.modules[s]}}]),r}();n.DEFAULTS={modules:{}},n.themes={default:n},e.default=n},function(o,e,t){Object.defineProperty(e,"__esModule",{value:!0});var i=function(){function u(a,l){for(var h=0;h<l.length;h++){var f=l[h];f.enumerable=f.enumerable||!1,f.configurable=!0,"value"in f&&(f.writable=!0),Object.defineProperty(a,f.key,f)}}return function(a,l,h){return l&&u(a.prototype,l),h&&u(a,h),a}}(),n=function u(a,l,h){a===null&&(a=Function.prototype);var f=Object.getOwnPropertyDescriptor(a,l);if(f===void 0){var m=Object.getPrototypeOf(a);return m===null?void 0:u(m,l,h)}if("value"in f)return f.value;var v=f.get;return v!==void 0?v.call(h):void 0},r=p(t(0)),s=p(t(7));function p(u){return u&&u.__esModule?u:{default:u}}var d="\uFEFF",c=function(u){function a(l){(function(f,m){if(!(f instanceof m))throw new TypeError("Cannot call a class as a function")})(this,a);var h=function(f,m){if(!f)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!m||typeof m!="object"&&typeof m!="function"?f:m}(this,(a.__proto__||Object.getPrototypeOf(a)).call(this,l));return h.contentNode=document.createElement("span"),h.contentNode.setAttribute("contenteditable",!1),[].slice.call(h.domNode.childNodes).forEach(function(f){h.contentNode.appendChild(f)}),h.leftGuard=document.createTextNode(d),h.rightGuard=document.createTextNode(d),h.domNode.appendChild(h.leftGuard),h.domNode.appendChild(h.contentNode),h.domNode.appendChild(h.rightGuard),h}return function(l,h){if(typeof h!="function"&&h!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof h);l.prototype=Object.create(h&&h.prototype,{constructor:{value:l,enumerable:!1,writable:!0,configurable:!0}}),h&&(Object.setPrototypeOf?Object.setPrototypeOf(l,h):l.__proto__=h)}(a,u),i(a,[{key:"index",value:function(l,h){return l===this.leftGuard?0:l===this.rightGuard?1:n(a.prototype.__proto__||Object.getPrototypeOf(a.prototype),"index",this).call(this,l,h)}},{key:"restore",value:function(l){var h=void 0,f=void 0,m=l.data.split(d).join("");if(l===this.leftGuard)if(this.prev instanceof s.default){var v=this.prev.length();this.prev.insertAt(v,m),h={startNode:this.prev.domNode,startOffset:v+m.length}}else f=document.createTextNode(m),this.parent.insertBefore(r.default.create(f),this),h={startNode:f,startOffset:m.length};else l===this.rightGuard&&(this.next instanceof s.default?(this.next.insertAt(0,m),h={startNode:this.next.domNode,startOffset:m.length}):(f=document.createTextNode(m),this.parent.insertBefore(r.default.create(f),this.next),h={startNode:f,startOffset:m.length}));return l.data=d,h}},{key:"update",value:function(l,h){var f=this;l.forEach(function(m){if(m.type==="characterData"&&(m.target===f.leftGuard||m.target===f.rightGuard)){var v=f.restore(m.target);v&&(h.range=v)}})}}]),a}(r.default.Embed);e.default=c},function(o,e,t){Object.defineProperty(e,"__esModule",{value:!0}),e.AlignStyle=e.AlignClass=e.AlignAttribute=void 0;var i,n=t(0),r=(i=n)&&i.__esModule?i:{default:i},s={scope:r.default.Scope.BLOCK,whitelist:["right","center","justify"]},p=new r.default.Attributor.Attribute("align","align",s),d=new r.default.Attributor.Class("align","ql-align",s),c=new r.default.Attributor.Style("align","text-align",s);e.AlignAttribute=p,e.AlignClass=d,e.AlignStyle=c},function(o,e,t){Object.defineProperty(e,"__esModule",{value:!0}),e.BackgroundStyle=e.BackgroundClass=void 0;var i,n=t(0),r=(i=n)&&i.__esModule?i:{default:i},s=t(26),p=new r.default.Attributor.Class("background","ql-bg",{scope:r.default.Scope.INLINE}),d=new s.ColorAttributor("background","background-color",{scope:r.default.Scope.INLINE});e.BackgroundClass=p,e.BackgroundStyle=d},function(o,e,t){Object.defineProperty(e,"__esModule",{value:!0}),e.DirectionStyle=e.DirectionClass=e.DirectionAttribute=void 0;var i,n=t(0),r=(i=n)&&i.__esModule?i:{default:i},s={scope:r.default.Scope.BLOCK,whitelist:["rtl"]},p=new r.default.Attributor.Attribute("direction","dir",s),d=new r.default.Attributor.Class("direction","ql-direction",s),c=new r.default.Attributor.Style("direction","direction",s);e.DirectionAttribute=p,e.DirectionClass=d,e.DirectionStyle=c},function(o,e,t){Object.defineProperty(e,"__esModule",{value:!0}),e.FontClass=e.FontStyle=void 0;var i,n=function(){function h(f,m){for(var v=0;v<m.length;v++){var g=m[v];g.enumerable=g.enumerable||!1,g.configurable=!0,"value"in g&&(g.writable=!0),Object.defineProperty(f,g.key,g)}}return function(f,m,v){return m&&h(f.prototype,m),v&&h(f,v),f}}(),r=function h(f,m,v){f===null&&(f=Function.prototype);var g=Object.getOwnPropertyDescriptor(f,m);if(g===void 0){var y=Object.getPrototypeOf(f);return y===null?void 0:h(y,m,v)}if("value"in g)return g.value;var b=g.get;return b!==void 0?b.call(v):void 0},s=t(0),p=(i=s)&&i.__esModule?i:{default:i};function d(h,f){if(!(h instanceof f))throw new TypeError("Cannot call a class as a function")}function c(h,f){if(!h)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!f||typeof f!="object"&&typeof f!="function"?h:f}var u={scope:p.default.Scope.INLINE,whitelist:["serif","monospace"]},a=new p.default.Attributor.Class("font","ql-font",u),l=new(function(h){function f(){return d(this,f),c(this,(f.__proto__||Object.getPrototypeOf(f)).apply(this,arguments))}return function(m,v){if(typeof v!="function"&&v!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof v);m.prototype=Object.create(v&&v.prototype,{constructor:{value:m,enumerable:!1,writable:!0,configurable:!0}}),v&&(Object.setPrototypeOf?Object.setPrototypeOf(m,v):m.__proto__=v)}(f,h),n(f,[{key:"value",value:function(m){return r(f.prototype.__proto__||Object.getPrototypeOf(f.prototype),"value",this).call(this,m).replace(/["']/g,"")}}]),f}(p.default.Attributor.Style))("font","font-family",u);e.FontStyle=l,e.FontClass=a},function(o,e,t){Object.defineProperty(e,"__esModule",{value:!0}),e.SizeStyle=e.SizeClass=void 0;var i,n=t(0),r=(i=n)&&i.__esModule?i:{default:i},s=new r.default.Attributor.Class("size","ql-size",{scope:r.default.Scope.INLINE,whitelist:["small","large","huge"]}),p=new r.default.Attributor.Style("size","font-size",{scope:r.default.Scope.INLINE,whitelist:["10px","18px","32px"]});e.SizeClass=s,e.SizeStyle=p},function(o,e,t){o.exports={align:{"":t(76),center:t(77),right:t(78),justify:t(79)},background:t(80),blockquote:t(81),bold:t(82),clean:t(83),code:t(58),"code-block":t(58),color:t(84),direction:{"":t(85),rtl:t(86)},float:{center:t(87),full:t(88),left:t(89),right:t(90)},formula:t(91),header:{1:t(92),2:t(93)},italic:t(94),image:t(95),indent:{"+1":t(96),"-1":t(97)},link:t(98),list:{ordered:t(99),bullet:t(100),check:t(101)},script:{sub:t(102),super:t(103)},strike:t(104),underline:t(105),video:t(106)}},function(o,e,t){Object.defineProperty(e,"__esModule",{value:!0}),e.getLastChangeIndex=e.default=void 0;var i=function(){function c(u,a){for(var l=0;l<a.length;l++){var h=a[l];h.enumerable=h.enumerable||!1,h.configurable=!0,"value"in h&&(h.writable=!0),Object.defineProperty(u,h.key,h)}}return function(u,a,l){return a&&c(u.prototype,a),l&&c(u,l),u}}(),n=s(t(0)),r=s(t(5));function s(c){return c&&c.__esModule?c:{default:c}}var p=function(c){function u(a,l){(function(f,m){if(!(f instanceof m))throw new TypeError("Cannot call a class as a function")})(this,u);var h=function(f,m){if(!f)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!m||typeof m!="object"&&typeof m!="function"?f:m}(this,(u.__proto__||Object.getPrototypeOf(u)).call(this,a,l));return h.lastRecorded=0,h.ignoreChange=!1,h.clear(),h.quill.on(r.default.events.EDITOR_CHANGE,function(f,m,v,g){f!==r.default.events.TEXT_CHANGE||h.ignoreChange||(h.options.userOnly&&g!==r.default.sources.USER?h.transform(m):h.record(m,v))}),h.quill.keyboard.addBinding({key:"Z",shortKey:!0},h.undo.bind(h)),h.quill.keyboard.addBinding({key:"Z",shortKey:!0,shiftKey:!0},h.redo.bind(h)),/Win/i.test(navigator.platform)&&h.quill.keyboard.addBinding({key:"Y",shortKey:!0},h.redo.bind(h)),h}return function(a,l){if(typeof l!="function"&&l!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof l);a.prototype=Object.create(l&&l.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}}),l&&(Object.setPrototypeOf?Object.setPrototypeOf(a,l):a.__proto__=l)}(u,c),i(u,[{key:"change",value:function(a,l){if(this.stack[a].length!==0){var h=this.stack[a].pop();this.stack[l].push(h),this.lastRecorded=0,this.ignoreChange=!0,this.quill.updateContents(h[a],r.default.sources.USER),this.ignoreChange=!1;var f=d(h[a]);this.quill.setSelection(f)}}},{key:"clear",value:function(){this.stack={undo:[],redo:[]}}},{key:"cutoff",value:function(){this.lastRecorded=0}},{key:"record",value:function(a,l){if(a.ops.length!==0){this.stack.redo=[];var h=this.quill.getContents().diff(l),f=Date.now();if(this.lastRecorded+this.options.delay>f&&this.stack.undo.length>0){var m=this.stack.undo.pop();h=h.compose(m.undo),a=m.redo.compose(a)}else this.lastRecorded=f;this.stack.undo.push({redo:a,undo:h}),this.stack.undo.length>this.options.maxStack&&this.stack.undo.shift()}}},{key:"redo",value:function(){this.change("redo","undo")}},{key:"transform",value:function(a){this.stack.undo.forEach(function(l){l.undo=a.transform(l.undo,!0),l.redo=a.transform(l.redo,!0)}),this.stack.redo.forEach(function(l){l.undo=a.transform(l.undo,!0),l.redo=a.transform(l.redo,!0)})}},{key:"undo",value:function(){this.change("undo","redo")}}]),u}(s(t(9)).default);function d(c){var u=c.reduce(function(l,h){return l+=h.delete||0},0),a=c.length()-u;return function(l){var h=l.ops[l.ops.length-1];return h!=null&&(h.insert!=null?typeof h.insert=="string"&&h.insert.endsWith(`
`):h.attributes!=null&&Object.keys(h.attributes).some(function(f){return n.default.query(f,n.default.Scope.BLOCK)!=null}))}(c)&&(a-=1),a}p.DEFAULTS={delay:1e3,maxStack:100,userOnly:!1},e.default=p,e.getLastChangeIndex=d},function(o,e,t){Object.defineProperty(e,"__esModule",{value:!0}),e.default=e.BaseTooltip=void 0;var i=function(){function A(_,O){for(var q=0;q<O.length;q++){var S=O[q];S.enumerable=S.enumerable||!1,S.configurable=!0,"value"in S&&(S.writable=!0),Object.defineProperty(_,S.key,S)}}return function(_,O,q){return O&&A(_.prototype,O),q&&A(_,q),_}}(),n=function A(_,O,q){_===null&&(_=Function.prototype);var S=Object.getOwnPropertyDescriptor(_,O);if(S===void 0){var T=Object.getPrototypeOf(_);return T===null?void 0:A(T,O,q)}if("value"in S)return S.value;var C=S.get;return C!==void 0?C.call(q):void 0},r=f(t(3)),s=f(t(2)),p=f(t(8)),d=f(t(23)),c=f(t(34)),u=f(t(59)),a=f(t(60)),l=f(t(28)),h=f(t(61));function f(A){return A&&A.__esModule?A:{default:A}}function m(A,_){if(!(A instanceof _))throw new TypeError("Cannot call a class as a function")}function v(A,_){if(!A)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!_||typeof _!="object"&&typeof _!="function"?A:_}function g(A,_){if(typeof _!="function"&&_!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof _);A.prototype=Object.create(_&&_.prototype,{constructor:{value:A,enumerable:!1,writable:!0,configurable:!0}}),_&&(Object.setPrototypeOf?Object.setPrototypeOf(A,_):A.__proto__=_)}var y=[!1,"center","right","justify"],b=["#000000","#e60000","#ff9900","#ffff00","#008a00","#0066cc","#9933ff","#ffffff","#facccc","#ffebcc","#ffffcc","#cce8cc","#cce0f5","#ebd6ff","#bbbbbb","#f06666","#ffc266","#ffff66","#66b966","#66a3e0","#c285ff","#888888","#a10000","#b26b00","#b2b200","#006100","#0047b2","#6b24b2","#444444","#5c0000","#663d00","#666600","#003700","#002966","#3d1466"],x=[!1,"serif","monospace"],E=["1","2","3",!1],w=["small",!1,"large","huge"],I=function(A){function _(O,q){m(this,_);var S=v(this,(_.__proto__||Object.getPrototypeOf(_)).call(this,O,q));return O.emitter.listenDOM("click",document.body,function T(C){if(!document.body.contains(O.root))return document.body.removeEventListener("click",T);S.tooltip==null||S.tooltip.root.contains(C.target)||document.activeElement===S.tooltip.textbox||S.quill.hasFocus()||S.tooltip.hide(),S.pickers!=null&&S.pickers.forEach(function(L){L.container.contains(C.target)||L.close()})}),S}return g(_,A),i(_,[{key:"addModule",value:function(O){var q=n(_.prototype.__proto__||Object.getPrototypeOf(_.prototype),"addModule",this).call(this,O);return O==="toolbar"&&this.extendToolbar(q),q}},{key:"buildButtons",value:function(O,q){O.forEach(function(S){(S.getAttribute("class")||"").split(/\s+/).forEach(function(T){if(T.startsWith("ql-")&&(T=T.slice(3),q[T]!=null))if(T==="direction")S.innerHTML=q[T][""]+q[T].rtl;else if(typeof q[T]=="string")S.innerHTML=q[T];else{var C=S.value||"";C!=null&&q[T][C]&&(S.innerHTML=q[T][C])}})})}},{key:"buildPickers",value:function(O,q){var S=this;this.pickers=O.map(function(T){if(T.classList.contains("ql-align"))return T.querySelector("option")==null&&P(T,y),new a.default(T,q.align);if(T.classList.contains("ql-background")||T.classList.contains("ql-color")){var C=T.classList.contains("ql-background")?"background":"color";return T.querySelector("option")==null&&P(T,b,C==="background"?"#ffffff":"#000000"),new u.default(T,q[C])}return T.querySelector("option")==null&&(T.classList.contains("ql-font")?P(T,x):T.classList.contains("ql-header")?P(T,E):T.classList.contains("ql-size")&&P(T,w)),new l.default(T)}),this.quill.on(p.default.events.EDITOR_CHANGE,function(){S.pickers.forEach(function(T){T.update()})})}}]),_}(c.default);I.DEFAULTS=(0,r.default)(!0,{},c.default.DEFAULTS,{modules:{toolbar:{handlers:{formula:function(){this.quill.theme.tooltip.edit("formula")},image:function(){var A=this,_=this.container.querySelector("input.ql-image[type=file]");_==null&&((_=document.createElement("input")).setAttribute("type","file"),_.setAttribute("accept","image/png, image/gif, image/jpeg, image/bmp, image/x-icon"),_.classList.add("ql-image"),_.addEventListener("change",function(){if(_.files!=null&&_.files[0]!=null){var O=new FileReader;O.onload=function(q){var S=A.quill.getSelection(!0);A.quill.updateContents(new s.default().retain(S.index).delete(S.length).insert({image:q.target.result}),p.default.sources.USER),A.quill.setSelection(S.index+1,p.default.sources.SILENT),_.value=""},O.readAsDataURL(_.files[0])}}),this.container.appendChild(_)),_.click()},video:function(){this.quill.theme.tooltip.edit("video")}}}}});var k=function(A){function _(O,q){m(this,_);var S=v(this,(_.__proto__||Object.getPrototypeOf(_)).call(this,O,q));return S.textbox=S.root.querySelector('input[type="text"]'),S.listen(),S}return g(_,A),i(_,[{key:"listen",value:function(){var O=this;this.textbox.addEventListener("keydown",function(q){d.default.match(q,"enter")?(O.save(),q.preventDefault()):d.default.match(q,"escape")&&(O.cancel(),q.preventDefault())})}},{key:"cancel",value:function(){this.hide()}},{key:"edit",value:function(){var O=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"link",q=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null;this.root.classList.remove("ql-hidden"),this.root.classList.add("ql-editing"),q!=null?this.textbox.value=q:O!==this.root.getAttribute("data-mode")&&(this.textbox.value=""),this.position(this.quill.getBounds(this.quill.selection.savedRange)),this.textbox.select(),this.textbox.setAttribute("placeholder",this.textbox.getAttribute("data-"+O)||""),this.root.setAttribute("data-mode",O)}},{key:"restoreFocus",value:function(){var O=this.quill.scrollingContainer.scrollTop;this.quill.focus(),this.quill.scrollingContainer.scrollTop=O}},{key:"save",value:function(){var O=this.textbox.value;switch(this.root.getAttribute("data-mode")){case"link":var q=this.quill.root.scrollTop;this.linkRange?(this.quill.formatText(this.linkRange,"link",O,p.default.sources.USER),delete this.linkRange):(this.restoreFocus(),this.quill.format("link",O,p.default.sources.USER)),this.quill.root.scrollTop=q;break;case"video":O=function(C){var L=C.match(/^(?:(https?):\/\/)?(?:(?:www|m)\.)?youtube\.com\/watch.*v=([a-zA-Z0-9_-]+)/)||C.match(/^(?:(https?):\/\/)?(?:(?:www|m)\.)?youtu\.be\/([a-zA-Z0-9_-]+)/);return L?(L[1]||"https")+"://www.youtube.com/embed/"+L[2]+"?showinfo=0":(L=C.match(/^(?:(https?):\/\/)?(?:www\.)?vimeo\.com\/(\d+)/))?(L[1]||"https")+"://player.vimeo.com/video/"+L[2]+"/":C}(O);case"formula":if(!O)break;var S=this.quill.getSelection(!0);if(S!=null){var T=S.index+S.length;this.quill.insertEmbed(T,this.root.getAttribute("data-mode"),O,p.default.sources.USER),this.root.getAttribute("data-mode")==="formula"&&this.quill.insertText(T+1," ",p.default.sources.USER),this.quill.setSelection(T+2,p.default.sources.USER)}}this.textbox.value="",this.hide()}}]),_}(h.default);function P(A,_){var O=arguments.length>2&&arguments[2]!==void 0&&arguments[2];_.forEach(function(q){var S=document.createElement("option");q===O?S.setAttribute("selected","selected"):S.setAttribute("value",q),A.appendChild(S)})}e.BaseTooltip=k,e.default=I},function(o,e,t){Object.defineProperty(e,"__esModule",{value:!0});var i=function(){function n(){this.head=this.tail=null,this.length=0}return n.prototype.append=function(){for(var r=[],s=0;s<arguments.length;s++)r[s]=arguments[s];this.insertBefore(r[0],null),r.length>1&&this.append.apply(this,r.slice(1))},n.prototype.contains=function(r){for(var s,p=this.iterator();s=p();)if(s===r)return!0;return!1},n.prototype.insertBefore=function(r,s){r&&(r.next=s,s!=null?(r.prev=s.prev,s.prev!=null&&(s.prev.next=r),s.prev=r,s===this.head&&(this.head=r)):this.tail!=null?(this.tail.next=r,r.prev=this.tail,this.tail=r):(r.prev=null,this.head=this.tail=r),this.length+=1)},n.prototype.offset=function(r){for(var s=0,p=this.head;p!=null;){if(p===r)return s;s+=p.length(),p=p.next}return-1},n.prototype.remove=function(r){this.contains(r)&&(r.prev!=null&&(r.prev.next=r.next),r.next!=null&&(r.next.prev=r.prev),r===this.head&&(this.head=r.next),r===this.tail&&(this.tail=r.prev),this.length-=1)},n.prototype.iterator=function(r){return r===void 0&&(r=this.head),function(){var s=r;return r!=null&&(r=r.next),s}},n.prototype.find=function(r,s){s===void 0&&(s=!1);for(var p,d=this.iterator();p=d();){var c=p.length();if(r<c||s&&r===c&&(p.next==null||p.next.length()!==0))return[p,r];r-=c}return[null,0]},n.prototype.forEach=function(r){for(var s,p=this.iterator();s=p();)r(s)},n.prototype.forEachAt=function(r,s,p){if(!(s<=0))for(var d,c=this.find(r),u=c[0],a=r-c[1],l=this.iterator(u);(d=l())&&a<r+s;){var h=d.length();r>a?p(d,r-a,Math.min(s,a+h-r)):p(d,0,Math.min(h,r+s-a)),a+=h}},n.prototype.map=function(r){return this.reduce(function(s,p){return s.push(r(p)),s},[])},n.prototype.reduce=function(r,s){for(var p,d=this.iterator();p=d();)s=r(s,p);return s},n}();e.default=i},function(o,e,t){var i,n=this&&this.__extends||(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(c,u){c.__proto__=u}||function(c,u){for(var a in u)u.hasOwnProperty(a)&&(c[a]=u[a])},function(c,u){function a(){this.constructor=c}i(c,u),c.prototype=u===null?Object.create(u):(a.prototype=u.prototype,new a)});Object.defineProperty(e,"__esModule",{value:!0});var r=t(17),s=t(1),p={attributes:!0,characterData:!0,characterDataOldValue:!0,childList:!0,subtree:!0},d=function(c){function u(a){var l=c.call(this,a)||this;return l.scroll=l,l.observer=new MutationObserver(function(h){l.update(h)}),l.observer.observe(l.domNode,p),l.attach(),l}return n(u,c),u.prototype.detach=function(){c.prototype.detach.call(this),this.observer.disconnect()},u.prototype.deleteAt=function(a,l){this.update(),a===0&&l===this.length()?this.children.forEach(function(h){h.remove()}):c.prototype.deleteAt.call(this,a,l)},u.prototype.formatAt=function(a,l,h,f){this.update(),c.prototype.formatAt.call(this,a,l,h,f)},u.prototype.insertAt=function(a,l,h){this.update(),c.prototype.insertAt.call(this,a,l,h)},u.prototype.optimize=function(a,l){var h=this;a===void 0&&(a=[]),l===void 0&&(l={}),c.prototype.optimize.call(this,l);for(var f=[].slice.call(this.observer.takeRecords());f.length>0;)a.push(f.pop());for(var m=function(b,x){x===void 0&&(x=!0),b!=null&&b!==h&&b.domNode.parentNode!=null&&(b.domNode[s.DATA_KEY].mutations==null&&(b.domNode[s.DATA_KEY].mutations=[]),x&&m(b.parent))},v=function(b){b.domNode[s.DATA_KEY]!=null&&b.domNode[s.DATA_KEY].mutations!=null&&(b instanceof r.default&&b.children.forEach(v),b.optimize(l))},g=a,y=0;g.length>0;y+=1){if(y>=100)throw new Error("[Parchment] Maximum optimize iterations reached");for(g.forEach(function(b){var x=s.find(b.target,!0);x!=null&&(x.domNode===b.target&&(b.type==="childList"?(m(s.find(b.previousSibling,!1)),[].forEach.call(b.addedNodes,function(E){var w=s.find(E,!1);m(w,!1),w instanceof r.default&&w.children.forEach(function(I){m(I,!1)})})):b.type==="attributes"&&m(x.prev)),m(x))}),this.children.forEach(v),f=(g=[].slice.call(this.observer.takeRecords())).slice();f.length>0;)a.push(f.pop())}},u.prototype.update=function(a,l){var h=this;l===void 0&&(l={}),(a=a||this.observer.takeRecords()).map(function(f){var m=s.find(f.target,!0);return m==null?null:m.domNode[s.DATA_KEY].mutations==null?(m.domNode[s.DATA_KEY].mutations=[f],m):(m.domNode[s.DATA_KEY].mutations.push(f),null)}).forEach(function(f){f!=null&&f!==h&&f.domNode[s.DATA_KEY]!=null&&f.update(f.domNode[s.DATA_KEY].mutations||[],l)}),this.domNode[s.DATA_KEY].mutations!=null&&c.prototype.update.call(this,this.domNode[s.DATA_KEY].mutations,l),this.optimize(a,l)},u.blotName="scroll",u.defaultChild="block",u.scope=s.Scope.BLOCK_BLOT,u.tagName="DIV",u}(r.default);e.default=d},function(o,e,t){var i,n=this&&this.__extends||(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d,c){d.__proto__=c}||function(d,c){for(var u in c)c.hasOwnProperty(u)&&(d[u]=c[u])},function(d,c){function u(){this.constructor=d}i(d,c),d.prototype=c===null?Object.create(c):(u.prototype=c.prototype,new u)});Object.defineProperty(e,"__esModule",{value:!0});var r=t(18),s=t(1),p=function(d){function c(){return d!==null&&d.apply(this,arguments)||this}return n(c,d),c.formats=function(u){if(u.tagName!==c.tagName)return d.formats.call(this,u)},c.prototype.format=function(u,a){var l=this;u!==this.statics.blotName||a?d.prototype.format.call(this,u,a):(this.children.forEach(function(h){h instanceof r.default||(h=h.wrap(c.blotName,!0)),l.attributes.copy(h)}),this.unwrap())},c.prototype.formatAt=function(u,a,l,h){this.formats()[l]!=null||s.query(l,s.Scope.ATTRIBUTE)?this.isolate(u,a).format(l,h):d.prototype.formatAt.call(this,u,a,l,h)},c.prototype.optimize=function(u){d.prototype.optimize.call(this,u);var a=this.formats();if(Object.keys(a).length===0)return this.unwrap();var l=this.next;l instanceof c&&l.prev===this&&function(h,f){if(Object.keys(h).length!==Object.keys(f).length)return!1;for(var m in h)if(h[m]!==f[m])return!1;return!0}(a,l.formats())&&(l.moveChildren(this),l.remove())},c.blotName="inline",c.scope=s.Scope.INLINE_BLOT,c.tagName="SPAN",c}(r.default);e.default=p},function(o,e,t){var i,n=this&&this.__extends||(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d,c){d.__proto__=c}||function(d,c){for(var u in c)c.hasOwnProperty(u)&&(d[u]=c[u])},function(d,c){function u(){this.constructor=d}i(d,c),d.prototype=c===null?Object.create(c):(u.prototype=c.prototype,new u)});Object.defineProperty(e,"__esModule",{value:!0});var r=t(18),s=t(1),p=function(d){function c(){return d!==null&&d.apply(this,arguments)||this}return n(c,d),c.formats=function(u){var a=s.query(c.blotName).tagName;if(u.tagName!==a)return d.formats.call(this,u)},c.prototype.format=function(u,a){s.query(u,s.Scope.BLOCK)!=null&&(u!==this.statics.blotName||a?d.prototype.format.call(this,u,a):this.replaceWith(c.blotName))},c.prototype.formatAt=function(u,a,l,h){s.query(l,s.Scope.BLOCK)!=null?this.format(l,h):d.prototype.formatAt.call(this,u,a,l,h)},c.prototype.insertAt=function(u,a,l){if(l==null||s.query(a,s.Scope.INLINE)!=null)d.prototype.insertAt.call(this,u,a,l);else{var h=this.split(u),f=s.create(a,l);h.parent.insertBefore(f,h)}},c.prototype.update=function(u,a){navigator.userAgent.match(/Trident/)?this.build():d.prototype.update.call(this,u,a)},c.blotName="block",c.scope=s.Scope.BLOCK_BLOT,c.tagName="P",c}(r.default);e.default=p},function(o,e,t){var i,n=this&&this.__extends||(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(s,p){s.__proto__=p}||function(s,p){for(var d in p)p.hasOwnProperty(d)&&(s[d]=p[d])},function(s,p){function d(){this.constructor=s}i(s,p),s.prototype=p===null?Object.create(p):(d.prototype=p.prototype,new d)});Object.defineProperty(e,"__esModule",{value:!0});var r=function(s){function p(){return s!==null&&s.apply(this,arguments)||this}return n(p,s),p.formats=function(d){},p.prototype.format=function(d,c){s.prototype.formatAt.call(this,0,this.length(),d,c)},p.prototype.formatAt=function(d,c,u,a){d===0&&c===this.length()?this.format(u,a):s.prototype.formatAt.call(this,d,c,u,a)},p.prototype.formats=function(){return this.statics.formats(this.domNode)},p}(t(19).default);e.default=r},function(o,e,t){var i,n=this&&this.__extends||(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d,c){d.__proto__=c}||function(d,c){for(var u in c)c.hasOwnProperty(u)&&(d[u]=c[u])},function(d,c){function u(){this.constructor=d}i(d,c),d.prototype=c===null?Object.create(c):(u.prototype=c.prototype,new u)});Object.defineProperty(e,"__esModule",{value:!0});var r=t(19),s=t(1),p=function(d){function c(u){var a=d.call(this,u)||this;return a.text=a.statics.value(a.domNode),a}return n(c,d),c.create=function(u){return document.createTextNode(u)},c.value=function(u){var a=u.data;return a.normalize&&(a=a.normalize()),a},c.prototype.deleteAt=function(u,a){this.domNode.data=this.text=this.text.slice(0,u)+this.text.slice(u+a)},c.prototype.index=function(u,a){return this.domNode===u?a:-1},c.prototype.insertAt=function(u,a,l){l==null?(this.text=this.text.slice(0,u)+a+this.text.slice(u),this.domNode.data=this.text):d.prototype.insertAt.call(this,u,a,l)},c.prototype.length=function(){return this.text.length},c.prototype.optimize=function(u){d.prototype.optimize.call(this,u),this.text=this.statics.value(this.domNode),this.text.length===0?this.remove():this.next instanceof c&&this.next.prev===this&&(this.insertAt(this.length(),this.next.value()),this.next.remove())},c.prototype.position=function(u,a){return[this.domNode,u]},c.prototype.split=function(u,a){if(a===void 0&&(a=!1),!a){if(u===0)return this;if(u===this.length())return this.next}var l=s.create(this.domNode.splitText(u));return this.parent.insertBefore(l,this.next),this.text=this.statics.value(this.domNode),l},c.prototype.update=function(u,a){var l=this;u.some(function(h){return h.type==="characterData"&&h.target===l.domNode})&&(this.text=this.statics.value(this.domNode))},c.prototype.value=function(){return this.text},c.blotName="text",c.scope=s.Scope.INLINE_BLOT,c}(r.default);e.default=p},function(o,e,t){var i=document.createElement("div");if(i.classList.toggle("test-class",!1),i.classList.contains("test-class")){var n=DOMTokenList.prototype.toggle;DOMTokenList.prototype.toggle=function(r,s){return arguments.length>1&&!this.contains(r)==!s?s:n.call(this,r)}}String.prototype.startsWith||(String.prototype.startsWith=function(r,s){return s=s||0,this.substr(s,r.length)===r}),String.prototype.endsWith||(String.prototype.endsWith=function(r,s){var p=this.toString();(typeof s!="number"||!isFinite(s)||Math.floor(s)!==s||s>p.length)&&(s=p.length),s-=r.length;var d=p.indexOf(r,s);return d!==-1&&d===s}),Array.prototype.find||Object.defineProperty(Array.prototype,"find",{value:function(r){if(this===null)throw new TypeError("Array.prototype.find called on null or undefined");if(typeof r!="function")throw new TypeError("predicate must be a function");for(var s,p=Object(this),d=p.length>>>0,c=arguments[1],u=0;u<d;u++)if(s=p[u],r.call(c,s,u,p))return s}}),document.addEventListener("DOMContentLoaded",function(){document.execCommand("enableObjectResizing",!1,!1),document.execCommand("autoUrlDetect",!1,!1)})},function(o,e){var t=-1;function i(u,a,l){if(u==a)return u?[[0,u]]:[];(l<0||u.length<l)&&(l=null);var h=r(u,a),f=u.substring(0,h);h=s(u=u.substring(h),a=a.substring(h));var m=u.substring(u.length-h),v=function(g,y){var b;if(!g)return[[1,y]];if(!y)return[[t,g]];var x=g.length>y.length?g:y,E=g.length>y.length?y:g,w=x.indexOf(E);if(w!=-1)return b=[[1,x.substring(0,w)],[0,E],[1,x.substring(w+E.length)]],g.length>y.length&&(b[0][0]=b[2][0]=t),b;if(E.length==1)return[[t,g],[1,y]];var I=function(T,C){var L=T.length>C.length?T:C,B=T.length>C.length?C:T;if(L.length<4||2*B.length<L.length)return null;function Q(re,ae,qe){for(var ve,ot,we,ge,Fe=re.substring(qe,qe+Math.floor(re.length/4)),Te=-1,it="";(Te=ae.indexOf(Fe,Te+1))!=-1;){var Ct=r(re.substring(qe),ae.substring(Te)),Ge=s(re.substring(0,qe),ae.substring(0,Te));it.length<Ge+Ct&&(it=ae.substring(Te-Ge,Te)+ae.substring(Te,Te+Ct),ve=re.substring(0,qe-Ge),ot=re.substring(qe+Ct),we=ae.substring(0,Te-Ge),ge=ae.substring(Te+Ct))}return 2*it.length>=re.length?[ve,ot,we,ge,it]:null}var oe,xe,D,F,z,V=Q(L,B,Math.ceil(L.length/4)),K=Q(L,B,Math.ceil(L.length/2));if(!V&&!K)return null;oe=K?V&&V[4].length>K[4].length?V:K:V,T.length>C.length?(xe=oe[0],D=oe[1],F=oe[2],z=oe[3]):(F=oe[0],z=oe[1],xe=oe[2],D=oe[3]);var se=oe[4];return[xe,D,F,z,se]}(g,y);if(I){var k=I[0],P=I[1],A=I[2],_=I[3],O=I[4],q=i(k,A),S=i(P,_);return q.concat([[0,O]],S)}return function(T,C){for(var L=T.length,B=C.length,Q=Math.ceil((L+B)/2),oe=Q,xe=2*Q,D=new Array(xe),F=new Array(xe),z=0;z<xe;z++)D[z]=-1,F[z]=-1;D[oe+1]=0,F[oe+1]=0;for(var V=L-B,K=V%2!=0,se=0,re=0,ae=0,qe=0,ve=0;ve<Q;ve++){for(var ot=-ve+se;ot<=ve-re;ot+=2){for(var we=oe+ot,ge=(Ge=ot==-ve||ot!=ve&&D[we-1]<D[we+1]?D[we+1]:D[we-1]+1)-ot;Ge<L&&ge<B&&T.charAt(Ge)==C.charAt(ge);)Ge++,ge++;if(D[we]=Ge,Ge>L)re+=2;else if(ge>B)se+=2;else if(K&&(it=oe+V-ot)>=0&&it<xe&&F[it]!=-1&&Ge>=(Te=L-F[it]))return n(T,C,Ge,ge)}for(var Fe=-ve+ae;Fe<=ve-qe;Fe+=2){for(var Te,it=oe+Fe,Ct=(Te=Fe==-ve||Fe!=ve&&F[it-1]<F[it+1]?F[it+1]:F[it-1]+1)-Fe;Te<L&&Ct<B&&T.charAt(L-Te-1)==C.charAt(B-Ct-1);)Te++,Ct++;if(F[it]=Te,Te>L)qe+=2;else if(Ct>B)ae+=2;else if(!K&&(we=oe+V-Fe)>=0&&we<xe&&D[we]!=-1){var Ge;if(ge=oe+(Ge=D[we])-we,Ge>=(Te=L-Te))return n(T,C,Ge,ge)}}}return[[t,T],[1,C]]}(g,y)}(u=u.substring(0,u.length-h),a=a.substring(0,a.length-h));return f&&v.unshift([0,f]),m&&v.push([0,m]),p(v),l!=null&&(v=function(g,y){var b=function(P,A){if(A===0)return[0,P];for(var _=0,O=0;O<P.length;O++){var q=P[O];if(q[0]===t||q[0]===0){var S=_+q[1].length;if(A===S)return[O+1,P];if(A<S){P=P.slice();var T=A-_,C=[q[0],q[1].slice(0,T)],L=[q[0],q[1].slice(T)];return P.splice(O,1,C,L),[O+1,P]}_=S}}throw new Error("cursor_pos is out of bounds!")}(g,y),x=b[1],E=b[0],w=x[E],I=x[E+1];if(w==null||w[0]!==0)return g;if(I!=null&&w[1]+I[1]===I[1]+w[1])return x.splice(E,2,I,w),c(x,E,2);if(I!=null&&I[1].indexOf(w[1])===0){x.splice(E,2,[I[0],w[1]],[0,w[1]]);var k=I[1].slice(w[1].length);return k.length>0&&x.splice(E+2,0,[I[0],k]),c(x,E,3)}return g}(v,l)),v=function(g){for(var y=!1,b=function(I){return I.charCodeAt(0)>=56320&&I.charCodeAt(0)<=57343},x=function(I){return I.charCodeAt(I.length-1)>=55296&&I.charCodeAt(I.length-1)<=56319},E=2;E<g.length;E+=1)g[E-2][0]===0&&x(g[E-2][1])&&g[E-1][0]===t&&b(g[E-1][1])&&g[E][0]===1&&b(g[E][1])&&(y=!0,g[E-1][1]=g[E-2][1].slice(-1)+g[E-1][1],g[E][1]=g[E-2][1].slice(-1)+g[E][1],g[E-2][1]=g[E-2][1].slice(0,-1));if(!y)return g;var w=[];for(E=0;E<g.length;E+=1)g[E][1].length>0&&w.push(g[E]);return w}(v)}function n(u,a,l,h){var f=u.substring(0,l),m=a.substring(0,h),v=u.substring(l),g=a.substring(h),y=i(f,m),b=i(v,g);return y.concat(b)}function r(u,a){if(!u||!a||u.charAt(0)!=a.charAt(0))return 0;for(var l=0,h=Math.min(u.length,a.length),f=h,m=0;l<f;)u.substring(m,f)==a.substring(m,f)?m=l=f:h=f,f=Math.floor((h-l)/2+l);return f}function s(u,a){if(!u||!a||u.charAt(u.length-1)!=a.charAt(a.length-1))return 0;for(var l=0,h=Math.min(u.length,a.length),f=h,m=0;l<f;)u.substring(u.length-f,u.length-m)==a.substring(a.length-f,a.length-m)?m=l=f:h=f,f=Math.floor((h-l)/2+l);return f}function p(u){u.push([0,""]);for(var a,l=0,h=0,f=0,m="",v="";l<u.length;)switch(u[l][0]){case 1:f++,v+=u[l][1],l++;break;case t:h++,m+=u[l][1],l++;break;case 0:h+f>1?(h!==0&&f!==0&&((a=r(v,m))!==0&&(l-h-f>0&&u[l-h-f-1][0]==0?u[l-h-f-1][1]+=v.substring(0,a):(u.splice(0,0,[0,v.substring(0,a)]),l++),v=v.substring(a),m=m.substring(a)),(a=s(v,m))!==0&&(u[l][1]=v.substring(v.length-a)+u[l][1],v=v.substring(0,v.length-a),m=m.substring(0,m.length-a))),h===0?u.splice(l-f,h+f,[1,v]):f===0?u.splice(l-h,h+f,[t,m]):u.splice(l-h-f,h+f,[t,m],[1,v]),l=l-h-f+(h?1:0)+(f?1:0)+1):l!==0&&u[l-1][0]==0?(u[l-1][1]+=u[l][1],u.splice(l,1)):l++,f=0,h=0,m="",v=""}u[u.length-1][1]===""&&u.pop();var g=!1;for(l=1;l<u.length-1;)u[l-1][0]==0&&u[l+1][0]==0&&(u[l][1].substring(u[l][1].length-u[l-1][1].length)==u[l-1][1]?(u[l][1]=u[l-1][1]+u[l][1].substring(0,u[l][1].length-u[l-1][1].length),u[l+1][1]=u[l-1][1]+u[l+1][1],u.splice(l-1,1),g=!0):u[l][1].substring(0,u[l+1][1].length)==u[l+1][1]&&(u[l-1][1]+=u[l+1][1],u[l][1]=u[l][1].substring(u[l+1][1].length)+u[l+1][1],u.splice(l+1,1),g=!0)),l++;g&&p(u)}var d=i;function c(u,a,l){for(var h=a+l-1;h>=0&&h>=a-1;h--)if(h+1<u.length){var f=u[h],m=u[h+1];f[0]===m[1]&&u.splice(h,2,[f[0],f[1]+m[1]])}return u}d.INSERT=1,d.DELETE=t,d.EQUAL=0,o.exports=d},function(o,e){function t(i){var n=[];for(var r in i)n.push(r);return n}(o.exports=typeof Object.keys=="function"?Object.keys:t).shim=t},function(o,e){var t=function(){return Object.prototype.toString.call(arguments)}()=="[object Arguments]";function i(r){return Object.prototype.toString.call(r)=="[object Arguments]"}function n(r){return r&&typeof r=="object"&&typeof r.length=="number"&&Object.prototype.hasOwnProperty.call(r,"callee")&&!Object.prototype.propertyIsEnumerable.call(r,"callee")||!1}(e=o.exports=t?i:n).supported=i,e.unsupported=n},function(o,e){var t=Object.prototype.hasOwnProperty,i="~";function n(){}function r(p,d,c){this.fn=p,this.context=d,this.once=c||!1}function s(){this._events=new n,this._eventsCount=0}Object.create&&(n.prototype=Object.create(null),new n().__proto__||(i=!1)),s.prototype.eventNames=function(){var p,d,c=[];if(this._eventsCount===0)return c;for(d in p=this._events)t.call(p,d)&&c.push(i?d.slice(1):d);return Object.getOwnPropertySymbols?c.concat(Object.getOwnPropertySymbols(p)):c},s.prototype.listeners=function(p,d){var c=i?i+p:p,u=this._events[c];if(d)return!!u;if(!u)return[];if(u.fn)return[u.fn];for(var a=0,l=u.length,h=new Array(l);a<l;a++)h[a]=u[a].fn;return h},s.prototype.emit=function(p,d,c,u,a,l){var h=i?i+p:p;if(!this._events[h])return!1;var f,m,v=this._events[h],g=arguments.length;if(v.fn){switch(v.once&&this.removeListener(p,v.fn,void 0,!0),g){case 1:return v.fn.call(v.context),!0;case 2:return v.fn.call(v.context,d),!0;case 3:return v.fn.call(v.context,d,c),!0;case 4:return v.fn.call(v.context,d,c,u),!0;case 5:return v.fn.call(v.context,d,c,u,a),!0;case 6:return v.fn.call(v.context,d,c,u,a,l),!0}for(m=1,f=new Array(g-1);m<g;m++)f[m-1]=arguments[m];v.fn.apply(v.context,f)}else{var y,b=v.length;for(m=0;m<b;m++)switch(v[m].once&&this.removeListener(p,v[m].fn,void 0,!0),g){case 1:v[m].fn.call(v[m].context);break;case 2:v[m].fn.call(v[m].context,d);break;case 3:v[m].fn.call(v[m].context,d,c);break;case 4:v[m].fn.call(v[m].context,d,c,u);break;default:if(!f)for(y=1,f=new Array(g-1);y<g;y++)f[y-1]=arguments[y];v[m].fn.apply(v[m].context,f)}}return!0},s.prototype.on=function(p,d,c){var u=new r(d,c||this),a=i?i+p:p;return this._events[a]?this._events[a].fn?this._events[a]=[this._events[a],u]:this._events[a].push(u):(this._events[a]=u,this._eventsCount++),this},s.prototype.once=function(p,d,c){var u=new r(d,c||this,!0),a=i?i+p:p;return this._events[a]?this._events[a].fn?this._events[a]=[this._events[a],u]:this._events[a].push(u):(this._events[a]=u,this._eventsCount++),this},s.prototype.removeListener=function(p,d,c,u){var a=i?i+p:p;if(!this._events[a])return this;if(!d)return--this._eventsCount==0?this._events=new n:delete this._events[a],this;var l=this._events[a];if(l.fn)l.fn!==d||u&&!l.once||c&&l.context!==c||(--this._eventsCount==0?this._events=new n:delete this._events[a]);else{for(var h=0,f=[],m=l.length;h<m;h++)(l[h].fn!==d||u&&!l[h].once||c&&l[h].context!==c)&&f.push(l[h]);f.length?this._events[a]=f.length===1?f[0]:f:--this._eventsCount==0?this._events=new n:delete this._events[a]}return this},s.prototype.removeAllListeners=function(p){var d;return p?(d=i?i+p:p,this._events[d]&&(--this._eventsCount==0?this._events=new n:delete this._events[d])):(this._events=new n,this._eventsCount=0),this},s.prototype.off=s.prototype.removeListener,s.prototype.addListener=s.prototype.on,s.prototype.setMaxListeners=function(){return this},s.prefixed=i,s.EventEmitter=s,o!==void 0&&(o.exports=s)},function(o,e,t){Object.defineProperty(e,"__esModule",{value:!0}),e.matchText=e.matchSpacing=e.matchNewline=e.matchBlot=e.matchAttributor=e.default=void 0;var i=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(D){return typeof D}:function(D){return D&&typeof Symbol=="function"&&D.constructor===Symbol&&D!==Symbol.prototype?"symbol":typeof D},n=function(D,F){if(Array.isArray(D))return D;if(Symbol.iterator in Object(D))return function(z,V){var K=[],se=!0,re=!1,ae=void 0;try{for(var qe,ve=z[Symbol.iterator]();!(se=(qe=ve.next()).done)&&(K.push(qe.value),!V||K.length!==V);se=!0);}catch(ot){re=!0,ae=ot}finally{try{!se&&ve.return&&ve.return()}finally{if(re)throw ae}}return K}(D,F);throw new TypeError("Invalid attempt to destructure non-iterable instance")},r=function(){function D(F,z){for(var V=0;V<z.length;V++){var K=z[V];K.enumerable=K.enumerable||!1,K.configurable=!0,"value"in K&&(K.writable=!0),Object.defineProperty(F,K.key,K)}}return function(F,z,V){return z&&D(F.prototype,z),V&&D(F,V),F}}(),s=b(t(3)),p=b(t(2)),d=b(t(0)),c=b(t(5)),u=b(t(10)),a=b(t(9)),l=t(36),h=t(37),f=b(t(13)),m=t(26),v=t(38),g=t(39),y=t(40);function b(D){return D&&D.__esModule?D:{default:D}}function x(D,F,z){return F in D?Object.defineProperty(D,F,{value:z,enumerable:!0,configurable:!0,writable:!0}):D[F]=z,D}var E=(0,u.default)("quill:clipboard"),w="__ql-matcher",I=[[Node.TEXT_NODE,xe],[Node.TEXT_NODE,Q],["br",function(D,F){return q(F,`
`)||F.insert(`
`),F}],[Node.ELEMENT_NODE,Q],[Node.ELEMENT_NODE,B],[Node.ELEMENT_NODE,oe],[Node.ELEMENT_NODE,L],[Node.ELEMENT_NODE,function(D,F){var z={},V=D.style||{};return V.fontStyle&&O(D).fontStyle==="italic"&&(z.italic=!0),V.fontWeight&&(O(D).fontWeight.startsWith("bold")||parseInt(O(D).fontWeight)>=700)&&(z.bold=!0),Object.keys(z).length>0&&(F=_(F,z)),parseFloat(V.textIndent||0)>0&&(F=new p.default().insert("	").concat(F)),F}],["li",function(D,F){var z=d.default.query(D);if(z==null||z.blotName!=="list-item"||!q(F,`
`))return F;for(var V=-1,K=D.parentNode;!K.classList.contains("ql-clipboard");)(d.default.query(K)||{}).blotName==="list"&&(V+=1),K=K.parentNode;return V<=0?F:F.compose(new p.default().retain(F.length()-1).retain(1,{indent:V}))}],["b",C.bind(C,"bold")],["i",C.bind(C,"italic")],["style",function(){return new p.default}]],k=[l.AlignAttribute,v.DirectionAttribute].reduce(function(D,F){return D[F.keyName]=F,D},{}),P=[l.AlignStyle,h.BackgroundStyle,m.ColorStyle,v.DirectionStyle,g.FontStyle,y.SizeStyle].reduce(function(D,F){return D[F.keyName]=F,D},{}),A=function(D){function F(z,V){(function(se,re){if(!(se instanceof re))throw new TypeError("Cannot call a class as a function")})(this,F);var K=function(se,re){if(!se)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!re||typeof re!="object"&&typeof re!="function"?se:re}(this,(F.__proto__||Object.getPrototypeOf(F)).call(this,z,V));return K.quill.root.addEventListener("paste",K.onPaste.bind(K)),K.container=K.quill.addContainer("ql-clipboard"),K.container.setAttribute("contenteditable",!0),K.container.setAttribute("tabindex",-1),K.matchers=[],I.concat(K.options.matchers).forEach(function(se){var re=n(se,2),ae=re[0],qe=re[1];(V.matchVisual||qe!==oe)&&K.addMatcher(ae,qe)}),K}return function(z,V){if(typeof V!="function"&&V!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof V);z.prototype=Object.create(V&&V.prototype,{constructor:{value:z,enumerable:!1,writable:!0,configurable:!0}}),V&&(Object.setPrototypeOf?Object.setPrototypeOf(z,V):z.__proto__=V)}(F,D),r(F,[{key:"addMatcher",value:function(z,V){this.matchers.push([z,V])}},{key:"convert",value:function(z){if(typeof z=="string")return this.container.innerHTML=z.replace(/\>\r?\n +\</g,"><"),this.convert();var V=this.quill.getFormat(this.quill.selection.savedRange.index);if(V[f.default.blotName]){var K=this.container.innerText;return this.container.innerHTML="",new p.default().insert(K,x({},f.default.blotName,V[f.default.blotName]))}var se=this.prepareMatching(),re=n(se,2),ae=re[0],qe=re[1],ve=T(this.container,ae,qe);return q(ve,`
`)&&ve.ops[ve.ops.length-1].attributes==null&&(ve=ve.compose(new p.default().retain(ve.length()-1).delete(1))),E.log("convert",this.container.innerHTML,ve),this.container.innerHTML="",ve}},{key:"dangerouslyPasteHTML",value:function(z,V){var K=arguments.length>2&&arguments[2]!==void 0?arguments[2]:c.default.sources.API;if(typeof z=="string")this.quill.setContents(this.convert(z),V),this.quill.setSelection(0,c.default.sources.SILENT);else{var se=this.convert(V);this.quill.updateContents(new p.default().retain(z).concat(se),K),this.quill.setSelection(z+se.length(),c.default.sources.SILENT)}}},{key:"onPaste",value:function(z){var V=this;if(!z.defaultPrevented&&this.quill.isEnabled()){var K=this.quill.getSelection(),se=new p.default().retain(K.index),re=this.quill.scrollingContainer.scrollTop;this.container.focus(),this.quill.selection.update(c.default.sources.SILENT),setTimeout(function(){se=se.concat(V.convert()).delete(K.length),V.quill.updateContents(se,c.default.sources.USER),V.quill.setSelection(se.length()-K.length,c.default.sources.SILENT),V.quill.scrollingContainer.scrollTop=re,V.quill.focus()},1)}}},{key:"prepareMatching",value:function(){var z=this,V=[],K=[];return this.matchers.forEach(function(se){var re=n(se,2),ae=re[0],qe=re[1];switch(ae){case Node.TEXT_NODE:K.push(qe);break;case Node.ELEMENT_NODE:V.push(qe);break;default:[].forEach.call(z.container.querySelectorAll(ae),function(ve){ve[w]=ve[w]||[],ve[w].push(qe)})}}),[V,K]}}]),F}(a.default);function _(D,F,z){return(F===void 0?"undefined":i(F))==="object"?Object.keys(F).reduce(function(V,K){return _(V,K,F[K])},D):D.reduce(function(V,K){return K.attributes&&K.attributes[F]?V.push(K):V.insert(K.insert,(0,s.default)({},x({},F,z),K.attributes))},new p.default)}function O(D){if(D.nodeType!==Node.ELEMENT_NODE)return{};var F="__ql-computed-style";return D[F]||(D[F]=window.getComputedStyle(D))}function q(D,F){for(var z="",V=D.ops.length-1;V>=0&&z.length<F.length;--V){var K=D.ops[V];if(typeof K.insert!="string")break;z=K.insert+z}return z.slice(-1*F.length)===F}function S(D){if(D.childNodes.length===0)return!1;var F=O(D);return["block","list-item"].indexOf(F.display)>-1}function T(D,F,z){return D.nodeType===D.TEXT_NODE?z.reduce(function(V,K){return K(D,V)},new p.default):D.nodeType===D.ELEMENT_NODE?[].reduce.call(D.childNodes||[],function(V,K){var se=T(K,F,z);return K.nodeType===D.ELEMENT_NODE&&(se=F.reduce(function(re,ae){return ae(K,re)},se),se=(K[w]||[]).reduce(function(re,ae){return ae(K,re)},se)),V.concat(se)},new p.default):new p.default}function C(D,F,z){return _(z,D,!0)}function L(D,F){var z=d.default.Attributor.Attribute.keys(D),V=d.default.Attributor.Class.keys(D),K=d.default.Attributor.Style.keys(D),se={};return z.concat(V).concat(K).forEach(function(re){var ae=d.default.query(re,d.default.Scope.ATTRIBUTE);ae!=null&&(se[ae.attrName]=ae.value(D),se[ae.attrName])||((ae=k[re])==null||ae.attrName!==re&&ae.keyName!==re||(se[ae.attrName]=ae.value(D)||void 0),(ae=P[re])==null||ae.attrName!==re&&ae.keyName!==re||(ae=P[re],se[ae.attrName]=ae.value(D)||void 0))}),Object.keys(se).length>0&&(F=_(F,se)),F}function B(D,F){var z=d.default.query(D);if(z==null)return F;if(z.prototype instanceof d.default.Embed){var V={},K=z.value(D);K!=null&&(V[z.blotName]=K,F=new p.default().insert(V,z.formats(D)))}else typeof z.formats=="function"&&(F=_(F,z.blotName,z.formats(D)));return F}function Q(D,F){return q(F,`
`)||(S(D)||F.length()>0&&D.nextSibling&&S(D.nextSibling))&&F.insert(`
`),F}function oe(D,F){if(S(D)&&D.nextElementSibling!=null&&!q(F,`

`)){var z=D.offsetHeight+parseFloat(O(D).marginTop)+parseFloat(O(D).marginBottom);D.nextElementSibling.offsetTop>D.offsetTop+1.5*z&&F.insert(`
`)}return F}function xe(D,F){var z=D.data;if(D.parentNode.tagName==="O:P")return F.insert(z.trim());if(z.trim().length===0&&D.parentNode.classList.contains("ql-clipboard"))return F;if(!O(D.parentNode).whiteSpace.startsWith("pre")){var V=function(K,se){return(se=se.replace(/[^\u00a0]/g,"")).length<1&&K?" ":se};z=(z=z.replace(/\r\n/g," ").replace(/\n/g," ")).replace(/\s\s+/g,V.bind(V,!0)),(D.previousSibling==null&&S(D.parentNode)||D.previousSibling!=null&&S(D.previousSibling))&&(z=z.replace(/^\s+/,V.bind(V,!1))),(D.nextSibling==null&&S(D.parentNode)||D.nextSibling!=null&&S(D.nextSibling))&&(z=z.replace(/\s+$/,V.bind(V,!1)))}return F.insert(z)}A.DEFAULTS={matchers:[],matchVisual:!0},e.default=A,e.matchAttributor=L,e.matchBlot=B,e.matchNewline=Q,e.matchSpacing=oe,e.matchText=xe},function(o,e,t){Object.defineProperty(e,"__esModule",{value:!0});var i,n=function(){function u(a,l){for(var h=0;h<l.length;h++){var f=l[h];f.enumerable=f.enumerable||!1,f.configurable=!0,"value"in f&&(f.writable=!0),Object.defineProperty(a,f.key,f)}}return function(a,l,h){return l&&u(a.prototype,l),h&&u(a,h),a}}(),r=function u(a,l,h){a===null&&(a=Function.prototype);var f=Object.getOwnPropertyDescriptor(a,l);if(f===void 0){var m=Object.getPrototypeOf(a);return m===null?void 0:u(m,l,h)}if("value"in f)return f.value;var v=f.get;return v!==void 0?v.call(h):void 0},s=t(6);function p(u,a){if(!(u instanceof a))throw new TypeError("Cannot call a class as a function")}function d(u,a){if(!u)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!a||typeof a!="object"&&typeof a!="function"?u:a}var c=function(u){function a(){return p(this,a),d(this,(a.__proto__||Object.getPrototypeOf(a)).apply(this,arguments))}return function(l,h){if(typeof h!="function"&&h!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof h);l.prototype=Object.create(h&&h.prototype,{constructor:{value:l,enumerable:!1,writable:!0,configurable:!0}}),h&&(Object.setPrototypeOf?Object.setPrototypeOf(l,h):l.__proto__=h)}(a,u),n(a,[{key:"optimize",value:function(l){r(a.prototype.__proto__||Object.getPrototypeOf(a.prototype),"optimize",this).call(this,l),this.domNode.tagName!==this.statics.tagName[0]&&this.replaceWith(this.statics.blotName)}}],[{key:"create",value:function(){return r(a.__proto__||Object.getPrototypeOf(a),"create",this).call(this)}},{key:"formats",value:function(){return!0}}]),a}(((i=s)&&i.__esModule?i:{default:i}).default);c.blotName="bold",c.tagName=["STRONG","B"],e.default=c},function(o,e,t){Object.defineProperty(e,"__esModule",{value:!0}),e.addControls=e.default=void 0;var i=function(v,g){if(Array.isArray(v))return v;if(Symbol.iterator in Object(v))return function(y,b){var x=[],E=!0,w=!1,I=void 0;try{for(var k,P=y[Symbol.iterator]();!(E=(k=P.next()).done)&&(x.push(k.value),!b||x.length!==b);E=!0);}catch(A){w=!0,I=A}finally{try{!E&&P.return&&P.return()}finally{if(w)throw I}}return x}(v,g);throw new TypeError("Invalid attempt to destructure non-iterable instance")},n=function(){function v(g,y){for(var b=0;b<y.length;b++){var x=y[b];x.enumerable=x.enumerable||!1,x.configurable=!0,"value"in x&&(x.writable=!0),Object.defineProperty(g,x.key,x)}}return function(g,y,b){return y&&v(g.prototype,y),b&&v(g,b),g}}(),r=u(t(2)),s=u(t(0)),p=u(t(5)),d=u(t(10)),c=u(t(9));function u(v){return v&&v.__esModule?v:{default:v}}function a(v,g){if(!v)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!g||typeof g!="object"&&typeof g!="function"?v:g}var l=(0,d.default)("quill:toolbar"),h=function(v){function g(y,b){(function(I,k){if(!(I instanceof k))throw new TypeError("Cannot call a class as a function")})(this,g);var x,E=a(this,(g.__proto__||Object.getPrototypeOf(g)).call(this,y,b));if(Array.isArray(E.options.container)){var w=document.createElement("div");m(w,E.options.container),y.container.parentNode.insertBefore(w,y.container),E.container=w}else typeof E.options.container=="string"?E.container=document.querySelector(E.options.container):E.container=E.options.container;return E.container instanceof HTMLElement?(E.container.classList.add("ql-toolbar"),E.controls=[],E.handlers={},Object.keys(E.options.handlers).forEach(function(I){E.addHandler(I,E.options.handlers[I])}),[].forEach.call(E.container.querySelectorAll("button, select"),function(I){E.attach(I)}),E.quill.on(p.default.events.EDITOR_CHANGE,function(I,k){I===p.default.events.SELECTION_CHANGE&&E.update(k)}),E.quill.on(p.default.events.SCROLL_OPTIMIZE,function(){var I=E.quill.selection.getRange(),k=i(I,1)[0];E.update(k)}),E):(x=l.error("Container required for toolbar",E.options),a(E,x))}return function(y,b){if(typeof b!="function"&&b!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof b);y.prototype=Object.create(b&&b.prototype,{constructor:{value:y,enumerable:!1,writable:!0,configurable:!0}}),b&&(Object.setPrototypeOf?Object.setPrototypeOf(y,b):y.__proto__=b)}(g,v),n(g,[{key:"addHandler",value:function(y,b){this.handlers[y]=b}},{key:"attach",value:function(y){var b=this,x=[].find.call(y.classList,function(w){return w.indexOf("ql-")===0});if(x){if(x=x.slice(3),y.tagName==="BUTTON"&&y.setAttribute("type","button"),this.handlers[x]==null){if(this.quill.scroll.whitelist!=null&&this.quill.scroll.whitelist[x]==null)return void l.warn("ignoring attaching to disabled format",x,y);if(s.default.query(x)==null)return void l.warn("ignoring attaching to nonexistent format",x,y)}var E=y.tagName==="SELECT"?"change":"click";y.addEventListener(E,function(w){var I=void 0;if(y.tagName==="SELECT"){if(y.selectedIndex<0)return;var k=y.options[y.selectedIndex];I=!k.hasAttribute("selected")&&(k.value||!1)}else I=!y.classList.contains("ql-active")&&(y.value||!y.hasAttribute("value")),w.preventDefault();b.quill.focus();var P=b.quill.selection.getRange(),A=i(P,1)[0];if(b.handlers[x]!=null)b.handlers[x].call(b,I);else if(s.default.query(x).prototype instanceof s.default.Embed){if(!(I=prompt("Enter "+x)))return;b.quill.updateContents(new r.default().retain(A.index).delete(A.length).insert(function(_,O,q){return O in _?Object.defineProperty(_,O,{value:q,enumerable:!0,configurable:!0,writable:!0}):_[O]=q,_}({},x,I)),p.default.sources.USER)}else b.quill.format(x,I,p.default.sources.USER);b.update(A)}),this.controls.push([x,y])}}},{key:"update",value:function(y){var b=y==null?{}:this.quill.getFormat(y);this.controls.forEach(function(x){var E=i(x,2),w=E[0],I=E[1];if(I.tagName==="SELECT"){var k=void 0;if(y==null)k=null;else if(b[w]==null)k=I.querySelector("option[selected]");else if(!Array.isArray(b[w])){var P=b[w];typeof P=="string"&&(P=P.replace(/\"/g,'\\"')),k=I.querySelector('option[value="'+P+'"]')}k==null?(I.value="",I.selectedIndex=-1):k.selected=!0}else if(y==null)I.classList.remove("ql-active");else if(I.hasAttribute("value")){var A=b[w]===I.getAttribute("value")||b[w]!=null&&b[w].toString()===I.getAttribute("value")||b[w]==null&&!I.getAttribute("value");I.classList.toggle("ql-active",A)}else I.classList.toggle("ql-active",b[w]!=null)})}}]),g}(c.default);function f(v,g,y){var b=document.createElement("button");b.setAttribute("type","button"),b.classList.add("ql-"+g),y!=null&&(b.value=y),v.appendChild(b)}function m(v,g){Array.isArray(g[0])||(g=[g]),g.forEach(function(y){var b=document.createElement("span");b.classList.add("ql-formats"),y.forEach(function(x){if(typeof x=="string")f(b,x);else{var E=Object.keys(x)[0],w=x[E];Array.isArray(w)?function(I,k,P){var A=document.createElement("select");A.classList.add("ql-"+k),P.forEach(function(_){var O=document.createElement("option");_!==!1?O.setAttribute("value",_):O.setAttribute("selected","selected"),A.appendChild(O)}),I.appendChild(A)}(b,E,w):f(b,E,w)}}),v.appendChild(b)})}h.DEFAULTS={},h.DEFAULTS={container:null,handlers:{clean:function(){var v=this,g=this.quill.getSelection();if(g!=null)if(g.length==0){var y=this.quill.getFormat();Object.keys(y).forEach(function(b){s.default.query(b,s.default.Scope.INLINE)!=null&&v.quill.format(b,!1)})}else this.quill.removeFormat(g,p.default.sources.USER)},direction:function(v){var g=this.quill.getFormat().align;v==="rtl"&&g==null?this.quill.format("align","right",p.default.sources.USER):v||g!=="right"||this.quill.format("align",!1,p.default.sources.USER),this.quill.format("direction",v,p.default.sources.USER)},indent:function(v){var g=this.quill.getSelection(),y=this.quill.getFormat(g),b=parseInt(y.indent||0);if(v==="+1"||v==="-1"){var x=v==="+1"?1:-1;y.direction==="rtl"&&(x*=-1),this.quill.format("indent",b+x,p.default.sources.USER)}},link:function(v){v===!0&&(v=prompt("Enter link URL:")),this.quill.format("link",v,p.default.sources.USER)},list:function(v){var g=this.quill.getSelection(),y=this.quill.getFormat(g);v==="check"?y.list==="checked"||y.list==="unchecked"?this.quill.format("list",!1,p.default.sources.USER):this.quill.format("list","unchecked",p.default.sources.USER):this.quill.format("list",v,p.default.sources.USER)}}},e.default=h,e.addControls=m},function(o,e){o.exports='<svg viewbox="0 0 18 18"> <polyline class="ql-even ql-stroke" points="5 7 3 9 5 11"></polyline> <polyline class="ql-even ql-stroke" points="13 7 15 9 13 11"></polyline> <line class=ql-stroke x1=10 x2=8 y1=5 y2=13></line> </svg>'},function(o,e,t){Object.defineProperty(e,"__esModule",{value:!0});var i,n=function(){function d(c,u){for(var a=0;a<u.length;a++){var l=u[a];l.enumerable=l.enumerable||!1,l.configurable=!0,"value"in l&&(l.writable=!0),Object.defineProperty(c,l.key,l)}}return function(c,u,a){return u&&d(c.prototype,u),a&&d(c,a),c}}(),r=function d(c,u,a){c===null&&(c=Function.prototype);var l=Object.getOwnPropertyDescriptor(c,u);if(l===void 0){var h=Object.getPrototypeOf(c);return h===null?void 0:d(h,u,a)}if("value"in l)return l.value;var f=l.get;return f!==void 0?f.call(a):void 0},s=t(28),p=function(d){function c(u,a){(function(h,f){if(!(h instanceof f))throw new TypeError("Cannot call a class as a function")})(this,c);var l=function(h,f){if(!h)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!f||typeof f!="object"&&typeof f!="function"?h:f}(this,(c.__proto__||Object.getPrototypeOf(c)).call(this,u));return l.label.innerHTML=a,l.container.classList.add("ql-color-picker"),[].slice.call(l.container.querySelectorAll(".ql-picker-item"),0,7).forEach(function(h){h.classList.add("ql-primary")}),l}return function(u,a){if(typeof a!="function"&&a!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof a);u.prototype=Object.create(a&&a.prototype,{constructor:{value:u,enumerable:!1,writable:!0,configurable:!0}}),a&&(Object.setPrototypeOf?Object.setPrototypeOf(u,a):u.__proto__=a)}(c,d),n(c,[{key:"buildItem",value:function(u){var a=r(c.prototype.__proto__||Object.getPrototypeOf(c.prototype),"buildItem",this).call(this,u);return a.style.backgroundColor=u.getAttribute("value")||"",a}},{key:"selectItem",value:function(u,a){r(c.prototype.__proto__||Object.getPrototypeOf(c.prototype),"selectItem",this).call(this,u,a);var l=this.label.querySelector(".ql-color-label"),h=u&&u.getAttribute("data-value")||"";l&&(l.tagName==="line"?l.style.stroke=h:l.style.fill=h)}}]),c}(((i=s)&&i.__esModule?i:{default:i}).default);e.default=p},function(o,e,t){Object.defineProperty(e,"__esModule",{value:!0});var i,n=function(){function d(c,u){for(var a=0;a<u.length;a++){var l=u[a];l.enumerable=l.enumerable||!1,l.configurable=!0,"value"in l&&(l.writable=!0),Object.defineProperty(c,l.key,l)}}return function(c,u,a){return u&&d(c.prototype,u),a&&d(c,a),c}}(),r=function d(c,u,a){c===null&&(c=Function.prototype);var l=Object.getOwnPropertyDescriptor(c,u);if(l===void 0){var h=Object.getPrototypeOf(c);return h===null?void 0:d(h,u,a)}if("value"in l)return l.value;var f=l.get;return f!==void 0?f.call(a):void 0},s=t(28),p=function(d){function c(u,a){(function(h,f){if(!(h instanceof f))throw new TypeError("Cannot call a class as a function")})(this,c);var l=function(h,f){if(!h)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!f||typeof f!="object"&&typeof f!="function"?h:f}(this,(c.__proto__||Object.getPrototypeOf(c)).call(this,u));return l.container.classList.add("ql-icon-picker"),[].forEach.call(l.container.querySelectorAll(".ql-picker-item"),function(h){h.innerHTML=a[h.getAttribute("data-value")||""]}),l.defaultItem=l.container.querySelector(".ql-selected"),l.selectItem(l.defaultItem),l}return function(u,a){if(typeof a!="function"&&a!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof a);u.prototype=Object.create(a&&a.prototype,{constructor:{value:u,enumerable:!1,writable:!0,configurable:!0}}),a&&(Object.setPrototypeOf?Object.setPrototypeOf(u,a):u.__proto__=a)}(c,d),n(c,[{key:"selectItem",value:function(u,a){r(c.prototype.__proto__||Object.getPrototypeOf(c.prototype),"selectItem",this).call(this,u,a),u=u||this.defaultItem,this.label.innerHTML=u.innerHTML}}]),c}(((i=s)&&i.__esModule?i:{default:i}).default);e.default=p},function(o,e,t){Object.defineProperty(e,"__esModule",{value:!0});var i=function(){function r(s,p){for(var d=0;d<p.length;d++){var c=p[d];c.enumerable=c.enumerable||!1,c.configurable=!0,"value"in c&&(c.writable=!0),Object.defineProperty(s,c.key,c)}}return function(s,p,d){return p&&r(s.prototype,p),d&&r(s,d),s}}(),n=function(){function r(s,p){var d=this;(function(c,u){if(!(c instanceof u))throw new TypeError("Cannot call a class as a function")})(this,r),this.quill=s,this.boundsContainer=p||document.body,this.root=s.addContainer("ql-tooltip"),this.root.innerHTML=this.constructor.TEMPLATE,this.quill.root===this.quill.scrollingContainer&&this.quill.root.addEventListener("scroll",function(){d.root.style.marginTop=-1*d.quill.root.scrollTop+"px"}),this.hide()}return i(r,[{key:"hide",value:function(){this.root.classList.add("ql-hidden")}},{key:"position",value:function(s){var p=s.left+s.width/2-this.root.offsetWidth/2,d=s.bottom+this.quill.root.scrollTop;this.root.style.left=p+"px",this.root.style.top=d+"px",this.root.classList.remove("ql-flip");var c=this.boundsContainer.getBoundingClientRect(),u=this.root.getBoundingClientRect(),a=0;if(u.right>c.right&&(a=c.right-u.right,this.root.style.left=p+a+"px"),u.left<c.left&&(a=c.left-u.left,this.root.style.left=p+a+"px"),u.bottom>c.bottom){var l=u.bottom-u.top,h=s.bottom-s.top+l;this.root.style.top=d-h+"px",this.root.classList.add("ql-flip")}return a}},{key:"show",value:function(){this.root.classList.remove("ql-editing"),this.root.classList.remove("ql-hidden")}}]),r}();e.default=n},function(o,e,t){Object.defineProperty(e,"__esModule",{value:!0});var i=function(x,E){if(Array.isArray(x))return x;if(Symbol.iterator in Object(x))return function(w,I){var k=[],P=!0,A=!1,_=void 0;try{for(var O,q=w[Symbol.iterator]();!(P=(O=q.next()).done)&&(k.push(O.value),!I||k.length!==I);P=!0);}catch(S){A=!0,_=S}finally{try{!P&&q.return&&q.return()}finally{if(A)throw _}}return k}(x,E);throw new TypeError("Invalid attempt to destructure non-iterable instance")},n=function x(E,w,I){E===null&&(E=Function.prototype);var k=Object.getOwnPropertyDescriptor(E,w);if(k===void 0){var P=Object.getPrototypeOf(E);return P===null?void 0:x(P,w,I)}if("value"in k)return k.value;var A=k.get;return A!==void 0?A.call(I):void 0},r=function(){function x(E,w){for(var I=0;I<w.length;I++){var k=w[I];k.enumerable=k.enumerable||!1,k.configurable=!0,"value"in k&&(k.writable=!0),Object.defineProperty(E,k.key,k)}}return function(E,w,I){return w&&x(E.prototype,w),I&&x(E,I),E}}(),s=h(t(3)),p=h(t(8)),d=t(43),c=h(d),u=h(t(27)),a=t(15),l=h(t(41));function h(x){return x&&x.__esModule?x:{default:x}}function f(x,E){if(!(x instanceof E))throw new TypeError("Cannot call a class as a function")}function m(x,E){if(!x)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!E||typeof E!="object"&&typeof E!="function"?x:E}function v(x,E){if(typeof E!="function"&&E!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof E);x.prototype=Object.create(E&&E.prototype,{constructor:{value:x,enumerable:!1,writable:!0,configurable:!0}}),E&&(Object.setPrototypeOf?Object.setPrototypeOf(x,E):x.__proto__=E)}var g=[[{header:["1","2","3",!1]}],["bold","italic","underline","link"],[{list:"ordered"},{list:"bullet"}],["clean"]],y=function(x){function E(w,I){f(this,E),I.modules.toolbar!=null&&I.modules.toolbar.container==null&&(I.modules.toolbar.container=g);var k=m(this,(E.__proto__||Object.getPrototypeOf(E)).call(this,w,I));return k.quill.container.classList.add("ql-snow"),k}return v(E,x),r(E,[{key:"extendToolbar",value:function(w){w.container.classList.add("ql-snow"),this.buildButtons([].slice.call(w.container.querySelectorAll("button")),l.default),this.buildPickers([].slice.call(w.container.querySelectorAll("select")),l.default),this.tooltip=new b(this.quill,this.options.bounds),w.container.querySelector(".ql-link")&&this.quill.keyboard.addBinding({key:"K",shortKey:!0},function(I,k){w.handlers.link.call(w,!k.format.link)})}}]),E}(c.default);y.DEFAULTS=(0,s.default)(!0,{},c.default.DEFAULTS,{modules:{toolbar:{handlers:{link:function(x){if(x){var E=this.quill.getSelection();if(E==null||E.length==0)return;var w=this.quill.getText(E);/^\S+@\S+\.\S+$/.test(w)&&w.indexOf("mailto:")!==0&&(w="mailto:"+w),this.quill.theme.tooltip.edit("link",w)}else this.quill.format("link",!1)}}}}});var b=function(x){function E(w,I){f(this,E);var k=m(this,(E.__proto__||Object.getPrototypeOf(E)).call(this,w,I));return k.preview=k.root.querySelector("a.ql-preview"),k}return v(E,x),r(E,[{key:"listen",value:function(){var w=this;n(E.prototype.__proto__||Object.getPrototypeOf(E.prototype),"listen",this).call(this),this.root.querySelector("a.ql-action").addEventListener("click",function(I){w.root.classList.contains("ql-editing")?w.save():w.edit("link",w.preview.textContent),I.preventDefault()}),this.root.querySelector("a.ql-remove").addEventListener("click",function(I){if(w.linkRange!=null){var k=w.linkRange;w.restoreFocus(),w.quill.formatText(k,"link",!1,p.default.sources.USER),delete w.linkRange}I.preventDefault(),w.hide()}),this.quill.on(p.default.events.SELECTION_CHANGE,function(I,k,P){if(I!=null){if(I.length===0&&P===p.default.sources.USER){var A=w.quill.scroll.descendant(u.default,I.index),_=i(A,2),O=_[0],q=_[1];if(O!=null){w.linkRange=new a.Range(I.index-q,O.length());var S=u.default.formats(O.domNode);return w.preview.textContent=S,w.preview.setAttribute("href",S),w.show(),void w.position(w.quill.getBounds(w.linkRange))}}else delete w.linkRange;w.hide()}})}},{key:"show",value:function(){n(E.prototype.__proto__||Object.getPrototypeOf(E.prototype),"show",this).call(this),this.root.removeAttribute("data-mode")}}]),E}(d.BaseTooltip);b.TEMPLATE=['<a class="ql-preview" rel="noopener noreferrer" target="_blank" href="about:blank"></a>','<input type="text" data-formula="e=mc^2" data-link="https://quilljs.com" data-video="Embed URL">','<a class="ql-action"></a>','<a class="ql-remove"></a>'].join(""),e.default=y},function(o,e,t){Object.defineProperty(e,"__esModule",{value:!0});var i=Q(t(29)),n=t(36),r=t(38),s=t(64),p=Q(t(65)),d=Q(t(66)),c=t(67),u=Q(c),a=t(37),l=t(26),h=t(39),f=t(40),m=Q(t(56)),v=Q(t(68)),g=Q(t(27)),y=Q(t(69)),b=Q(t(70)),x=Q(t(71)),E=Q(t(72)),w=Q(t(73)),I=t(13),k=Q(I),P=Q(t(74)),A=Q(t(75)),_=Q(t(57)),O=Q(t(41)),q=Q(t(28)),S=Q(t(59)),T=Q(t(60)),C=Q(t(61)),L=Q(t(108)),B=Q(t(62));function Q(oe){return oe&&oe.__esModule?oe:{default:oe}}i.default.register({"attributors/attribute/direction":r.DirectionAttribute,"attributors/class/align":n.AlignClass,"attributors/class/background":a.BackgroundClass,"attributors/class/color":l.ColorClass,"attributors/class/direction":r.DirectionClass,"attributors/class/font":h.FontClass,"attributors/class/size":f.SizeClass,"attributors/style/align":n.AlignStyle,"attributors/style/background":a.BackgroundStyle,"attributors/style/color":l.ColorStyle,"attributors/style/direction":r.DirectionStyle,"attributors/style/font":h.FontStyle,"attributors/style/size":f.SizeStyle},!0),i.default.register({"formats/align":n.AlignClass,"formats/direction":r.DirectionClass,"formats/indent":s.IndentClass,"formats/background":a.BackgroundStyle,"formats/color":l.ColorStyle,"formats/font":h.FontClass,"formats/size":f.SizeClass,"formats/blockquote":p.default,"formats/code-block":k.default,"formats/header":d.default,"formats/list":u.default,"formats/bold":m.default,"formats/code":I.Code,"formats/italic":v.default,"formats/link":g.default,"formats/script":y.default,"formats/strike":b.default,"formats/underline":x.default,"formats/image":E.default,"formats/video":w.default,"formats/list/item":c.ListItem,"modules/formula":P.default,"modules/syntax":A.default,"modules/toolbar":_.default,"themes/bubble":L.default,"themes/snow":B.default,"ui/icons":O.default,"ui/picker":q.default,"ui/icon-picker":T.default,"ui/color-picker":S.default,"ui/tooltip":C.default},!0),e.default=i.default},function(o,e,t){Object.defineProperty(e,"__esModule",{value:!0}),e.IndentClass=void 0;var i,n=function(){function a(l,h){for(var f=0;f<h.length;f++){var m=h[f];m.enumerable=m.enumerable||!1,m.configurable=!0,"value"in m&&(m.writable=!0),Object.defineProperty(l,m.key,m)}}return function(l,h,f){return h&&a(l.prototype,h),f&&a(l,f),l}}(),r=function a(l,h,f){l===null&&(l=Function.prototype);var m=Object.getOwnPropertyDescriptor(l,h);if(m===void 0){var v=Object.getPrototypeOf(l);return v===null?void 0:a(v,h,f)}if("value"in m)return m.value;var g=m.get;return g!==void 0?g.call(f):void 0},s=t(0),p=(i=s)&&i.__esModule?i:{default:i};function d(a,l){if(!(a instanceof l))throw new TypeError("Cannot call a class as a function")}function c(a,l){if(!a)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!l||typeof l!="object"&&typeof l!="function"?a:l}var u=new(function(a){function l(){return d(this,l),c(this,(l.__proto__||Object.getPrototypeOf(l)).apply(this,arguments))}return function(h,f){if(typeof f!="function"&&f!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof f);h.prototype=Object.create(f&&f.prototype,{constructor:{value:h,enumerable:!1,writable:!0,configurable:!0}}),f&&(Object.setPrototypeOf?Object.setPrototypeOf(h,f):h.__proto__=f)}(l,a),n(l,[{key:"add",value:function(h,f){if(f==="+1"||f==="-1"){var m=this.value(h)||0;f=f==="+1"?m+1:m-1}return f===0?(this.remove(h),!0):r(l.prototype.__proto__||Object.getPrototypeOf(l.prototype),"add",this).call(this,h,f)}},{key:"canAdd",value:function(h,f){return r(l.prototype.__proto__||Object.getPrototypeOf(l.prototype),"canAdd",this).call(this,h,f)||r(l.prototype.__proto__||Object.getPrototypeOf(l.prototype),"canAdd",this).call(this,h,parseInt(f))}},{key:"value",value:function(h){return parseInt(r(l.prototype.__proto__||Object.getPrototypeOf(l.prototype),"value",this).call(this,h))||void 0}}]),l}(p.default.Attributor.Class))("indent","ql-indent",{scope:p.default.Scope.BLOCK,whitelist:[1,2,3,4,5,6,7,8]});e.IndentClass=u},function(o,e,t){Object.defineProperty(e,"__esModule",{value:!0});var i,n=t(4);function r(d,c){if(!(d instanceof c))throw new TypeError("Cannot call a class as a function")}function s(d,c){if(!d)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!c||typeof c!="object"&&typeof c!="function"?d:c}var p=function(d){function c(){return r(this,c),s(this,(c.__proto__||Object.getPrototypeOf(c)).apply(this,arguments))}return function(u,a){if(typeof a!="function"&&a!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof a);u.prototype=Object.create(a&&a.prototype,{constructor:{value:u,enumerable:!1,writable:!0,configurable:!0}}),a&&(Object.setPrototypeOf?Object.setPrototypeOf(u,a):u.__proto__=a)}(c,d),c}(((i=n)&&i.__esModule?i:{default:i}).default);p.blotName="blockquote",p.tagName="blockquote",e.default=p},function(o,e,t){Object.defineProperty(e,"__esModule",{value:!0});var i,n=function(){function c(u,a){for(var l=0;l<a.length;l++){var h=a[l];h.enumerable=h.enumerable||!1,h.configurable=!0,"value"in h&&(h.writable=!0),Object.defineProperty(u,h.key,h)}}return function(u,a,l){return a&&c(u.prototype,a),l&&c(u,l),u}}(),r=t(4);function s(c,u){if(!(c instanceof u))throw new TypeError("Cannot call a class as a function")}function p(c,u){if(!c)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!u||typeof u!="object"&&typeof u!="function"?c:u}var d=function(c){function u(){return s(this,u),p(this,(u.__proto__||Object.getPrototypeOf(u)).apply(this,arguments))}return function(a,l){if(typeof l!="function"&&l!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof l);a.prototype=Object.create(l&&l.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}}),l&&(Object.setPrototypeOf?Object.setPrototypeOf(a,l):a.__proto__=l)}(u,c),n(u,null,[{key:"formats",value:function(a){return this.tagName.indexOf(a.tagName)+1}}]),u}(((i=r)&&i.__esModule?i:{default:i}).default);d.blotName="header",d.tagName=["H1","H2","H3","H4","H5","H6"],e.default=d},function(o,e,t){Object.defineProperty(e,"__esModule",{value:!0}),e.default=e.ListItem=void 0;var i=function(){function f(m,v){for(var g=0;g<v.length;g++){var y=v[g];y.enumerable=y.enumerable||!1,y.configurable=!0,"value"in y&&(y.writable=!0),Object.defineProperty(m,y.key,y)}}return function(m,v,g){return v&&f(m.prototype,v),g&&f(m,g),m}}(),n=function f(m,v,g){m===null&&(m=Function.prototype);var y=Object.getOwnPropertyDescriptor(m,v);if(y===void 0){var b=Object.getPrototypeOf(m);return b===null?void 0:f(b,v,g)}if("value"in y)return y.value;var x=y.get;return x!==void 0?x.call(g):void 0},r=d(t(0)),s=d(t(4)),p=d(t(25));function d(f){return f&&f.__esModule?f:{default:f}}function c(f,m){if(!(f instanceof m))throw new TypeError("Cannot call a class as a function")}function u(f,m){if(!f)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!m||typeof m!="object"&&typeof m!="function"?f:m}function a(f,m){if(typeof m!="function"&&m!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof m);f.prototype=Object.create(m&&m.prototype,{constructor:{value:f,enumerable:!1,writable:!0,configurable:!0}}),m&&(Object.setPrototypeOf?Object.setPrototypeOf(f,m):f.__proto__=m)}var l=function(f){function m(){return c(this,m),u(this,(m.__proto__||Object.getPrototypeOf(m)).apply(this,arguments))}return a(m,f),i(m,[{key:"format",value:function(v,g){v!==h.blotName||g?n(m.prototype.__proto__||Object.getPrototypeOf(m.prototype),"format",this).call(this,v,g):this.replaceWith(r.default.create(this.statics.scope))}},{key:"remove",value:function(){this.prev==null&&this.next==null?this.parent.remove():n(m.prototype.__proto__||Object.getPrototypeOf(m.prototype),"remove",this).call(this)}},{key:"replaceWith",value:function(v,g){return this.parent.isolate(this.offset(this.parent),this.length()),v===this.parent.statics.blotName?(this.parent.replaceWith(v,g),this):(this.parent.unwrap(),n(m.prototype.__proto__||Object.getPrototypeOf(m.prototype),"replaceWith",this).call(this,v,g))}}],[{key:"formats",value:function(v){return v.tagName===this.tagName?void 0:n(m.__proto__||Object.getPrototypeOf(m),"formats",this).call(this,v)}}]),m}(s.default);l.blotName="list-item",l.tagName="LI";var h=function(f){function m(v){c(this,m);var g=u(this,(m.__proto__||Object.getPrototypeOf(m)).call(this,v)),y=function(b){if(b.target.parentNode===v){var x=g.statics.formats(v),E=r.default.find(b.target);x==="checked"?E.format("list","unchecked"):x==="unchecked"&&E.format("list","checked")}};return v.addEventListener("touchstart",y),v.addEventListener("mousedown",y),g}return a(m,f),i(m,null,[{key:"create",value:function(v){var g=v==="ordered"?"OL":"UL",y=n(m.__proto__||Object.getPrototypeOf(m),"create",this).call(this,g);return v!=="checked"&&v!=="unchecked"||y.setAttribute("data-checked",v==="checked"),y}},{key:"formats",value:function(v){return v.tagName==="OL"?"ordered":v.tagName==="UL"?v.hasAttribute("data-checked")?v.getAttribute("data-checked")==="true"?"checked":"unchecked":"bullet":void 0}}]),i(m,[{key:"format",value:function(v,g){this.children.length>0&&this.children.tail.format(v,g)}},{key:"formats",value:function(){return v={},g=this.statics.blotName,y=this.statics.formats(this.domNode),g in v?Object.defineProperty(v,g,{value:y,enumerable:!0,configurable:!0,writable:!0}):v[g]=y,v;var v,g,y}},{key:"insertBefore",value:function(v,g){if(v instanceof l)n(m.prototype.__proto__||Object.getPrototypeOf(m.prototype),"insertBefore",this).call(this,v,g);else{var y=g==null?this.length():g.offset(this),b=this.split(y);b.parent.insertBefore(v,b)}}},{key:"optimize",value:function(v){n(m.prototype.__proto__||Object.getPrototypeOf(m.prototype),"optimize",this).call(this,v);var g=this.next;g!=null&&g.prev===this&&g.statics.blotName===this.statics.blotName&&g.domNode.tagName===this.domNode.tagName&&g.domNode.getAttribute("data-checked")===this.domNode.getAttribute("data-checked")&&(g.moveChildren(this),g.remove())}},{key:"replace",value:function(v){if(v.statics.blotName!==this.statics.blotName){var g=r.default.create(this.statics.defaultChild);v.moveChildren(g),this.appendChild(g)}n(m.prototype.__proto__||Object.getPrototypeOf(m.prototype),"replace",this).call(this,v)}}]),m}(p.default);h.blotName="list",h.scope=r.default.Scope.BLOCK_BLOT,h.tagName=["OL","UL"],h.defaultChild="list-item",h.allowedChildren=[l],e.ListItem=l,e.default=h},function(o,e,t){Object.defineProperty(e,"__esModule",{value:!0});var i,n=t(56);function r(d,c){if(!(d instanceof c))throw new TypeError("Cannot call a class as a function")}function s(d,c){if(!d)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!c||typeof c!="object"&&typeof c!="function"?d:c}var p=function(d){function c(){return r(this,c),s(this,(c.__proto__||Object.getPrototypeOf(c)).apply(this,arguments))}return function(u,a){if(typeof a!="function"&&a!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof a);u.prototype=Object.create(a&&a.prototype,{constructor:{value:u,enumerable:!1,writable:!0,configurable:!0}}),a&&(Object.setPrototypeOf?Object.setPrototypeOf(u,a):u.__proto__=a)}(c,d),c}(((i=n)&&i.__esModule?i:{default:i}).default);p.blotName="italic",p.tagName=["EM","I"],e.default=p},function(o,e,t){Object.defineProperty(e,"__esModule",{value:!0});var i,n=function(){function u(a,l){for(var h=0;h<l.length;h++){var f=l[h];f.enumerable=f.enumerable||!1,f.configurable=!0,"value"in f&&(f.writable=!0),Object.defineProperty(a,f.key,f)}}return function(a,l,h){return l&&u(a.prototype,l),h&&u(a,h),a}}(),r=function u(a,l,h){a===null&&(a=Function.prototype);var f=Object.getOwnPropertyDescriptor(a,l);if(f===void 0){var m=Object.getPrototypeOf(a);return m===null?void 0:u(m,l,h)}if("value"in f)return f.value;var v=f.get;return v!==void 0?v.call(h):void 0},s=t(6);function p(u,a){if(!(u instanceof a))throw new TypeError("Cannot call a class as a function")}function d(u,a){if(!u)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!a||typeof a!="object"&&typeof a!="function"?u:a}var c=function(u){function a(){return p(this,a),d(this,(a.__proto__||Object.getPrototypeOf(a)).apply(this,arguments))}return function(l,h){if(typeof h!="function"&&h!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof h);l.prototype=Object.create(h&&h.prototype,{constructor:{value:l,enumerable:!1,writable:!0,configurable:!0}}),h&&(Object.setPrototypeOf?Object.setPrototypeOf(l,h):l.__proto__=h)}(a,u),n(a,null,[{key:"create",value:function(l){return l==="super"?document.createElement("sup"):l==="sub"?document.createElement("sub"):r(a.__proto__||Object.getPrototypeOf(a),"create",this).call(this,l)}},{key:"formats",value:function(l){return l.tagName==="SUB"?"sub":l.tagName==="SUP"?"super":void 0}}]),a}(((i=s)&&i.__esModule?i:{default:i}).default);c.blotName="script",c.tagName=["SUB","SUP"],e.default=c},function(o,e,t){Object.defineProperty(e,"__esModule",{value:!0});var i,n=t(6);function r(d,c){if(!(d instanceof c))throw new TypeError("Cannot call a class as a function")}function s(d,c){if(!d)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!c||typeof c!="object"&&typeof c!="function"?d:c}var p=function(d){function c(){return r(this,c),s(this,(c.__proto__||Object.getPrototypeOf(c)).apply(this,arguments))}return function(u,a){if(typeof a!="function"&&a!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof a);u.prototype=Object.create(a&&a.prototype,{constructor:{value:u,enumerable:!1,writable:!0,configurable:!0}}),a&&(Object.setPrototypeOf?Object.setPrototypeOf(u,a):u.__proto__=a)}(c,d),c}(((i=n)&&i.__esModule?i:{default:i}).default);p.blotName="strike",p.tagName="S",e.default=p},function(o,e,t){Object.defineProperty(e,"__esModule",{value:!0});var i,n=t(6);function r(d,c){if(!(d instanceof c))throw new TypeError("Cannot call a class as a function")}function s(d,c){if(!d)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!c||typeof c!="object"&&typeof c!="function"?d:c}var p=function(d){function c(){return r(this,c),s(this,(c.__proto__||Object.getPrototypeOf(c)).apply(this,arguments))}return function(u,a){if(typeof a!="function"&&a!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof a);u.prototype=Object.create(a&&a.prototype,{constructor:{value:u,enumerable:!1,writable:!0,configurable:!0}}),a&&(Object.setPrototypeOf?Object.setPrototypeOf(u,a):u.__proto__=a)}(c,d),c}(((i=n)&&i.__esModule?i:{default:i}).default);p.blotName="underline",p.tagName="U",e.default=p},function(o,e,t){Object.defineProperty(e,"__esModule",{value:!0});var i,n=function(){function h(f,m){for(var v=0;v<m.length;v++){var g=m[v];g.enumerable=g.enumerable||!1,g.configurable=!0,"value"in g&&(g.writable=!0),Object.defineProperty(f,g.key,g)}}return function(f,m,v){return m&&h(f.prototype,m),v&&h(f,v),f}}(),r=function h(f,m,v){f===null&&(f=Function.prototype);var g=Object.getOwnPropertyDescriptor(f,m);if(g===void 0){var y=Object.getPrototypeOf(f);return y===null?void 0:h(y,m,v)}if("value"in g)return g.value;var b=g.get;return b!==void 0?b.call(v):void 0},s=t(0),p=(i=s)&&i.__esModule?i:{default:i},d=t(27);function c(h,f){if(!(h instanceof f))throw new TypeError("Cannot call a class as a function")}function u(h,f){if(!h)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!f||typeof f!="object"&&typeof f!="function"?h:f}var a=["alt","height","width"],l=function(h){function f(){return c(this,f),u(this,(f.__proto__||Object.getPrototypeOf(f)).apply(this,arguments))}return function(m,v){if(typeof v!="function"&&v!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof v);m.prototype=Object.create(v&&v.prototype,{constructor:{value:m,enumerable:!1,writable:!0,configurable:!0}}),v&&(Object.setPrototypeOf?Object.setPrototypeOf(m,v):m.__proto__=v)}(f,h),n(f,[{key:"format",value:function(m,v){a.indexOf(m)>-1?v?this.domNode.setAttribute(m,v):this.domNode.removeAttribute(m):r(f.prototype.__proto__||Object.getPrototypeOf(f.prototype),"format",this).call(this,m,v)}}],[{key:"create",value:function(m){var v=r(f.__proto__||Object.getPrototypeOf(f),"create",this).call(this,m);return typeof m=="string"&&v.setAttribute("src",this.sanitize(m)),v}},{key:"formats",value:function(m){return a.reduce(function(v,g){return m.hasAttribute(g)&&(v[g]=m.getAttribute(g)),v},{})}},{key:"match",value:function(m){return/\.(jpe?g|gif|png)$/.test(m)||/^data:image\/.+;base64/.test(m)}},{key:"sanitize",value:function(m){return(0,d.sanitize)(m,["http","https","data"])?m:"//:0"}},{key:"value",value:function(m){return m.getAttribute("src")}}]),f}(p.default.Embed);l.blotName="image",l.tagName="IMG",e.default=l},function(o,e,t){Object.defineProperty(e,"__esModule",{value:!0});var i,n=function(){function h(f,m){for(var v=0;v<m.length;v++){var g=m[v];g.enumerable=g.enumerable||!1,g.configurable=!0,"value"in g&&(g.writable=!0),Object.defineProperty(f,g.key,g)}}return function(f,m,v){return m&&h(f.prototype,m),v&&h(f,v),f}}(),r=function h(f,m,v){f===null&&(f=Function.prototype);var g=Object.getOwnPropertyDescriptor(f,m);if(g===void 0){var y=Object.getPrototypeOf(f);return y===null?void 0:h(y,m,v)}if("value"in g)return g.value;var b=g.get;return b!==void 0?b.call(v):void 0},s=t(4),p=t(27),d=(i=p)&&i.__esModule?i:{default:i};function c(h,f){if(!(h instanceof f))throw new TypeError("Cannot call a class as a function")}function u(h,f){if(!h)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!f||typeof f!="object"&&typeof f!="function"?h:f}var a=["height","width"],l=function(h){function f(){return c(this,f),u(this,(f.__proto__||Object.getPrototypeOf(f)).apply(this,arguments))}return function(m,v){if(typeof v!="function"&&v!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof v);m.prototype=Object.create(v&&v.prototype,{constructor:{value:m,enumerable:!1,writable:!0,configurable:!0}}),v&&(Object.setPrototypeOf?Object.setPrototypeOf(m,v):m.__proto__=v)}(f,h),n(f,[{key:"format",value:function(m,v){a.indexOf(m)>-1?v?this.domNode.setAttribute(m,v):this.domNode.removeAttribute(m):r(f.prototype.__proto__||Object.getPrototypeOf(f.prototype),"format",this).call(this,m,v)}}],[{key:"create",value:function(m){var v=r(f.__proto__||Object.getPrototypeOf(f),"create",this).call(this,m);return v.setAttribute("frameborder","0"),v.setAttribute("allowfullscreen",!0),v.setAttribute("src",this.sanitize(m)),v}},{key:"formats",value:function(m){return a.reduce(function(v,g){return m.hasAttribute(g)&&(v[g]=m.getAttribute(g)),v},{})}},{key:"sanitize",value:function(m){return d.default.sanitize(m)}},{key:"value",value:function(m){return m.getAttribute("src")}}]),f}(s.BlockEmbed);l.blotName="video",l.className="ql-video",l.tagName="IFRAME",e.default=l},function(o,e,t){Object.defineProperty(e,"__esModule",{value:!0}),e.default=e.FormulaBlot=void 0;var i=function(){function f(m,v){for(var g=0;g<v.length;g++){var y=v[g];y.enumerable=y.enumerable||!1,y.configurable=!0,"value"in y&&(y.writable=!0),Object.defineProperty(m,y.key,y)}}return function(m,v,g){return v&&f(m.prototype,v),g&&f(m,g),m}}(),n=function f(m,v,g){m===null&&(m=Function.prototype);var y=Object.getOwnPropertyDescriptor(m,v);if(y===void 0){var b=Object.getPrototypeOf(m);return b===null?void 0:f(b,v,g)}if("value"in y)return y.value;var x=y.get;return x!==void 0?x.call(g):void 0},r=d(t(35)),s=d(t(5)),p=d(t(9));function d(f){return f&&f.__esModule?f:{default:f}}function c(f,m){if(!(f instanceof m))throw new TypeError("Cannot call a class as a function")}function u(f,m){if(!f)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!m||typeof m!="object"&&typeof m!="function"?f:m}function a(f,m){if(typeof m!="function"&&m!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof m);f.prototype=Object.create(m&&m.prototype,{constructor:{value:f,enumerable:!1,writable:!0,configurable:!0}}),m&&(Object.setPrototypeOf?Object.setPrototypeOf(f,m):f.__proto__=m)}var l=function(f){function m(){return c(this,m),u(this,(m.__proto__||Object.getPrototypeOf(m)).apply(this,arguments))}return a(m,f),i(m,null,[{key:"create",value:function(v){var g=n(m.__proto__||Object.getPrototypeOf(m),"create",this).call(this,v);return typeof v=="string"&&(window.katex.render(v,g,{throwOnError:!1,errorColor:"#f00"}),g.setAttribute("data-value",v)),g}},{key:"value",value:function(v){return v.getAttribute("data-value")}}]),m}(r.default);l.blotName="formula",l.className="ql-formula",l.tagName="SPAN";var h=function(f){function m(){c(this,m);var v=u(this,(m.__proto__||Object.getPrototypeOf(m)).call(this));if(window.katex==null)throw new Error("Formula module requires KaTeX.");return v}return a(m,f),i(m,null,[{key:"register",value:function(){s.default.register(l,!0)}}]),m}(p.default);e.FormulaBlot=l,e.default=h},function(o,e,t){Object.defineProperty(e,"__esModule",{value:!0}),e.default=e.CodeToken=e.CodeBlock=void 0;var i=function(){function m(v,g){for(var y=0;y<g.length;y++){var b=g[y];b.enumerable=b.enumerable||!1,b.configurable=!0,"value"in b&&(b.writable=!0),Object.defineProperty(v,b.key,b)}}return function(v,g,y){return g&&m(v.prototype,g),y&&m(v,y),v}}(),n=function m(v,g,y){v===null&&(v=Function.prototype);var b=Object.getOwnPropertyDescriptor(v,g);if(b===void 0){var x=Object.getPrototypeOf(v);return x===null?void 0:m(x,g,y)}if("value"in b)return b.value;var E=b.get;return E!==void 0?E.call(y):void 0},r=d(t(0)),s=d(t(5)),p=d(t(9));function d(m){return m&&m.__esModule?m:{default:m}}function c(m,v){if(!(m instanceof v))throw new TypeError("Cannot call a class as a function")}function u(m,v){if(!m)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!v||typeof v!="object"&&typeof v!="function"?m:v}function a(m,v){if(typeof v!="function"&&v!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof v);m.prototype=Object.create(v&&v.prototype,{constructor:{value:m,enumerable:!1,writable:!0,configurable:!0}}),v&&(Object.setPrototypeOf?Object.setPrototypeOf(m,v):m.__proto__=v)}var l=function(m){function v(){return c(this,v),u(this,(v.__proto__||Object.getPrototypeOf(v)).apply(this,arguments))}return a(v,m),i(v,[{key:"replaceWith",value:function(g){this.domNode.textContent=this.domNode.textContent,this.attach(),n(v.prototype.__proto__||Object.getPrototypeOf(v.prototype),"replaceWith",this).call(this,g)}},{key:"highlight",value:function(g){var y=this.domNode.textContent;this.cachedText!==y&&((y.trim().length>0||this.cachedText==null)&&(this.domNode.innerHTML=g(y),this.domNode.normalize(),this.attach()),this.cachedText=y)}}]),v}(d(t(13)).default);l.className="ql-syntax";var h=new r.default.Attributor.Class("token","hljs",{scope:r.default.Scope.INLINE}),f=function(m){function v(g,y){c(this,v);var b=u(this,(v.__proto__||Object.getPrototypeOf(v)).call(this,g,y));if(typeof b.options.highlight!="function")throw new Error("Syntax module requires highlight.js. Please include the library on the page before Quill.");var x=null;return b.quill.on(s.default.events.SCROLL_OPTIMIZE,function(){clearTimeout(x),x=setTimeout(function(){b.highlight(),x=null},b.options.interval)}),b.highlight(),b}return a(v,m),i(v,null,[{key:"register",value:function(){s.default.register(h,!0),s.default.register(l,!0)}}]),i(v,[{key:"highlight",value:function(){var g=this;if(!this.quill.selection.composing){this.quill.update(s.default.sources.USER);var y=this.quill.getSelection();this.quill.scroll.descendants(l).forEach(function(b){b.highlight(g.options.highlight)}),this.quill.update(s.default.sources.SILENT),y!=null&&this.quill.setSelection(y,s.default.sources.SILENT)}}}]),v}(p.default);f.DEFAULTS={highlight:window.hljs==null?null:function(m){return window.hljs.highlightAuto(m).value},interval:1e3},e.CodeBlock=l,e.CodeToken=h,e.default=f},function(o,e){o.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=3 x2=15 y1=9 y2=9></line> <line class=ql-stroke x1=3 x2=13 y1=14 y2=14></line> <line class=ql-stroke x1=3 x2=9 y1=4 y2=4></line> </svg>'},function(o,e){o.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=15 x2=3 y1=9 y2=9></line> <line class=ql-stroke x1=14 x2=4 y1=14 y2=14></line> <line class=ql-stroke x1=12 x2=6 y1=4 y2=4></line> </svg>'},function(o,e){o.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=15 x2=3 y1=9 y2=9></line> <line class=ql-stroke x1=15 x2=5 y1=14 y2=14></line> <line class=ql-stroke x1=15 x2=9 y1=4 y2=4></line> </svg>'},function(o,e){o.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=15 x2=3 y1=9 y2=9></line> <line class=ql-stroke x1=15 x2=3 y1=14 y2=14></line> <line class=ql-stroke x1=15 x2=3 y1=4 y2=4></line> </svg>'},function(o,e){o.exports='<svg viewbox="0 0 18 18"> <g class="ql-fill ql-color-label"> <polygon points="6 6.868 6 6 5 6 5 7 5.942 7 6 6.868"></polygon> <rect height=1 width=1 x=4 y=4></rect> <polygon points="6.817 5 6 5 6 6 6.38 6 6.817 5"></polygon> <rect height=1 width=1 x=2 y=6></rect> <rect height=1 width=1 x=3 y=5></rect> <rect height=1 width=1 x=4 y=7></rect> <polygon points="4 11.439 4 11 3 11 3 12 3.755 12 4 11.439"></polygon> <rect height=1 width=1 x=2 y=12></rect> <rect height=1 width=1 x=2 y=9></rect> <rect height=1 width=1 x=2 y=15></rect> <polygon points="4.63 10 4 10 4 11 4.192 11 4.63 10"></polygon> <rect height=1 width=1 x=3 y=8></rect> <path d=M10.832,4.2L11,4.582V4H10.708A1.948,1.948,0,0,1,10.832,4.2Z></path> <path d=M7,4.582L7.168,4.2A1.929,1.929,0,0,1,7.292,4H7V4.582Z></path> <path d=M8,13H7.683l-0.351.8a1.933,1.933,0,0,1-.124.2H8V13Z></path> <rect height=1 width=1 x=12 y=2></rect> <rect height=1 width=1 x=11 y=3></rect> <path d=M9,3H8V3.282A1.985,1.985,0,0,1,9,3Z></path> <rect height=1 width=1 x=2 y=3></rect> <rect height=1 width=1 x=6 y=2></rect> <rect height=1 width=1 x=3 y=2></rect> <rect height=1 width=1 x=5 y=3></rect> <rect height=1 width=1 x=9 y=2></rect> <rect height=1 width=1 x=15 y=14></rect> <polygon points="13.447 10.174 13.469 10.225 13.472 10.232 13.808 11 14 11 14 10 13.37 10 13.447 10.174"></polygon> <rect height=1 width=1 x=13 y=7></rect> <rect height=1 width=1 x=15 y=5></rect> <rect height=1 width=1 x=14 y=6></rect> <rect height=1 width=1 x=15 y=8></rect> <rect height=1 width=1 x=14 y=9></rect> <path d=M3.775,14H3v1H4V14.314A1.97,1.97,0,0,1,3.775,14Z></path> <rect height=1 width=1 x=14 y=3></rect> <polygon points="12 6.868 12 6 11.62 6 12 6.868"></polygon> <rect height=1 width=1 x=15 y=2></rect> <rect height=1 width=1 x=12 y=5></rect> <rect height=1 width=1 x=13 y=4></rect> <polygon points="12.933 9 13 9 13 8 12.495 8 12.933 9"></polygon> <rect height=1 width=1 x=9 y=14></rect> <rect height=1 width=1 x=8 y=15></rect> <path d=M6,14.926V15H7V14.316A1.993,1.993,0,0,1,6,14.926Z></path> <rect height=1 width=1 x=5 y=15></rect> <path d=M10.668,13.8L10.317,13H10v1h0.792A1.947,1.947,0,0,1,10.668,13.8Z></path> <rect height=1 width=1 x=11 y=15></rect> <path d=M14.332,12.2a1.99,1.99,0,0,1,.166.8H15V12H14.245Z></path> <rect height=1 width=1 x=14 y=15></rect> <rect height=1 width=1 x=15 y=11></rect> </g> <polyline class=ql-stroke points="5.5 13 9 5 12.5 13"></polyline> <line class=ql-stroke x1=11.63 x2=6.38 y1=11 y2=11></line> </svg>'},function(o,e){o.exports='<svg viewbox="0 0 18 18"> <rect class="ql-fill ql-stroke" height=3 width=3 x=4 y=5></rect> <rect class="ql-fill ql-stroke" height=3 width=3 x=11 y=5></rect> <path class="ql-even ql-fill ql-stroke" d=M7,8c0,4.031-3,5-3,5></path> <path class="ql-even ql-fill ql-stroke" d=M14,8c0,4.031-3,5-3,5></path> </svg>'},function(o,e){o.exports='<svg viewbox="0 0 18 18"> <path class=ql-stroke d=M5,4H9.5A2.5,2.5,0,0,1,12,6.5v0A2.5,2.5,0,0,1,9.5,9H5A0,0,0,0,1,5,9V4A0,0,0,0,1,5,4Z></path> <path class=ql-stroke d=M5,9h5.5A2.5,2.5,0,0,1,13,11.5v0A2.5,2.5,0,0,1,10.5,14H5a0,0,0,0,1,0,0V9A0,0,0,0,1,5,9Z></path> </svg>'},function(o,e){o.exports='<svg class="" viewbox="0 0 18 18"> <line class=ql-stroke x1=5 x2=13 y1=3 y2=3></line> <line class=ql-stroke x1=6 x2=9.35 y1=12 y2=3></line> <line class=ql-stroke x1=11 x2=15 y1=11 y2=15></line> <line class=ql-stroke x1=15 x2=11 y1=11 y2=15></line> <rect class=ql-fill height=1 rx=0.5 ry=0.5 width=7 x=2 y=14></rect> </svg>'},function(o,e){o.exports='<svg viewbox="0 0 18 18"> <line class="ql-color-label ql-stroke ql-transparent" x1=3 x2=15 y1=15 y2=15></line> <polyline class=ql-stroke points="5.5 11 9 3 12.5 11"></polyline> <line class=ql-stroke x1=11.63 x2=6.38 y1=9 y2=9></line> </svg>'},function(o,e){o.exports='<svg viewbox="0 0 18 18"> <polygon class="ql-stroke ql-fill" points="3 11 5 9 3 7 3 11"></polygon> <line class="ql-stroke ql-fill" x1=15 x2=11 y1=4 y2=4></line> <path class=ql-fill d=M11,3a3,3,0,0,0,0,6h1V3H11Z></path> <rect class=ql-fill height=11 width=1 x=11 y=4></rect> <rect class=ql-fill height=11 width=1 x=13 y=4></rect> </svg>'},function(o,e){o.exports='<svg viewbox="0 0 18 18"> <polygon class="ql-stroke ql-fill" points="15 12 13 10 15 8 15 12"></polygon> <line class="ql-stroke ql-fill" x1=9 x2=5 y1=4 y2=4></line> <path class=ql-fill d=M5,3A3,3,0,0,0,5,9H6V3H5Z></path> <rect class=ql-fill height=11 width=1 x=5 y=4></rect> <rect class=ql-fill height=11 width=1 x=7 y=4></rect> </svg>'},function(o,e){o.exports='<svg viewbox="0 0 18 18"> <path class=ql-fill d=M14,16H4a1,1,0,0,1,0-2H14A1,1,0,0,1,14,16Z /> <path class=ql-fill d=M14,4H4A1,1,0,0,1,4,2H14A1,1,0,0,1,14,4Z /> <rect class=ql-fill x=3 y=6 width=12 height=6 rx=1 ry=1 /> </svg>'},function(o,e){o.exports='<svg viewbox="0 0 18 18"> <path class=ql-fill d=M13,16H5a1,1,0,0,1,0-2h8A1,1,0,0,1,13,16Z /> <path class=ql-fill d=M13,4H5A1,1,0,0,1,5,2h8A1,1,0,0,1,13,4Z /> <rect class=ql-fill x=2 y=6 width=14 height=6 rx=1 ry=1 /> </svg>'},function(o,e){o.exports='<svg viewbox="0 0 18 18"> <path class=ql-fill d=M15,8H13a1,1,0,0,1,0-2h2A1,1,0,0,1,15,8Z /> <path class=ql-fill d=M15,12H13a1,1,0,0,1,0-2h2A1,1,0,0,1,15,12Z /> <path class=ql-fill d=M15,16H5a1,1,0,0,1,0-2H15A1,1,0,0,1,15,16Z /> <path class=ql-fill d=M15,4H5A1,1,0,0,1,5,2H15A1,1,0,0,1,15,4Z /> <rect class=ql-fill x=2 y=6 width=8 height=6 rx=1 ry=1 /> </svg>'},function(o,e){o.exports='<svg viewbox="0 0 18 18"> <path class=ql-fill d=M5,8H3A1,1,0,0,1,3,6H5A1,1,0,0,1,5,8Z /> <path class=ql-fill d=M5,12H3a1,1,0,0,1,0-2H5A1,1,0,0,1,5,12Z /> <path class=ql-fill d=M13,16H3a1,1,0,0,1,0-2H13A1,1,0,0,1,13,16Z /> <path class=ql-fill d=M13,4H3A1,1,0,0,1,3,2H13A1,1,0,0,1,13,4Z /> <rect class=ql-fill x=8 y=6 width=8 height=6 rx=1 ry=1 transform="translate(24 18) rotate(-180)"/> </svg>'},function(o,e){o.exports='<svg viewbox="0 0 18 18"> <path class=ql-fill d=M11.759,2.482a2.561,2.561,0,0,0-3.53.607A7.656,7.656,0,0,0,6.8,6.2C6.109,9.188,5.275,14.677,4.15,14.927a1.545,1.545,0,0,0-1.3-.933A0.922,0.922,0,0,0,2,15.036S1.954,16,4.119,16s3.091-2.691,3.7-5.553c0.177-.826.36-1.726,0.554-2.6L8.775,6.2c0.381-1.421.807-2.521,1.306-2.676a1.014,1.014,0,0,0,1.02.56A0.966,0.966,0,0,0,11.759,2.482Z></path> <rect class=ql-fill height=1.6 rx=0.8 ry=0.8 width=5 x=5.15 y=6.2></rect> <path class=ql-fill d=M13.663,12.027a1.662,1.662,0,0,1,.266-0.276q0.193,0.069.456,0.138a2.1,2.1,0,0,0,.535.069,1.075,1.075,0,0,0,.767-0.3,1.044,1.044,0,0,0,.314-0.8,0.84,0.84,0,0,0-.238-0.619,0.8,0.8,0,0,0-.594-0.239,1.154,1.154,0,0,0-.781.3,4.607,4.607,0,0,0-.781,1q-0.091.15-.218,0.346l-0.246.38c-0.068-.288-0.137-0.582-0.212-0.885-0.459-1.847-2.494-.984-2.941-0.8-0.482.2-.353,0.647-0.094,0.529a0.869,0.869,0,0,1,1.281.585c0.217,0.751.377,1.436,0.527,2.038a5.688,5.688,0,0,1-.362.467,2.69,2.69,0,0,1-.264.271q-0.221-.08-0.471-0.147a2.029,2.029,0,0,0-.522-0.066,1.079,1.079,0,0,0-.768.3A1.058,1.058,0,0,0,9,15.131a0.82,0.82,0,0,0,.832.852,1.134,1.134,0,0,0,.787-0.3,5.11,5.11,0,0,0,.776-0.993q0.141-.219.215-0.34c0.046-.076.122-0.194,0.223-0.346a2.786,2.786,0,0,0,.918,1.726,2.582,2.582,0,0,0,2.376-.185c0.317-.181.212-0.565,0-0.494A0.807,0.807,0,0,1,14.176,15a5.159,5.159,0,0,1-.913-2.446l0,0Q13.487,12.24,13.663,12.027Z></path> </svg>'},function(o,e){o.exports='<svg viewBox="0 0 18 18"> <path class=ql-fill d=M10,4V14a1,1,0,0,1-2,0V10H3v4a1,1,0,0,1-2,0V4A1,1,0,0,1,3,4V8H8V4a1,1,0,0,1,2,0Zm6.06787,9.209H14.98975V7.59863a.54085.54085,0,0,0-.605-.60547h-.62744a1.01119,1.01119,0,0,0-.748.29688L11.645,8.56641a.5435.5435,0,0,0-.022.8584l.28613.30762a.53861.53861,0,0,0,.84717.0332l.09912-.08789a1.2137,1.2137,0,0,0,.2417-.35254h.02246s-.01123.30859-.01123.60547V13.209H12.041a.54085.54085,0,0,0-.605.60547v.43945a.54085.54085,0,0,0,.605.60547h4.02686a.54085.54085,0,0,0,.605-.60547v-.43945A.54085.54085,0,0,0,16.06787,13.209Z /> </svg>'},function(o,e){o.exports='<svg viewBox="0 0 18 18"> <path class=ql-fill d=M16.73975,13.81445v.43945a.54085.54085,0,0,1-.605.60547H11.855a.58392.58392,0,0,1-.64893-.60547V14.0127c0-2.90527,3.39941-3.42187,3.39941-4.55469a.77675.77675,0,0,0-.84717-.78125,1.17684,1.17684,0,0,0-.83594.38477c-.2749.26367-.561.374-.85791.13184l-.4292-.34082c-.30811-.24219-.38525-.51758-.1543-.81445a2.97155,2.97155,0,0,1,2.45361-1.17676,2.45393,2.45393,0,0,1,2.68408,2.40918c0,2.45312-3.1792,2.92676-3.27832,3.93848h2.79443A.54085.54085,0,0,1,16.73975,13.81445ZM9,3A.99974.99974,0,0,0,8,4V8H3V4A1,1,0,0,0,1,4V14a1,1,0,0,0,2,0V10H8v4a1,1,0,0,0,2,0V4A.99974.99974,0,0,0,9,3Z /> </svg>'},function(o,e){o.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=7 x2=13 y1=4 y2=4></line> <line class=ql-stroke x1=5 x2=11 y1=14 y2=14></line> <line class=ql-stroke x1=8 x2=10 y1=14 y2=4></line> </svg>'},function(o,e){o.exports='<svg viewbox="0 0 18 18"> <rect class=ql-stroke height=10 width=12 x=3 y=4></rect> <circle class=ql-fill cx=6 cy=7 r=1></circle> <polyline class="ql-even ql-fill" points="5 12 5 11 7 9 8 10 11 7 13 9 13 12 5 12"></polyline> </svg>'},function(o,e){o.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=3 x2=15 y1=14 y2=14></line> <line class=ql-stroke x1=3 x2=15 y1=4 y2=4></line> <line class=ql-stroke x1=9 x2=15 y1=9 y2=9></line> <polyline class="ql-fill ql-stroke" points="3 7 3 11 5 9 3 7"></polyline> </svg>'},function(o,e){o.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=3 x2=15 y1=14 y2=14></line> <line class=ql-stroke x1=3 x2=15 y1=4 y2=4></line> <line class=ql-stroke x1=9 x2=15 y1=9 y2=9></line> <polyline class=ql-stroke points="5 7 5 11 3 9 5 7"></polyline> </svg>'},function(o,e){o.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=7 x2=11 y1=7 y2=11></line> <path class="ql-even ql-stroke" d=M8.9,4.577a3.476,3.476,0,0,1,.36,4.679A3.476,3.476,0,0,1,4.577,8.9C3.185,7.5,2.035,6.4,4.217,4.217S7.5,3.185,8.9,4.577Z></path> <path class="ql-even ql-stroke" d=M13.423,9.1a3.476,3.476,0,0,0-4.679-.36,3.476,3.476,0,0,0,.36,4.679c1.392,1.392,2.5,2.542,4.679.36S14.815,10.5,13.423,9.1Z></path> </svg>'},function(o,e){o.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=7 x2=15 y1=4 y2=4></line> <line class=ql-stroke x1=7 x2=15 y1=9 y2=9></line> <line class=ql-stroke x1=7 x2=15 y1=14 y2=14></line> <line class="ql-stroke ql-thin" x1=2.5 x2=4.5 y1=5.5 y2=5.5></line> <path class=ql-fill d=M3.5,6A0.5,0.5,0,0,1,3,5.5V3.085l-0.276.138A0.5,0.5,0,0,1,2.053,3c-0.124-.247-0.023-0.324.224-0.447l1-.5A0.5,0.5,0,0,1,4,2.5v3A0.5,0.5,0,0,1,3.5,6Z></path> <path class="ql-stroke ql-thin" d=M4.5,10.5h-2c0-.234,1.85-1.076,1.85-2.234A0.959,0.959,0,0,0,2.5,8.156></path> <path class="ql-stroke ql-thin" d=M2.5,14.846a0.959,0.959,0,0,0,1.85-.109A0.7,0.7,0,0,0,3.75,14a0.688,0.688,0,0,0,.6-0.736,0.959,0.959,0,0,0-1.85-.109></path> </svg>'},function(o,e){o.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=6 x2=15 y1=4 y2=4></line> <line class=ql-stroke x1=6 x2=15 y1=9 y2=9></line> <line class=ql-stroke x1=6 x2=15 y1=14 y2=14></line> <line class=ql-stroke x1=3 x2=3 y1=4 y2=4></line> <line class=ql-stroke x1=3 x2=3 y1=9 y2=9></line> <line class=ql-stroke x1=3 x2=3 y1=14 y2=14></line> </svg>'},function(o,e){o.exports='<svg class="" viewbox="0 0 18 18"> <line class=ql-stroke x1=9 x2=15 y1=4 y2=4></line> <polyline class=ql-stroke points="3 4 4 5 6 3"></polyline> <line class=ql-stroke x1=9 x2=15 y1=14 y2=14></line> <polyline class=ql-stroke points="3 14 4 15 6 13"></polyline> <line class=ql-stroke x1=9 x2=15 y1=9 y2=9></line> <polyline class=ql-stroke points="3 9 4 10 6 8"></polyline> </svg>'},function(o,e){o.exports='<svg viewbox="0 0 18 18"> <path class=ql-fill d=M15.5,15H13.861a3.858,3.858,0,0,0,1.914-2.975,1.8,1.8,0,0,0-1.6-1.751A1.921,1.921,0,0,0,12.021,11.7a0.50013,0.50013,0,1,0,.957.291h0a0.914,0.914,0,0,1,1.053-.725,0.81,0.81,0,0,1,.744.762c0,1.076-1.16971,1.86982-1.93971,2.43082A1.45639,1.45639,0,0,0,12,15.5a0.5,0.5,0,0,0,.5.5h3A0.5,0.5,0,0,0,15.5,15Z /> <path class=ql-fill d=M9.65,5.241a1,1,0,0,0-1.409.108L6,7.964,3.759,5.349A1,1,0,0,0,2.192,6.59178Q2.21541,6.6213,2.241,6.649L4.684,9.5,2.241,12.35A1,1,0,0,0,3.71,13.70722q0.02557-.02768.049-0.05722L6,11.036,8.241,13.65a1,1,0,1,0,1.567-1.24277Q9.78459,12.3777,9.759,12.35L7.316,9.5,9.759,6.651A1,1,0,0,0,9.65,5.241Z /> </svg>'},function(o,e){o.exports='<svg viewbox="0 0 18 18"> <path class=ql-fill d=M15.5,7H13.861a4.015,4.015,0,0,0,1.914-2.975,1.8,1.8,0,0,0-1.6-1.751A1.922,1.922,0,0,0,12.021,3.7a0.5,0.5,0,1,0,.957.291,0.917,0.917,0,0,1,1.053-.725,0.81,0.81,0,0,1,.744.762c0,1.077-1.164,1.925-1.934,2.486A1.423,1.423,0,0,0,12,7.5a0.5,0.5,0,0,0,.5.5h3A0.5,0.5,0,0,0,15.5,7Z /> <path class=ql-fill d=M9.651,5.241a1,1,0,0,0-1.41.108L6,7.964,3.759,5.349a1,1,0,1,0-1.519,1.3L4.683,9.5,2.241,12.35a1,1,0,1,0,1.519,1.3L6,11.036,8.241,13.65a1,1,0,0,0,1.519-1.3L7.317,9.5,9.759,6.651A1,1,0,0,0,9.651,5.241Z /> </svg>'},function(o,e){o.exports='<svg viewbox="0 0 18 18"> <line class="ql-stroke ql-thin" x1=15.5 x2=2.5 y1=8.5 y2=9.5></line> <path class=ql-fill d=M9.007,8C6.542,7.791,6,7.519,6,6.5,6,5.792,7.283,5,9,5c1.571,0,2.765.679,2.969,1.309a1,1,0,0,0,1.9-.617C13.356,4.106,11.354,3,9,3,6.2,3,4,4.538,4,6.5a3.2,3.2,0,0,0,.5,1.843Z></path> <path class=ql-fill d=M8.984,10C11.457,10.208,12,10.479,12,11.5c0,0.708-1.283,1.5-3,1.5-1.571,0-2.765-.679-2.969-1.309a1,1,0,1,0-1.9.617C4.644,13.894,6.646,15,9,15c2.8,0,5-1.538,5-3.5a3.2,3.2,0,0,0-.5-1.843Z></path> </svg>'},function(o,e){o.exports='<svg viewbox="0 0 18 18"> <path class=ql-stroke d=M5,3V9a4.012,4.012,0,0,0,4,4H9a4.012,4.012,0,0,0,4-4V3></path> <rect class=ql-fill height=1 rx=0.5 ry=0.5 width=12 x=3 y=15></rect> </svg>'},function(o,e){o.exports='<svg viewbox="0 0 18 18"> <rect class=ql-stroke height=12 width=12 x=3 y=3></rect> <rect class=ql-fill height=12 width=1 x=5 y=3></rect> <rect class=ql-fill height=12 width=1 x=12 y=3></rect> <rect class=ql-fill height=2 width=8 x=5 y=8></rect> <rect class=ql-fill height=1 width=3 x=3 y=5></rect> <rect class=ql-fill height=1 width=3 x=3 y=7></rect> <rect class=ql-fill height=1 width=3 x=3 y=10></rect> <rect class=ql-fill height=1 width=3 x=3 y=12></rect> <rect class=ql-fill height=1 width=3 x=12 y=5></rect> <rect class=ql-fill height=1 width=3 x=12 y=7></rect> <rect class=ql-fill height=1 width=3 x=12 y=10></rect> <rect class=ql-fill height=1 width=3 x=12 y=12></rect> </svg>'},function(o,e){o.exports='<svg viewbox="0 0 18 18"> <polygon class=ql-stroke points="7 11 9 13 11 11 7 11"></polygon> <polygon class=ql-stroke points="7 7 9 5 11 7 7 7"></polygon> </svg>'},function(o,e,t){Object.defineProperty(e,"__esModule",{value:!0}),e.default=e.BubbleTooltip=void 0;var i=function y(b,x,E){b===null&&(b=Function.prototype);var w=Object.getOwnPropertyDescriptor(b,x);if(w===void 0){var I=Object.getPrototypeOf(b);return I===null?void 0:y(I,x,E)}if("value"in w)return w.value;var k=w.get;return k!==void 0?k.call(E):void 0},n=function(){function y(b,x){for(var E=0;E<x.length;E++){var w=x[E];w.enumerable=w.enumerable||!1,w.configurable=!0,"value"in w&&(w.writable=!0),Object.defineProperty(b,w.key,w)}}return function(b,x,E){return x&&y(b.prototype,x),E&&y(b,E),b}}(),r=a(t(3)),s=a(t(8)),p=t(43),d=a(p),c=t(15),u=a(t(41));function a(y){return y&&y.__esModule?y:{default:y}}function l(y,b){if(!(y instanceof b))throw new TypeError("Cannot call a class as a function")}function h(y,b){if(!y)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!b||typeof b!="object"&&typeof b!="function"?y:b}function f(y,b){if(typeof b!="function"&&b!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof b);y.prototype=Object.create(b&&b.prototype,{constructor:{value:y,enumerable:!1,writable:!0,configurable:!0}}),b&&(Object.setPrototypeOf?Object.setPrototypeOf(y,b):y.__proto__=b)}var m=[["bold","italic","link"],[{header:1},{header:2},"blockquote"]],v=function(y){function b(x,E){l(this,b),E.modules.toolbar!=null&&E.modules.toolbar.container==null&&(E.modules.toolbar.container=m);var w=h(this,(b.__proto__||Object.getPrototypeOf(b)).call(this,x,E));return w.quill.container.classList.add("ql-bubble"),w}return f(b,y),n(b,[{key:"extendToolbar",value:function(x){this.tooltip=new g(this.quill,this.options.bounds),this.tooltip.root.appendChild(x.container),this.buildButtons([].slice.call(x.container.querySelectorAll("button")),u.default),this.buildPickers([].slice.call(x.container.querySelectorAll("select")),u.default)}}]),b}(d.default);v.DEFAULTS=(0,r.default)(!0,{},d.default.DEFAULTS,{modules:{toolbar:{handlers:{link:function(y){y?this.quill.theme.tooltip.edit():this.quill.format("link",!1)}}}}});var g=function(y){function b(x,E){l(this,b);var w=h(this,(b.__proto__||Object.getPrototypeOf(b)).call(this,x,E));return w.quill.on(s.default.events.EDITOR_CHANGE,function(I,k,P,A){if(I===s.default.events.SELECTION_CHANGE)if(k!=null&&k.length>0&&A===s.default.sources.USER){w.show(),w.root.style.left="0px",w.root.style.width="",w.root.style.width=w.root.offsetWidth+"px";var _=w.quill.getLines(k.index,k.length);if(_.length===1)w.position(w.quill.getBounds(k));else{var O=_[_.length-1],q=w.quill.getIndex(O),S=Math.min(O.length()-1,k.index+k.length-q),T=w.quill.getBounds(new c.Range(q,S));w.position(T)}}else document.activeElement!==w.textbox&&w.quill.hasFocus()&&w.hide()}),w}return f(b,y),n(b,[{key:"listen",value:function(){var x=this;i(b.prototype.__proto__||Object.getPrototypeOf(b.prototype),"listen",this).call(this),this.root.querySelector(".ql-close").addEventListener("click",function(){x.root.classList.remove("ql-editing")}),this.quill.on(s.default.events.SCROLL_OPTIMIZE,function(){setTimeout(function(){if(!x.root.classList.contains("ql-hidden")){var E=x.quill.getSelection();E!=null&&x.position(x.quill.getBounds(E))}},1)})}},{key:"cancel",value:function(){this.show()}},{key:"position",value:function(x){var E=i(b.prototype.__proto__||Object.getPrototypeOf(b.prototype),"position",this).call(this,x),w=this.root.querySelector(".ql-tooltip-arrow");if(w.style.marginLeft="",E===0)return E;w.style.marginLeft=-1*E-w.offsetWidth/2+"px"}}]),b}(p.BaseTooltip);g.TEMPLATE=['<span class="ql-tooltip-arrow"></span>','<div class="ql-tooltip-editor">','<input type="text" data-formula="e=mc^2" data-link="https://quilljs.com" data-video="Embed URL">','<a class="ql-close"></a>',"</div>"].join(""),e.BubbleTooltip=g,e.default=v},function(o,e,t){o.exports=t(63)}]).default});const us=window.ShadowRoot&&(window.ShadyCSS===void 0||window.ShadyCSS.nativeShadow)&&"adoptedStyleSheets"in Document.prototype&&"replace"in CSSStyleSheet.prototype,cs=Symbol(),aa=new Map;class tu{constructor(e,t){if(this._$cssResult$=!0,t!==cs)throw Error("CSSResult is not constructable. Use `unsafeCSS` or `css` instead.");this.cssText=e}get styleSheet(){let e=aa.get(this.cssText);return us&&e===void 0&&(aa.set(this.cssText,e=new CSSStyleSheet),e.replaceSync(this.cssText)),e}toString(){return this.cssText}}const ds=(o,...e)=>{const t=o.length===1?o[0]:e.reduce((i,n,r)=>i+(s=>{if(s._$cssResult$===!0)return s.cssText;if(typeof s=="number")return s;throw Error("Value passed to 'css' function must be a 'css' function result: "+s+". Use 'unsafeCSS' to pass non-literal values, but take care to ensure page security.")})(n)+o[r+1],o[0]);return new tu(t,cs)},la=us?o=>o:o=>o instanceof CSSStyleSheet?(e=>{let t="";for(const i of e.cssRules)t+=i.cssText;return(i=>new tu(typeof i=="string"?i:i+"",cs))(t)})(o):o;var vr;const ua=window.trustedTypes,Jd=ua?ua.emptyScript:"",ca=window.reactiveElementPolyfillSupport,$r={toAttribute(o,e){switch(e){case Boolean:o=o?Jd:null;break;case Object:case Array:o=o==null?o:JSON.stringify(o)}return o},fromAttribute(o,e){let t=o;switch(e){case Boolean:t=o!==null;break;case Number:t=o===null?null:Number(o);break;case Object:case Array:try{t=JSON.parse(o)}catch{t=null}}return t}},ou=(o,e)=>e!==o&&(e==e||o==o),gr={attribute:!0,type:String,converter:$r,reflect:!1,hasChanged:ou};class oi extends HTMLElement{constructor(){super(),this._$Et=new Map,this.isUpdatePending=!1,this.hasUpdated=!1,this._$Ei=null,this.o()}static addInitializer(e){var t;(t=this.l)!==null&&t!==void 0||(this.l=[]),this.l.push(e)}static get observedAttributes(){this.finalize();const e=[];return this.elementProperties.forEach((t,i)=>{const n=this._$Eh(i,t);n!==void 0&&(this._$Eu.set(n,i),e.push(n))}),e}static createProperty(e,t=gr){if(t.state&&(t.attribute=!1),this.finalize(),this.elementProperties.set(e,t),!t.noAccessor&&!this.prototype.hasOwnProperty(e)){const i=typeof e=="symbol"?Symbol():"__"+e,n=this.getPropertyDescriptor(e,i,t);n!==void 0&&Object.defineProperty(this.prototype,e,n)}}static getPropertyDescriptor(e,t,i){return{get(){return this[t]},set(n){const r=this[e];this[t]=n,this.requestUpdate(e,r,i)},configurable:!0,enumerable:!0}}static getPropertyOptions(e){return this.elementProperties.get(e)||gr}static finalize(){if(this.hasOwnProperty("finalized"))return!1;this.finalized=!0;const e=Object.getPrototypeOf(this);if(e.finalize(),this.elementProperties=new Map(e.elementProperties),this._$Eu=new Map,this.hasOwnProperty("properties")){const t=this.properties,i=[...Object.getOwnPropertyNames(t),...Object.getOwnPropertySymbols(t)];for(const n of i)this.createProperty(n,t[n])}return this.elementStyles=this.finalizeStyles(this.styles),!0}static finalizeStyles(e){const t=[];if(Array.isArray(e)){const i=new Set(e.flat(1/0).reverse());for(const n of i)t.unshift(la(n))}else e!==void 0&&t.push(la(e));return t}static _$Eh(e,t){const i=t.attribute;return i===!1?void 0:typeof i=="string"?i:typeof e=="string"?e.toLowerCase():void 0}o(){var e;this._$Ep=new Promise(t=>this.enableUpdating=t),this._$AL=new Map,this._$Em(),this.requestUpdate(),(e=this.constructor.l)===null||e===void 0||e.forEach(t=>t(this))}addController(e){var t,i;((t=this._$Eg)!==null&&t!==void 0?t:this._$Eg=[]).push(e),this.renderRoot!==void 0&&this.isConnected&&((i=e.hostConnected)===null||i===void 0||i.call(e))}removeController(e){var t;(t=this._$Eg)===null||t===void 0||t.splice(this._$Eg.indexOf(e)>>>0,1)}_$Em(){this.constructor.elementProperties.forEach((e,t)=>{this.hasOwnProperty(t)&&(this._$Et.set(t,this[t]),delete this[t])})}createRenderRoot(){var e;const t=(e=this.shadowRoot)!==null&&e!==void 0?e:this.attachShadow(this.constructor.shadowRootOptions);return((i,n)=>{us?i.adoptedStyleSheets=n.map(r=>r instanceof CSSStyleSheet?r:r.styleSheet):n.forEach(r=>{const s=document.createElement("style"),p=window.litNonce;p!==void 0&&s.setAttribute("nonce",p),s.textContent=r.cssText,i.appendChild(s)})})(t,this.constructor.elementStyles),t}connectedCallback(){var e;this.renderRoot===void 0&&(this.renderRoot=this.createRenderRoot()),this.enableUpdating(!0),(e=this._$Eg)===null||e===void 0||e.forEach(t=>{var i;return(i=t.hostConnected)===null||i===void 0?void 0:i.call(t)})}enableUpdating(e){}disconnectedCallback(){var e;(e=this._$Eg)===null||e===void 0||e.forEach(t=>{var i;return(i=t.hostDisconnected)===null||i===void 0?void 0:i.call(t)})}attributeChangedCallback(e,t,i){this._$AK(e,i)}_$ES(e,t,i=gr){var n,r;const s=this.constructor._$Eh(e,i);if(s!==void 0&&i.reflect===!0){const p=((r=(n=i.converter)===null||n===void 0?void 0:n.toAttribute)!==null&&r!==void 0?r:$r.toAttribute)(t,i.type);this._$Ei=e,p==null?this.removeAttribute(s):this.setAttribute(s,p),this._$Ei=null}}_$AK(e,t){var i,n,r;const s=this.constructor,p=s._$Eu.get(e);if(p!==void 0&&this._$Ei!==p){const d=s.getPropertyOptions(p),c=d.converter,u=(r=(n=(i=c)===null||i===void 0?void 0:i.fromAttribute)!==null&&n!==void 0?n:typeof c=="function"?c:null)!==null&&r!==void 0?r:$r.fromAttribute;this._$Ei=p,this[p]=u(t,d.type),this._$Ei=null}}requestUpdate(e,t,i){let n=!0;e!==void 0&&(((i=i||this.constructor.getPropertyOptions(e)).hasChanged||ou)(this[e],t)?(this._$AL.has(e)||this._$AL.set(e,t),i.reflect===!0&&this._$Ei!==e&&(this._$EC===void 0&&(this._$EC=new Map),this._$EC.set(e,i))):n=!1),!this.isUpdatePending&&n&&(this._$Ep=this._$E_())}async _$E_(){this.isUpdatePending=!0;try{await this._$Ep}catch(t){Promise.reject(t)}const e=this.scheduleUpdate();return e!=null&&await e,!this.isUpdatePending}scheduleUpdate(){return this.performUpdate()}performUpdate(){var e;if(!this.isUpdatePending)return;this.hasUpdated,this._$Et&&(this._$Et.forEach((n,r)=>this[r]=n),this._$Et=void 0);let t=!1;const i=this._$AL;try{t=this.shouldUpdate(i),t?(this.willUpdate(i),(e=this._$Eg)===null||e===void 0||e.forEach(n=>{var r;return(r=n.hostUpdate)===null||r===void 0?void 0:r.call(n)}),this.update(i)):this._$EU()}catch(n){throw t=!1,this._$EU(),n}t&&this._$AE(i)}willUpdate(e){}_$AE(e){var t;(t=this._$Eg)===null||t===void 0||t.forEach(i=>{var n;return(n=i.hostUpdated)===null||n===void 0?void 0:n.call(i)}),this.hasUpdated||(this.hasUpdated=!0,this.firstUpdated(e)),this.updated(e)}_$EU(){this._$AL=new Map,this.isUpdatePending=!1}get updateComplete(){return this.getUpdateComplete()}getUpdateComplete(){return this._$Ep}shouldUpdate(e){return!0}update(e){this._$EC!==void 0&&(this._$EC.forEach((t,i)=>this._$ES(i,this[i],t)),this._$EC=void 0),this._$EU()}updated(e){}firstUpdated(e){}}/**
 * @license
 * Copyright 2017 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */var br;oi.finalized=!0,oi.elementProperties=new Map,oi.elementStyles=[],oi.shadowRootOptions={mode:"open"},ca==null||ca({ReactiveElement:oi}),((vr=globalThis.reactiveElementVersions)!==null&&vr!==void 0?vr:globalThis.reactiveElementVersions=[]).push("1.3.1");const pi=globalThis.trustedTypes,da=pi?pi.createPolicy("lit-html",{createHTML:o=>o}):void 0,to=`lit$${(Math.random()+"").slice(9)}$`,iu="?"+to,ep=`<${iu}>`,hi=document,Vi=(o="")=>hi.createComment(o),Hi=o=>o===null||typeof o!="object"&&typeof o!="function",pa=Array.isArray,wi=/<(?:(!--|\/[^a-zA-Z])|(\/?[a-zA-Z][^>\s]*)|(\/?$))/g,ha=/-->/g,fa=/>/g,_o=/>|[ 	\n\r](?:([^\s"'>=/]+)([ 	\n\r]*=[ 	\n\r]*(?:[^ 	\n\r"'`<>=]|("|')|))|$)/g,ma=/'/g,va=/"/g,nu=/^(?:script|style|textarea|title)$/i,He=(o=>(e,...t)=>({_$litType$:o,strings:e,values:t}))(1),Fo=Symbol.for("lit-noChange"),Re=Symbol.for("lit-nothing"),ga=new WeakMap,li=hi.createTreeWalker(hi,129,null,!1),tp=(o,e)=>{const t=o.length-1,i=[];let n,r=e===2?"<svg>":"",s=wi;for(let d=0;d<t;d++){const c=o[d];let u,a,l=-1,h=0;for(;h<c.length&&(s.lastIndex=h,a=s.exec(c),a!==null);)h=s.lastIndex,s===wi?a[1]==="!--"?s=ha:a[1]!==void 0?s=fa:a[2]!==void 0?(nu.test(a[2])&&(n=RegExp("</"+a[2],"g")),s=_o):a[3]!==void 0&&(s=_o):s===_o?a[0]===">"?(s=n!=null?n:wi,l=-1):a[1]===void 0?l=-2:(l=s.lastIndex-a[2].length,u=a[1],s=a[3]===void 0?_o:a[3]==='"'?va:ma):s===va||s===ma?s=_o:s===ha||s===fa?s=wi:(s=_o,n=void 0);const f=s===_o&&o[d+1].startsWith("/>")?" ":"";r+=s===wi?c+ep:l>=0?(i.push(u),c.slice(0,l)+"$lit$"+c.slice(l)+to+f):c+to+(l===-2?(i.push(void 0),d):f)}const p=r+(o[t]||"<?>")+(e===2?"</svg>":"");if(!Array.isArray(o)||!o.hasOwnProperty("raw"))throw Error("invalid template strings array");return[da!==void 0?da.createHTML(p):p,i]};class Ki{constructor({strings:e,_$litType$:t},i){let n;this.parts=[];let r=0,s=0;const p=e.length-1,d=this.parts,[c,u]=tp(e,t);if(this.el=Ki.createElement(c,i),li.currentNode=this.el.content,t===2){const a=this.el.content,l=a.firstChild;l.remove(),a.append(...l.childNodes)}for(;(n=li.nextNode())!==null&&d.length<p;){if(n.nodeType===1){if(n.hasAttributes()){const a=[];for(const l of n.getAttributeNames())if(l.endsWith("$lit$")||l.startsWith(to)){const h=u[s++];if(a.push(l),h!==void 0){const f=n.getAttribute(h.toLowerCase()+"$lit$").split(to),m=/([.?@])?(.*)/.exec(h);d.push({type:1,index:r,name:m[2],strings:f,ctor:m[1]==="."?ip:m[1]==="?"?rp:m[1]==="@"?sp:Vn})}else d.push({type:6,index:r})}for(const l of a)n.removeAttribute(l)}if(nu.test(n.tagName)){const a=n.textContent.split(to),l=a.length-1;if(l>0){n.textContent=pi?pi.emptyScript:"";for(let h=0;h<l;h++)n.append(a[h],Vi()),li.nextNode(),d.push({type:2,index:++r});n.append(a[l],Vi())}}}else if(n.nodeType===8)if(n.data===iu)d.push({type:2,index:r});else{let a=-1;for(;(a=n.data.indexOf(to,a+1))!==-1;)d.push({type:7,index:r}),a+=to.length-1}r++}}static createElement(e,t){const i=hi.createElement("template");return i.innerHTML=e,i}}function fi(o,e,t=o,i){var n,r,s,p;if(e===Fo)return e;let d=i!==void 0?(n=t._$Cl)===null||n===void 0?void 0:n[i]:t._$Cu;const c=Hi(e)?void 0:e._$litDirective$;return(d==null?void 0:d.constructor)!==c&&((r=d==null?void 0:d._$AO)===null||r===void 0||r.call(d,!1),c===void 0?d=void 0:(d=new c(o),d._$AT(o,t,i)),i!==void 0?((s=(p=t)._$Cl)!==null&&s!==void 0?s:p._$Cl=[])[i]=d:t._$Cu=d),d!==void 0&&(e=fi(o,d._$AS(o,e.values),d,i)),e}class op{constructor(e,t){this.v=[],this._$AN=void 0,this._$AD=e,this._$AM=t}get parentNode(){return this._$AM.parentNode}get _$AU(){return this._$AM._$AU}p(e){var t;const{el:{content:i},parts:n}=this._$AD,r=((t=e==null?void 0:e.creationScope)!==null&&t!==void 0?t:hi).importNode(i,!0);li.currentNode=r;let s=li.nextNode(),p=0,d=0,c=n[0];for(;c!==void 0;){if(p===c.index){let u;c.type===2?u=new ln(s,s.nextSibling,this,e):c.type===1?u=new c.ctor(s,c.name,c.strings,this,e):c.type===6&&(u=new ap(s,this,e)),this.v.push(u),c=n[++d]}p!==(c==null?void 0:c.index)&&(s=li.nextNode(),p++)}return r}m(e){let t=0;for(const i of this.v)i!==void 0&&(i.strings!==void 0?(i._$AI(e,i,t),t+=i.strings.length-2):i._$AI(e[t])),t++}}class ln{constructor(e,t,i,n){var r;this.type=2,this._$AH=Re,this._$AN=void 0,this._$AA=e,this._$AB=t,this._$AM=i,this.options=n,this._$Cg=(r=n==null?void 0:n.isConnected)===null||r===void 0||r}get _$AU(){var e,t;return(t=(e=this._$AM)===null||e===void 0?void 0:e._$AU)!==null&&t!==void 0?t:this._$Cg}get parentNode(){let e=this._$AA.parentNode;const t=this._$AM;return t!==void 0&&e.nodeType===11&&(e=t.parentNode),e}get startNode(){return this._$AA}get endNode(){return this._$AB}_$AI(e,t=this){e=fi(this,e,t),Hi(e)?e===Re||e==null||e===""?(this._$AH!==Re&&this._$AR(),this._$AH=Re):e!==this._$AH&&e!==Fo&&this.$(e):e._$litType$!==void 0?this.T(e):e.nodeType!==void 0?this.k(e):(i=>{var n;return pa(i)||typeof((n=i)===null||n===void 0?void 0:n[Symbol.iterator])=="function"})(e)?this.S(e):this.$(e)}A(e,t=this._$AB){return this._$AA.parentNode.insertBefore(e,t)}k(e){this._$AH!==e&&(this._$AR(),this._$AH=this.A(e))}$(e){this._$AH!==Re&&Hi(this._$AH)?this._$AA.nextSibling.data=e:this.k(hi.createTextNode(e)),this._$AH=e}T(e){var t;const{values:i,_$litType$:n}=e,r=typeof n=="number"?this._$AC(e):(n.el===void 0&&(n.el=Ki.createElement(n.h,this.options)),n);if(((t=this._$AH)===null||t===void 0?void 0:t._$AD)===r)this._$AH.m(i);else{const s=new op(r,this),p=s.p(this.options);s.m(i),this.k(p),this._$AH=s}}_$AC(e){let t=ga.get(e.strings);return t===void 0&&ga.set(e.strings,t=new Ki(e)),t}S(e){pa(this._$AH)||(this._$AH=[],this._$AR());const t=this._$AH;let i,n=0;for(const r of e)n===t.length?t.push(i=new ln(this.A(Vi()),this.A(Vi()),this,this.options)):i=t[n],i._$AI(r),n++;n<t.length&&(this._$AR(i&&i._$AB.nextSibling,n),t.length=n)}_$AR(e=this._$AA.nextSibling,t){var i;for((i=this._$AP)===null||i===void 0||i.call(this,!1,!0,t);e&&e!==this._$AB;){const n=e.nextSibling;e.remove(),e=n}}setConnected(e){var t;this._$AM===void 0&&(this._$Cg=e,(t=this._$AP)===null||t===void 0||t.call(this,e))}}class Vn{constructor(e,t,i,n,r){this.type=1,this._$AH=Re,this._$AN=void 0,this.element=e,this.name=t,this._$AM=n,this.options=r,i.length>2||i[0]!==""||i[1]!==""?(this._$AH=Array(i.length-1).fill(new String),this.strings=i):this._$AH=Re}get tagName(){return this.element.tagName}get _$AU(){return this._$AM._$AU}_$AI(e,t=this,i,n){const r=this.strings;let s=!1;if(r===void 0)e=fi(this,e,t,0),s=!Hi(e)||e!==this._$AH&&e!==Fo,s&&(this._$AH=e);else{const p=e;let d,c;for(e=r[0],d=0;d<r.length-1;d++)c=fi(this,p[i+d],t,d),c===Fo&&(c=this._$AH[d]),s||(s=!Hi(c)||c!==this._$AH[d]),c===Re?e=Re:e!==Re&&(e+=(c!=null?c:"")+r[d+1]),this._$AH[d]=c}s&&!n&&this.C(e)}C(e){e===Re?this.element.removeAttribute(this.name):this.element.setAttribute(this.name,e!=null?e:"")}}class ip extends Vn{constructor(){super(...arguments),this.type=3}C(e){this.element[this.name]=e===Re?void 0:e}}const np=pi?pi.emptyScript:"";class rp extends Vn{constructor(){super(...arguments),this.type=4}C(e){e&&e!==Re?this.element.setAttribute(this.name,np):this.element.removeAttribute(this.name)}}class sp extends Vn{constructor(e,t,i,n,r){super(e,t,i,n,r),this.type=5}_$AI(e,t=this){var i;if((e=(i=fi(this,e,t,0))!==null&&i!==void 0?i:Re)===Fo)return;const n=this._$AH,r=e===Re&&n!==Re||e.capture!==n.capture||e.once!==n.once||e.passive!==n.passive,s=e!==Re&&(n===Re||r);r&&this.element.removeEventListener(this.name,this,n),s&&this.element.addEventListener(this.name,this,e),this._$AH=e}handleEvent(e){var t,i;typeof this._$AH=="function"?this._$AH.call((i=(t=this.options)===null||t===void 0?void 0:t.host)!==null&&i!==void 0?i:this.element,e):this._$AH.handleEvent(e)}}class ap{constructor(e,t,i){this.element=e,this.type=6,this._$AN=void 0,this._$AM=t,this.options=i}get _$AU(){return this._$AM._$AU}_$AI(e){fi(this,e)}}const ba=window.litHtmlPolyfillSupport;/**
 * @license
 * Copyright 2017 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */var yr,xr;ba==null||ba(Ki,ln),((br=globalThis.litHtmlVersions)!==null&&br!==void 0?br:globalThis.litHtmlVersions=[]).push("2.2.1");class pt extends oi{constructor(){super(...arguments),this.renderOptions={host:this},this._$Dt=void 0}createRenderRoot(){var e,t;const i=super.createRenderRoot();return(e=(t=this.renderOptions).renderBefore)!==null&&e!==void 0||(t.renderBefore=i.firstChild),i}update(e){const t=this.render();this.hasUpdated||(this.renderOptions.isConnected=this.isConnected),super.update(e),this._$Dt=((i,n,r)=>{var s,p;const d=(s=r==null?void 0:r.renderBefore)!==null&&s!==void 0?s:n;let c=d._$litPart$;if(c===void 0){const u=(p=r==null?void 0:r.renderBefore)!==null&&p!==void 0?p:null;d._$litPart$=c=new ln(n.insertBefore(Vi(),u),u,void 0,r!=null?r:{})}return c._$AI(i),c})(t,this.renderRoot,this.renderOptions)}connectedCallback(){var e;super.connectedCallback(),(e=this._$Dt)===null||e===void 0||e.setConnected(!0)}disconnectedCallback(){var e;super.disconnectedCallback(),(e=this._$Dt)===null||e===void 0||e.setConnected(!1)}render(){return Fo}}pt.finalized=!0,pt._$litElement$=!0,(yr=globalThis.litElementHydrateSupport)===null||yr===void 0||yr.call(globalThis,{LitElement:pt});const ya=globalThis.litElementPolyfillSupport;ya==null||ya({LitElement:pt}),((xr=globalThis.litElementVersions)!==null&&xr!==void 0?xr:globalThis.litElementVersions=[]).push("3.2.0");/**
 * @license
 * Copyright 2017 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */const Xt=o=>e=>typeof e=="function"?((t,i)=>(window.customElements.define(t,i),i))(o,e):((t,i)=>{const{kind:n,elements:r}=i;return{kind:n,elements:r,finisher(s){window.customElements.define(t,s)}}})(o,e),lp=(o,e)=>e.kind==="method"&&e.descriptor&&!("value"in e.descriptor)?tr(Oo({},e),{finisher(t){t.createProperty(e.key,o)}}):{kind:"field",key:Symbol(),placement:"own",descriptor:{},originalKey:e.key,initializer(){typeof e.initializer=="function"&&(this[e.key]=e.initializer.call(this))},finisher(t){t.createProperty(e.key,o)}};function Et(o){return(e,t)=>t!==void 0?((i,n,r)=>{n.constructor.createProperty(r,i)})(o,e,t):lp(o,e);/**
 * @license
 * Copyright 2021 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */}var Er;(Er=window.HTMLSlotElement)===null||Er===void 0||Er.prototype.assignedElements;/**
@license
Copyright (c) 2018 The Polymer Project Authors. All rights reserved.
This code may only be used under the BSD style license found at http://polymer.github.io/LICENSE.txt
The complete set of authors may be found at http://polymer.github.io/AUTHORS.txt
The complete set of contributors may be found at http://polymer.github.io/CONTRIBUTORS.txt
Code distributed by Google as part of the polymer project is also
subject to an additional IP rights grant found at http://polymer.github.io/PATENTS.txt
*/const ps=o=>e=>class extends e{connectedCallback(){super.connectedCallback&&super.connectedCallback(),this._storeUnsubscribe=o.subscribe(()=>this.stateChanged(o.getState())),this.stateChanged(o.getState())}disconnectedCallback(){this._storeUnsubscribe(),super.disconnectedCallback&&super.disconnectedCallback()}stateChanged(t){}};var xa=function(o){var e,t=o.Symbol;return typeof t=="function"?t.observable?e=t.observable:(e=t("observable"),t.observable=e):e="@@observable",e}(typeof self!="undefined"?self:typeof window!="undefined"?window:typeof global!="undefined"?global:typeof module!="undefined"?module:Function("return this")()),wr=function(){return Math.random().toString(36).substring(7).split("").join(".")},Oi={INIT:"@@redux/INIT"+wr(),REPLACE:"@@redux/REPLACE"+wr(),PROBE_UNKNOWN_ACTION:function(){return"@@redux/PROBE_UNKNOWN_ACTION"+wr()}};function up(o){if(typeof o!="object"||o===null)return!1;for(var e=o;Object.getPrototypeOf(e)!==null;)e=Object.getPrototypeOf(e);return Object.getPrototypeOf(o)===e}function cp(o,e){var t=e&&e.type;return"Given "+(t&&'action "'+String(t)+'"'||"an action")+', reducer "'+o+'" returned undefined. To ignore an action, you must explicitly return the previous state. If you want this reducer to hold no value, you can return null instead of undefined.'}const R={agrupadorGenerico:{tipo:"DispositivoAgrupadorGenerico",name:void 0,tagId:"dg",descricao:void 0,descricaoPlural:void 0,tiposPermitidosPai:["Articulacao","Parte","Livro","Titulo","Capitulo","Secao"],tiposPermitidosFilhos:["Parte","Livro","Titulo","Capitulo","Secao","Artigo"],tipoProvavelFilho:"Artigo",INDICADOR_SEQUENCIA:["NA"],INDICADOR_FIM_SEQUENCIA:[""],INDICADOR_DESDOBRAMENTO:["NA"]},alinea:{tipo:"Alinea",name:"Alinea",tagId:"ali",descricao:"Al\xEDnea",descricaoPlural:"Al\xEDneas",tiposPermitidosPai:["Inciso"],tiposPermitidosFilhos:["Item"],tipoProvavelFilho:"Item",INDICADOR_SEQUENCIA:[";","; e","; ou"],INDICADOR_FIM_SEQUENCIA:["."],INDICADOR_DESDOBRAMENTO:[":"]},articulacao:{tipo:"Articulacao",name:"Articulacao",tagId:"",descricao:"Articula\xE7\xE3o",descricaoPlural:"Articula\xE7\xF5es",tiposPermitidosPai:[],tiposPermitidosFilhos:["Parte","Livro","Titulo","Capitulo","Secao","Artigo"],tipoProvavelFilho:"Artigo",INDICADOR_SEQUENCIA:["."],INDICADOR_FIM_SEQUENCIA:["NA"],INDICADOR_DESDOBRAMENTO:[":"]},artigo:{tipo:"Artigo",name:"Artigo",tagId:"art",descricao:"Artigo",descricaoPlural:"Artigos",tiposPermitidosPai:["Articulacao","Parte","Livro","Titulo","Capitulo","Secao","Subsecao"],tiposPermitidosFilhos:["Paragrafo","Inciso"],tipoProvavelFilho:"Inciso",INDICADOR_SEQUENCIA:["."],INDICADOR_FIM_SEQUENCIA:["NA"],INDICADOR_DESDOBRAMENTO:[":"]},capitulo:{tipo:"Capitulo",name:"Capitulo",tagId:"cap",descricao:"Cap\xEDtulo",descricaoPlural:"Cap\xEDtulos",tiposPermitidosPai:["Articulacao","Parte","Livro","Titulo"],tiposPermitidosFilhos:["Secao","Artigo"],tipoProvavelFilho:"Artigo",INDICADOR_SEQUENCIA:["NA"],INDICADOR_FIM_SEQUENCIA:[""],INDICADOR_DESDOBRAMENTO:["NA"]},caput:{tipo:"Caput",name:"Caput",tagId:"cpt",descricao:"Caput",descricaoPlural:"Capita",tiposPermitidosPai:["Artigo"],tiposPermitidosFilhos:["Inciso"],tipoProvavelFilho:"Inciso",INDICADOR_SEQUENCIA:["."],INDICADOR_FIM_SEQUENCIA:["NA"],INDICADOR_DESDOBRAMENTO:[":"]},generico:{tipo:"DispositivoGenerico",name:void 0,tagId:"gen",descricao:"Dispositivo gen\xE9rico",descricaoPlural:"Dispositivos gen\xE9ricos",tiposPermitidosPai:["Articulacao","Parte","Livro","Titulo","Capitulo","Secao","Subsecao"],tiposPermitidosFilhos:["Paragrafo","Inciso","Alinea","Item"],tipoProvavelFilho:"DispositivoGenerico",INDICADOR_SEQUENCIA:[";","; e","; ou"],INDICADOR_FIM_SEQUENCIA:["."],INDICADOR_DESDOBRAMENTO:[":"]},inciso:{tipo:"Inciso",name:"Inciso",tagId:"inc",descricao:"Inciso",descricaoPlural:"Incisos",tiposPermitidosPai:["Artigo","Caput","Paragrafo"],tiposPermitidosFilhos:["Alinea"],tipoProvavelFilho:"Alinea",INDICADOR_SEQUENCIA:[";","; e","; ou"],INDICADOR_FIM_SEQUENCIA:["."],INDICADOR_DESDOBRAMENTO:[":"]},item:{tipo:"Item",name:"Item",tagId:"ite",descricao:"Item",descricaoPlural:"Itens",tiposPermitidosPai:["Alinea"],tiposPermitidosFilhos:[],tipoProvavelFilho:"DispositivoGenerico",INDICADOR_SEQUENCIA:[";","; e","; ou"],INDICADOR_FIM_SEQUENCIA:["."],INDICADOR_DESDOBRAMENTO:[":"]},livro:{tipo:"Livro",name:"Livro",tagId:"liv",descricao:"Livro",descricaoPlural:"Livros",tiposPermitidosPai:["Articulacao","Parte"],tiposPermitidosFilhos:["Titulo","Capitulo","Secao","Artigo"],tipoProvavelFilho:"Artigo",INDICADOR_SEQUENCIA:["NA"],INDICADOR_FIM_SEQUENCIA:[""],INDICADOR_DESDOBRAMENTO:["NA"]},omissis:{tipo:"Omissis",name:"Omissis",tagId:"omi",descricao:"Omissis",descricaoPlural:"Linhas pontilhadas (omissis)",tiposPermitidosPai:["Articulacao","Parte","Livro","Titulo","Capitulo","Secao","Subsecao","Artigo","Caput","Paragrafo","Alinea","Inciso"],tiposPermitidosFilhos:["Parte","Livro","Titulo","Capitulo","Secao","Subsecao","Artigo","Paragrafo","Alinea","Inciso","Item"],tipoProvavelFilho:void 0,INDICADOR_SEQUENCIA:["NA"],INDICADOR_FIM_SEQUENCIA:["NA"],INDICADOR_DESDOBRAMENTO:["NA"]},paragrafo:{tipo:"Paragrafo",name:"Paragrafo",tagId:"par",descricao:"Par\xE1grafo",descricaoPlural:"Par\xE1grafos",tiposPermitidosPai:["Artigo"],tiposPermitidosFilhos:["Inciso"],tipoProvavelFilho:"Inciso",INDICADOR_SEQUENCIA:["."],INDICADOR_FIM_SEQUENCIA:["NA"],INDICADOR_DESDOBRAMENTO:[":"]},parte:{tipo:"Parte",name:"Parte",tagId:"prt",descricao:"Parte",descricaoPlural:"Partes",tiposPermitidosPai:["Articulacao"],tiposPermitidosFilhos:["Livro","Titulo","Capitulo","Secao","Artigo"],tipoProvavelFilho:"Artigo",INDICADOR_SEQUENCIA:["NA"],INDICADOR_FIM_SEQUENCIA:[""],INDICADOR_DESDOBRAMENTO:["NA"]},secao:{tipo:"Secao",name:"Secao",tagId:"sec",descricao:"Se\xE7\xE3o",descricaoPlural:"Se\xE7\xF5es",tiposPermitidosPai:["Articulacao","Parte","Livro","Titulo","Capitulo"],tiposPermitidosFilhos:["Subsecao","Artigo"],tipoProvavelFilho:"Artigo",INDICADOR_SEQUENCIA:["NA"],INDICADOR_FIM_SEQUENCIA:[""],INDICADOR_DESDOBRAMENTO:["NA"]},subsecao:{tipo:"Subsecao",name:"Subsecao",tagId:"sub",descricao:"Subse\xE7\xE3o",descricaoPlural:"Subse\xE7\xF5es",tiposPermitidosPai:["Secao"],tiposPermitidosFilhos:["Artigo"],tipoProvavelFilho:"Artigo",INDICADOR_SEQUENCIA:["NA"],INDICADOR_FIM_SEQUENCIA:[""],INDICADOR_DESDOBRAMENTO:["NA"]},titulo:{tipo:"Titulo",name:"Titulo",tagId:"tit",descricao:"T\xEDtulo",descricaoPlural:"T\xEDtulos",tiposPermitidosPai:["Articulacao","Parte","Livro"],tiposPermitidosFilhos:["Capitulo","Secao","Artigo"],tipoProvavelFilho:"Artigo",INDICADOR_SEQUENCIA:["NA"],INDICADOR_FIM_SEQUENCIA:[""],INDICADOR_DESDOBRAMENTO:["NA"]}};class vo{constructor(e){var t;this.isDispositivoAlteracao=!1,this.descricao=`Adicionar ${(t=e==null?void 0:e.descricao)!==null&&t!==void 0?t:""}`,this.tipo=e==null?void 0:e.tipo}execute(e,t,i,n=!1){return{type:"ADICIONAR_ELEMENTO",atual:e,novo:{tipo:i,isDispositivoAlteracao:this.isDispositivoAlteracao,conteudo:{texto:t}},hasDesmembramento:n}}}const hs=new vo,ru=new vo(R.artigo),fs=new vo(R.alinea),Hn=new vo(R.inciso),su=new vo(R.item),au=new vo(R.omissis),lu=new vo(R.paragrafo);class Nt{constructor(e){this.descricao="Adicionar "+e.descricao,this.tipo=e.tipo}execute(e){return{type:"AGRUPAR_ELEMENTO",atual:e,novo:{tipo:this.tipo}}}}const dp=new Nt(R.parte),pp=new Nt(R.livro),hp=new Nt(R.titulo),uu=new Nt(R.capitulo),fp=new Nt(R.secao),mp=new Nt(R.subsecao),vp=new class{constructor(){this.descricao="Atualizar dispositivo"}execute(o){return{type:"APLICAR_ALTERACOES_EMENDA",alteracoesEmenda:o}}},gp=new class{constructor(){this.descricao="Atualizar dispositivo"}execute(o){return this.tipo=o.tipo,{type:"ATUALIZAR_ELEMENTO",atual:o}}},bp=new class{constructor(){this.descricao="Atualizar Norma Referenciada"}execute(o){return this.tipo=o.tipo,{type:"ATUALIZAR_REFERENCIA_ELEMENTO",atual:o}}},Ea=new class{constructor(){this.descricao="Atualizar dispositivo"}execute(o){return this.tipo=o.tipo,{type:"ATUALIZAR_TEXTO_ELEMENTO",atual:o}}},yp=new class{constructor(){this.descricao="Elemento selecionado"}execute(o){return{type:"ELEMENTO_SELECIONADO",atual:o}}},ms=new class{constructor(){this.descricao="Informar norma alterada"}execute(o){return{type:"INFORMAR_NORMA",atual:o}}};class cu{constructor(){this.descricao="Mover para baixo"}execute(e){return{type:"Mover para baixo",atual:e}}}const go=new cu;class du{constructor(){this.descricao="Mover para cima"}execute(e){return{type:"Mover para cima",atual:e}}}const bo=new du;class Kn{constructor(){this.descricao="Remover dispositivo"}execute(e){return{type:"REMOVER_ELEMENTO",atual:e}}}const Pt=new Kn;class Gn{constructor(){this.descricao="Numerar e criar r\xF3tulo para o dispositivo "}execute(e,t){return this.tipo=e.tipo,{type:"RENUMERAR_ELEMENTO",atual:e,novo:{numero:t}}}}const At=new Gn,Qn=new class{constructor(){this.descricao="Abandonar modifica\xE7\xF5es do dispositivo"}execute(o){return{type:"RESTAURAR_ELEMENTO",atual:o}}},pu=new class{constructor(){this.descricao="Suprimir dispositivo"}execute(o){return{type:"SUPRIMIR_ELEMENTO",atual:o}}};class ie{constructor(e,t,i){this.descricao=t,this.tipo=e.tipo,this.nomeAcao=i}execute(e){return{type:"TRANSFORMAR_TIPO_ELEMENTO",subType:this.nomeAcao,atual:e,novo:{tipo:this.tipo}}}}const hu=new ie(R.omissis,"Transformar em Omissis de Al\xEDnea","transformarAlineaEmOmissisAlinea"),fu=new ie(R.omissis,"Transformar em Omissis de Inciso de Caput","transformarIncisoCaputEmOmissisIncisoCaput"),mu=new ie(R.omissis,"Transformar em Omissis de Item","transformarItemEmOmissisItem"),vu=new ie(R.omissis,"Transformar em Omissis de Par\xE1grafo","transformarParagrafoEmOmissisParagrafo"),Br=new ie(R.omissis,"Transformar em Omissis de Inciso de Par\xE1grafo","transformarIncisoParagrafoEmOmissisIncisoParagrafo"),Gi=new ie(R.inciso,"Transformar Al\xEDnea em Inciso","transformarAlineaEmIncisoCaput"),Qi=new ie(R.inciso,"Transformar Al\xEDnea em Inciso","transformarAlineaEmIncisoParagrafo"),gu=new ie(R.item,"Transformar Al\xEDnea em Item","transformarAlineaEmItem"),bu=new ie(R.paragrafo,"Transformar Artigo em Par\xE1grafo","transformarArtigoEmParagrafo"),xp=new ie(R.inciso,"Transformar em Inciso","transformarDispositivoGenericoEmInciso"),Ep=new ie(R.alinea,"Transformar em Al\xEDnea","transformarDispositivoGenericoEmAlinea"),wp=new ie(R.item,"Transformar em Item","transformarDispositivoGenericoEmItem"),Wi=new ie(R.paragrafo,"Transformar Inciso em Par\xE1grafo","transformarIncisoParagrafoEmParagrafo"),Zi=new ie(R.paragrafo,"Transformar Inciso Caput em Par\xE1grafo","transformarIncisoCaputEmParagrafo"),wa=new ie(R.alinea,"Transformar Inciso de Caput em Al\xEDnea","transformarIncisoCaputEmAlinea"),Oa=new ie(R.alinea,"Transformar Inciso de Caput em Al\xEDnea","transformarIncisoParagrafoEmAlinea"),yu=new ie(R.alinea,"Transformar Omissis em Al\xEDnea","transformarOmissisEmAlinea"),xu=new ie(R.artigo,"Transformar Omissis em Artigo","transformarOmissisEmArtigo"),Eu=new ie(R.inciso,"Transformar Omissis em Inciso de Caput","transformarOmissisEmIncisoCaput"),wu=new ie(R.inciso,"Transformar Omissis em Inciso de Par\xE1grafo","transformarOmissisEmIncisoParagrafo"),Ou=new ie(R.item,"Transformar Omissis em Item","transformarOmissisEmItem"),Au=new ie(R.paragrafo,"Transformar Omissis em Par\xE1grafo","transformarOmissisEmParagrafo"),_u=new ie(R.alinea,"Transformar Item em Al\xEDnea","transformarItemEmAlinea"),qu=new ie(R.artigo,"Transformar Par\xE1grafo em Artigo","transformarParagrafoEmArtigo"),Iu=new ie(R.inciso,"Transformar Par\xE1grafo em Inciso de Par\xE1grafo","transformarParagrafoEmIncisoParagrafo"),Su=new ie(R.inciso,"Transformar Par\xE1grafo em Inciso de Caput","transformarParagrafoEmIncisoCaput"),ku=new class{constructor(){this.descricao="Articula\xE7\xE3o validada"}execute(){return{type:"VALIDAR_ARTICULACAO"}}},Nu=new class{constructor(){this.descricao="Elemento validado"}execute(o){return{type:"VALIDAR_ELEMENTO",atual:o}}},Ee=o=>o.tipo===R.articulacao.tipo,ht=o=>o.tipo===R.generico.tipo,W=o=>o.tipo===R.artigo.tipo,ke=o=>o.tipo===R.caput.tipo,fe=o=>o.tipo===R.paragrafo.tipo,mt=o=>o.tipo===R.inciso.tipo,ct=o=>mt(o)&&ke(o.pai),eo=o=>mt(o)&&fe(o.pai),To=o=>o.tipo===R.alinea.tipo,Aa=o=>o.tipo===R.item.tipo,ze=o=>o.tipo===R.omissis.tipo,ue=o=>[R.articulacao.tipo,R.agrupadorGenerico.tipo,R.capitulo.tipo,R.livro.tipo,R.parte.tipo,R.secao.tipo,R.subsecao.tipo,R.titulo.tipo].includes(o.tipo),Op=o=>ue(o)&&!Ee(o),_a=o=>o.tipo===R.agrupadorGenerico.tipo,ii=o=>[R.paragrafo.tipo,R.inciso.tipo,R.alinea.tipo,R.item.tipo].includes(o.tipo);function vs(o,e){return e.map(t=>new RegExp(ao(Ci(t))+"\\s*$").test(o)).filter(t=>t)[0]===!0}function Lt(o){switch(o[0].trim()){case".":return"ponto";case":":return"dois pontos";case";":return"ponto e v\xEDrgula";case",":return"v\xEDrgula";default:return o[0].trim()}}function Ci(o){return o.replace(/[-/\\^$*+?.()|[\]{}]/g,"\\$&")}function ao(o){return o.replace(/\s+/g,"\\s+")}function Wn(o){return o.replace(/\s{2,}/g," ")}class Ke{constructor(e){this.strs=new Array,e&&this.append(e)}append(e){e&&this.strs.push(e)}toString(){return function(e){let t="";return e.forEach(i=>{t+=i}),t}(this.strs)}}var G;(function(o){o.DISPOSITIVO_ADICIONADO="Dispositivo Adicionado",o.DISPOSITIVO_NOVO="Dispositivo Novo",o.DISPOSITIVO_MODIFICADO="Dispositivo Modificado",o.DISPOSITIVO_ORIGINAL="Dispositivo Original",o.DISPOSITIVO_SUPRIMIDO="Dispositivo Suprimido"})(G||(G={}));const gs=o=>[G.DISPOSITIVO_ADICIONADO.toString(),G.DISPOSITIVO_MODIFICADO.toString(),G.DISPOSITIVO_SUPRIMIDO.toString()].includes(o.situacao.descricaoSituacao),Pu=o=>!!gs(o)||o.pai!==void 0&&Pu(o.pai);function Ae(o){if(!o||Ee(o))return o;if(o.pai===void 0)throw new Error("N\xE3o foi encontrada a articula\xE7\xE3o");return Ae(o.pai)}function Tu(o,e){if(e.uuid===o)return e;if(e.filhos!==null){let t=null;const i=e.hasAlteracao()?e.alteracoes.filhos:e.filhos;for(let n=0;t===null&&n<i.length;n++)t=Tu(o,i[n]);return t}return null}const Tn=(o,e)=>{if(e===void 0)throw new Error("uuid n\xE3o foi informado");return Tu(e,o)},mi=o=>{var e;return Me(o)?mi(o.filhos[o.filhos.length-1]):(o==null?void 0:o.hasAlteracao())&&((e=o.alteracoes)===null||e===void 0?void 0:e.filhos.length)?mi(o.alteracoes.filhos[o.alteracoes.filhos.length-1]):o},Ze=o=>W(o)?Ae(o).artigos.filter(e=>e.tipo===o.tipo):o.pai?o.pai.filhos.filter(e=>e.tipo===o.tipo):[o],Xi=(o,e,t)=>{if(o!=null&&o.filhos){for(let i=o==null?void 0:o.indexOf(e);i>=0;i--){const n=o==null?void 0:o.filhos[i];ue(n)&&t.push(n)}if(o!=null&&o.pai)return Xi(o.pai,e.pai,t)}return t},zr=(o,e)=>{if(o&&o.pai)return o.pai&&o.pai.tipo===e?o.pai:zr(o.pai,e)},Cu=o=>W(o.pai)?o.pai:Cu(o.pai),Ru=o=>{const e=o.pai;return W(e)&&!X(e)?o.pai:Ru(o.pai)},un=(o,e)=>{if(o!=null&&o.filhos){for(let t=(o==null?void 0:o.indexOf(e))-1;t>=0;t--){const i=o==null?void 0:o.filhos[t];if(W(i))return i;if(ue(i))return Du(i)}if(o!=null&&o.pai)return un(o.pai,e.pai)}},Du=o=>{if(o!==void 0&&o.filhos)for(let e=o.filhos.length-1;e>=0;e--){const t=o.filhos[e];if(W(t))return t;if(ue(t))return Du(t)}},qa=o=>{const e=o.pai.indexOf(o);return o.pai.filhos.filter((t,i)=>i>e&&ue(t))[0]},Ia=o=>{var e;return((e=o.filhos)===null||e===void 0?void 0:e.filter(t=>ht(t)).length)>0},me=o=>Ze(o).length===1,De=o=>{const e=Ze(o);return e[e.length-1]===o},Sa=o=>{const e=Ze(o);return e.length>1&&e[e.length-2]===o},Ut=o=>Ze(o)[0]===o,Me=o=>o.filhos&&o.filhos.length>0,Pe=o=>{const e=o.pai.indexOf(o);return e>0?o.pai.filhos[e-1]:void 0},lo=o=>{const e=Ze(o),t=e.indexOf(o);return t>0?e[t-1]:void 0},zo=o=>{const e=o.pai.indexOf(o);if(e!==0)return o.pai.filhos.filter((t,i)=>i<e&&(t.tipo===o.tipo||t.tipo===au.tipo)).pop()},Yi=o=>{const e=o.pai.indexOf(o);return e<o.pai.filhos.length-1?o.pai.filhos[e+1]:void 0},bs=o=>{var e,t,i;const n=(e=o.pai)===null||e===void 0?void 0:e.indexOf(o);return(i=(t=o.pai)===null||t===void 0?void 0:t.filhos.filter((r,s)=>s<n&&r.tipo===o.tipo&&r.pai===o.pai))!==null&&i!==void 0?i:[]},Lu=o=>{var e,t,i;const n=(e=o.pai)===null||e===void 0?void 0:e.indexOf(o);return(i=(t=o.pai)===null||t===void 0?void 0:t.filhos.filter((r,s)=>s>n&&r.tipo===o.tipo))!==null&&i!==void 0?i:[]},Vo=o=>{const e=o.pai.indexOf(o);if(e!==o.pai.filhos.length-1)return o.pai.filhos.filter((t,i)=>i>e&&(t.tipo===o.tipo||t.tipo===au.tipo))[0]},ju=(o,e=!1)=>{if(W(o)){const i=Ae(o),n=Ae(o).indexOfArtigo(o);return i.artigos.filter((r,s)=>s>n)}const t=o.pai.indexOf(o);return o.pai.filhos.filter((i,n)=>e?n>t:n>=t).filter(i=>o.tipo===i.tipo)},jn=o=>W(o)&&me(o),Mu=o=>fe(o)&&me(o),ys=o=>o.cabecaAlteracao||St(o)?o:ys(o.pai),St=o=>X(o)&&Ee(o.pai)&&o.pai.pai!==void 0,vt=o=>{const e=ys(o),t=Uo(e);return t.length>0&&t[t.length-1]===o},Ho=o=>{const e=Ae(o).pai;if(!e)return!1;const t=Ae(e);return me(e)||t.indexOfArtigo(e)<t.artigos.length-1},Ve=o=>Ee(o)&&o.pai!==void 0,X=o=>{if(o.isDispositivoAlteracao)return!0;try{return Ae(o).pai!==void 0}catch{return!1}},Ko=o=>o.situacao.descricaoSituacao===G.DISPOSITIVO_ORIGINAL,Fu=o=>o.situacao.descricaoSituacao===G.DISPOSITIVO_MODIFICADO||o.situacao.descricaoSituacao===G.DISPOSITIVO_SUPRIMIDO,Uo=o=>oo(o,[]),oo=(o,e)=>{e.push(o);const t=o.hasAlteracao()?o.alteracoes.filhos:o.filhos;return t.length&&t.forEach(i=>oo(i,e)),e},ni=(o,e)=>{if(o)if(e(o),o.tipo===R.artigo.tipo){const t=o;t.caput&&(ni(t.caput,e),o.alteracoes&&ni(o.alteracoes,e),o.filhos.filter(i=>fe(i)).forEach(i=>{ni(i,e)}))}else o.alteracoes&&ni(o.alteracoes,e),o.filhos.forEach(t=>{ni(t,e)})},ri=(o,e)=>{if(!o)return;let t=e(o);if(t)return t;if(o.tipo===R.artigo.tipo){const i=o;if(i.caput){if(t=ri(i.caput,e),t||o.alteracoes&&(t=ri(o.alteracoes,e),t))return t;for(const n of o.filhos.filter(r=>fe(r)))if(t=ri(n,e),t)return t}}else{if(o.alteracoes&&(t=ri(o.alteracoes,e),t))return t;for(const i of o.filhos)if(t=ri(i,e),t)return t}},Co=o=>o&&!o.pai&&o.tipo===R.articulacao.tipo,Mn=(o,e)=>{const t=Ap(e);let i=o;if(t){const n=o.artigos.find(r=>t===r.id);if(n){if(e===t||e===t+"_cpt")return n;i=n}}return ri(i,n=>e===n.id?n:void 0)},Ap=o=>{const e=/^art\d+(-\d+)*/.exec(o);return e!=null&&e.length?e[0]:void 0},Uu=o=>{if(!o)return!1;let e=o.pai;for(;e;){if(e.situacao.descricaoSituacao===G.DISPOSITIVO_SUPRIMIDO)return!0;e=e.pai}return!1};var te;(function(o){o[o.INFO=0]="INFO",o[o.WARNING=1]="WARNING",o[o.ERROR=2]="ERROR"})(te||(te={}));const ft="...........................................................................................",rt=o=>{var e;const t=W(o)?o.caput:o;return vs(t.texto,(e=t.INDICADOR_DESDOBRAMENTO)!==null&&e!==void 0?e:[])},Ji=o=>{var e;const t=W(o)?o.caput:o;return vs(t.texto,(e=t.INDICADOR_FIM_SEQUENCIA)!==null&&e!==void 0?e:[])},ai=o=>{var e;const t=W(o)?o.caput:o;return vs(t.texto,(e=t.INDICADOR_SEQUENCIA)!==null&&e!==void 0?e:[])},en=ft+".\u201D (NR)",$u=o=>new RegExp(ao(Ci("o seguinte acr\xE9scimo:"))+"\\s*$").test(o)||new RegExp(ao(Ci("os seguintes acr\xE9scimos:"))+"\\s*$").test(o)||new RegExp(ao(Ci("passa a vigorar com a seguinte altera\xE7\xE3o:"))+"\\s*$").test(o)||new RegExp(ao(Ci("passa a vigorar com as seguintes altera\xE7\xF5es:"))+"\\s*$").test(o),$t=o=>/^[.]*(?:\s*)["]?(\s*)?\(NR\)\s*$/.test(o)?en:/["]?(\s*)?\(NR\)?\s*$/.test(o)?o.replace(/["](?!.*["])/,"\u201D"):o!==ft&&o!==en&&new RegExp("^[.]+$").test(o)?ft:o,Bu=o=>/\.["](?:\s*\(NR\))\s*$/.test(o),ka=o=>o!==void 0&&/.*:[\s]{1,2}["].*[.]["]$/.test(o),_p=o=>{var e;const t=[];return(Ee(o)||o.texto)&&o.texto.trim().length!==0||t.push({tipo:te.ERROR,descricao:"N\xE3o foi informado um texto para "+(o.artigoDefinido+" "+o.descricao)}),Ee(o)||!o.texto||function(i){const n=document.createElement("div");return n.innerHTML=i,n.innerHTML===i}(o.texto)||t.push({tipo:te.ERROR,descricao:"O conte\xFAdo do dispositivo n\xE3o \xE9 um HTML v\xE1lido"}),!Ee(o)&&o.texto&&o.texto.trim().length>300&&t.push({tipo:te.WARNING,descricao:"Pelo princ\xEDpio da concis\xE3o, o texto dos dispositivos n\xE3o deve ser extenso, devendo ser utilizadas frases curtas e concisas"}),ii(o)&&!fe(o)&&o.texto&&/^[A-Z-]/.test(o.texto)&&t.push({tipo:te.WARNING,descricao:`${o.descricao} deveria iniciar com letra min\xFAscula, a n\xE3o ser que se trate de uma situa\xE7\xE3o especial, como nome pr\xF3prio`}),!ii(o)||fe(o)||ze(o)||!o.texto||me(o)||De(o)||Sa(o)||Me(o)||o.INDICADOR_SEQUENCIA===void 0||function(i){const n=i.replace(/(<([^>]+)>)/gi,"").trim();return n.length>0?n.charAt(n.length-1):""}(o.texto)===o.INDICADOR_SEQUENCIA[0]||t.push({tipo:te.ERROR,descricao:`${o.descricao} deveria terminar com ${Lt(o.INDICADOR_SEQUENCIA)}. ${ai(o)?"A varia\xE7\xE3o informada s\xF3 \xE9 permitida para o pen\xFAltimo elemento":""}`}),!W(o)&&!fe(o)||!o.texto||/^[...]{3,}/.test(o.texto)||/^[A-Z-]/.test(o.texto)||t.push({tipo:te.ERROR,descricao:`${o.descricao} deveria iniciar com letra mai\xFAscula`}),X(o)||ue(o)||ze(o)||!o.texto||!(!W(o)&&Me(o)||W(o)&&Me(o.caput))||rt(o)||t.push({tipo:te.ERROR,descricao:`${o.descricao} deveria terminar com ${Lt(o.INDICADOR_DESDOBRAMENTO)}`}),X(o)||!ii(o)||fe(o)||!o.texto||!me(o)&&!De(o)||Ia(o.pai)||Me(o)||Ji(o)||t.push({tipo:te.ERROR,descricao:`\xDAltimo dispositivo de uma sequ\xEAncia deveria terminar com ${Lt(o.INDICADOR_FIM_SEQUENCIA)}`}),X(o)||!ii(o)||fe(o)||!o.texto||me(o)||!Sa(o)||Me(o)||ai(o)||t.push({tipo:te.ERROR,descricao:`${o.descricao} deveria terminar com uma das seguintes possibilidades: ${o.INDICADOR_SEQUENCIA.join("     ")}`}),X(o)||!W(o)&&!fe(o)||!o.texto||Me(o)||o.hasAlteracao()||me(o)||ai(o)||ka(o.texto)||t.push({tipo:te.ERROR,descricao:`${o.descricao} deveria terminar com ${Lt(o.INDICADOR_SEQUENCIA)}`}),!X(o)&&W(o)&&o.texto&&o.hasAlteracao()&&!rt(o)&&!$u(o.texto)&&t.push({tipo:te.ERROR,descricao:`${o.descricao} deveria terminar com ${Lt(o.INDICADOR_DESDOBRAMENTO)}`}),X(o)||!W(o)||!o.texto||o.hasAlteracao()||Me(o)&&Me(o.caput)||!rt(o)||t.push({tipo:te.ERROR,descricao:`${o.descricao} deveria terminar com ${Lt(o.INDICADOR_SEQUENCIA)}`}),!X(o)&&W(o)&&o.hasAlteracao()&&!(!((e=o.alteracoes)===null||e===void 0)&&e.base)&&t.push({tipo:te.ERROR,descricao:"\xC9 necess\xE1rio informar a norma a ser alterada"}),X(o)&&!ue(o)&&o.texto!==ft&&o.texto&&(!W(o)&&Me(o)||W(o)&&Me(o.caput))&&!rt(o)&&t.push({tipo:te.ERROR,descricao:`${o.descricao} deveria terminar com ${Lt(o.INDICADOR_DESDOBRAMENTO)}`}),!(X(o)&&fe(o)&&o.texto)||Me(o)||me(o)||De(o)||ai(o)||t.push({tipo:te.ERROR,descricao:`${o.descricao} deveria terminar com ${Lt(o.INDICADOR_SEQUENCIA)}`}),!X(o)||!vt(o)||o.texto&&Bu(o.texto)||t.push({tipo:te.ERROR,descricao:"O \xFAltimo dispositivo do bloco de altera\xE7\xE3o deve terminar com: <b>.&#8221; (NR)</b>"}),X(o)&&o.texto&&!vt(o)&&/.*["]$/.test(o.texto)&&!ka(o.texto)&&!/.*(NR)/.test(o.texto)&&t.push({tipo:te.ERROR,descricao:"Somente o \xFAltimo dispositivo do bloco de altera\xE7\xE3o poderia ser finalizado com aspas"}),X(o)&&o.texto&&!vt(o)&&/.*(NR)/.test(o.texto)&&t.push({tipo:te.ERROR,descricao:"Somente o \xFAltimo dispositivo do bloco de altera\xE7\xE3o poderia terminar com &#8221; (NR)"}),X(o)&&o.texto&&o===ys(o)&&o.filhos.length===0&&(o.texto===en||o.texto===ft)&&t.push({tipo:te.ERROR,descricao:"N\xE3o foi informada nenhuma altera\xE7\xE3o"}),!(X(o)&&o.texto&&ii(o))||fe(o)||ze(o)||o.pai.filhos.filter(i=>ze(i)).length!==0||!me(o)||Ia(o.pai)||Me(o)||Ji(o)||vt(o)||t.push({tipo:te.ERROR,descricao:`\xDAltimo dispositivo de uma sequ\xEAncia deveria terminar com ${Lt(o.INDICADOR_FIM_SEQUENCIA)}`}),t},qp=o=>ue(o)?(e=>{const t=[];var i,n;return Ee(e)||e.texto&&e.texto.trim().length!==0||t.push({tipo:te.ERROR,descricao:`N\xE3o foi informado um texto para ${e.artigoDefinido} ${e.descricao}`}),!Ee(e)&&e.texto&&(i=e.texto,/[.,:]\s*$/.test(i))&&t.push({tipo:te.ERROR,descricao:`N\xE3o pode haver sinal de pontua\xE7\xE3o ao final do texto d${e.artigoDefinido} ${e.descricao}`}),!Ee(e)&&(n=e.texto,/<.+>/g.test(n==null?void 0:n.trim()))&&t.push({tipo:te.ERROR,descricao:`Texto d${e.artigoDefinido} ${e.descricao} n\xE3o pode possuir formata\xE7\xE3o`}),t})(o):_p(o);var Na;function cn(o){return class extends o{constructor(){super(...arguments),this.tipoGenero="feminino",this.artigoDefinido="a",this.pronomePossessivoSingular=" da ",this.pronomePossessivoPlural=" das ",this.artigoDefinidoSingular=" a ",this.artigoDefinidoPlural=" as ",this.artigoIndefinidoSingular=" uma ",this.artigoDefinidoPrecedidoPreposicaoASingular=" \xE0 ",this.artigoDefinidoPrecedidoPreposicaoAPlural=" \xE0s ",this.contracaoEmArtigoDefinidoSingular=" na "}}}function Zn(o){return class extends o{constructor(){super(...arguments),this.tipoGenero="indefinido",this.artigoDefinido="",this.pronomePossessivoSingular="",this.pronomePossessivoPlural="",this.artigoDefinidoSingular="",this.artigoDefinidoPlural="",this.artigoIndefinidoSingular="",this.artigoDefinidoPrecedidoPreposicaoASingular="",this.artigoDefinidoPrecedidoPreposicaoAPlural="",this.contracaoEmArtigoDefinidoSingular=""}}}function Tt(o){return class extends o{constructor(){super(...arguments),this.tipoGenero="masculino",this.artigoDefinido="o",this.pronomePossessivoSingular=" do ",this.pronomePossessivoPlural=" dos ",this.artigoDefinidoSingular=" o ",this.artigoDefinidoPlural=" os ",this.artigoIndefinidoSingular=" um ",this.artigoDefinidoPrecedidoPreposicaoASingular=" ao ",this.artigoDefinidoPrecedidoPreposicaoAPlural=" aos ",this.contracaoEmArtigoDefinidoSingular=" no "}}}(function(o){o.MASCULINO="masculino",o.FEMININO="feminino",o.INDEFINIDO="indefinido"})(Na||(Na={}));const zu=new(cn(Object)),Vu=new(Tt(Object)),Ip=new(Zn(Object)),Hu=o=>o==="F"?zu:o==="M"?Vu:Ip;class Sp{constructor(e,t){this.nome=e,this.genero=typeof t=="string"?Hu(t):t}}const Ku={autoridades:[{urn:"federal",descricao:"Federal"},{urn:"senado.federal",descricao:"Senado Federal"},{urn:"congresso.nacional",descricao:"Congresso Nacional"}],tiposDocumento:[{urn:"lei",descricao:"Lei",genero:"F"},{urn:"lei.complementar",descricao:"Lei Complementar",genero:"F"},{urn:"lei.delegada",descricao:"Lei Delegada",genero:"F"},{urn:"decreto.legislativo",descricao:"Decreto Legislativo",genero:"M"},{urn:"decreto.lei",descricao:"Decreto-Lei",genero:"M"},{urn:"decreto",descricao:"Decreto",genero:"M"},{urn:"consolidacao.leis.trabalho",descricao:"Consolida\xE7\xE3o das Leis do Trabalho",genero:"F"},{urn:"resolucao",descricao:"Resolu\xE7\xE3o",genero:"F"},{urn:"regimento.interno",descricao:"Regimento Interno",genero:"M"},{urn:"constituicao",descricao:"Constitui\xE7\xE3o",genero:"F"},{urn:"ato.disposicoes.constitucionais.transitorias",descricao:"Ato das Disposi\xE7\xF5es Constitucionais Transit\xF3rias",genero:"M"},{urn:"medida.provisoria",descricao:"Medida Provis\xF3ria",genero:"F"},{urn:"medida.provisoria;mpv",descricao:"Medida Provis\xF3ria",genero:"F"},{urn:"emenda.constitucional",descricao:"Emenda Constitucional",genero:"F"},{urn:"emenda.constitucional.revisao",descricao:"Emenda Constitucional de Revis\xE3o",genero:"F"},{urn:"proposta.emenda.constitucional;pec",descricao:"Proposta de Emenda Constitucional",genero:"F"},{urn:"projeto.lei;pl",descricao:"Projeto de Lei",genero:"M"},{urn:"projeto.lei;pls",descricao:"Projeto de Lei do Senado",genero:"M"},{urn:"projeto.lei.complementar;plp",descricao:"Projeto de Lei Complementar",genero:"M"},{urn:"projeto.lei.complementar;pls",descricao:"Projeto de Lei Complementar do Senado",genero:"M"},{urn:"projeto.lei;plc",descricao:"Projeto de Lei da C\xE2mara",genero:"M"},{urn:"projeto.lei.complementar;plc",descricao:"Projeto de Lei Complementar da C\xE2mara",genero:"M"},{urn:"projeto.lei.conversao;plv",descricao:"Projeto de Lei de Convers\xE3o",genero:"M"},{urn:"projeto.resolucao;prs",descricao:"Projeto de Resolu\xE7\xE3o do Senado",genero:"M"},{urn:"projeto.decreto.legislativo;pds",descricao:"Projeto de Decreto Legislativo",genero:"M"},{urn:"projeto.decreto.legislativo;pdl",descricao:"Projeto de Decreto Legislativo",genero:"M"},{urn:"substitutivo.projeto.lei.senado;scd",descricao:"Substitutivo da C\xE2mara dos Deputados",genero:"M"},{urn:"emenda.projeto.lei.senado;ecd",descricao:"Emenda(s) da C\xE2mara dos Deputados",genero:"F"}],fakeUrns:[{sigla:"PEC",urnAutoridade:"senado.federal",urnTipoDocumento:"proposta.emenda.constitucional;pec"},{sigla:"PL",urnAutoridade:"senado.federal",urnTipoDocumento:"projeto.lei;pl"},{sigla:"PLS",urnAutoridade:"senado.federal",urnTipoDocumento:"projeto.lei;pls"},{sigla:"PLP",urnAutoridade:"senado.federal",urnTipoDocumento:"projeto.lei.complementar;plp"},{sigla:"PLC",urnAutoridade:"senado.federal",urnTipoDocumento:"projeto.lei;plc"},{sigla:"PLV",urnAutoridade:"senado.federal",urnTipoDocumento:"projeto.lei.conversao;plv"},{sigla:"PRS",urnAutoridade:"senado.federal",urnTipoDocumento:"projeto.resolucao;prs"},{sigla:"PDS",urnAutoridade:"senado.federal",urnTipoDocumento:"projeto.decreto.legislativo;pds"},{sigla:"PDL",urnAutoridade:"senado.federal",urnTipoDocumento:"projeto.decreto.legislativo;pdl"},{sigla:"SCD",urnAutoridade:"senado.federal",urnTipoDocumento:"substitutivo.projeto.lei.senado;scd"},{sigla:"ECD",urnAutoridade:"senado.federal",urnTipoDocumento:"emenda.projeto.lei.senado;ecd"},{sigla:"MPV",urnAutoridade:"senado.federal",urnTipoDocumento:"medida.provisoria;mpv"}],siglas:[{urnAutoridade:"federal",urnTipoDocumento:"medida.provisoria",sigla:"MPV"},{urnAutoridade:"congresso.nacional",urnTipoDocumento:"projeto.lei",sigla:"PLN"},{urnAutoridade:"senado.federal",urnTipoDocumento:"projeto.lei",sigla:"PLS"},{urnAutoridade:"congresso.nacional",urnTipoDocumento:"medida.provisoria",sigla:"MPV"},{urnAutoridade:"senado.federal",urnTipoDocumento:"projeto.lei.senado.federal",sigla:"PLS"},{urnAutoridade:"camara.deputados",urnTipoDocumento:"projeto.lei",sigla:"PLC"}],atalhosUrn:[{urnTipoDocumento:"constituicao",urnAutoridade:"federal",urn:"urn:lex:br:federal:constituicao:1988-10-05;1988",nome:"Constitui\xE7\xE3o Federal"},{urnTipoDocumento:"ato.disposicoes.constitucionais.transitorias",urnAutoridade:"federal",urn:"urn:lex:br:federal:ato.disposicoes.constitucionais.transitorias:1988-10-05;1988",nome:"Ato das Disposi\xE7\xF5es Constitucionais Transit\xF3rias - ADCT"},{urnTipoDocumento:"consolidacao.leis.trabalho",urnAutoridade:"federal",urn:"urn:lex:br:federal:decreto.lei:1943-05-01;5452",nome:"Consolida\xE7\xE3o das Leis do Trabalho - CLT, aprovada pelo Decreto-Lei n\xBA 5.452, de 1\xBA de maio de 1943",genero:"F"},{urnTipoDocumento:"regimento.interno",urnAutoridade:"senado.federal",urn:"urn:lex:br:senado.federal:resolucao:1970-11-27;93",nome:"Regimento Interno do Senado Federal",genero:"M"},{urnTipoDocumento:"regimento.interno",urnAutoridade:"congresso.nacional",urn:"urn:lex:br:congresso.nacional:resolucao:1970-08-11;1",nome:"Regimento Comum do Congresso Nacional",genero:"M"}],eventos:[{urn:"leitura",tipoTextoProcessoLegislativo:"Texto inicial",genero:"M"},{urn:"aprovacao.substitutivo.decisao.terminativa",tipoTextoProcessoLegislativo:"Reda\xE7\xE3o do vencido em turno suplementar na Comiss\xE3o",substitutivo:"s",genero:"F"},{urn:"aprovacao.substitutivo",tipoTextoProcessoLegislativo:"Reda\xE7\xE3o do vencido em turno suplementar no Plen\xE1rio",substitutivo:"s",genero:"F"},{urn:"apresentacao.substitutivo",tipoTextoProcessoLegislativo:"Texto do substitutivo",substitutivo:"s",genero:"M"}]},yi=o=>{var e;const t=(e=o.replace("urn:lex:br:",""))===null||e===void 0?void 0:e.split(":");return Ku.tiposDocumento.filter(i=>i.urn===t[1])[0]},Xn=o=>{var e,t,i;const n=(e=o.replace("urn:lex:br:",""))===null||e===void 0?void 0:e.split(":");return((t=n[2])===null||t===void 0?void 0:t.indexOf(";"))>-1?(i=n[2])===null||i===void 0?void 0:i.substring(n[2].indexOf(";")+1):""},ui=o=>{var e,t,i,n,r;const s=(e=o.replace("urn:lex:br:",""))===null||e===void 0?void 0:e.split(":"),p=(t=s[2])===null||t===void 0?void 0:t.substring(0,s[2].indexOf(";"));if(/\d{4}$/.test(p))return p;const d=(r=(n=(i=s[2])===null||i===void 0?void 0:i.substring(0,s[2].indexOf(";")))===null||n===void 0?void 0:n.split("-"))===null||r===void 0?void 0:r.reverse();return d?d.join("/"):""},Gu=o=>{const e=o.indexOf("!");return e!==-1?o.substring(0,e):o},Qu=o=>{const e=o.match(/^(0[1-9]|[12][0-9]|3[01])[-/](0[1-9]|1[012])[-/](\d{4})$/);return e?`${e[3]}-${e[2]}-${e[1]}`:""},Wu=o=>{var e,t;const i=(e=(p=>{var d;const c=(d=p.replace("urn:lex:br:",""))===null||d===void 0?void 0:d.split(":");return Ku.autoridades.filter(u=>u.urn===c[0])[0]})(o))===null||e===void 0?void 0:e.urn,n=(t=yi(o))===null||t===void 0?void 0:t.urn,r=/^\d{1,5}$/.test(Xn(o)),s=/\d{4}$/.test(ui(o))?ui(o):Qu(ui(o));return(o==null?void 0:o.startsWith("urn:lex:br:"))&&i&&n&&r&&s},Pa=o=>{var e;const t=Gu(o),i=Xn(t),n=(e=yi(t))===null||e===void 0?void 0:e.descricao,r=ui(t),[s,p,d]=r.split("/").map(u=>parseInt(u)),c=r.length>7?kp(new Date(d,p-1,s)):void 0;return(n||"")+(i?" n\xBA "+parseInt(i).toLocaleString("pt-BR"):"")+(c?", de "+c:"")},kp=o=>o?o.getDate()+" de "+o.toLocaleDateString("pt-BR",{month:"long"})+" de "+o.getFullYear():void 0,Or={M:1e3,CM:900,D:500,CD:400,C:100,XC:90,L:50,XV:40,X:10,IX:9,V:5,IV:4,I:1},ho=o=>/^\d{1,}([-]?[a-zA-Z]+)?$/.test(o),Zu=o=>/^(?=[MDCLXVI])M*(C[MD]|D?C{0,3})(X[CL]|L?X{0,3})(I[XV]|V?I{0,3})$/i.test(o),Xu=o=>{if(!/[a-zA-Z]+/.test(o))throw new Error(`O valor ${o} n\xE3o \xE9 uma sequ\xEAncia de letras v\xE1lida.`);o=o.toLowerCase();let e=0;return[...o].forEach(t=>e=t.toLowerCase().charCodeAt(0)-97+1+26*e),e.toString()},Vr=o=>{const e=parseInt(o);return e?Hr(e):o},Hr=o=>{let e="",t=0;for(;o>0;)t=(o-1)%26,o=(o-t-1)/26,e=e.replace(/^/,String.fromCharCode(97+t));return e},Yu=o=>{if(!Zu(o))throw new Error("O valor '"+o+"' n\xE3o \xE9 um n\xFAmero em algarismo romano v\xE1lido.");let e=0,t=1;for(let i=(o=o.toLowerCase()).length-1;i>=0;i--){const n=Np(o.charAt(i));n>t&&(t=n),n<t?e-=n:e+=n}return e.toString()},Np=o=>{switch(o.toLowerCase()){case"i":return 1;case"v":return 5;case"x":return 10;case"l":return 50;case"c":return 100;case"d":return 500;case"m":return 1e3;default:return 0}},Li=o=>{let e,t="",i=o.search(/[a-zA-Z-]/)===-1?parseInt(o):parseInt(o.substring(0,o.search(/[a-zA-Z-]/)));const n=o.search(/[a-zA-Z-]/)===-1?"":o.substring(o.search(/[a-zA-Z-]/));for(const r in Or){if(e=Math.floor(i/Or[r]),e>=0)for(let s=0;s<e;s++)t+=r;i%=Or[r]}return t+n},wt=(o,e)=>{const t=o.search(/-[a-zA-Z-]/)===-1?o:o.substring(0,o.search(/-[a-zA-Z-]/)),i=o.search(/-[a-zA-Z-]/)===-1?"":o.substring(o.search(/-[a-zA-Z-]/));return(e?e(t):t)+(i==null?void 0:i.toUpperCase())},Ta=(o,e)=>!o||e&&o<e?1:!e||o&&o>e?-1:0,Pp=o=>{var e;return(W(o)?(e=(t=>{const i=Ae(t).indexOfArtigo(t);return i===-1||Ae(t).artigos.length===i+1?[]:Ae(t).artigos.filter((n,r)=>r>i)})(o))!==null&&e!==void 0?e:[]:Lu(o)).filter(t=>Ko(t)).length>0},Tp=o=>{let e=0;const t=o.tipo;do(Ko(o)||Fu(o))&&o.tipo===t&&e++,o=W(o)?un(o.pai,o):Pe(o);while(o!==void 0);return e},Cp=o=>{let e=0;const t=o.tipo;for(;o!==void 0&&!Ko(o)&&!Fu(o)&&o.tipo===t;)e++,o=W(o)?un(o.pai,o):Pe(o);return e},Yn=o=>(e=>{const t=Tp(e);if(Ko(e))return new Ai(t);const i=Cp(e),n=t>0,r=Pp(e);if(!n&&!r)return new Ai(i);if(!n&&r){const s=new Ai(0);return s.addNovoSeqOrdem(i),s}if(n&&r){const s=new Ai(t);return s.addNovoSeqOrdem(i),s}return new Ai(t+i)})(o).getNumeracao(Pu(o));class Ai{constructor(e){this.seq=e}addNovoSeqOrdem(e){this.seq>0?this.letras=Hr(e).toUpperCase():e>1&&(this.letras=Hr(e-1).toUpperCase())}getNumeracao(e){var t;return this.seq+(e&&this.letras?"-":"")+((t=this.letras)!==null&&t!==void 0?t:"")}}const Rp=o=>X(o)?(e=>{var t,i,n,r,s,p,d;const c=[];var u;return e===null&&c.push({tipo:te.ERROR,descricao:"O dispositivo n\xE3o foi informado"}),e!==null&&e.numero!==void 0&&e.numero.trim().length===0&&c.push({tipo:te.ERROR,descricao:"O dispositivo n\xE3o cont\xE9m numera\xE7\xE3o"}),e!==null&&((t=e.rotulo)===null||t===void 0?void 0:t.trim().length)===0&&c.push({tipo:te.ERROR,descricao:"O dispositivo n\xE3o cont\xE9m r\xF3tulo"}),e!==null&&!ht(e)&&((i=e.rotulo)===null||i===void 0?void 0:i.endsWith(e.tipo))&&c.push({tipo:te.ERROR,descricao:"O r\xF3tulo informado n\xE3o \xE9 v\xE1lido. Numere o dispositivo"}),e!==null&&X(e)&&fe(e)&&!me(e)&&((n=e.rotulo)===null||n===void 0?void 0:n.endsWith("\xFAnico."))&&c.push({tipo:te.ERROR,descricao:`Quando houver mais de um ${e.descricao}, n\xE3o pode se tratar de '${e.descricao} \xFAnico'`}),e===null||St(e)||e.numero===void 0||((r=e.pai)===null||r===void 0?void 0:r.indexOf(e))!==0||e.numero==="1"||c.push({tipo:te.ERROR,descricao:"\xC9 necess\xE1rio um omissis antes deste dispositivo"}),e===null||!ze(e)||((s=Pe(e))===null||s===void 0?void 0:s.tipo)!==R.omissis.name&&((p=Yi(e))===null||p===void 0?void 0:p.tipo)!==R.omissis.name||c.push({tipo:te.ERROR,descricao:"N\xE3o pode haver mais de um omissis sequencialmente"}),e!==null&&e.numero!==void 0&&e.pai.indexOf(e)>0&&bs(e).filter(a=>a.numero!==void 0).filter(a=>Ta(a.numero,e.numero)===-1).length>0&&c.push({tipo:te.ERROR,descricao:"O dispositivo tem n\xFAmero menor do que algum dispositivo anterior"}),e!==null&&e.numero!==void 0&&!e.pai.isLastFilho(e)&&ju(e).filter(a=>e.pai===a.pai&&a.numero!==void 0).filter(a=>Ta(a.numero,e.numero)===1).length>0&&c.push({tipo:te.ERROR,descricao:"O dispositivo tem n\xFAmero maior do que algum dispositivo posterior"}),e!==null&&!St(e)&&e.numero!==void 0&&Ze(e).filter(a=>a.numero&&a.numero===e.numero).length>1&&c.push({tipo:te.ERROR,descricao:"O dispositivo tem n\xFAmero igual a de outro dispositivo"}),e!==null&&!St(e)&&e.numero!==void 0&&(u=e.numero,/^\d+$/.test(u))&&parseInt(e.numero)>2&&e.pai.indexOf(e)>0&&lo(e)&&e.tipo!==((d=lo(e))===null||d===void 0?void 0:d.rotulo)&&Ze(e).filter(a=>a.numero&&a.numero===e.numero).length===0&&parseInt(e.numero)!==parseInt(lo(e).numero)+1&&c.push({tipo:te.ERROR,descricao:"\xC9 necess\xE1rio um omissis antes deste dispositivo"}),c})(o):(e=>{const t=[];return e===null&&t.push({tipo:te.ERROR,descricao:"O dispositivo n\xE3o foi informado"}),e!==null&&e.numero&&e.numero.trim().length===0&&t.push({tipo:te.ERROR,descricao:"O dispositivo n\xE3o cont\xE9m numera\xE7\xE3o"}),e!==null&&e.rotulo&&e.rotulo.trim().length===0&&t.push({tipo:te.ERROR,descricao:"O dispositivo n\xE3o cont\xE9m r\xF3tulo"}),t})(o),Se=o=>Ko(o)?[]:(e=>{const t=[];if(e===null&&t.push({tipo:te.ERROR,descricao:"O dispositivo n\xE3o foi informado"}),e!==null&&e.filhos.length>0&&e.tiposPermitidosFilhos.length===0&&t.push({tipo:te.ERROR,descricao:`Segundo a Legisla\xE7\xE3o vigente, ${e.descricao} n\xE3o poderia possuir filhos`}),e!==null&&(ht(e)||_a(e))&&t.push({tipo:te.ERROR,descricao:"N\xE3o foi poss\xEDvel validar a natureza deste dispositivo com base na legisla\xE7\xE3o vigente"}),e===null||!e.pai||_a(e.pai)||ht(e)||e.tiposPermitidosPai.includes(e.pai.tipo)||t.push({tipo:te.ERROR,descricao:`Segundo a Legisla\xE7\xE3o vigente, ${e.descricao} somente poderia pertencer a ${e.tiposPermitidosPai.join(", ")}`}),e!==null&&!ht&&e.filhos.length>0&&(e.tiposPermitidosFilhos.length===0||e.filhos.filter(i=>!e.tiposPermitidosFilhos.includes(i.tipo)).length>0)){const i=e.tiposPermitidosFilhos.length===0?"n\xE3o poderia possuir filhos":`somente poderia possuir ${e.tiposPermitidosFilhos.join(", ")}`;t.push({tipo:te.ERROR,descricao:`Segundo a Legisla\xE7\xE3o vigente, ${e.descricao} ${i}`})}return t})(o).concat(qp(o),Rp(o),(e=>{const t=[];return e.alteracoes&&e.alteracoes.base?(Wu(e.alteracoes.base)||t.push({tipo:te.ERROR,descricao:"N\xE3o foi informada uma norma alterada v\xE1lida"}),t):[]})(o));class tn{constructor(e){this.descricaoSituacao=G.DISPOSITIVO_SUPRIMIDO,this.dispositivoOriginal=e}getAcoesPermitidas(e,t){const i=[];return(ct(e)?e.pai.pai:e.pai).situacao.descricaoSituacao!==G.DISPOSITIVO_SUPRIMIDO&&i.push(Qn),i}}const ji=o=>Ee(o)?"cpt_alt1":o.tagId?o.tagId+(ke(o)?"":ze(o)?bs(o).length+1:o.numero?(W(o)||fe(o))&&o.numero==="1"&&me(o)?"1u":(e=>{const t=e==null?void 0:e.split("-"),[i,...n]=t,r=n.map(s=>Xu(s));return(r==null?void 0:r.length)>0?i+"-"+(r==null?void 0:r.join("-").toUpperCase()):i})(o.numero):`[urn:${o.uuid}]`):void 0,Fn=(o,e=[])=>{if(Ee(o)&&o.pai===void 0)return;const t=ji(o);if(t&&e.unshift(t),W(o)){if(X(o)){const i=Ae(o);Fn(i,e)}}else Fn(o.pai,e)},fo=o=>{const e=[];return Fn(o,e),e.join("_")},Kr=o=>{var e,t;return((t=(e=o.hierarquia)===null||e===void 0?void 0:e.pai)===null||t===void 0?void 0:t.uuidAlteracao)!==void 0||o.uuidAlteracao!==void 0},Ju=(o,e=0)=>(o==null?void 0:o.pai)===void 0||ue(o)?e:W(o)?X(o)?++e:e:(e=St(o==null?void 0:o.pai)?e+2:++e,W(o==null?void 0:o.pai)?e:Ju(o.pai,e)),Dp=o=>{var e;const t=o.pai?ke(o.pai)?o.pai.pai:o.pai:void 0;return{tipo:t==null?void 0:t.tipo,uuid:t==null?void 0:t.uuid,uuidAlteracao:t&&X(o)?(e=Ae(o).pai)===null||e===void 0?void 0:e.uuid:void 0}},ee=(o,e=!0)=>{var t,i,n;const r=o.pai;return{tipo:o.tipo,nivel:Ju(o),agrupador:ue(o),hierarquia:{pai:r?Dp(o):void 0,posicao:r?r.indexOf(o):void 0,numero:o.numero},editavel:!(Ee(o)||o.situacao instanceof tn),sendoEditado:!1,uuid:o.uuid,lexmlId:o.id&&o.numero&&ji(o),numero:o.numero,rotulo:(t=o.rotulo)!==null&&t!==void 0?t:"",conteudo:{texto:o.texto},norma:(i=o.alteracoes)===null||i===void 0?void 0:i.base,index:0,acoesPossiveis:e?o.getAcoesPossiveis(o):[],descricaoSituacao:(n=o.situacao)===null||n===void 0?void 0:n.descricaoSituacao,mensagens:Ko(o)?[]:o.mensagens}},on=(o,e)=>{e.filhos!==void 0&&e.filhos.forEach(t=>{var i;const n=ee(t);W(t)&&(n.conteudo.texto=t.caput.texto),o.push(n),W(t)&&t.hasAlteracao()&&((i=t.alteracoes)===null||i===void 0||i.filhos.forEach(r=>{o.push(ee(r)),on(o,r)})),on(o,t)})},st=o=>{var e;const t=[];return t.push(ee(o,!0)),W(o)&&o.hasAlteracao()&&W(o)&&o.hasAlteracao()&&((e=o.alteracoes)===null||e===void 0||e.filhos.forEach(i=>{t.push(ee(i)),on(t,i)})),on(t,o),t},Oe=(o,e,t=!1)=>{var i;const n=((s,p)=>{var d,c;return!Kr(p)||Ve(s)?s:(c=(d=Oe(s,{uuid:p.hierarquia?p.hierarquia.pai.uuidAlteracao:p.uuidAlteracao}))===null||d===void 0?void 0:d.alteracoes)!==null&&c!==void 0?c:s})(o,e);if(!t&&Kr(e)){const s=Oe(n,{uuid:e.hierarquia?e.hierarquia.pai.uuidAlteracao:e.uuidAlteracao});return s!=null&&s.alteracoes?(i=s.alteracoes)===null||i===void 0?void 0:i.filhos.flatMap(p=>{const d=[];return oo(p,d),d}).filter(p=>p.uuid===e.uuid)[0]:void 0}if((e==null?void 0:e.tipo)===R.artigo.tipo){const s=n.filhos.find(p=>p.uuid===e.uuid);if(s)return s}const r=(e==null?void 0:e.tipo)===R.articulacao.tipo||(e==null?void 0:e.uuid)===void 0?n:Tn(n,e.uuid);if(r!==null)return r},Xo=(o,e,t)=>{var i;const n=Se(e);if(n.length>0||e.mensagens&&((i=e.mensagens)===null||i===void 0?void 0:i.length)>0){e.mensagens=n;const r=ee(e,t);r.mensagens=Se(e),o.push(r)}},dn=(o,e=!0)=>{const t=[];if(!o)return[];if(X(o)&&Me(o)&&o.filhos.filter(i=>i.tipo===R.omissis.tipo).length>0&&(Xo(t,o),o.filhos.filter(i=>i.tipo===R.omissis.tipo).forEach(i=>Xo(t,i))),ii(o)||ht(o)){const i=ct(o)?o.pai.pai:o.pai;Xo(t,i),ue(i)&&Xo(t,ct(o)?o.pai.pai:o.pai),Ze(o).forEach(n=>{(e||n!==o)&&Xo(t,n,!0)})}else!e||Ee(o)||ue(o)||Xo(t,o,!0);return t},vi=o=>(W(o)||fe(o))&&Ze(o).length===2?Ze(o).filter(e=>o.uuid!==e.uuid):ju(o,!0).filter(e=>e.tipo===o.tipo),ec=o=>vi(o).map(e=>(e.mensagens=Se(e),ee(e)));var j;(function(o){o.ArticulacaoAtualizada="ArticulacaoAtualizada",o.ComandoEmendaGerado="ComandoEmendaGerado",o.DocumentoCarregado="DocumentoCarregado",o.InformarNorma="InformarNorma",o.ElementoModificado="ElementoModificado",o.ElementoIncluido="ElementoIncluido",o.ElementoRemovido="ElementoRemovido",o.ElementoRenumerado="ElementoRenumerado",o.ElementoRestaurado="ElementoRestaurado",o.ElementoSuprimido="ElementoSuprimido",o.ElementoValidado="ElementoValidado",o.ElementoSelecionado="ElementoSelecionado",o.ElementoMarcado="ElementoMarcado",o.SituacaoElementoModificada="SituacaoElementoModificada"})(j||(j={}));const Lp=(o,e)=>((t,i)=>{const n=st(t);return{articulacao:t,modo:i,past:[],present:[],future:[],ui:{events:[{stateType:j.DocumentoCarregado,elementos:n}]}}})(e.articulacao,e.classificacao),xs=function(o=0){return{next:()=>++o}}();function et(o){return class extends o{constructor(){super(...arguments),this.mensagens=[]}}}class tc{constructor(e){this.tipoAcao=e,this.isDispositivoAlteracao=!0,this.descricao=e==="INICIAR_BLOCO"?"Inserir bloco de altera\xE7\xE3o":"Finalizar bloco de altera\xE7\xE3o"}execute(e,t,i,n=!1){return{type:"ADICIONAR_ELEMENTO",subType:this.tipoAcao,atual:e,novo:{tipo:i,isDispositivoAlteracao:this.isDispositivoAlteracao,conteudo:{texto:t}},hasDesmembramento:n}}}const Wt=new tc("INICIAR_BLOCO"),yo=new tc("FINALIZAR_BLOCO");function tt(o){return class extends o{get alteracoes(){}hasAlteracao(){return!1}}}var Un,dt;function at(o){return class extends o{constructor(){super(...arguments),this.tipoConteudo=Un.ConteudoTexto,this.texto=""}}}function xo(o){return class extends o{addFilho(e,t){if(t&&this.filhos.indexOf(t)>=0){const i=this.filhos.indexOf(t)+1;this.isLastFilho(t)?this.filhos.push(e):this.filhos.splice(i,0,e)}else this.filhos.push(e);W(e)&&Ae(e).addArtigo(e,t)}addFilhoOnPosition(e,t){var i;if(this.filhos.splice(t,0,e),W(e)){const n=(i=Pe(e))!==null&&i!==void 0?i:un(e.pai.pai,e.pai),r=Ae(e),s=n?r.indexOfArtigo(n)+1:0;r.addArtigoOnPosition(e,s)}}hasArtigos(){return this.filhos.filter(e=>W(e)).length>0}isLastFilho(e){return this.filhos.indexOf(e)===this.filhos.length-1}get filhos(){var e;return this._filhos=(e=this._filhos)!==null&&e!==void 0?e:[],this._filhos}indexOf(e){return this.filhos.indexOf(e)}removeFilho(e){this._filhos=this.filhos.filter(t=>t.uuid!==e.uuid),W(e)&&Ae(e).removeArtigo(e)}renumeraFilhos(){var e;this.filhos.filter(t=>!W(t)).forEach(t=>{t.numero=Yn(t),t.createRotulo(t),t.id=fo(t)}),(e=Ae(this.filhos[0]))===null||e===void 0||e.renumeraArtigos()}}}function Go(o){return class extends o{addFilho(e,t){if(t){const i=this.filhos.indexOf(t)+1;this.isLastFilho(t)?this.filhos.push(e):this.filhos.splice(i,0,e)}else this.filhos.push(e)}addFilhoOnPosition(e,t){this.filhos.splice(t,0,e)}hasArtigos(){return this.filhos.filter(e=>W(e)).length>0}isLastFilho(e){return this.filhos.indexOf(e)===this.filhos.length-1}get filhos(){var e;return this._filhos=(e=this._filhos)!==null&&e!==void 0?e:[],this._filhos}indexOf(e){return this.filhos.indexOf(e)}removeFilho(e){this._filhos=this.filhos.filter(t=>t.uuid!==e.uuid)}renumeraFilhos(){this.filhos.filter(e=>!X(e)&&(e.situacao.descricaoSituacao===G.DISPOSITIVO_NOVO||e.situacao.descricaoSituacao===G.DISPOSITIVO_ADICIONADO)).forEach(e=>{e.numero=Yn(e),e.createRotulo(e),e.id=fo(e)})}}}function Eo(o){return class extends o{constructor(){super(...arguments),this.type="NumeracaoAgrupadorLcp95",this.informouAgrupadorUnico=!1}getNomeAgrupadorUnico(e){return`${e.descricao} \xFAnic${e.artigoDefinido}`.toLocaleUpperCase()}normalizaNumeracao(e){const t=e.trim().split(/\s+/);if(t.length!==2)return"";const i=t[1].split("-");return Zu(i[0])?(i[0]=Yu(i[0]),i.join("-")):""}createNumeroFromRotulo(e){if(this.informouAgrupadorUnico=/.*[u]nic[ao]/i.test(e),this.informouAgrupadorUnico)this.numero="1";else{const t=this.normalizaNumeracao(e);this.numero=this.informouAgrupadorUnico?"1":ho(t)?t:void 0}}createRotulo(e){var t;const i=e.descricao===void 0?(t=e.name)!==null&&t!==void 0?t:"":e.descricao.toLocaleUpperCase();this.numero===void 0?this.rotulo=St(e)?"\u201C"+e.tipo:e.tipo:this.numero===void 0||ho(this.numero)?e.isDispositivoAlteracao&&St(e)?this.rotulo="\u201C"+(this.informouAgrupadorUnico?this.getNomeAgrupadorUnico(e):i+" "+wt(this.numero,Li)):Ze(e).length===1?this.rotulo=this.getNomeAgrupadorUnico(e):this.rotulo=i+" "+wt(this.numero,Li):this.rotulo=i+" "+this.numero}getNumeracaoParaComandoEmenda(){const e=new Ke,t=this.numero?wt(this.numero,Li):"???";e.append(this.descricao+" "+t);const i=this.pai;return i&&!Co(i)&&(e.append(i.pronomePossessivoSingular),e.append(" "),e.append(i.getNumeracaoParaComandoEmenda())),e.toString()}getNumeracaoComRotuloParaComandoEmenda(){return this.getNumeracaoParaComandoEmenda()}}}(function(o){o.ConteudoTexto="Conte\xFAdo de Texto"})(Un||(Un={})),function(o){o.EMENDA="emenda",o.EMENDA_ARTIGO_ONDE_COUBER="emendaArtigoOndeCouber",o.NORMA="norma",o.PROJETO="projeto"}(dt||(dt={}));const le=[];le.push(ms),le.push(go),le.push(bo),le.push(At),le.push(Wt),le.push(yo),le.push(hu),le.push(fu),le.push(mu),le.push(vu),le.push(Br),le.push(Gi),le.push(Qi),le.push(gu),le.push(bu),le.push(xp),le.push(Ep),le.push(wp),le.push(Wi),le.push(_u),le.push(Zi),le.push(yu),le.push(xu),le.push(Eu),le.push(wu),le.push(Ou),le.push(Au),le.push(qu),le.push(Iu),le.push(Su),le.push(Pt),le.push(Qn),le.push(pu),le.push(Nu),le.push(dp),le.push(pp),le.push(hp),le.push(uu),le.push(fp),le.push(mp);const Io=[];Io.push(hs),Io.push(ru),Io.push(fs),Io.push(Hn),Io.push(su),Io.push(lu);const jp=o=>le.includes(o),Es=[...le,...Io,ku],ci=o=>Es.filter(e=>e instanceof Nt&&e.tipo===o)[0];function wo(o){return class extends o{getAcoesPossiveis(e){var t,i,n,r;const s=[];if(!ue(e))return[];if(bs(e).length===0&&Lu(e).length>0&&e.filhos.filter(p=>ue(p)).length>0||s.push(Pt),e.pai&&Ee(e.pai)&&ue(e.pai)&&lo(e)===void 0){const p=(t=e.tiposPermitidosPai)===null||t===void 0?void 0:t.indexOf(e.pai.tipo);(i=e.tiposPermitidosPai)===null||i===void 0||i.filter((d,c)=>c>p).forEach(d=>s.push(ci(d)))}if(e.pai&&!Ee(e.pai)&&ue(e.pai)&&e.pai.indexOf(e)===0){const p=(n=e.tiposPermitidosPai)===null||n===void 0?void 0:n.indexOf(e.pai.tipo);(r=e.tiposPermitidosPai)===null||r===void 0||r.filter((d,c)=>c>p).forEach(d=>s.push(ci(d)))}return e.pai&&e.pai.indexOf(e)>0&&ue(e.pai)&&!Ee(e.pai)&&s.push(ci(e.pai.tipo)),X(e)&&s.push(At),e.getAcoesPermitidas(e,s)}getAcaoPossivelTab(e){}getAcaoPossivelShiftTab(e){}}}const nn=o=>{var e,t;return X(o.pai)&&o.filhos.length===0&&o.tipo!==R.omissis.name&&((e=Pe(o))===null||e===void 0?void 0:e.tipo)!==R.omissis.name&&((t=Yi(o))===null||t===void 0?void 0:t.tipo)!==R.omissis.name};class ws{constructor(){this.descricaoSituacao=G.DISPOSITIVO_NOVO}getAcoesPermitidas(e,t){return[...new Set(t)].filter(i=>i!==void 0).filter(i=>i.descricao!=="Adicionar"&&i.descricao!=="Atualizar dispositivo").sort((i,n)=>i.descricao.localeCompare(n.descricao))}}function Xe(o){return class extends o{constructor(){super(...arguments),this.situacao=new ws}getAcoesPermitidas(e,t){var i;return(i=this.situacao)===null||i===void 0?void 0:i.getAcoesPermitidas(e,t)}}}class Ye{constructor(e){this.tipo=R[e].tipo,this.tagId=R[e].tagId,this.name=R[e].name,this.descricao=R[e].descricao,this.descricaoPlural=R[e].descricaoPlural,this.tiposPermitidosPai=R[e].tiposPermitidosPai,this.tiposPermitidosFilhos=R[e].tiposPermitidosFilhos,this.tipoProvavelFilho=R[e].tipoProvavelFilho,this.INDICADOR_SEQUENCIA=R[e].INDICADOR_SEQUENCIA,this.INDICADOR_FIM_SEQUENCIA=R[e].INDICADOR_FIM_SEQUENCIA,this.INDICADOR_DESDOBRAMENTO=R[e].INDICADOR_DESDOBRAMENTO}}const Os=(o,e)=>{e.tipoProvavelFilho!==void 0&&o.filhos.forEach((t,i)=>{var n;const r=de(W(e)&&R.inciso.name===e.tipoProvavelFilho?e.caput:e,e.tipoProvavelFilho);r.texto=(n=t.texto)!==null&&n!==void 0?n:"",r.situacao=t.situacao,r.mensagens=Se(t),t.filhos&&Os(t,r),i===o.filhos.length-1&&e.renumeraFilhos()})},oc=(o,e)=>{o.tipo===e.tipo&&o.filhos.forEach(t=>{var i;const n=de(W(e)&&ke(t.pai)?e.caput:e,t.tipo);t.rotulo?n.rotulo=t.rotulo:n.createRotulo(n),n.texto=(i=t.texto)!==null&&i!==void 0?i:"",n.situacao=t.situacao,o.removeFilho(t),n.mensagens=Se(t),t.filhos&&(o.tipo===e.tipo?oc(t,n):Os(t,n)),o.filhos.length===0&&e.renumeraFilhos()})},Mp=Xe(function(o){return class extends o{getAcoesPossiveis(e){const t=[];return To(e)?(t.push(Pt),Vo(e)!==void 0&&t.push(go),zo(e)!==void 0&&t.push(bo),X(e)&&t.push(At),X(e)&&vt(e)&&(t.push(Wt),Ho(e)&&t.push(yo)),(e.texto.length===0||ai(e))&&t.push(fs),(e.texto.length===0||rt(e))&&t.push(su),(me(e)||De(e))&&t.push(fe(e.pai.pai)?Qi:Gi),(!Ut(e)||Pe(e)!==void 0&&ze(Pe(e)))&&t.push(gu),nn(e)&&t.push(hu),e.getAcoesPermitidas(e,t)):[]}getAcaoPossivelTab(e){var t;if(To(e))return(t=e.tiposPermitidosFilhos)===null||t===void 0?void 0:t.map(i=>{const n="transformar"+e.tipo+"Em"+i;return e.getAcoesPossiveis(e).filter(r=>r instanceof ie).filter(r=>r instanceof ie&&r.nomeAcao&&n&&r.nomeAcao===n)[0]})[0]}getAcaoPossivelShiftTab(e){var t;if(To(e))return me(e)||De(e)?fe(e.pai.pai)?Qi:Gi:(t=e.tiposPermitidosPai)===null||t===void 0?void 0:t.map(i=>{const n="transformar"+e.tipo+"Em"+i;return e.getAcoesPossiveis(e).filter(r=>r instanceof ie).filter(r=>r instanceof ie&&r.nomeAcao&&n&&r.nomeAcao===n)[0]})[0]}}}(et(cn(tt(at(function(o){return class extends o{constructor(){super(...arguments),this.type="NumeracaoAlineaLcp95",this.SUFIXO=")"}normalizaNumeracao(e){const t=/[a-z]+(-[a-zA-Z]+)*/.exec(e.trim());return t?t[0]:ao(e).trim().replace(/\)$/,"").trim()}createNumeroFromRotulo(e){this.numero=wt(this.normalizaNumeracao(e),Xu)}createRotulo(){this.rotulo=this.numero===void 0?R.alinea.name:wt(this.numero,Vr)+this.SUFIXO}getNumeracaoParaComandoEmenda(){var e;return this.numero===void 0?((e=R.alinea.descricao)===null||e===void 0?void 0:e.toLocaleLowerCase())+"":"\u201C"+wt(this.numero,Vr)+"\u201D"}getNumeracaoComRotuloParaComandoEmenda(){var e,t;return this.numero===void 0?((e=R.alinea.descricao)===null||e===void 0?void 0:e.toLocaleLowerCase())+"":((t=R.alinea.descricao)===null||t===void 0?void 0:t.toLocaleLowerCase())+" "+this.getNumeracaoParaComandoEmenda()}}}(Go(Ye)))))))),Fp=Xe(function(o){return class extends o{getAcoesPossiveis(e){var t,i,n,r,s,p;const d=[];if(!W(e))return[];if(d.push(hs),d.push(Pt),Vo(e)!==void 0&&d.push(go),zo(e)!==void 0&&d.push(bo),X(e)&&!ht(e)&&d.push(At),X(e)&&vt(e)&&(d.push(Wt),Ho(e)&&d.push(yo)),e.alteracoes&&d.push(ms),e.hasAlteracao()||X(e)||e.texto.length!==0&&rt(e)||d.push(ru),e.hasAlteracao()||X(e)||e.texto.length!==0&&!rt(e)||d.push(Hn),e.hasAlteracao()||X(e)||Me(e)||d.push(Wt),e.pai.indexOf(e)>0&&d.push(bu),e.pai&&!X(e)&&Ee(e.pai)&&e.pai.filhos.filter(c=>ue(c)).length===0&&d.push(uu),!X(e)&&e.pai&&(c=>{const u=c.pai.indexOf(c);return c.pai.filhos.filter((a,l)=>l>u&&ue(a)).length>0})(e)&&d.push(ci(qa(e).tipo)),!X(e)&&ue(e.pai)){const c=(i=(t=e.tiposPermitidosPai)===null||t===void 0?void 0:t.indexOf(e.pai.tipo))!==null&&i!==void 0?i:0;(n=e.tiposPermitidosPai)===null||n===void 0||n.filter(()=>c>0).filter((u,a)=>e.pai.indexOf(e)>0?a>=c:a>c).forEach(u=>d.push(ci(u)))}if(!X(e)&&ue(e.pai)&&!Ee(e.pai)&&e.pai.indexOf(e)>0&&(c=>{var u;return((u=c.pai)===null||u===void 0?void 0:u.pai)!==void 0&&Xi(c.pai.pai,c.pai,[]).length>0})(e)){const c=(s=(r=e.tiposPermitidosPai)===null||r===void 0?void 0:r.indexOf(e.pai.tipo))!==null&&s!==void 0?s:0,u=Xi(e.pai.pai,e.pai,[]).reduce((a,l)=>a.includes(l.tipo)&&qa(l)!==void 0?a:a.concat(l.tipo),[]);(p=e.tiposPermitidosPai)===null||p===void 0||p.filter(()=>c>0).filter(a=>u.includes(a)).forEach(a=>d.push(ci(a)))}return e.getAcoesPermitidas(e,d)}getAcaoPossivelTab(e){var t;if(W(e))return(t=e.tiposPermitidosFilhos)===null||t===void 0?void 0:t.map(i=>{const n="transformar"+e.tipo+"Em"+i;return e.getAcoesPossiveis(e).filter(r=>r instanceof ie).filter(r=>r instanceof ie&&r.nomeAcao&&n&&r.nomeAcao===n)[0]})[0]}getAcaoPossivelShiftTab(e){var t;if(e.tiposPermitidosFilhos)return ct(e)&&(me(e)||De(e))?Zi:eo(e)&&(me(e)||De(e))?Wi:To(e)&&(me(e)||De(e))?fe(e.pai.pai)?Qi:Gi:(t=e.tiposPermitidosPai)===null||t===void 0?void 0:t.map(i=>{const n="transformar"+e.tipo+"Em"+i;return e.getAcoesPossiveis(e).filter(r=>r instanceof ie).filter(r=>r instanceof ie&&r.nomeAcao&&n&&r.nomeAcao===n)[0]})[0]}}}(et(Tt(function(o){return class extends o{hasAlteracao(){var e;return!!this.alteracoes&&((e=this.alteracoes.filhos)===null||e===void 0?void 0:e.length)>0}}}(function(o){return class extends o{constructor(){super(...arguments),this.type="NumeracaoArtigoLcp95",this.PREFIXO="Art. ",this.SUFIXO="\xBA",this.ARTIGO_UNICO="Artigo \xFAnico.",this.informouArtigoUnico=!1}normalizaNumeracao(e){return e.replace(/["]/g,"").replace(/\./g,"").replace(/artigo [u]nico/i,"1").replace(/(art[.]{0,1})/i,"").replace(/[]/i,"").trim()}createNumeroFromRotulo(e){const t=this.normalizaNumeracao(e);this.informouArtigoUnico=/.[u]nico/i.test(e),this.numero=this.informouArtigoUnico?"1":ho(t)?t:void 0}createRotulo(e){e===void 0?this.rotulo=R.artigo.descricao:e.situacao.descricaoSituacao===G.DISPOSITIVO_ADICIONADO&&e.situacao.tipoEmenda===dt.EMENDA_ARTIGO_ONDE_COUBER?this.rotulo="Art.":this.numero===void 0?this.rotulo=St(e)?"\u201C"+e.tipo:e.tipo:this.numero===void 0||ho(this.numero)?St(e)?this.rotulo="\u201C"+(this.informouArtigoUnico?this.ARTIGO_UNICO:this.PREFIXO+this.getNumeroAndSufixoNumeracao()):Ae(e).artigos.length===1?this.rotulo=this.ARTIGO_UNICO:this.rotulo=this.PREFIXO+this.numero===void 0?void 0:this.PREFIXO+this.getNumeroAndSufixoNumeracao():this.rotulo=this.PREFIXO+this.numero+this.SUFIXO}getNumeroAndSufixoNumeracao(e=!1){var t;const i=(t=this.numero)===null||t===void 0?void 0:t.split("-"),[n,...r]=i;return(parseInt(n!=null?n:"1",10)<10?n+this.SUFIXO:n)+(r.length>0?"-"+(r==null?void 0:r.map(Vr).join("-").toUpperCase()):"")+(!e&&parseInt(n!=null?n:"1",10)>9?".":"")}getNumeracaoParaComandoEmenda(){var e;return this.numero===void 0?((e=R.artigo.descricao)===null||e===void 0?void 0:e.toLowerCase())+"":this.informouArtigoUnico?"artigo \xFAnico":this.getNumeroAndSufixoNumeracao(!0)}getNumeracaoComRotuloParaComandoEmenda(){var e;return this.numero===void 0?((e=R.artigo.descricao)===null||e===void 0?void 0:e.toLowerCase())+"":this.informouArtigoUnico?"artigo \xFAnico":"art. "+this.getNumeroAndSufixoNumeracao()}}}(function(o){return class extends o{get filhos(){const e=this.getIncisosCaput(),t=this.paragrafos;return e.concat(t)}getIncisosCaput(){var e,t;return(t=(e=this.caput)===null||e===void 0?void 0:e.filhos)!==null&&t!==void 0?t:[]}get paragrafos(){var e;return this._paragrafos=(e=this._paragrafos)!==null&&e!==void 0?e:[],this._paragrafos}addFilhoOnPosition(e,t){mt(e)?this.caput.addFilhoOnPosition(e,t):this.paragrafos.splice(t-this.getIncisosCaput().length,0,e)}addFilho(e,t){ke(e)?this.caput=e:mt(e)?this.addIncisoCaput(e,t):this.addParagrafo(e,t)}removeFilho(e){var t;mt(e)?(t=this.caput)===null||t===void 0||t.removeFilho(e):this.removeParagrafo(e)}addIncisoCaput(e,t){this.caput.addFilho(e,t)}addParagrafo(e,t){if(t){const i=this.paragrafos.indexOf(t)+1;this.isLastFilho(t)?this.paragrafos.push(e):this.paragrafos.splice(i,0,e)}else this.paragrafos.push(e)}removeParagrafo(e){var t;this._paragrafos=(t=this._paragrafos)===null||t===void 0?void 0:t.filter(i=>i.uuid!==e.uuid?i:i.pai=void 0)}isLastFilho(e){return this.paragrafos.indexOf(e)===this.paragrafos.length-1}indexOf(e){return mt(e)?this.caput.indexOf(e):this.filhos.indexOf(e)}renumeraIncisos(){var e;(e=this.caput)===null||e===void 0||e.renumeraFilhos()}renumeraParagrafos(){this.paragrafos.filter(e=>!X(e)&&!Ko(e)).forEach(e=>{e.numero=Yn(e),e.createRotulo(e),e.id=fo(e)})}isParagrafoUnico(){return this.paragrafos.length===1}renumeraFilhos(){this.renumeraIncisos(),this.renumeraParagrafos()}}}(class extends Ye{constructor(){super("artigo")}get texto(){var o,e;return(e=(o=this.caput)===null||o===void 0?void 0:o.texto)!==null&&e!==void 0?e:""}set texto(o){this.caput.texto=o}}))))))),Up=Xe(function(o){return class extends o{getAcoesPossiveis(e){return[]}getAcaoPossivelTab(e){}getAcaoPossivelShiftTab(e){}}}(et(Tt(tt(at(function(o){return class extends o{constructor(){super(...arguments),this.type="NumeracaoIndisponivel"}createRotulo(){this.rotulo=void 0}createNumeroFromRotulo(){}getNumeracaoParaComandoEmenda(){return""}getNumeracaoComRotuloParaComandoEmenda(){return"caput"}}}(Go(Ye)))))))),$p=Xe(function(o){return class extends o{getAcoesPossiveis(e){const t=[];return ht(e)?(t.push(Pt),X(e)&&vt(e)&&(t.push(Wt),Ho(e)&&t.push(yo)),(fe(e.pai)||ke(e.pai)||mt(e.pai)||To(e.pai))&&e.pai.tipoProvavelFilho.length>0&&t.push(Es.filter(i=>i instanceof ie&&i.nomeAcao==="transformarDispositivoGenericoEm"+e.pai.tipoProvavelFilho)[0]),e.getAcoesPermitidas(e,t)):[]}getAcaoPossivelTab(e){}getAcaoPossivelShiftTab(e){}}}(et(Zn(tt(at(function(o){return class extends o{constructor(){super(...arguments),this.type="NumeracaoDispositivoGenericoLcp95",this.SUFIXO=" -"}createNumeroFromRotulo(){}createRotulo(){this.rotulo=this.numero===void 0?"dg":this.numero+this.SUFIXO}getNumeracaoParaComandoEmenda(){return this.numero===void 0?"dg":this.numero}getNumeracaoComRotuloParaComandoEmenda(){return this.getNumeracaoParaComandoEmenda()}}}(Go(Ye)))))))),Bp=Xe(function(o){return class extends o{getAcoesPossiveis(e){const t=[];return mt(e)?(t.push(Pt),Vo(e)!==void 0&&t.push(go),zo(e)!==void 0&&t.push(bo),X(e)&&!ht(e)&&t.push(At),X(e)&&vt(e)&&(t.push(Wt),Ho(e)&&t.push(yo)),X(e)&&!ht(e)&&t.push(At),rt(e)&&t.push(fs),ai(e)&&t.push(Hn),Ji(e)&&De(e)&&t.push(lu),ct(e)&&(!Ut(e)||Pe(e)!==void 0&&ze(Pe(e)))&&t.push(wa),ct(e)&&(me(e)||De(e))&&t.push(Zi),ct(e)&&nn(e)&&t.push(fu),eo(e)&&(me(e)||Ut(e))&&t.push(Br),eo(e)&&(!Ut(e)||Pe(e)!==void 0&&ze(Pe(e)))&&t.push(Oa),eo(e)&&nn(e)&&t.push(Br),eo(e)&&(me(e)||De(e))&&t.push(Wi),e.getAcoesPermitidas(e,t)):[]}getAcaoPossivelTab(e){var t;if(mt(e))return!ct(e)||me(e)&&Ut(e)?eo(e)&&(me(e)||De(e))?Oa:(t=e.tiposPermitidosFilhos)===null||t===void 0?void 0:t.map(i=>{const n=mt(e)?e.pai.tipo:"",r=i.endsWith(R.inciso.name)?!fe(e)||me(e)&&Ut(e)?"IncisoCaput":"IncisoParagrafo":i,s="transformar"+e.tipo+n+"Em"+r;return e.getAcoesPossiveis(e).filter(p=>p instanceof ie).filter(p=>p instanceof ie&&p.nomeAcao&&s&&p.nomeAcao===s)[0]})[0]:wa}getAcaoPossivelShiftTab(e){var t;if(mt(e))return ct(e)&&(me(e)||De(e))?Zi:eo(e)&&(me(e)||De(e))?Wi:(t=e.tiposPermitidosPai)===null||t===void 0?void 0:t.map(i=>{const n="transformar"+e.tipo+"Em"+i;return e.getAcoesPossiveis(e).filter(r=>r instanceof ie).filter(r=>r instanceof ie&&r.nomeAcao&&n&&r.nomeAcao===n)[0]})[0]}}}(et(Tt(tt(at(function(o){return class extends o{constructor(){super(...arguments),this.type="NumeracaoIncisoLcp95",this.SUFIXO=" \u2013"}normalizaNumeracao(e){const t=/[CDILMVX]+(-[a-zA-Z]+)*/.exec(e);return t?t[0]:ao(e).trim().replace(/-$/,"").trim()}createNumeroFromRotulo(e){const t=wt(this.normalizaNumeracao(e),Yu);this.numero=ho(t)?t:void 0}createRotulo(){this.rotulo=this.numero===void 0?R.inciso.name:wt(this.numero,Li)+this.SUFIXO}getNumeracaoParaComandoEmenda(){var e;return this.numero===void 0?((e=R.inciso.descricao)===null||e===void 0?void 0:e.toLocaleLowerCase())+"":wt(this.numero,Li)}getNumeracaoComRotuloParaComandoEmenda(){var e,t;return this.numero===void 0?((e=R.inciso.descricao)===null||e===void 0?void 0:e.toLocaleLowerCase())+"":((t=R.inciso.descricao)===null||t===void 0?void 0:t.toLocaleLowerCase())+" "+this.getNumeracaoParaComandoEmenda()}}}(Go(Ye)))))))),zp=Xe(function(o){return class extends o{getAcoesPossiveis(e){const t=[];return Aa(e)?(t.push(Pt),Vo(e)!==void 0&&t.push(go),zo(e)!==void 0&&t.push(bo),X(e)&&!ht(e)&&t.push(At),X(e)&&vt(e)&&(t.push(Wt),Ho(e)&&t.push(yo)),(me(e)||De(e))&&t.push(_u),nn(e)&&t.push(mu),e.getAcoesPermitidas(e,t)):[]}getAcaoPossivelTab(e){var t;if(Aa)return(t=e.tiposPermitidosFilhos)===null||t===void 0?void 0:t.map(i=>{const n="transformar"+e.tipo+"Em"+i;return e.getAcoesPossiveis(e).filter(r=>r instanceof ie).filter(r=>r instanceof ie&&r.nomeAcao&&n&&r.nomeAcao===n)[0]})[0]}getAcaoPossivelShiftTab(e){var t;if(e.tiposPermitidosFilhos)return(t=e.tiposPermitidosPai)===null||t===void 0?void 0:t.map(i=>{const n="transformar"+e.tipo+"Em"+i;return e.getAcoesPossiveis(e).filter(r=>r instanceof ie).filter(r=>r instanceof ie&&r.nomeAcao&&n&&r.nomeAcao===n)[0]})[0]}}}(et(Tt(tt(at(function(o){return class extends o{constructor(){super(...arguments),this.type="NumeracaoItemLcp95",this.SUFIXO="."}normalizaNumeracao(e){const t=/\d+(-[a-zA-Z]+)*/.exec(e.trim());return t?t[0]:ao(e).trim().replace(/\.$/,"").trim()}createNumeroFromRotulo(e){const t=this.normalizaNumeracao(e);this.numero=ho(t)?t:void 0}createRotulo(){this.rotulo=this.numero===void 0?R.item.name:wt(this.numero)+this.SUFIXO}getNumeracaoParaComandoEmenda(){var e;return this.numero===void 0?((e=R.item.descricao)===null||e===void 0?void 0:e.toLowerCase())+"":wt(this.numero)}getNumeracaoComRotuloParaComandoEmenda(){var e,t;return this.numero===void 0?((e=R.item.descricao)===null||e===void 0?void 0:e.toLocaleLowerCase())+"":((t=R.item.descricao)===null||t===void 0?void 0:t.toLocaleLowerCase())+" "+this.getNumeracaoParaComandoEmenda()}}}(Go(Ye)))))))),Vp=Xe(function(o){return class extends o{getAcoesPossiveis(e){const t=[];return fe(e)?(t.push(Pt),Vo(e)!==void 0&&t.push(go),zo(e)!==void 0&&t.push(bo),X(e)&&t.push(At),e.texto&&rt(e)&&t.push(Hn),(Ut(e)||me(e))&&t.push(Su),me(e)||t.push(Iu),(De(e)||me(e))&&t.push(qu),nn(e)&&t.push(vu),X(e)&&vt(e)&&(t.push(Wt),Ho(e)&&t.push(yo)),e.getAcoesPermitidas(e,t)):[]}getAcaoPossivelTab(e){var t;if(fe(e))return(t=e.tiposPermitidosFilhos)===null||t===void 0?void 0:t.map(i=>{const n=i.endsWith(R.inciso.name)?!fe(e)||me(e)&&Ut(e)?"IncisoCaput":"IncisoParagrafo":i,r="transformar"+e.tipo+"Em"+n;return e.getAcoesPossiveis(e).filter(s=>s instanceof ie).filter(s=>s instanceof ie&&s.nomeAcao&&r&&s.nomeAcao===r)[0]})[0]}getAcaoPossivelShiftTab(e){var t;if(e.tiposPermitidosFilhos)return ct(e)&&(me(e)||De(e))?Zi:eo(e)&&(me(e)||De(e))?Wi:To(e)&&(me(e)||De(e))?fe(e.pai.pai)?Qi:Gi:(t=e.tiposPermitidosPai)===null||t===void 0?void 0:t.map(i=>{const n="transformar"+e.tipo+"Em"+i;return e.getAcoesPossiveis(e).filter(r=>r instanceof ie).filter(r=>r instanceof ie&&r.nomeAcao&&n&&r.nomeAcao===n)[0]})[0]}}}(et(Tt(tt(at(function(o){return class extends o{constructor(){super(...arguments),this.type="NumeracaoParagrafoLcp95",this.PREFIXO="\xA7 ",this.SUFIXO="\xBA",this.PARAGRAFO_UNICO="Par\xE1grafo \xFAnico.",this.informouParagrafoUnico=!1}normalizaNumeracao(e){return e.trim().replace(/\./g,"").replace(//i,"").replace(/par[a]grafo [u]nico/i,"1").replace(/[]/i,"").trim()}createNumeroFromRotulo(e){const t=this.normalizaNumeracao(e);this.informouParagrafoUnico=/.[u]nico/i.test(e),this.numero=this.informouParagrafoUnico?"1":ho(t)?t:void 0}createRotulo(e){var t;this.numero!==void 0&&e?ho(this.numero)?e.isDispositivoAlteracao?this.rotulo=this.informouParagrafoUnico?this.PARAGRAFO_UNICO:this.PREFIXO+this.getNumeroAndSufixoNumeracao():((t=e.pai)===null||t===void 0?void 0:t.filhos.filter(i=>fe(i)).length)===1?this.rotulo=this.PARAGRAFO_UNICO:this.rotulo=this.PREFIXO+this.numero===void 0?void 0:this.PREFIXO+this.getNumeroAndSufixoNumeracao():this.rotulo=this.getNumeroAndSufixoNumeracao():this.rotulo=R.paragrafo.name}getNumeroAndSufixoNumeracao(){if(!this.numero)return"";const e=this.numero.search(/[a-zA-Z-]/)===-1?parseInt(this.numero):parseInt(this.numero.substring(0,this.numero.search(/[a-zA-Z-]/))),t=this.numero.search(/[a-zA-Z-]/)===-1?"":this.numero.substring(this.numero.search(/[a-zA-Z-]/));return(e<10?e+this.SUFIXO:e)+((t==null?void 0:t.length)>0?t:"")+(e>9?".":"")}getNumeracaoParaComandoEmenda(){var e;return this.numero===void 0?((e=R.paragrafo.descricao)===null||e===void 0?void 0:e.toLocaleLowerCase())+"":this.isParagrafoUnico()?"par\xE1grafo \xFAnico":this.getNumeroAndSufixoNumeracao()}getNumeracaoComRotuloParaComandoEmenda(){var e;return this.numero===void 0?((e=R.paragrafo.descricao)===null||e===void 0?void 0:e.toLocaleLowerCase())+"":this.isParagrafoUnico()?"par\xE1grafo \xFAnico":"\xA7 "+this.getNumeroAndSufixoNumeracao()}isParagrafoUnico(){var e;return this.isDispositivoAlteracao&&this.informouParagrafoUnico||((e=this.pai)===null||e===void 0?void 0:e.filhos.filter(t=>fe(t)).length)===1}}}(Go(Ye)))))))),Hp=Xe(wo(et(Zn(tt(at(Eo(xo(class extends Ye{constructor(){super("articulacao")}get artigos(){var o;return(o=this._artigos)!==null&&o!==void 0?o:[]}addArtigo(o,e){var t;this._artigos=(t=this._artigos)!==null&&t!==void 0?t:[],e!==void 0?this._artigos.splice(this._artigos.indexOf(e)+1,0,o):this._artigos.push(o)}addArtigoOnPosition(o,e){var t;this._artigos=(t=this._artigos)!==null&&t!==void 0?t:[],this._artigos.splice(e,0,o)}removeArtigo(o){var e;this._artigos=(e=this._artigos)!==null&&e!==void 0?e:[],this._artigos=this._artigos.filter(t=>t.uuid!==o.uuid)}renumeraArtigos(){this.artigos.filter(o=>o.situacao.descricaoSituacao===G.DISPOSITIVO_NOVO||o.situacao.descricaoSituacao===G.DISPOSITIVO_ADICIONADO).forEach(o=>{o.numero=Yn(o),o.createRotulo(o),o.id=fo(o);const e=o.caput;e&&(e.id=fo(e))})}indexOfArtigo(o){return this.artigos.indexOf(o)}})))))))),Kp=Xe(wo(et(Tt(tt(at(Eo(xo(Ye)))))))),Gp=Xe(wo(et(Zn(tt(at(Eo(xo(Ye)))))))),Qp=Xe(wo(et(Tt(tt(at(Eo(xo(Ye)))))))),Wp=Xe(wo(et(cn(tt(at(Eo(xo(Ye)))))))),Zp=Xe(wo(et(cn(tt(at(Eo(xo(Ye)))))))),Xp=Xe(wo(et(cn(tt(at(Eo(xo(Ye)))))))),Yp=Xe(wo(et(Tt(tt(at(Eo(xo(Ye)))))))),Jp=Xe(function(o){return class extends o{getAcoesPossiveis(e){const t=[];return ze(e)?(t.push(Pt),Vo(e)!==void 0&&t.push(go),zo(e)!==void 0&&t.push(bo),X(e)&&!ht(e)&&t.push(At),X(e)&&vt(e)&&(t.push(Wt),Ho(e)&&t.push(yo)),Ee(e.pai)&&Pe(e)!==void 0&&t.push(xu),ke(e.pai)&&t.push(Eu),W(e.pai)&&t.push(Au),fe(e.pai)&&t.push(wu),mt(e.pai)&&t.push(yu),To(e.pai)&&t.push(Ou),e.getAcoesPermitidas(e,t)):[]}getAcaoPossivelTab(e){}getAcaoPossivelShiftTab(e){}}}(Tt(tt(function(o){return class extends o{constructor(){super(...arguments),this.tipoConteudo=Un.ConteudoTexto,this._texto=ft}get texto(){return this._texto}set texto(e){const t=$t(e);this._texto=t===en?en:ft}}}(function(o){return class extends o{constructor(){super(...arguments),this.type="NumeracaoIndisponivel"}createRotulo(){this.rotulo=void 0}createNumeroFromRotulo(){}getNumeracaoParaComandoEmenda(){return""}getNumeracaoComRotuloParaComandoEmenda(){return""}}}(Go(Ye))))))),de=(o,e,t,i)=>{const n=ic(e,o);return i!==void 0&&i>=0?o.addFilhoOnPosition(n,i):t?o.addFilho(n,t):o.addFilho(n),n},ic=(o,e)=>{let t;switch(o.toLowerCase()){case"alinea":t=new Mp(o.toLowerCase());break;case"artigo":t=new Fp,t.caput=ic(R.caput.tipo,t);break;case"capitulo":t=new Kp(o.toLowerCase());break;case"caput":t=new Up(o.toLowerCase());break;case"inciso":t=new Bp(o.toLowerCase());break;case"item":t=new zp(o.toLowerCase());break;case"livro":t=new Qp(o.toLowerCase());break;case"omissis":t=new Jp(o.toLowerCase());break;case"paragrafo":t=new Vp(o.toLowerCase());break;case"parte":t=new Wp(o.toLowerCase());break;case"secao":t=new Xp(o.toLowerCase());break;case"subsecao":t=new Zp(o.toLowerCase());break;case"titulo":t=new Yp(o.toLowerCase());break;default:t=e&&ue(e)?new Gp("agrupadorGenerico"):new $p("generico"),t.mensagens=[],t.mensagens.push({tipo:te.WARNING,descricao:"N\xE3o foi poss\xEDvel validar a natureza deste dispositivo com base na legisla\xE7\xE3o vigente"})}return t.uuid=xs.next(),t.name=o,t.pai=e,(i=>{i.isDispositivoAlteracao=X(i),X(i)&&(i.renumeraFilhos=()=>{},W(i)&&(i.caput.renumeraFilhos=()=>{}),Ae(i).renumeraFilhos=()=>{},Ae(i).renumeraArtigos=()=>{})})(t),t},As=()=>{const o=new Hp;return o.uuid=xs.next(),o},nc=o=>{o.alteracoes=As(),o.alteracoes.pai=o},eh=(o,e)=>{var t,i,n,r,s,p,d,c,u,a,l,h,f,m,v,g,y,b,x,E,w,I,k,P,A,_,O,q;let S;if(X(o))if(e.subType==="INICIAR_BLOCO")S=Ar(R.artigo.tipo,Ae(o)),S.texto=((n=(i=(t=e.novo)===null||t===void 0?void 0:t.conteudo)===null||i===void 0?void 0:i.texto)===null||n===void 0?void 0:n.length)>0?(s=(r=e.novo)===null||r===void 0?void 0:r.conteudo)===null||s===void 0?void 0:s.texto:"";else if(e.subType==="FINALIZAR_BLOCO"){const T=Ae(o);S=_n(T.pai),S.texto=$t((c=(d=(p=e.novo)===null||p===void 0?void 0:p.conteudo)===null||d===void 0?void 0:d.texto)!==null&&c!==void 0?c:"")}else if(((T,C)=>{var L,B,Q;if(!X(T))return!1;const oe=Cu(T);return De(oe)&&Bu($t((Q=(B=(L=C.atual)===null||L===void 0?void 0:L.conteudo)===null||B===void 0?void 0:B.texto)!==null&&Q!==void 0?Q:""))&&vt(T)})(o,e)){const T=Ae(o);S=e.subType==="INICIAR_BLOCO"?Ar(R.artigo.tipo,T):_n(T.pai),S.texto=e.subType==="INICIAR_BLOCO"?"":$t((l=(a=(u=e.novo)===null||u===void 0?void 0:u.conteudo)===null||a===void 0?void 0:a.texto)!==null&&l!==void 0?l:"")}else S=_n(o),S.createRotulo(),S.texto=((m=(f=(h=e.novo)===null||h===void 0?void 0:h.conteudo)===null||f===void 0?void 0:f.texto)===null||m===void 0?void 0:m.length)>0?$t((y=(g=(v=e.novo)===null||v===void 0?void 0:v.conteudo)===null||g===void 0?void 0:g.texto)!==null&&y!==void 0?y:""):"";else o.alteracoes||$u((x=(b=e.atual)===null||b===void 0?void 0:b.conteudo)===null||x===void 0?void 0:x.texto)||((E=e.novo)===null||E===void 0?void 0:E.isDispositivoAlteracao)?(o.hasAlteracao()||nc(o),S=Ar(o.tipo,o.alteracoes),S.texto=((k=(I=(w=e.novo)===null||w===void 0?void 0:w.conteudo)===null||I===void 0?void 0:I.texto)===null||k===void 0?void 0:k.length)>0?(A=(P=e.novo)===null||P===void 0?void 0:P.conteudo)===null||A===void 0?void 0:A.texto:""):(S=_n(o),S.texto=(q=(O=(_=e.novo)===null||_===void 0?void 0:_.conteudo)===null||O===void 0?void 0:O.texto)!==null&&q!==void 0?q:"");return S},_n=o=>o.hasAlteracao()?th(o):W(o)?X(o)?de(o.caput,R.inciso.tipo,void 0,0):ih(o):ue(o)?nh(o):X(o)?Me(o)||rt(o)?de(o,o.tipoProvavelFilho,o):de(o.pai,o.tipo===R.omissis.tipo?o.pai.tipoProvavelFilho:o.tipo,o):oh(o),th=o=>{var e;return o.pai.isLastFilho(o)&&((e=o==null?void 0:o.pai)===null||e===void 0?void 0:e.pai)?de(o.pai.pai,o.pai.tipo,o.pai):de(o.pai,o.tipo,o)},oh=o=>{if(rt(o)){const e=o.tipoProvavelFilho;return o.pai.filhos.length>0?de(o,e,void 0,0):de(o,e)}if(o.situacao.descricaoSituacao!==G.DISPOSITIVO_ORIGINAL&&Ji(o)&&o.pai.isLastFilho(o)){if(ct(o)){const e=o.pai.pai;return e.filhos.filter(t=>fe(t)).length>0?de(e,R.paragrafo.tipo,void 0,0):de(e,R.paragrafo.tipo)}return de(o.pai.pai,o.pai.tipo,o.pai)}return de(o.pai,o.tipo,o)},ih=o=>{if(rt(o)){const e=o.tipoProvavelFilho;if(e===R.inciso.tipo){const t=o.caput;return t.filhos.length>0?de(t,e,void 0,0):de(t,e)}return o.pai.filhos.length>0?de(o,e,void 0,0):de(o,e)}return Ji(o)&&o.pai.isLastFilho(o)?de(o.pai.pai,o.pai.tipo,o.pai):de(o.pai,o.tipo,o)},nh=o=>de(o,R.artigo.tipo,void 0,0),Ar=(o,e)=>{const t=de(e,o);return t.createRotulo(t),t};class Ro extends ws{constructor(){super(...arguments),this.descricaoSituacao=G.DISPOSITIVO_ADICIONADO,this.tipoEmenda=dt.EMENDA}getAcoesPermitidas(e,t){return[...new Set(t)].filter(i=>i!==void 0).filter(i=>i.descricao!=="Adicionar"&&i.descricao!=="Atualizar dispositivo").filter(i=>!(i instanceof Nt)).filter(i=>{var n;return!(!((n=i.descricao)===null||n===void 0)&&n.startsWith("Mover"))||(r=>{var s;return((s=r.pai.filhos)===null||s===void 0?void 0:s.filter(p=>p.situacao.descricaoSituacao!==G.DISPOSITIVO_ADICIONADO).length)===0})(e)}).sort((i,n)=>i.descricao.localeCompare(n.descricao))}}class Zt{constructor(){this.descricaoSituacao=G.DISPOSITIVO_ORIGINAL}getAcoesPermitidas(e,t){const i=t.filter(n=>!(n instanceof Nt)).filter(n=>!(n instanceof Kn)).filter(n=>{var r;return!(!((r=n.descricao)===null||r===void 0)&&r.startsWith("Mover"))}).filter(n=>!(n instanceof ie)).filter(n=>!(n instanceof Gn));return Uo(e).filter(n=>gs(n)).length>0?i.push(Qn):i.push(pu),i}}const Ca=(o,e)=>{var t;let i;if(e.endsWith("EmOmissis")){const n=e.replace("transformar","").replace("EmOmissis","");i="transformar"+n+"EmOmissis"+n}else i=e;return(t=o.getAcoesPossiveis(o).filter(n=>n instanceof ie).filter(n=>n.nomeAcao===e||n.nomeAcao.replaceAll("IncisoCaput","Inciso").replaceAll("IncisoParagrafo","Inciso")===i)[0])===null||t===void 0?void 0:t.nomeAcao},Mi=(o,e)=>o.getAcoesPossiveis(o).filter(t=>t instanceof e).length>0,rc=(o,e,t)=>{var i,n,r,s,p,d,c,u,a;if(t&&((i=t.ui)===null||i===void 0?void 0:i.events)){const l=Ue(t.ui.events,j.ElementoModificado);if(l&&l.elementos&&((r=(n=l.elementos[0])===null||n===void 0?void 0:n.conteudo)===null||r===void 0?void 0:r.texto)===o.texto)return!0}return o.texto!==""&&((p=(s=e.atual)===null||s===void 0?void 0:s.conteudo)===null||p===void 0?void 0:p.texto)===""||((c=(d=e.atual)===null||d===void 0?void 0:d.conteudo)===null||c===void 0?void 0:c.texto)&&o.texto.localeCompare((a=(u=e.atual)===null||u===void 0?void 0:u.conteudo)===null||a===void 0?void 0:a.texto)!==0},Ra=o=>{const e=ee(o);return e.mensagens=Se(o),e},No=o=>{var e;o.uuid=xs.next(),(e=o.filhos)===null||e===void 0||e.forEach(t=>No(t))},rn=(o,e)=>Ee(o)||(t=>W(t)&&Ae(t).indexOfArtigo(t)===0)(e)||e.pai.indexOf(e)===0?o:mi(o),Yo=o=>o!==void 0&&o!=="",sc=(o,e=!1)=>{const t=[];return Uo(o).forEach(i=>{if(e){const n=Se(i);n&&(i.mensagens=n,t.push(ee(i)))}else t.push(ee(i))}),t};class Je{constructor(){this.eventos=[],this.eventos=ah()}add(e,t){const i=this.get(e);t.forEach(n=>{var r;return sh(i,n)||(r=i.elementos)===null||r===void 0?void 0:r.push(n)})}build(){return this.eventos.filter(e=>e.elementos&&e.elementos.length>0)}get(e){return this.eventos.filter(t=>t.stateType===e)[0]}setReferencia(e){this.get(j.ElementoIncluido).referencia=e}}const Cn=o=>{const e=new Je,t=ee(o);return t.mensagens=Se(o),e.add(j.ElementoModificado,[t]),e.add(j.ElementoValidado,dn(o)),e},Rn=(o,e)=>{o.mensagens=Se(o);const t=ee(o),i=e?[e]:[];return i.push(t),[{stateType:j.ElementoModificado,elementos:i},{stateType:j.ElementoValidado,elementos:dn(o,!0)}]},rh=(o,e)=>{const t=st(e),i=vi(e),n=Pe(e),r=e.pai;r.removeFilho(e),r.renumeraFilhos(),Ve(r)&&r.filhos.length===0&&(r.pai.alteracoes=void 0);const s=n&&(jn(n)||Mu(n))?n:ke(r)?r.pai:r;return o.artigos.length===1&&i.push(o.artigos[0]),((p,d,c)=>{const u=new Je;return u.add(j.ElementoRemovido,p),u.add(j.ElementoRenumerado,d.map(a=>ee(a))),u.add(j.ElementoValidado,c),u})(t,i,dn(s,!1)).build()},Ue=(o,e)=>o==null?void 0:o.filter(t=>t.stateType===e)[0],sh=(o,e)=>(o==null?void 0:o.elementos.map(t=>{var i,n;return t.uuid===e.uuid&&t.rotulo===e.rotulo&&((i=t.conteudo)===null||i===void 0?void 0:i.texto)===((n=e.conteudo)===null||n===void 0?void 0:n.texto)}).filter(t=>t).length)>0,ah=()=>[{stateType:j.ElementoIncluido,referencia:void 0,pai:void 0,posicao:void 0,elementos:[]},{stateType:j.ElementoRemovido,referencia:void 0,pai:void 0,posicao:void 0,elementos:[]},{stateType:j.ElementoModificado,referencia:void 0,pai:void 0,posicao:void 0,elementos:[]},{stateType:j.ElementoRenumerado,referencia:void 0,pai:void 0,posicao:void 0,elementos:[]},{stateType:j.ElementoRestaurado,referencia:void 0,pai:void 0,posicao:void 0,elementos:[]},{stateType:j.ElementoSuprimido,referencia:void 0,pai:void 0,posicao:void 0,elementos:[]},{stateType:j.ElementoValidado,referencia:void 0,pai:void 0,posicao:void 0,elementos:[]},{stateType:j.ElementoSelecionado,referencia:void 0,pai:void 0,posicao:void 0,elementos:[]},{stateType:j.ElementoMarcado,referencia:void 0,pai:void 0,posicao:void 0,elementos:[]},{stateType:j.SituacaoElementoModificada,referencia:void 0,pai:void 0,posicao:void 0,elementos:[]}],lt=(o,e)=>{const t=o.past?o.past:[];return t.push(JSON.parse(JSON.stringify(e))),t},lh=(o,e)=>{const t=o.future?o.future:[];return t.push(JSON.parse(JSON.stringify(e))),t},Bt=(o,e)=>{var t;return{articulacao:o.articulacao,modo:o.modo,past:o.past,present:o.present,future:o.future,ui:{events:(t=o.ui)===null||t===void 0?void 0:t.events,message:e}}},uh=(o,e)=>{var t,i,n,r,s,p,d,c,u,a,l,h,f,m,v,g,y;let b=!1;const x=Oe(o.articulacao,e.atual,!0);if(x===void 0)return o;((t=x.situacao)===null||t===void 0?void 0:t.descricaoSituacao)===G.DISPOSITIVO_ORIGINAL&&Yo((n=(i=e.novo)===null||i===void 0?void 0:i.conteudo)===null||n===void 0?void 0:n.texto)&&(e.atual.conteudo.texto=x.texto,e.novo.conteudo.texto=void 0);const E=jn(x)||Mu(x),w=Ra(x),I=[];if(on(I,x),rc(x,e,o)&&(x.texto=X(x)?$t((p=(s=e.atual.conteudo)===null||s===void 0?void 0:s.texto)!==null&&p!==void 0?p:""):(r=e.atual.conteudo)===null||r===void 0?void 0:r.texto,b=!0),((_,O)=>{var q,S,T;return!(!ue(_)||!_.pai||_.situacao.descricaoSituacao===G.DISPOSITIVO_NOVO||un(_.pai,_))||!(_.situacao.descricaoSituacao!==G.DISPOSITIVO_ORIGINAL||!rt(_)||!Me(_))||ht(_)||rt(_)&&!Mi(_,vo)||((q=_.situacao)===null||q===void 0?void 0:q.descricaoSituacao)===G.DISPOSITIVO_ORIGINAL&&Yo((T=(S=O.novo)===null||S===void 0?void 0:S.conteudo)===null||T===void 0?void 0:T.texto)})(x,e))return Bt(o,{tipo:te.INFO,descricao:"N\xE3o \xE9 poss\xEDvel criar dispositivos nessa situa\xE7\xE3o"});const k=eh(x,e);if(((d=x.situacao)===null||d===void 0?void 0:d.descricaoSituacao)===G.DISPOSITIVO_ORIGINAL||((c=x.situacao)===null||c===void 0?void 0:c.descricaoSituacao)===G.DISPOSITIVO_MODIFICADO||x.situacao instanceof Ro){k.situacao=new Ro,k.situacao.tipoEmenda=o.modo;const _=k.pai;Ve(_)&&_.filhos.length===1&&(_.situacao=new Ro)}Yo((a=(u=e.novo)===null||u===void 0?void 0:u.conteudo)===null||a===void 0?void 0:a.texto)&&x.tipo===k.tipo&&Me(x)&&oc(x,k),X(k)&&((l=k.mensagens)===null||l===void 0||l.push({tipo:te.WARNING,descricao:"\xC9 necess\xE1rio informar o r\xF3tulo do dispositivo"})),k.pai.renumeraFilhos();const P=((_,O)=>{const q=new Je;return q.setReferencia(ee(rn(_,O))),q.add(j.ElementoIncluido,sc(O)),q.add(j.ElementoRenumerado,ec(O)),q.add(j.ElementoValidado,dn(O,!1)),q})(x,k),A=Ra(x);if(Yo((f=(h=e.novo)===null||h===void 0?void 0:h.conteudo)===null||f===void 0?void 0:f.texto)&&x.tipo===k.tipo&&I&&I.length>0&&P.add(j.ElementoRemovido,I),ue(k)&&Ze(k).length===2){const _=Ze(k).filter(O=>O!==k);P.add(j.ElementoModificado,[ee(_[0])])}return(b||Yo((v=(m=e.novo)===null||m===void 0?void 0:m.conteudo)===null||v===void 0?void 0:v.texto))&&P.add(j.ElementoModificado,[w,A]),(b||Yo((y=(g=e.novo)===null||g===void 0?void 0:g.conteudo)===null||y===void 0?void 0:y.texto)||ze(x))&&P.add(j.ElementoValidado,[A]),(jn(x)||E)&&(P.add(j.ElementoValidado,[A]),P.add(j.ElementoRenumerado,[A])),{articulacao:o.articulacao,modo:o.modo,past:lt(o,P.build()),present:P.build(),future:[],ui:{events:P.build()}}},ch=(o,e)=>{var t,i,n,r,s;const p=Oe(o.articulacao,e.atual,!0);if(p===void 0)return o;const d=Pe(p),c=p.pai.indexOf(p),u=p.pai.filhos.filter((y,b)=>b>=c&&y.tipo!==e.novo.tipo).map(y=>st(y)).flat();let a,l;var h,f;rc(p,e)&&(p.texto=X(p)?$t((n=(i=e.atual.conteudo)===null||i===void 0?void 0:i.texto)!==null&&n!==void 0?n:""):(t=e.atual.conteudo)===null||t===void 0?void 0:t.texto),h=p,f=e.novo.tipo,h.pai.tipo===f?(a=de(p.pai.pai,e.novo.tipo,void 0,p.pai.pai.indexOf(p.pai)+1),l=lo(a)):!X(p)&&((y,b)=>zr(y,b)!==void 0)(p,e.novo.tipo)||((y,b)=>Xi(y.pai.pai,y.pai,[]).filter(x=>x.tipo===b).length>0)(p,e.novo.tipo)?(l=(r=zr(p,e.novo.tipo))!==null&&r!==void 0?r:((y,b)=>[...new Set(Xi(y.pai,y,[]))].filter(x=>x.tipo===b).reverse()[0])(p,e.novo.tipo),a=de(l.pai,e.novo.tipo,l)):(a=de(p.pai,e.novo.tipo,void 0,p.pai.indexOf(p)),l=d!=null?d:p.pai),a.texto=(s=e.novo.conteudo)===null||s===void 0?void 0:s.texto,((y,b)=>{b.map(x=>{const E=x.pai;No(x);const w=W(x)?lo(x):void 0;return E==null||E.removeFilho(x),x.pai=y,y.addFilho(x,w),x})})(a,p.pai.filhos.filter((y,b)=>b>=c&&y.tipo!==e.novo.tipo)),a.renumeraFilhos(),a.pai.renumeraFilhos();const m=[...ec(a)].concat(a.filhos.filter((y,b)=>b>=c&&y.tipo!==p.tipo).map(y=>st(y)).flat()),v=lo(a);v&&Ze(a).length===2&&m.unshift(ee(v));const g=new Je;return g.setReferencia(ee(rn(l.pai&&Ee(l)&&Ve(l)?l.pai:l,a))),g.add(j.ElementoIncluido,st(a)),g.add(j.ElementoRemovido,u),g.add(j.ElementoRenumerado,m),{articulacao:o.articulacao,modo:o.modo,past:lt(o,g.build()),present:g.build(),future:[],ui:{events:g.build()}}};class Fi{constructor(e){this.descricaoSituacao=G.DISPOSITIVO_MODIFICADO,this.dispositivoOriginal=e}getAcoesPermitidas(e,t){const i=t.filter(n=>!(n instanceof Nt)).filter(n=>!(n instanceof Kn)).filter(n=>!(n instanceof Gn)).filter(n=>{var r;return!(!((r=n.descricao)===null||r===void 0)&&r.startsWith("Mover"))}).filter(n=>n.descricao!=="Adicionar"&&n.descricao!=="Atualizar dispositivo").filter(n=>!(n instanceof ie));return i.push(Qn),i.filter(n=>n!==void 0).sort((n,r)=>n.descricao.localeCompare(r.descricao))}}const dh=(o,e)=>{const t=[],i=hh(e);for(const n of i.values())t.push(ph(o,n));return t},ph=(o,e)=>{const t={stateType:j.ElementoIncluido,referencia:void 0,pai:void 0,posicao:void 0,elementos:[]};return e.forEach(i=>{var n;let r;if(i.idIrmaoAnterior){const s=Mn(o.articulacao,i.idIrmaoAnterior);s&&(r=de(s.pai,s.tipo,s),t.referencia=ee(s))}if(i.idPai){const s=Mn(o.articulacao,i.idPai);s&&(r=de(s,i.tipo,void 0,0),t.referencia=ee(r.pai))}r&&(r.situacao=new Ro,r.rotulo=i.rotulo,r.texto=i.texto,r.lexmlId=fo(r),(n=t.elementos)===null||n===void 0||n.push(ee(r)))}),t},Da=(o,e)=>{o.set(e.id,[e])},hh=o=>{var e;const t=new Map;return(e=o.dispositivosAdicionados)===null||e===void 0||e.forEach((i,n)=>{if(n===0)Da(t,i);else{const s=o.dispositivosAdicionados[n-1];r=i.id,s.id===r.substring(0,r.lastIndexOf("_"))||((p,d)=>d.substring(0,d.lastIndexOf("_"))===p.substring(0,p.lastIndexOf("_")))(i.id,s.id)?t.get(s).push(i):Da(t,i)}var r}),t},fh=(o,e)=>{var t;const i=Oe(o.articulacao,e.atual,!0),n=e.atual.norma,r=(i==null?void 0:i.alteracoes.base)||"",s=new RegExp(`<a.+href=.${r}.*?>.*?</a>`,"ig"),p=Pa(n);if(i===void 0||!i.alteracoes||r===n&&i.texto.match(s))return o.ui=[],o;const d=`<a href="${c=n}"> ${Pa(c)} </a>`;var c;const u=i.texto;if(i.texto.match(s))i.texto=u.replace(s,d);else if(i.texto.includes(p))i.texto=u.replace(p,d);else{const m=parseInt(localStorage.indexCursor);i.texto=[u.slice(0,m),d,u.slice(m)].join(" "),localStorage.removeItem("indexCursor")}const a=ee(i);i.alteracoes.base=n,((t=i.situacao)===null||t===void 0?void 0:t.descricaoSituacao)===G.DISPOSITIVO_ORIGINAL&&(i.situacao=new Fi(a));const l=new Je,h=ee(i,!0);h.mensagens=Se(i),l.add(j.ElementoValidado,[h]),l.add(j.ElementoModificado,[h]),l.add(j.SituacaoElementoModificada,[h]);const f=Cn(i);return{articulacao:o.articulacao,modo:o.modo,past:lt(o,Rn(i,a)),present:f.build(),future:o.future,ui:{events:l.build()}}},La=(o,e)=>{const t=Oe(o.articulacao,e.atual,!0);if(t===void 0)return o.ui=[],o;if(!((h,f)=>{const m=Ca(h,f.subType);return h.getAcoesPossiveis(h).filter(v=>v instanceof ie&&v.nomeAcao&&v.nomeAcao===m).length>0})(t,e))return o;e.subType=Ca(t,e.subType);const i=[...st(t)],n=vi(t),r=((h,f)=>{var m,v;const g=h.pai;let y,b;switch(f.subType){case"transformarAlineaEmItem":case"transformarIncisoCaputEmAlinea":case"transformarIncisoParagrafoEmAlinea":case"transformarParagrafoEmIncisoParagrafo":b=Pe(h),y=de(b,f.novo.tipo);break;case"transformarDispositivoGenericoEmInciso":case"transformarDispositivoGenericoEmAlinea":case"transformarDispositivoGenericoEmItem":case"transformarOmissisEmAlinea":case"transformarOmissisEmArtigo":case"transformarOmissisEmIncisoCaput":case"transformarOmissisEmIncisoParagrafo":case"transformarOmissisEmItem":case"transformarOmissisEmParagrafo":case"transformarAlineaEmOmissisAlinea":case"transformarItemEmOmissisItem":case"transformarParagrafoEmOmissisParagrafo":case"transformarIncisoCaputEmOmissisIncisoCaput":case"transformarIncisoParagrafoEmOmissisIncisoParagrafo":b=g,y=de(g,f.novo.tipo,void 0,g==null?void 0:g.indexOf(h));break;case"transformarParagrafoEmInciso":if(fe(h)&&(Ut(h)||me(h))){b=g,y=de(b.caput,f.novo.tipo);break}b=Pe(h),y=de(b,f.novo.tipo);break;case"transformarParagrafoEmIncisoCaput":b=g,y=de(b.caput,f.novo.tipo);break;case"transformarArtigoEmParagrafo":b=Pe(h),y=de(b,f.novo.tipo);break;default:b=h.pai.pai,y=de(b,f.novo.tipo,h.pai)}return y.texto=(v=(m=f.atual.conteudo)===null||m===void 0?void 0:m.texto)!==null&&v!==void 0?v:h.texto,y.createRotulo(y),y.situacao=h.situacao,y.mensagens=Se(y),g==null||g.removeFilho(h),g==null||g.renumeraFilhos(),b==null||b.renumeraFilhos(),Os(h,y),y})(t,e),s=vi(r).concat(n),p=sc(r,!0),d=ct(r)?r.pai.pai:r.pai,c=Pe(r);if(c){const h=Se(c);c.mensagens!==h&&p.unshift(ee(c))}const u=p.filter(h=>h.uuid===d.uuid).length>0?t.pai:d;u.mensagens=Se(u),p.unshift(ee(u));const a=c!=null?c:r.pai,l=((h,f,m,v,g)=>{const y=new Je;return y.setReferencia(ee(rn(h,f))),y.add(j.ElementoIncluido,st(f)),y.add(j.ElementoRemovido,m),y.add(j.ElementoRenumerado,v),y.add(j.ElementoValidado,g.filter(b=>b.mensagens.length>0)),y})(ke(a)?a.pai:a,r,i,s.map(h=>(h.mensagens=Se(h),ee(h))),p);return{articulacao:o.articulacao,modo:o.modo,past:lt(o,l.build()),present:l.build(),future:[],ui:{events:l.build()}}},_r=(o,e)=>{if(Kr(e)){const t=Ve(o)?o.pai:Tn(o,e.hierarquia.pai.uuidAlteracao);if(t)return t.alteracoes||(t.alteracoes=As(),t.alteracoes.pai=t),e.hierarquia.pai.tipo===R.articulacao.tipo?t.alteracoes:Tn(t.alteracoes,e.hierarquia.pai.uuid)}return Tn(o,e.hierarquia.pai.uuid)},ja=(o,e)=>{var t,i,n;const r=de(W(e)&&(o.tipo===R.inciso.name||(s=>{var p,d;const c=(d=(p=s.lexmlId)===null||p===void 0?void 0:p.split("_"))!==null&&d!==void 0?d:[];return s.tipo===R.omissis.tipo&&c.length>1&&c[c.length-2]==="cpt"})(o))?e.caput:e,o.tipo,void 0,o.hierarquia.posicao);return r.uuid=o.uuid,r.id=o.lexmlId,r.texto=(i=(t=o==null?void 0:o.conteudo)===null||t===void 0?void 0:t.texto)!==null&&i!==void 0?i:"",r.numero=(n=o==null?void 0:o.hierarquia)===null||n===void 0?void 0:n.numero,r.rotulo=o==null?void 0:o.rotulo,r.mensagens=o==null?void 0:o.mensagens,r.situacao=(s=>{switch(s){case G.DISPOSITIVO_ADICIONADO:return new Ro;case G.DISPOSITIVO_NOVO:return new ws;default:return new Zt}})(o.descricaoSituacao),r},Ma=(o,e,t)=>{if(e!==void 0&&e.elementos!==void 0&&e.elementos[0]!==void 0){const i=e.elementos[0],n=_r(o.articulacao,i),r=((s,p)=>{const d=p.shift(),c=_r(s,d),u=ja(d,c),a=[u];return p==null||p.forEach(l=>{var h,f;const m=((h=l.hierarquia)===null||h===void 0?void 0:h.pai)===((f=d==null?void 0:d.hierarquia)===null||f===void 0?void 0:f.pai)?u.pai:_r(s,l),v=ja(l,m);a.push(v)}),a})(o.articulacao,e.elementos);if(n==null||n.renumeraFilhos(),t){const s=i.hierarquia.posicao===0?Ee(n)&&Ve(n)?n.pai:n:mi(Pe(r[0]));if(s){const p=Oe(o.articulacao,s);p?t.referencia=ee(p):Bt(o,{tipo:te.ERROR,descricao:"Erro inesperado"})}}return e.stateType===j.ElementoIncluido&&(t.referencia=e.referencia),r.map(s=>ee(s))}return[]},Fa=(o,e)=>e!==void 0&&e.elementos!==void 0&&e.elementos[0]!==void 0?(e.elementos.forEach(t=>{const i=Oe(o.articulacao,t,!0);if(i){const n=i.pai;n.removeFilho(i),n.renumeraFilhos()}}),e.elementos):[],Ua=(o,e,t,i)=>e!==void 0&&e.elementos!==void 0&&e.elementos[0]!==void 0?(e.elementos.forEach(n=>{var r,s,p,d,c,u,a;const l=Oe(o.articulacao,n,!0);i instanceof Zt?(l.numero=(s=(r=l.situacao.dispositivoOriginal)===null||r===void 0?void 0:r.numero)!==null&&s!==void 0?s:"",l.rotulo=(d=(p=l.situacao.dispositivoOriginal)===null||p===void 0?void 0:p.rotulo)!==null&&d!==void 0?d:"",l.texto=(a=(u=(c=l.situacao.dispositivoOriginal)===null||c===void 0?void 0:c.conteudo)===null||u===void 0?void 0:u.texto)!==null&&a!==void 0?a:"",l.situacao=new Zt):l.situacao=new i(ee(l)),t.elementos.push(ee(l))}),t.elementos):[],$a=(o,e,t=!1)=>{if(e!==void 0&&e.elementos!==void 0&&e.elementos[0]!==void 0){const i=[];let n=0;return e.elementos.forEach(r=>{var s,p,d,c;const u=Oe(o.articulacao,r,!0);u&&(t&&n===u.uuid||n!==u.uuid)&&(u.situacao.descricaoSituacao===G.DISPOSITIVO_MODIFICADO?(u.texto=(p=(s=u.situacao.dispositivoOriginal.conteudo)===null||s===void 0?void 0:s.texto)!==null&&p!==void 0?p:"",u.situacao=new Zt):(r.descricaoSituacao===G.DISPOSITIVO_MODIFICADO&&(u.situacao=new Fi(ee(u))),u.texto=(c=(d=r.conteudo)===null||d===void 0?void 0:d.texto)!==null&&c!==void 0?c:""),u.alteracoes&&(u.alteracoes.base=r.norma),u.mensagens=Se(u),i.push(ee(u)),n=u.uuid)}),i}return[]},Ba=(o,e)=>{if(e!==void 0&&e.elementos!==void 0&&e.elementos[0]!==void 0){const t=[];return e.elementos.forEach(i=>{const n=Oe(o.articulacao,i,!0);n&&t.push(ee(n))}),t}return[]},za=(o,e)=>{const t=Ue(e,j.ElementoValidado);if(t!==void 0&&t.elementos!==void 0&&t.elementos[0]!==void 0){const i=[];return t.elementos.forEach(n=>{const r=Oe(o.articulacao,n,!0);r&&(r.mensagens=Se(r),r.mensagens.length>0&&i.push(ee(r)))}),i}return[]},mh=(o,e)=>{const t=Oe(o.articulacao,e.atual,!0);if(t===void 0)return o.ui=[],o;if(!Mi(t,Kn))return Bt(o,{tipo:te.ERROR,descricao:"N\xE3o \xE9 poss\xEDvel excluir um dispositivo original mas apenas suprimi-lo."});if(!X(t)&&(jn(t)||o.articulacao.filhos.length===1&&o.articulacao.filhos[0]===t&&!Me(t)))return Bt(o,{tipo:te.ERROR,descricao:"N\xE3o \xE9 poss\xEDvel excluir o \xFAnico dispositivo dispon\xEDvel."});const i=ue(t)?((n,r)=>{let s=r.pai.indexOf(r);const p=r.pai.filhos.filter((y,b)=>b<s&&ue(y)),d=r.pai,c=[...st(r)],u=lo(r),a=(p==null?void 0:p.length)>0&&!X(r)?p.reverse()[0]:r.pai,l=(p==null?void 0:p.length)>0&&!X(r)?p.reverse()[0]:s>0?mi(a.filhos[s-1]):a,h=Ee(l)?a:mi(l),f=r.filhos.map(y=>(y.pai=a,d.removeFilho(y),No(y),(p==null?void 0:p.length)>0?a.addFilho(y):a.addFilhoOnPosition(y,s++),y));r.pai.removeFilho(r),a==null||a.renumeraFilhos(),d.renumeraFilhos();const m=f.map(y=>st(y)).flat(),v=a.filhos.filter((y,b)=>b>=s&&(ue(y)||St(y))).map(y=>ee(y)).flat();u&&Ze(u).length===1&&v.unshift(ee(u));const g=new Je;return g.setReferencia(Ee(h)&&Ve(h)?ee(h.pai):ee(h)),g.add(j.ElementoIncluido,m),g.add(j.ElementoRemovido,c),g.add(j.ElementoRenumerado,v),g.build()})(o.articulacao,t):rh(o.articulacao,t);return{articulacao:o.articulacao,modo:o.modo,past:lt(o,i),present:i,future:[],ui:{events:i}}},vh=(o,e)=>{var t,i;const n=Oe(o.articulacao,e.atual,!0);if(n===void 0)return o.ui=[],o;if(!(Uo(n).filter(s=>gs(s)).length>0)&&((t=n.situacao)===null||t===void 0?void 0:t.descricaoSituacao)!==G.DISPOSITIVO_MODIFICADO&&((i=n.situacao)===null||i===void 0?void 0:i.descricaoSituacao)!==G.DISPOSITIVO_SUPRIMIDO)return o;const r=((s,p)=>{const d=Uo(p).filter(u=>u.situacao.descricaoSituacao!==G.DISPOSITIVO_ORIGINAL);d.forEach(u=>{var a,l,h,f,m,v,g,y,b;u.numero=(l=(a=u.situacao.dispositivoOriginal)===null||a===void 0?void 0:a.numero)!==null&&l!==void 0?l:"",u.rotulo=(f=(h=u.situacao.dispositivoOriginal)===null||h===void 0?void 0:h.rotulo)!==null&&f!==void 0?f:"",u.id=(v=(m=u.situacao.dispositivoOriginal)===null||m===void 0?void 0:m.lexmlId)!==null&&v!==void 0?v:"",u.texto=u.situacao.descricaoSituacao===G.DISPOSITIVO_MODIFICADO?(b=(y=(g=u.situacao.dispositivoOriginal)===null||g===void 0?void 0:g.conteudo)===null||y===void 0?void 0:y.texto)!==null&&b!==void 0?b:"":u.texto,u.situacao=new Zt});const c=new Je;return c.add(j.ElementoRestaurado,d.map(u=>ee(u))),c.build()})(o.articulacao,n);return{articulacao:o.articulacao,modo:o.modo,past:lt(o,r),present:r,future:[],ui:{events:r}}},Gr=(o,e)=>{o.length!==0&&(o==null||o.forEach(t=>{e.add(t.situacao.descricaoSituacao),Gr(t.filhos,e)}))},gh=(o,e)=>{var t;const i=Oe(o.articulacao,e.atual,!0);if(i===void 0||((t=i.situacao)===null||t===void 0?void 0:t.descricaoSituacao)!==G.DISPOSITIVO_ORIGINAL)return o.ui=[],o;if(!(r=>{var s;const p=new Set;return p.add(r.situacao.descricaoSituacao),Gr(r.filhos,p),r.alteracoes&&Gr((s=r.alteracoes)===null||s===void 0?void 0:s.filhos,p),p.size===1&&[...p][0]===G.DISPOSITIVO_ORIGINAL})(i))return Bt(o,{tipo:te.ERROR,descricao:"S\xF3 \xE9 poss\xEDvel suprimir dispositivos que n\xE3o tenham sofrido modifica\xE7\xE3o."});const n=((r,s)=>{Uo(s).forEach(d=>d.situacao=new tn(ee(d))),s.alteracoes&&s.alteracoes.filhos.length>0&&s.alteracoes.filhos.forEach(d=>Uo(d).forEach(c=>c.situacao=new tn(ee(c))));const p=new Je;return p.add(j.ElementoSuprimido,st(s)),p.build()})(o.articulacao,i);return{articulacao:o.articulacao,modo:o.modo,past:lt(o,n),present:n,future:[],ui:{events:n}}},ye=function o(e,t,i){var n;if(typeof t=="function"&&typeof i=="function"||typeof i=="function"&&typeof arguments[3]=="function")throw new Error("It looks like you are passing several store enhancers to createStore(). This is not supported. Instead, compose them together to a single function.");if(typeof t=="function"&&i===void 0&&(i=t,t=void 0),i!==void 0){if(typeof i!="function")throw new Error("Expected the enhancer to be a function.");return i(o)(e,t)}if(typeof e!="function")throw new Error("Expected the reducer to be a function.");var r=e,s=t,p=[],d=p,c=!1;function u(){d===p&&(d=p.slice())}function a(){if(c)throw new Error("You may not call store.getState() while the reducer is executing. The reducer has already received the state as an argument. Pass it down from the top reducer instead of reading it from the store.");return s}function l(v){if(typeof v!="function")throw new Error("Expected the listener to be a function.");if(c)throw new Error("You may not call store.subscribe() while the reducer is executing. If you would like to be notified after the store has been updated, subscribe from a component and invoke store.getState() in the callback to access the latest state. See https://redux.js.org/api-reference/store#subscribelistener for more details.");var g=!0;return u(),d.push(v),function(){if(g){if(c)throw new Error("You may not unsubscribe from a store listener while the reducer is executing. See https://redux.js.org/api-reference/store#subscribelistener for more details.");g=!1,u();var y=d.indexOf(v);d.splice(y,1),p=null}}}function h(v){if(!up(v))throw new Error("Actions must be plain objects. Use custom middleware for async actions.");if(v.type===void 0)throw new Error('Actions may not have an undefined "type" property. Have you misspelled a constant?');if(c)throw new Error("Reducers may not dispatch actions.");try{c=!0,s=r(s,v)}finally{c=!1}for(var g=p=d,y=0;y<g.length;y++)(0,g[y])();return v}function f(v){if(typeof v!="function")throw new Error("Expected the nextReducer to be a function.");r=v,h({type:Oi.REPLACE})}function m(){var v,g=l;return(v={subscribe:function(y){if(typeof y!="object"||y===null)throw new TypeError("Expected the observer to be an object.");function b(){y.next&&y.next(a())}return b(),{unsubscribe:g(b)}}})[xa]=function(){return this},v}return h({type:Oi.INIT}),(n={dispatch:h,subscribe:l,getState:a,replaceReducer:f})[xa]=m,n}(function(o){for(var e=Object.keys(o),t={},i=0;i<e.length;i++){var n=e[i];typeof o[n]=="function"&&(t[n]=o[n])}var r,s=Object.keys(t);try{(function(p){Object.keys(p).forEach(function(d){var c=p[d];if(c(void 0,{type:Oi.INIT})===void 0)throw new Error('Reducer "'+d+`" returned undefined during initialization. If the state passed to the reducer is undefined, you must explicitly return the initial state. The initial state may not be undefined. If you don't want to set a value for this reducer, you can use null instead of undefined.`);if(c(void 0,{type:Oi.PROBE_UNKNOWN_ACTION()})===void 0)throw new Error('Reducer "'+d+`" returned undefined when probed with a random type. Don't try to handle `+Oi.INIT+' or other actions in "redux/*" namespace. They are considered private. Instead, you must return the current state for any unknown actions, unless it is undefined, in which case you must return the initial state, regardless of the action type. The initial state may not be undefined, but can be null.')})})(t)}catch(p){r=p}return function(p,d){if(p===void 0&&(p={}),r)throw r;for(var c=!1,u={},a=0;a<s.length;a++){var l=s[a],h=t[l],f=p[l],m=h(f,d);if(m===void 0){var v=cp(l,d);throw new Error(v)}u[l]=m,c=c||m!==f}return(c=c||s.length!==Object.keys(p).length)?u:p}}({appReducer:(o={},e)=>(e.type,o),elementoReducer:(o={},e)=>{switch(e.type){case"APLICAR_ALTERACOES_EMENDA":return((t,i)=>{const n={articulacao:t.articulacao,modo:t.modo,past:[],present:[],future:[],ui:{events:[]}},r=new Je;return i.alteracoesEmenda.dispositivosSuprimidos&&(r.add(j.ElementoSuprimido,[]),i.alteracoesEmenda.dispositivosSuprimidos.forEach(s=>{var p;const d=Mn(t.articulacao,s.id);d&&(d.situacao=new tn(ee(d)),(p=r.get(j.ElementoSuprimido).elementos)===null||p===void 0||p.push(ee(d)))})),i.alteracoesEmenda.dispositivosModificados&&(r.add(j.ElementoModificado,[]),i.alteracoesEmenda.dispositivosModificados.forEach(s=>{var p;const d=Mn(t.articulacao,s.id);d&&(d.situacao=new Fi(ee(d)),d.texto=s.texto,(p=r.get(j.ElementoModificado).elementos)===null||p===void 0||p.push(ee(d)))})),i.alteracoesEmenda.dispositivosAdicionados&&dh(t,i.alteracoesEmenda).forEach(s=>r.eventos.push(s)),n.ui.events=r.build(),n})(o,e);case"ATUALIZAR_ELEMENTO":return((t,i)=>{var n,r,s,p;const d=Oe(t.articulacao,i.atual,!0);if(d===void 0||d.texto===i.atual.conteudo.texto)return t.ui=[],t;const c=ee(d);d.texto=X(d)?$t((s=(r=i.atual.conteudo)===null||r===void 0?void 0:r.texto)!==null&&s!==void 0?s:""):(n=i.atual.conteudo)===null||n===void 0?void 0:n.texto,((p=d.situacao)===null||p===void 0?void 0:p.descricaoSituacao)===G.DISPOSITIVO_ORIGINAL&&(d.situacao=new Fi(c));const u=Cn(d);return{articulacao:t.articulacao,modo:t.modo,past:lt(t,Rn(d,c)),present:u.build(),future:t.future,ui:{events:u.build()}}})(o,e);case"ATUALIZAR_REFERENCIA_ELEMENTO":return fh(o,e);case"ATUALIZAR_TEXTO_ELEMENTO":return((t,i)=>{var n,r,s,p;const d=Oe(t.articulacao,i.atual,!0);if(d===void 0||d.texto===i.atual.conteudo.texto)return t.ui=[],t;const c=ee(d);d.texto=X(d)?$t((s=(r=i.atual.conteudo)===null||r===void 0?void 0:r.texto)!==null&&s!==void 0?s:""):(n=i.atual.conteudo)===null||n===void 0?void 0:n.texto,((p=d.situacao)===null||p===void 0?void 0:p.descricaoSituacao)===G.DISPOSITIVO_ORIGINAL&&(d.situacao=new Fi(c));const u=new Je,a=ee(d,!0);a.mensagens=Se(d),((h,f)=>{var m,v;return((v=(m=f.atual)===null||m===void 0?void 0:m.conteudo)===null||v===void 0?void 0:v.texto)!==h})(d.texto,i)&&u.add(j.ElementoModificado,[a]),u.add(j.SituacaoElementoModificada,[a]),u.add(j.ElementoValidado,dn(d));const l=Cn(d);return{articulacao:t.articulacao,modo:t.modo,past:lt(t,Rn(d,c)),present:l.build(),future:[],ui:{events:u.build()}}})(o,e);case"ADICIONAR_ELEMENTO":return uh(o,e);case"AGRUPAR_ELEMENTO":return ch(o,e);case"TRANSFORMAR_TIPO_ELEMENTO":return La(o,e);case"ELEMENTO_SELECIONADO":return((t,i)=>{const n=Oe(t.articulacao,i.atual,!0);if(n===void 0)return t.ui.events=[],t;n.mensagens=Se(n);const r=ee(n,!0),s=[{stateType:j.ElementoSelecionado,elementos:[r]}];return{articulacao:t.articulacao,modo:t.modo,past:t.past,present:t.present,future:t.future,ui:{events:s}}})(o,e);case"INFORMAR_NORMA":return((t,i)=>{const n=Oe(t.articulacao,i.atual,!0);if(n===void 0)return t.ui.events=[],t;n.mensagens=Se(n);const r=ee(n,!0),s=[{stateType:j.InformarNorma,elementos:[r]}];return{articulacao:t.articulacao,modo:t.modo,past:t.past,present:t.present,future:[],ui:{events:s}}})(o,e);case"Mover para baixo":return((t,i)=>{const n=Oe(t.articulacao,i.atual,!0);if(n===void 0)return t.ui=[],t;if(!Mi(n,cu))return Bt(t,{tipo:te.ERROR,descricao:"N\xE3o \xE9 poss\xEDvel excluir um dispositivo original mas apenas suprimi-lo."});const r=Vo(n);if(r===void 0)return t;const s=[...st(n),...st(r)],p=vi(n),d=n.pai,c=d.indexOf(n);No(n),No(r),d.removeFilho(n),d.removeFilho(r),d.addFilhoOnPosition(r,c),d.addFilhoOnPosition(n,c+1),n.pai=d,r.pai=d,d.renumeraFilhos();const u=c===0?ct(r)||X(n)&&n.tipo==="Artigo"?d.pai:d:Pe(r),a=new Je;return a.setReferencia(ee(rn(u,r))),a.add(j.ElementoIncluido,oo(r,[]).concat(oo(n,[])).map(l=>(l.mensagens=Se(l),ee(l)))),a.add(j.ElementoRemovido,s),a.add(j.ElementoRenumerado,p.map(l=>ee(l))),a.add(j.ElementoMarcado,[ee(n),i.atual]),a.add(j.ElementoSelecionado,[ee(n)]),{articulacao:t.articulacao,modo:t.modo,past:lt(t,a.build()),present:a.build(),future:[],ui:{events:a.build()}}})(o,e);case"Mover para cima":return((t,i)=>{var n;const r=Oe(t.articulacao,i.atual,!0);if(r===void 0)return t.ui=[],t;if(!Mi(r,du))return Bt(t,{tipo:te.ERROR,descricao:"N\xE3o \xE9 poss\xEDvel excluir um dispositivo original mas apenas suprimi-lo."});const s=zo(r);if(s===void 0)return t;const p=[...st(s),...st(r)],d=vi(r),c=r.pai,u=c.indexOf(s);No(s),No(r),c.removeFilho(s),c.removeFilho(r),c.addFilhoOnPosition(r,u),c.addFilhoOnPosition(s,u+1),r.pai=c,s.pai=c,c.renumeraFilhos();const a=u===0?((n=r.pai)===null||n===void 0?void 0:n.tipo)===R.caput.tipo||X(r)&&r.tipo==="Artigo"?c.pai:c:Pe(r),l=new Je;return l.setReferencia(ee(rn(a,r))),l.add(j.ElementoIncluido,oo(r,[]).concat(oo(s,[])).map(h=>(h.mensagens=Se(h),ee(h)))),l.add(j.ElementoRemovido,p),l.add(j.ElementoRenumerado,d.map(h=>ee(h))),l.add(j.ElementoMarcado,[ee(r),i.atual]),l.add(j.ElementoSelecionado,[ee(r)]),{articulacao:t.articulacao,modo:t.modo,past:lt(t,l.build()),present:l.build(),future:[],ui:{events:l.build()}}})(o,e);case"RENUMERAR_ELEMENTO":return((t,i)=>{var n;const r=Oe(t.articulacao,i.atual,!0);if(r===void 0)return t.ui=[],t;if(!Mi(r,Gn))return Bt(t,{tipo:te.INFO,descricao:"Nessa situa\xE7\xE3o, n\xE3o \xE9 poss\xEDvel renumerar o dispositivo"});const s=lt(t,Rn(r));try{r.createNumeroFromRotulo((n=i.novo)===null||n===void 0?void 0:n.numero)}catch(d){return Bt(t,{tipo:te.ERROR,descricao:"O r\xF3tulo informado \xE9 inv\xE1lido",detalhe:d})}r.createRotulo(r);const p=Cn(r);return{articulacao:t.articulacao,modo:t.modo,past:s,present:p.build(),future:t.future,ui:{events:p.build()}}})(o,e);case"RESTAURAR_ELEMENTO":return vh(o,e);case"SUPRIMIR_ELEMENTO":return gh(o,e);case"ABRIR_ARTICULACAO":return Lp(0,e);case"REDO":return(t=>{var i;if(t.future===void 0||t.future.length===0)return t.ui=[],t;const n=t.future.pop(),r={articulacao:t.articulacao,modo:t.modo,past:lt(t,n),present:[],future:t.future,ui:{events:[]}},s=new Je;s.add(j.ElementoRemovido,Fa(t,Ue(n,j.ElementoRemovido))),s.add(j.ElementoIncluido,Ma(t,Ue(n,j.ElementoIncluido),Ue(s.eventos,j.ElementoIncluido))),s.add(j.ElementoModificado,$a(t,Ue(n,j.ElementoModificado),!0)),s.add(j.ElementoSuprimido,Ua(t,Ue(n,j.ElementoSuprimido),Ue(s.eventos,j.ElementoSuprimido),tn)),s.add(j.ElementoRenumerado,Ba(t,Ue(n,j.ElementoRenumerado))),s.add(j.ElementoValidado,za(t,n));const p=(i=Ue(n,j.ElementoMarcado))===null||i===void 0?void 0:i.elementos;return p&&(s.add(j.ElementoMarcado,p),s.add(j.ElementoSelecionado,[p[0]])),r.ui.events=s.build(),r.present=s.build(),r})(o);case"REMOVER_ELEMENTO":return mh(o,e);case"SHIFT_TAB":case"TAB":return((t,i)=>{const n=Oe(t.articulacao,i.atual,!0);if(n===void 0)return t.ui=[],t;const r=i.type==="TAB"?n.getAcaoPossivelTab(n):n.getAcaoPossivelShiftTab(n);if(!r)return t.ui=[],t;const s={type:"TRANSFORMAR_TIPO_ELEMENTO",subType:r.nomeAcao,atual:i.atual,novo:{tipo:r.tipo}};return La(t,s)})(o,e);case"UNDO":return(t=>{var i;if(t.past===void 0||t.past.length===0)return t.ui=[],t;const n=t.past.pop(),r={articulacao:t.articulacao,modo:t.modo,past:t.past,present:[],future:lh(t,n),ui:{events:[]}},s=new Je;s.add(j.ElementoRemovido,Fa(t,Ue(n,j.ElementoIncluido))),s.add(j.ElementoIncluido,Ma(t,Ue(n,j.ElementoRemovido),Ue(s.eventos,j.ElementoIncluido))),s.add(j.ElementoRestaurado,Ua(t,Ue(n,j.ElementoSuprimido),Ue(s.eventos,j.ElementoRestaurado),Zt)),s.add(j.ElementoModificado,$a(t,Ue(n,j.ElementoModificado))),s.add(j.ElementoRenumerado,Ba(t,Ue(n,j.ElementoRenumerado))),s.add(j.ElementoValidado,za(t,n));const p=(i=Ue(n,j.ElementoMarcado))===null||i===void 0?void 0:i.elementos;return p&&(s.add(j.ElementoMarcado,[p[1],p[0]]),s.add(j.ElementoSelecionado,[p[1]])),r.ui.events=s.build(),r.present=s.build(),r})(o);case"VALIDAR_ELEMENTO":return((t,i)=>{const n=Oe(t.articulacao,i.atual,!0);if(n===void 0)return t.ui=[],t;n.mensagens=Se(n);const r=ee(n,!0),s=[{stateType:j.ElementoValidado,elementos:[r]}];return{articulacao:t.articulacao,modo:t.modo,past:t.past,present:t.present,future:t.future,ui:{events:s}}})(o,e);case"VALIDAR_ARTICULACAO":return(t=>{const i=[];oo(t.articulacao,[]).forEach(r=>{const s=Se(r);(s==null?void 0:s.length)>0&&(r.mensagens=s,i.push(ee(r)))});const n=[{stateType:j.ElementoValidado,elementos:i}];return{articulacao:t.articulacao,modo:t.modo,past:t.past,present:t.present,future:t.future,ui:{events:n}}})(o);default:return o}}}),window.__REDUX_DEVTOOLS_EXTENSION__&&window.__REDUX_DEVTOOLS_EXTENSION__());let qr=class extends ps(ye)(pt){constructor(){super(),this.elementos=[],this.tabIndex=-1}createRenderRoot(){return this}render(){return He`
      <style>
        lexml-eta-editor {
          display: block;
          height: 100%;
        }

        lexml-eta-editor:focus {
          outline: 0;
          border: 0px solid #f1f1f1;
          -webkit-box-shadow: 0px;
          box-shadow: none;
        }
      </style>
      <lexml-eta-editor></lexml-eta-editor>
    `}};Le([Et({type:Array})],qr.prototype,"elementos",void 0),qr=Le([Xt("lexml-eta-articulacao")],qr);/**
 * @license
 * Copyright 2017 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */const bh=2;/**
 * @license
 * Copyright 2017 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */class Qr extends class{constructor(e){}get _$AU(){return this._$AM._$AU}_$AT(e,t,i){this._$Ct=e,this._$AM=t,this._$Ci=i}_$AS(e,t){return this.update(e,t)}update(e,t){return this.render(...t)}}{constructor(e){if(super(e),this.it=Re,e.type!==bh)throw Error(this.constructor.directiveName+"() can only be used in child bindings")}render(e){if(e===Re||e==null)return this.ft=void 0,this.it=e;if(e===Fo)return e;if(typeof e!="string")throw Error(this.constructor.directiveName+"() called with a non-string value");if(e===this.it)return this.ft;this.it=e;const t=[e];return t.raw=t,this.ft={_$litType$:this.constructor.resultType,strings:t,values:[]}}}Qr.directiveName="unsafeHTML",Qr.resultType=1;const yh=(o=>(...e)=>({_$litDirective$:o,values:e}))(Qr);let Ir=class extends pt{update(o){super.update(o)}buildTemplateComando(o){const e=o==null?void 0:o.reduce((t,i)=>t+`<p> ${i.cabecalho} </p>`,"");return He`${e}`}buildTemplateCitacao(o){return o.replaceAll("<Rotulo>","<b>").replaceAll("</Rotulo>","</b> ").replaceAll("<Alteracao>",'<div class="alteracao">').replaceAll("</Alteracao>","</div> ").replaceAll("<Omissis/>"," ..........................................................")}render(){var o,e,t;const i=(o=this.emenda)===null||o===void 0?void 0:o.comandos;return He`
      <style>
        .lexml-emenda-comando {
          display: block;
          border: 1px solid #ccc;
          height: 100%;
          padding: 0 10px;
          margin: 0px 5px;
          font-size: 14px;
        }

        .lexml-emenda-comando:focus {
          outline: 0;
          border: 0px solid #f1f1f1;
          -webkit-box-shadow: 0px;
          box-shadow: none;
        }

        .lexml-emenda-tituloComando {
          margin: 3px 10px;
          text-align: center;
          font-weight: bold;
        }

        .lexml-emenda-cabecalhoComando {
          display: block;
          margin-top: 1em;
          text-align: justify;
          text-indent: 3em;
        }

        .lexml-emenda-citacaoComando {
          display: block;
          margin-top: 1em;
        }

        .lexml-emenda-citacaoComando p {
          text-align: justify;
          text-indent: 3em;
          margin: 0;
        }

        .lexml-emenda-citacaoComando div.alteracao {
          margin-left: 4em;
        }

        .lexml-emenda-citacaoComando div.alteracao p {
          text-indent: 2em;
        }
      </style>

      <div class="lexml-emenda-comando">
        <p class="lexml-emenda-tituloComando">Comando de emenda</p>
        <p>${(t=(e=this.emenda)===null||e===void 0?void 0:e.comandoEmenda)===null||t===void 0?void 0:t.cabecalhoComum}</p>

        ${i==null?void 0:i.map(n=>He`
            ${yh('<div class="lexml-emenda-cabecalhoComando">'+n.cabecalho+'</div><div class="lexml-emenda-citacaoComando">'+this.buildTemplateCitacao(n.citacao)+"</div>")}
          `)}
      </div>
    `}};Le([Et({type:Object})],Ir.prototype,"emenda",void 0),Ir=Le([Xt("lexml-emenda-comando")],Ir);class Va extends class{}{constructor(){super(...arguments),this.nivel=0,this.rotulo="",this.agrupador=!1,this.editavel=!0,this.sendoEditado=!1,this.index=0}}const Jo=(o,e)=>new ie(R[e.toLowerCase()],"Transformar "+o.tipo+"em "+R[e.toLowerCase()].name,"transformar"+o.tipo+"Em"+R[e.toLowerCase()].name).execute(o),xh=Quill.import("blots/block");class Yt extends xh{get linha(){return this.parent.parent.parent}get tamanho(){return this.length()-1}get tagName(){return this.domNode.tagName}get html(){return this.domNode.innerHTML!=="<br>"?this.domNode.innerHTML.replace("&nbsp;",""):""}set html(e){this.domNode.innerHTML=e}constructor(e){super(e)}}var sn;(function(o){o[o.Esquerda=0]="Esquerda",o[o.Direita=1]="Direita"})(sn||(sn={}));class Ht extends Yt{constructor(){super(Ht.create())}static create(){const e=super.create();return e.setAttribute("contenteditable","false"),e.setAttribute("class",Ht.className),e}}Ht.blotName="blotMenu",Ht.tagName="DIV",Ht.className="lx-eta-dropdown";class uo extends Yt{constructor(){super(uo.create())}static create(){const e=super.create();return e.setAttribute("contenteditable","false"),e.setAttribute("class",uo.className),e.innerHTML="&vellip;",e}}uo.blotName="blotMenuBotao",uo.tagName="DIV",uo.className="lx-eta-dropbtn";class co extends Yt{constructor(e){super(co.create(e))}static create(e){const t=super.create(),i=e===sn.Esquerda?"":" lx-eta-dropdown-content-right";return t.setAttribute("contenteditable","false"),t.setAttribute("class",co.className+i),t}}co.blotName="blotMenuConteudo",co.tagName="DIV",co.className="lx-eta-dropdown-content";class po extends Yt{constructor(e,t){super(po.create(e,t))}static create(e,t){var i;const n=super.create();return n.setAttribute("contenteditable","false"),n.setAttribute("class",po.className),n.innerHTML=(i=e.descricao)!==null&&i!==void 0?i:"",n.addEventListener("mousedown",()=>{var r;if(e.descricao==ms.descricao){const s=(r=document.getSelection())===null||r===void 0?void 0:r.focusOffset;localStorage.setItem("indexCursor",JSON.stringify(s))}t(e.descricao)}),n}}po.blotName="blotMenuItem",po.tagName="DIV",po.className="lx-eta-dropdown-content-item";class We extends Yt{constructor(e){super(We.create(e))}static create(e){const t=super.create();return t.setAttribute("contenteditable","false"),t.setAttribute("class",We.getClasseCSS(e.agrupador)),t.setAttribute("data-rotulo",e.rotulo),t.innerHTML="",t}get rotulo(){return this.domNode.getAttribute("data-rotulo")}format(e,t){e===We.blotName?this.domNode.setAttribute("data-rotulo",t):e===We.formatoStyle?this.domNode.setAttribute("style",We.criarAtributoStyle(t)):super.format(e,t)}static criarAtributoStyle(e){let t=e.tipo==="Articulacao"?"color: #373634; font-weight: 600; line-height: 0.42;":"color: #373634; font-weight: 600; line-height: 1.42;";return t=e.agrupador?`${t} display: block; font-size: 1rem; text-align: center;`:`${t} float: left; margin-right: 10px;`,t}static getClasseCSS(e){return"texto__rotulo"+(e?" texto__rotulo--agrupador":" texto__rotulo--padrao")}}We.blotName="rotulo",We.tagName="LABEL",We.formatoStyle="STYLE";class Ot extends Yt{constructor(){super(Ot.create())}static create(){const e=super.create();return e.setAttribute("contenteditable","false"),e.innerHTML="&nbsp;",e}}Ot.blotName="espaco",Ot.tagName="ESPACO",Ot.className="espaco";const Eh=Quill.import("blots/container");class Qe extends Eh{constructor(e){var t,i,n,r,s;super(Qe.create(e)),this._lexmlId=(t=e.lexmlId)!==null&&t!==void 0?t:"",this._editavel=e.editavel,this._nivel=e.nivel,this._numero=(i=e.numero)!==null&&i!==void 0?i:"",this._tipo=(n=e.tipo)!==null&&n!==void 0?n:"",this._agrupador=e.agrupador,this._hierarquia=!((s=(r=e.hierarquia)===null||r===void 0?void 0:r.pai)===null||s===void 0)&&s.uuidAlteracao?e.hierarquia:void 0,this._descricaoSituacao=e.descricaoSituacao?e.descricaoSituacao:void 0}static criarId(e){return`lxEtaId${e!=null?e:0}`}static create(e){const t=super.create();return t.setAttribute("contenteditable",e!=null&&e.editavel?"true":"false"),t.setAttribute("class",Qe.className+" "+Qe.getClasseCSS(e)),t.setAttribute("id",Qe.criarId(e.uuid)),t.setAttribute("cellpadding","0"),t.setAttribute("cellspacing","0"),t.setAttribute("border","0"),t}get blotRotulo(){var e,t;return(t=(e=this.children.head)===null||e===void 0?void 0:e.children)===null||t===void 0?void 0:t.head.children.head}get blotConteudo(){var e;return(e=this.blotRotulo)===null||e===void 0?void 0:e.next}get containerDireito(){return this.children.head.children.tail}get blotContainerDireito(){return this.containerDireito.children.head}get tamanho(){return this.length()-1}get id(){var e;return(e=this.domNode.getAttribute("id"))!==null&&e!==void 0?e:""}set agrupador(e){this._agrupador=e}get agrupador(){return this._agrupador}set editavel(e){this._editavel=e,this.blotConteudo.domNode.contentEditable=this._editavel}get editavel(){return this._editavel}set hierarquia(e){this._hierarquia=e}get hierarquia(){return this._hierarquia}set nivel(e){this._nivel=e}get nivel(){return this._nivel}set numero(e){this._numero=e}get numero(){return this._numero}set tipo(e){this._tipo=e}get tipo(){return this._tipo}set descricaoSituacao(e){this._descricaoSituacao=e}get descricaoSituacao(){return this._descricaoSituacao}get uuid(){return parseInt(this.id.substr(7),0)}set lexmlId(e){this._lexmlId=e}get lexmlId(){var e;return(e=this._lexmlId)!==null&&e!==void 0?e:""}get html(){return this.domNode.innerHTML!=="<br>"?this.domNode.innerHTML:""}set html(e){this.domNode.innerHTML=e}setEstilo(e){let t="",i="texto__dispositivo";switch(e){case G.DISPOSITIVO_ADICIONADO:t="dispositivo--adicionado";break;case G.DISPOSITIVO_MODIFICADO:t="dispositivo--modificado";break;case G.DISPOSITIVO_SUPRIMIDO:t="dispositivo--suprimido",i="texto--suprimido"}this.blotRotulo.domNode.setAttribute("class",`${We.getClasseCSS(this._agrupador)} ${t}`),this.blotConteudo.domNode.setAttribute("class",`${t} ${i}`)}format(e,t){e===Qe.blotName?this.domNode.setAttribute("style",Qe.criarAtributoStyle(t)):super.format(e,t)}ativarBorda(){this.domNode.classList.add("container__elemento--ativo")}desativarBorda(){this.domNode.classList.remove("container__elemento--ativo"),this.limparContainerDireito()}limparContainerDireito(){this.blotContainerDireito.tagName!==Ot.tagName&&(this.blotContainerDireito.remove(),new Ot().insertInto(this.containerDireito))}static criarAtributoStyle(e){let t=e.tipo==="Articulacao"?"width: 100%; min-height: 1px; line-height: 0.42; margin: 1px":"width: 100%; min-height: 26px; border: 1px solid #ffffff; line-height: 1.42; margin: 0px 2px 0px 5px !important;";return e.agrupador&&(t=`${t} text-align: center;`),t}static getClasseCSS(e){let t=e.tipo==="Articulacao"?"container__elemento--articulacao":"container__elemento--padrao";return e.agrupador&&(t=`${t} agrupador`),t}}function Ie(o){o.stopPropagation(),o.preventDefault()}Qe.blotName="containerTable",Qe.tagName="DIV",Qe.className="container__elemento";class wh{constructor(e,t){this.callback=e,this.canceled=t}isCanceled(){var e;return(e=this.canceled)!==null&&e!==void 0&&e}cancel(){this.canceled=!0}}class bt{constructor(){this.subscriptions=[]}subscribe(e){const t=new wh(e);return this.subscriptions.push(t),t}notify(e){this.subscriptions.forEach(t=>{t.isCanceled()||setTimeout(()=>{t.callback(e)},1)})}clean(){this.subscriptions=[]}}const Oh=/([a-zA-Z0-9 '!@#$%&*()_\-+=`'{[^~}\]<,>.:;?/|\\])/i,Ah=/([^a-zA-Z0-9 '!@#$%&*()_\-+=`'{[^~}\]<,>.:;?/|\\])/gi,ac=Quill.import("modules/keyboard");class _h extends ac{constructor(e,t){super(e,t),this.operacaoTecladoInvalida=new bt,this.adicionaElementoTeclaEnter=new bt,this.removeElemento=new bt,this.renumeraElemento=new bt,this.transformaElemento=new bt,this.moveElemento=new bt,this.onChange=new bt,this.altGraphPressionado=!1}listen(){this.quill.root.addEventListener("keyup",e=>{e.key==="AltGraph"&&(this.altGraphPressionado=!1),!e.ctrlKey||e.altKey||e.shiftKey||!"biBI".includes(e.key)?this.quill.cursorDeTextoEstaSobreLink()||e.key==="Backspace"&&this.quill.cursorDeTextoEstaSobreLink(-1)||!this.isTeclaQueAlteraTexto(e)||this.onChange.notify("keyboard"):this.onHotKeyToolbar()}),this.quill.root.addEventListener("keypress",e=>{this.quill.cursorDeTextoEstaSobreLink()&&e.key.length===1&&Ie(e)}),this.quill.root.addEventListener("keydown",e=>{if(e.key==="AltGraph"&&(this.altGraphPressionado=!0),this.quill.cursorDeTextoEstaSobreLink()||e.key==="Backspace"&&this.quill.cursorDeTextoEstaSobreLink(-1)){if(["Delete","Backspace"].includes(e.key)||!e.ctrlKey&&e.key.length===1||e.ctrlKey&&"xvXV".includes(e.key)||e.altKey&&"0123456789".includes(e.key))return void Ie(e)}else e.ctrlKey?(e.altKey||e.metaKey||(e.key==="Home"?this.onTeclaHome(e):e.key==="End"?this.onTeclaEnd(e):e.key==="ArrowUp"||e.key==="ArrowDown"?this.onHotKeyMover(e):e.key.toLowerCase()!=="a"||e.shiftKey?e.key.toLowerCase()==="d"?this.onTeclaCtrlD(e):e.key.toLowerCase()==="z"?this.onTeclaCtrlZ(e):e.key.toLowerCase()==="y"?this.onTeclaCtrlY(e):e.ctrlKey&&e.shiftKey&&e.key.toLowerCase()==="a"?this.onTeclaCtrlShiftA(e):e.key!=="b"&&e.key!=="i"&&e.key!=="x"&&e.key!=="v"||this.onValidarTecla(e):this.onTeclaCtrlA(e)),(e.altKey||e.metaKey)&&(["a","l","n","o","p","t"].includes(e.key.toLowerCase())?this.onHotKeyTransformacaoTipo(e):e.key.toLowerCase()==="r"&&this.onHotKeyRenumeraDispositivo(e))):e.key==="ArrowRight"?this.onTeclaArrowRight(e):e.key==="ArrowLeft"?this.onTeclaArrowLeft(e):e.key==="ArrowDown"||e.key==="ArrowUp"?this.onTeclaArrowDownOuUp(e):e.key==="Enter"?this.onTeclaEnter(e):e.key==="Escape"?this.onTeclaEscape(e):e.key==="Delete"?this.onTeclaDelete(e):e.key==="Backspace"?this.onTeclaBackspace(e):e.key==="Tab"?this.onTeclaTab(e):e.key.length===1&&Oh.test(e.key)&&this.onValidarTecla(e)}),super.listen()}isTeclaComCaracterGrafico(e){return e.location!==3&&"123456=[]/".includes(e.key)}isTeclaQueAlteraTexto(e){return!(e.ctrlKey||e.altKey||e.metaKey)&&!(this.altGraphPressionado&&!this.isTeclaComCaracterGrafico(e))&&!(!["Delete","Backspace"].includes(e.key)&&e.key.length!==1)}verificarOperacaoTecladoPermitida(){const e=this.quill.textoSelecionado;if(e.conteudo&&e.quantidadeCR>0){if(e.quantidadeCR===1&&/\n$/gi.test(e.conteudo)){const t=this.quill.getSelection(!0);return this.quill.setSelection(t.index,t.length-1,Quill.sources.API),!0}return this.operacaoTecladoInvalida.notify(),!1}return!0}onTeclaArrowRight(e){const t=this.quill.getSelection(!0),[i,n]=this.quill.getLine(t.index);n===i.tamanho&&(i.linha.next&&this.quill.setIndex(this.quill.getIndex(i.linha.next.blotConteudo),Quill.sources.USER),Ie(e))}onTeclaArrowLeft(e){const t=this.quill.getSelection(!0),[i,n]=this.quill.getLine(t.index);if(n===0){if(i.linha.prev){const r=i.linha.prev,s=this.quill.getIndex(r.blotConteudo)+r.blotConteudo.tamanho;this.quill.setIndex(s,Quill.sources.USER)}Ie(e)}}onTeclaArrowDownOuUp(e){this.quill.isProcessandoMudancaLinha&&Ie(e)}onTeclaEnter(e){if(this.verificarOperacaoTecladoPermitida()){const t=this.quill.getSelection(!0);this.quill.setSelection(t.index,0,Quill.sources.SILENT),this.adicionaElementoTeclaEnter.notify(t)}Ie(e)}onTeclaEscape(e){const t=this.quill.getSelection(!0);this.quill.setIndex(t.index,Quill.sources.SILENT),this.quill.setSelection(this.quill.inicioConteudoAtual,0,Quill.sources.SILENT),Ie(e)}onTeclaDelete(e){const t=this.quill.getSelection(!0);this.verificarOperacaoTecladoPermitida()&&t.index!==this.quill.fimConteudoAtual||Ie(e)}onTeclaBackspace(e){const t=this.quill.getSelection(!0);(!this.verificarOperacaoTecladoPermitida()||t.index===this.quill.inicioConteudoAtual&&t.length===0)&&Ie(e)}onValidarTecla(e){this.verificarOperacaoTecladoPermitida()||Ie(e)}onTeclaHome(e){const t=this.quill.getIndex(this.quill.getPrimeiraLinha().blotConteudo);this.quill.setIndex(t,Quill.sources.USER),this.quill.scroll.domNode.scrollTo(0,0),Ie(e)}onTeclaEnd(e){var t,i;const n=(i=this.quill.getIndex(this.quill.getUltimaLinha().blotConteudo)+((t=this.quill.getUltimaLinha().blotConteudo)===null||t===void 0?void 0:t.tamanho))!==null&&i!==void 0?i:0;this.quill.setIndex(n,Quill.sources.USER),this.quill.scroll.domNode.scrollTo(0,this.quill.scroll.domNode.scrollHeight),Ie(e)}onTeclaCtrlD(e){this.removeElemento.notify(),Ie(e)}onTeclaTab(e){this.transformaElemento.notify(e),Ie(e)}onTeclaCtrlZ(e){this.quill.undo(),Ie(e)}onTeclaCtrlY(e){this.quill.redo(),Ie(e)}onTeclaCtrlA(e){const t=this.quill.getIndex(this.quill.scroll.children.head.blotConteudo);this.quill.setSelection(t,this.quill.getLength(),Quill.sources.SILENT),Ie(e)}onTeclaCtrlShiftA(e){this.quill.setSelection(this.quill.inicioConteudoAtual,this.quill.linhaAtual.blotConteudo.tamanho,Quill.sources.SILENT),Ie(e)}onHotKeyRenumeraDispositivo(e){this.renumeraElemento.notify(e),Ie(e)}onHotKeyMover(e){this.moveElemento.notify(e),Ie(e)}onHotKeyTransformacaoTipo(e){this.transformaElemento.notify(e),Ie(e)}onHotKeyToolbar(){var e;!((e=document.getSelection())===null||e===void 0)&&e.toString()&&this.onChange.notify("toolbar(hotkey)")}}class Do extends Yt{constructor(e){super(Do.create(e)),this._htmlAnt=""}static create(e){var t,i;const n=super.create(),r=((i=(t=e.conteudo)===null||t===void 0?void 0:t.texto)!==null&&i!==void 0?i:"").trim();return n.setAttribute("contenteditable",e!=null&&e.editavel?"true":"false"),n.innerHTML=r!==""?r:"<br>",n}set htmlAnt(e){this._htmlAnt=e}get htmlAnt(){return this._htmlAnt}get alterado(){return this._htmlAnt!==this.html}}Do.blotName="texto",Do.tagName="P",Do.className="texto__dispositivo";class Lo extends Yt{constructor(e){super(Lo.create(e))}static create(e){const t=super.create();let i="";return i=e.tipo===te.INFO?"mensagem--info":e.tipo===te.WARNING?"mensagem--warning":"mensagem--danger",t.setAttribute("contenteditable","false"),t.classList.add(i),t.innerHTML=e.descricao?"- "+e.descricao:"",t}}Lo.blotName="mensagem",Lo.tagName="div",Lo.className="mensagem";class gi extends Yt{constructor(){super(gi.create())}static create(){const e=super.create();return e.setAttribute("contenteditable","false"),e.setAttribute("style","font-size: 0.8em;"),e}}gi.blotName="mensagens",gi.tagName="MENSAGENS";const qh=Quill.import("modules/clipboard");class Ih extends qh{constructor(e,t){super(e,t),this.onChange=new bt,this.quill.root.addEventListener("cut",i=>{var n;if(this.quill.cursorDeTextoEstaSobreLink())return void Ie(i);!((n=document.getSelection())===null||n===void 0)&&n.toString()&&this.onChange.notify("clipboard")}),this.quill.root.addEventListener("paste",i=>{var n;if(this.quill.cursorDeTextoEstaSobreLink())return void Ie(i);!((n=i.clipboardData)===null||n===void 0)&&n.getData("text/plain")&&this.onChange.notify("clipboard")})}convert(e){if(typeof e=="string")return this.container.innerHTML=e,super.convert();this.container.innerHTML=this.container.innerHTML.replace(Ah,""),this.container.innerHTML=this.container.innerHTML.replace(/(<p\s*)/gi," <p"),this.container.innerHTML=this.container.innerHTML.replace(/(<br\s*\/>)/gi," "),this.container.innerHTML=this.container.innerHTML.replace(/<(?!strong)(?!\/strong)(?!em)(?!\/em)(?!sub)(?!\/sub)(?!sup)(?!\/sup)(.*?)>/gi,""),this.container.innerHTML=this.container.innerHTML.replace(/<([a-z]+) .*?=".*?( *\/?>)/gi,"<$1$2");const t=super.convert();return this.container.innerHTML="",t}}const Sh=Quill.import("blots/container");class Kt extends Sh{constructor(e){super(Kt.create()),this.alinhamentoMenu=e}static create(){const e=super.create();return e.setAttribute("contenteditable","false"),e.setAttribute("class",Kt.className),e}}Kt.blotName="containerTdDireito",Kt.tagName="DIV",Kt.className="container__menu";const kh=Quill.import("blots/container");class It extends kh{constructor(e){super(It.create(e))}static create(e){const t=super.create();t.setAttribute("contenteditable",e.editavel?"true":"false"),t.setAttribute("class",It.className+" container__texto--nivel"+e.nivel);const i=Number(getComputedStyle(document.documentElement).getPropertyValue("--elemento-padding-factor"));if(i){const n=(e.agrupador?0:e.nivel)*i+5;t.setAttribute("style",`padding-left: ${n}px;`)}return t}}It.blotName="containerTdEsquerdo",It.tagName="DIV",It.className="container__texto",It.classLevel="level";const Nh=Quill.import("blots/container");class Gt extends Nh{constructor(e,t){super(Gt.create(e,t))}static create(e,t){const i=super.create(),n=t===sn.Esquerda?" container__linha--reverse":"";return i.setAttribute("contenteditable",e?"true":"false"),i.setAttribute("class",Gt.className+n),i}}Gt.blotName="containerTr",Gt.tagName="DIV",Gt.className="container__linha";class Ph extends Quill{constructor(e,t){super(e,t)}getConteudoHtml(e,t,i){const n=this.scroll.children.head;return this.setConteudo(this.converterHtmlParaDelta(e),Quill.sources.SILENT),this.deleteText(t+i,n.length()-i-1,Quill.sources.SILENT),t>0&&this.deleteText(0,t,Quill.sources.SILENT),n.domNode.innerHTML}converterHtmlParaDelta(e){return this.clipboard.convert(e!=null?e:"")}converterDeltaParaHtml(e){return this.setConteudo(e,Quill.sources.SILENT),this.scroll.children.head.domNode.innerHTML}setConteudo(e,t){var i;const n=this.scroll.children.head;let r=0;n.length()>1&&this.deleteText(r,n.length()-1,t!=null?t:Quill.sources.SILENT),this.insertText(r," ",Quill.sources.SILENT),(i=e.ops)===null||i===void 0||i.forEach(s=>{s.attributes?this.insertText(r,s.insert,s.attributes,t!=null?t:Quill.sources.SILENT):this.insertText(r,s.insert,t!=null?t:Quill.sources.SILENT),r+=s.insert.length}),this.deleteText(r,1,Quill.sources.SILENT)}}class be extends Quill{constructor(e,t,i){super(e,i),this._undoEstruturaVazio=!0,this._redoEstruturaVazio=!0,this._processandoMudancaLinha=!1,this.undoRedoEstrutura=new bt,this.elementoSelecionado=new bt,this.aspasAberta=!1,this.observableSelectionChange=new bt,this.onSelectionChange=(n,r)=>{const s=this.linhaAtual;this._mudouDeLinha=this.verificarMudouLinha(n,r),this._mudouDeLinha&&(this.observableSelectionChange.notify(s),this.aspasAberta=!1,this.limparHistory())},this.onTextChange=()=>{this._linhaAtual&&setTimeout(()=>{this.acertarAspas()},0)},this.on("text-change",this.onTextChange),this.on("selection-change",this.onSelectionChange),this.buffer=new Ph(t,{}),this.root.addEventListener("dragstart",n=>{n.preventDefault()}),this.root.addEventListener("drop",n=>{n.preventDefault()})}get mudouDeLinha(){var e;return(e=this._mudouDeLinha)!==null&&e!==void 0&&e}get linhaAnterior(){return this._linhaAnterior}get linhaAtual(){return this._linhaAtual}get inicioConteudoAtual(){return this.getIndex(this.linhaAtual.blotConteudo)}get fimConteudoAtual(){return this.inicioConteudoAtual+this.linhaAtual.blotConteudo.tamanho}get textoSelecionado(){var e,t,i;const n=(e=this.getSelection(!0))!==null&&e!==void 0?e:{index:0,length:0},r=this.getText().substr(n.index,n.length);return{conteudo:r,quantidadeCR:(i=(t=r.match(/(\n)/gi))===null||t===void 0?void 0:t.length)!==null&&i!==void 0?i:0}}get isUndoEstruturaVazio(){return this._undoEstruturaVazio}set undoEstruturaVazio(e){this._undoEstruturaVazio=e}get isRedoEstruturaVazio(){return this._redoEstruturaVazio}set redoEstruturaVazio(e){this._redoEstruturaVazio=e}get isProcessandoMudancaLinha(){return this._processandoMudancaLinha}set processandoMudancaLinha(e){this._processandoMudancaLinha=e}static configurar(){const e=be.import("parchment"),t=new e.Attributor.Attribute("id","id",{scope:e.Scope.BLOCK}),i=new e.Attributor.Style("paddingLeft","padding-left",{scope:e.Scope.BLOCK}),n=new e.Attributor.Style("border","border",{scope:e.Scope.BLOCK}),r=new e.Attributor.Style("borderColor","border-color",{scope:e.Scope.BLOCK}),s=new e.Attributor.Style("display","display",{scope:e.Scope.BLOCK}),p=new e.Attributor.Style("aria-label","aria-label",{scope:e.Scope.BLOCK}),d=new e.Attributor.Attribute("dataRotulo","data-rotulo",{scope:e.Scope.BLOCK});be.register("modules/clipboard",Ih,!0),be.register("modules/keyboard",_h,!0),be.register(Do,!0),be.register(Ot,!0),be.register(Lo,!0),be.register(gi,!0),be.register(uo,!0),be.register(co,!0),be.register(po,!0),be.register(Ht,!0),be.register(We,!0),be.register(Qe,!0),be.register(It,!0),be.register(Kt,!0),be.register(Gt,!0),be.register(t,!0),be.register(i,!0),be.register(n,!0),be.register(r,!0),be.register(s,!0),be.register(p,!0),be.register(d,!0)}destroi(){var e,t;this.off("text-change",this.onTextChange),this.off("selection-change",this.onSelectionChange),(e=this.keyboard)===null||e===void 0||e.operacaoTecladoInvalida.clean(),(t=this.keyboard)===null||t===void 0||t.adicionaElementoTeclaEnter.clean()}getConteudoHtmlParteLinha(e,t,i){return this.buffer.getConteudoHtml(e.html,t,i)}getPrimeiraLinha(){return this.scroll.children.head}getUltimaLinha(){return this.scroll.children.tail}getLinha(e,t=this.getPrimeiraLinha()){return t.uuid===e?t:t.next?this.getLinha(e,t.next):void 0}getLinhaPorId(e){return Quill.find(this.getHtmlElement(Qe.criarId(e)),!1)}setIndex(e,t=Quill.sources.USER){var i;const n=(i=this.getSelection(!0))!==null&&i!==void 0?i:{index:0,length:0};e===n.index&&n.length===0||this.setSelection(e,0,t)}setConteudoLinha(e,t,i){var n;let r=this.getIndex(e);e.length()>1&&this.deleteText(r,e.length()-1,i!=null?i:Quill.sources.SILENT),this.insertText(r," ",Quill.sources.SILENT),(n=t.ops)===null||n===void 0||n.forEach(s=>{s.attributes?this.insertText(r,s.insert,s.attributes,i!=null?i:Quill.sources.SILENT):this.insertText(r,s.insert,i!=null?i:Quill.sources.SILENT),r+=s.insert.length}),this.deleteText(r,1,Quill.sources.SILENT)}converterHtmlParaDelta(e){return this.buffer.converterHtmlParaDelta(e)}converterDeltaParaHtml(e){return this.buffer.converterDeltaParaHtml(e)}irProximaLinha(){var e;const t=this.getIndex((e=this._linhaAtual)===null||e===void 0?void 0:e.next.blotConteudo);this.setSelection(t,0)}desmarcarLinhaAtual(e){this._linhaAnterior=e,e==null||e.desativarBorda()}marcarLinhaAtual(e){e.tipo!=="Articulacao"&&(this.atualizarLinhaCorrente(e),this.elementoSelecionado.notify(e.uuid))}undo(){this.history.stack.undo.length===0?this.isUndoEstruturaVazio||this.undoRedoEstrutura.notify(be.UNDO):(this.history.undo(),this.focus())}redo(){this.history.stack.redo.length===0?this.isRedoEstruturaVazio||this.undoRedoEstrutura.notify(be.REDO):(this.history.redo(),this.focus())}limparHistory(){setTimeout(()=>{this.history.clear()},0)}verificarMudouLinha(e,t){if(t&&(e==null?void 0:e.index)===0&&(e==null?void 0:e.length)===0)return this.setSelection(t.index,0),!1;if(e){const i=this.getLine(e.index)[0],n=i.linha;if(i.tagName!==We.tagName&&i.tagName!==Ot.tagName&&i.tagName!==Ht.tagName&&i.tagName!==gi.tagName||this.setSelection(this.getIndex(i.linha.blotConteudo),0,Quill.sources.SILENT),t){const r=this.getLine(t.index)[0];if(r){const s=r.linha;if(n===s)return!1;this.desmarcarLinhaAtual(s)}}return this.marcarLinhaAtual(n),!0}return!1}getHtmlElement(e){return this.root.querySelector(`#${e}`)}acertarAspas(){var e,t;if(this._linhaAtual){const i=this.inicioConteudoAtual,n=(t=this.getText(i,(e=this.linhaAtual)===null||e===void 0?void 0:e.blotConteudo.tamanho))!==null&&t!==void 0?t:"";let r=i;if(n.indexOf('"')>-1)for(let s=0;s<n.length;s++)n[s]==='"'&&(r+=s,this.deleteText(r,1,Quill.sources.SILENT),this.insertText(r,this.aspasAberta?"\u201D":"\u201C",Quill.sources.SILENT),this.aspasAberta=!this.aspasAberta,r=i)}}atualizarLinhaCorrente(e){this.processandoMudancaLinha=!0,this._linhaAtual=e,this._linhaAtual.blotConteudo.htmlAnt=this._linhaAtual.blotConteudo.html,e.ativarBorda(),this.scrollToElemento(e.uuid)}scrollToElemento(e){const t=this.getHtmlElement(Qe.criarId(e));setTimeout(()=>{this.isInEtaBoxViewport(t)||this.scrollIntoEtaBox(t)},0)}scrollIntoEtaBox(e){var t;const i=e.offsetTop;(t=e.closest(".ql-editor"))===null||t===void 0||t.scrollTo(0,i)}isInEtaBoxViewport(e){const t=e.getBoundingClientRect(),i=e.closest("#lx-eta-box").getBoundingClientRect().bottom;return t.top>=0&&t.bottom<=i}cursorDeTextoEstaSobreLink(e=0){var t;const i=this.getSelection(!0),n=this.getContents(i.index+e,1).ops;return!!n&&((t=n[0].attributes)===null||t===void 0?void 0:t.link)}}be.UNDO="undo",be.REDO="redo";class Ri{static criarContainerLinha(e){const t=new Qe(e),i=new Gt(e.editavel,this.alinhamentoMenu),n=new It(e),r=new Kt(this.alinhamentoMenu);return new We(e).insertInto(n),new Do(e).insertInto(n),new Ot().insertInto(r),n.insertInto(i),r.insertInto(i),i.insertInto(t),t}static criarContainerMensagens(e){const t=new Gt(!1,this.alinhamentoMenu),i=new It(e),n=new Kt(this.alinhamentoMenu);return e.mensagens&&e.mensagens.length>0&&e.mensagens.forEach(r=>{new Lo(r).insertInto(i)}),new Ot().insertInto(n),i.insertInto(t),n.insertInto(t),t}}async function Th(o,e,t,i){var n;const r=document.createElement("elix-dialog"),s=document.createRange().createContextualFragment(`
    <style>
    h1.normaDiv {
      font-size: 1em;
      padding: 0.5em;
      font-weight: bold;
    }
    .normaDiv {
      display: grid;
      grid-template-columns: [labels] auto [controls] 1fr;
      grid-auto-flow: row;
      grid-gap: .8em;
      padding: 0.5em;
    }
    .normaDiv > label  {
      grid-column: labels;
      grid-row: auto;
    }
    .normaDiv > input,
    .normaDiv > select {
      grid-column: controls;
      grid-row: auto;
      padding: 0.5em;
    }
  </style>
  <h1 class="normaDiv">Dados da norma vigente</h1>
  <div name="normaDiv" class="normaDiv">
    <label for="tipoNorma">Tipo </label>
      <select name="tipos" name="tipoNorma" id="tipoNorma">      
      <option value="decreto">Decreto</option>
      <option value="decreto-lei">Decreto-Lei</option>
      <option value="lei" selected>Lei</option>
      <option value="lei.complementar">Lei Complementar</option>
      <option value="lei.delegada">Lei Delegada</option>
      <option value="medida.provisoria">Medida Provis\xF3ria</option>
    </select>    
    <label for="numeroNorma">N\xFAmero </label>
    <input type="text" name="numeroNorma" id="numeroNorma" placeholder="8666 (n\xFAmero sem ponto)">
    <label for="dataNorma">Data</label>
    <input type="text" name="dataNorma" id="dataNorma" placeholder="21/06/1993">

    <div style="margin-top: 10px;">
      <button>Ok</button>
      <button>Cancelar</button>
    </div>
    <div class="erro" style="margin-top: 10px; color: red; display: none;"></div>

  </div>


  `),p=o.norma?(n=yi(o.norma))===null||n===void 0?void 0:n.urn:void 0,d=o.norma?Xn(o.norma):void 0,c=o.norma?ui(o.norma):void 0,u=s.querySelector("#tipoNorma"),a=s.querySelector("#numeroNorma"),l=s.querySelector("#dataNorma");p&&(u.value=p),d&&(a.value=d),c&&(l.value=c);const h=s.querySelectorAll("button"),f=h[0],m=h[1],v=s.querySelector(".erro");f.onclick=()=>{const g=((y,b,x,E)=>{var w;return`urn:lex:br:${y}:${b}:${(w=Qu(E))!==null&&w!==void 0?w:E};${x}`})("federal",u.value,a==null?void 0:a.value,l==null?void 0:l.value);Wu(g)?(e.focus(),r.close(),v.style.display="none",o.norma=g,t.dispatch(i.execute(o))):(v.innerText="Dados inv\xE1lidos",v.style.display="block")},m.onclick=()=>{e.focus(),r.close()},r.appendChild(s),await r.open()}Ri.alinhamentoMenu=sn.Esquerda;const Ch=He`
  <style>
    /*!
    * Quill Editor v1.3.7
    * https://quilljs.com/
    * Copyright (c) 2014, Jason Chen
    * Copyright (c) 2013, salesforce.com
    */
    .ql-container {
      box-sizing: border-box;
      font-family: Helvetica, Arial, sans-serif;
      font-size: 13px;
      height: 100%;
      margin: 0px;
      position: relative;
    }
    .ql-container.ql-disabled .ql-tooltip {
      visibility: hidden;
    }
    .ql-container.ql-disabled .ql-editor ul[data-checked] > li::before {
      pointer-events: none;
    }
    .ql-clipboard {
      left: -100000px;
      height: 1px;
      overflow-y: hidden;
      position: absolute;
      top: 50%;
    }
    .ql-clipboard p {
      margin: 0;
      padding: 0;
    }
    .ql-editor {
      box-sizing: border-box;
      line-height: 1.42;
      height: 100%;
      outline: none;
      overflow-y: auto;
      padding: 12px 15px;
      tab-size: 4;
      -moz-tab-size: 4;
      text-align: left;
      white-space: pre-wrap;
      word-wrap: break-word;
    }
    .ql-editor > * {
      cursor: text;
    }
    .ql-editor p,
    .ql-editor ol,
    .ql-editor ul,
    .ql-editor pre,
    .ql-editor blockquote,
    .ql-editor h1,
    .ql-editor h2,
    .ql-editor h3,
    .ql-editor h4,
    .ql-editor h5,
    .ql-editor h6 {
      margin: 0;
      padding: 0;
      counter-reset: list-1 list-2 list-3 list-4 list-5 list-6 list-7 list-8 list-9;
    }
    .ql-editor ol,
    .ql-editor ul {
      padding-left: 1.5em;
    }
    .ql-editor ol > li,
    .ql-editor ul > li {
      list-style-type: none;
    }
    .ql-editor ul > li::before {
      content: '\\2022';
    }
    .ql-editor ul[data-checked='true'],
    .ql-editor ul[data-checked='false'] {
      pointer-events: none;
    }
    .ql-editor ul[data-checked='true'] > li *,
    .ql-editor ul[data-checked='false'] > li * {
      pointer-events: all;
    }
    .ql-editor ul[data-checked='true'] > li::before,
    .ql-editor ul[data-checked='false'] > li::before {
      color: #777;
      cursor: pointer;
      pointer-events: all;
    }
    .ql-editor ul[data-checked='true'] > li::before {
      content: '\\2611';
    }
    .ql-editor ul[data-checked='false'] > li::before {
      content: '\\2610';
    }
    .ql-editor li::before {
      display: inline-block;
      white-space: nowrap;
      width: 1.2em;
    }
    .ql-editor li:not(.ql-direction-rtl)::before {
      margin-left: -1.5em;
      margin-right: 0.3em;
      text-align: right;
    }
    .ql-editor li.ql-direction-rtl::before {
      margin-left: 0.3em;
      margin-right: -1.5em;
    }
    .ql-editor ol li:not(.ql-direction-rtl),
    .ql-editor ul li:not(.ql-direction-rtl) {
      padding-left: 1.5em;
    }
    .ql-editor ol li.ql-direction-rtl,
    .ql-editor ul li.ql-direction-rtl {
      padding-right: 1.5em;
    }
    .ql-editor ol li {
      counter-reset: list-1 list-2 list-3 list-4 list-5 list-6 list-7 list-8 list-9;
      counter-increment: list-0;
    }
    .ql-editor ol li:before {
      content: counter(list-0, decimal) '. ';
    }
    .ql-editor ol li.ql-indent-1 {
      counter-increment: list-1;
    }
    .ql-editor ol li.ql-indent-1:before {
      content: counter(list-1, lower-alpha) '. ';
    }
    .ql-editor ol li.ql-indent-1 {
      counter-reset: list-2 list-3 list-4 list-5 list-6 list-7 list-8 list-9;
    }
    .ql-editor ol li.ql-indent-2 {
      counter-increment: list-2;
    }
    .ql-editor ol li.ql-indent-2:before {
      content: counter(list-2, lower-roman) '. ';
    }
    .ql-editor ol li.ql-indent-2 {
      counter-reset: list-3 list-4 list-5 list-6 list-7 list-8 list-9;
    }
    .ql-editor ol li.ql-indent-3 {
      counter-increment: list-3;
    }
    .ql-editor ol li.ql-indent-3:before {
      content: counter(list-3, decimal) '. ';
    }
    .ql-editor ol li.ql-indent-3 {
      counter-reset: list-4 list-5 list-6 list-7 list-8 list-9;
    }
    .ql-editor ol li.ql-indent-4 {
      counter-increment: list-4;
    }
    .ql-editor ol li.ql-indent-4:before {
      content: counter(list-4, lower-alpha) '. ';
    }
    .ql-editor ol li.ql-indent-4 {
      counter-reset: list-5 list-6 list-7 list-8 list-9;
    }
    .ql-editor ol li.ql-indent-5 {
      counter-increment: list-5;
    }
    .ql-editor ol li.ql-indent-5:before {
      content: counter(list-5, lower-roman) '. ';
    }
    .ql-editor ol li.ql-indent-5 {
      counter-reset: list-6 list-7 list-8 list-9;
    }
    .ql-editor ol li.ql-indent-6 {
      counter-increment: list-6;
    }
    .ql-editor ol li.ql-indent-6:before {
      content: counter(list-6, decimal) '. ';
    }
    .ql-editor ol li.ql-indent-6 {
      counter-reset: list-7 list-8 list-9;
    }
    .ql-editor ol li.ql-indent-7 {
      counter-increment: list-7;
    }
    .ql-editor ol li.ql-indent-7:before {
      content: counter(list-7, lower-alpha) '. ';
    }
    .ql-editor ol li.ql-indent-7 {
      counter-reset: list-8 list-9;
    }
    .ql-editor ol li.ql-indent-8 {
      counter-increment: list-8;
    }
    .ql-editor ol li.ql-indent-8:before {
      content: counter(list-8, lower-roman) '. ';
    }
    .ql-editor ol li.ql-indent-8 {
      counter-reset: list-9;
    }
    .ql-editor ol li.ql-indent-9 {
      counter-increment: list-9;
    }
    .ql-editor ol li.ql-indent-9:before {
      content: counter(list-9, decimal) '. ';
    }
    .ql-editor .ql-indent-1:not(.ql-direction-rtl) {
      padding-left: 3em;
    }
    .ql-editor li.ql-indent-1:not(.ql-direction-rtl) {
      padding-left: 4.5em;
    }
    .ql-editor .ql-indent-1.ql-direction-rtl.ql-align-right {
      padding-right: 3em;
    }
    .ql-editor li.ql-indent-1.ql-direction-rtl.ql-align-right {
      padding-right: 4.5em;
    }
    .ql-editor .ql-indent-2:not(.ql-direction-rtl) {
      padding-left: 6em;
    }
    .ql-editor li.ql-indent-2:not(.ql-direction-rtl) {
      padding-left: 7.5em;
    }
    .ql-editor .ql-indent-2.ql-direction-rtl.ql-align-right {
      padding-right: 6em;
    }
    .ql-editor li.ql-indent-2.ql-direction-rtl.ql-align-right {
      padding-right: 7.5em;
    }
    .ql-editor .ql-indent-3:not(.ql-direction-rtl) {
      padding-left: 9em;
    }
    .ql-editor li.ql-indent-3:not(.ql-direction-rtl) {
      padding-left: 10.5em;
    }
    .ql-editor .ql-indent-3.ql-direction-rtl.ql-align-right {
      padding-right: 9em;
    }
    .ql-editor li.ql-indent-3.ql-direction-rtl.ql-align-right {
      padding-right: 10.5em;
    }
    .ql-editor .ql-indent-4:not(.ql-direction-rtl) {
      padding-left: 12em;
    }
    .ql-editor li.ql-indent-4:not(.ql-direction-rtl) {
      padding-left: 13.5em;
    }
    .ql-editor .ql-indent-4.ql-direction-rtl.ql-align-right {
      padding-right: 12em;
    }
    .ql-editor li.ql-indent-4.ql-direction-rtl.ql-align-right {
      padding-right: 13.5em;
    }
    .ql-editor .ql-indent-5:not(.ql-direction-rtl) {
      padding-left: 15em;
    }
    .ql-editor li.ql-indent-5:not(.ql-direction-rtl) {
      padding-left: 16.5em;
    }
    .ql-editor .ql-indent-5.ql-direction-rtl.ql-align-right {
      padding-right: 15em;
    }
    .ql-editor li.ql-indent-5.ql-direction-rtl.ql-align-right {
      padding-right: 16.5em;
    }
    .ql-editor .ql-indent-6:not(.ql-direction-rtl) {
      padding-left: 18em;
    }
    .ql-editor li.ql-indent-6:not(.ql-direction-rtl) {
      padding-left: 19.5em;
    }
    .ql-editor .ql-indent-6.ql-direction-rtl.ql-align-right {
      padding-right: 18em;
    }
    .ql-editor li.ql-indent-6.ql-direction-rtl.ql-align-right {
      padding-right: 19.5em;
    }
    .ql-editor .ql-indent-7:not(.ql-direction-rtl) {
      padding-left: 21em;
    }
    .ql-editor li.ql-indent-7:not(.ql-direction-rtl) {
      padding-left: 22.5em;
    }
    .ql-editor .ql-indent-7.ql-direction-rtl.ql-align-right {
      padding-right: 21em;
    }
    .ql-editor li.ql-indent-7.ql-direction-rtl.ql-align-right {
      padding-right: 22.5em;
    }
    .ql-editor .ql-indent-8:not(.ql-direction-rtl) {
      padding-left: 24em;
    }
    .ql-editor li.ql-indent-8:not(.ql-direction-rtl) {
      padding-left: 25.5em;
    }
    .ql-editor .ql-indent-8.ql-direction-rtl.ql-align-right {
      padding-right: 24em;
    }
    .ql-editor li.ql-indent-8.ql-direction-rtl.ql-align-right {
      padding-right: 25.5em;
    }
    .ql-editor .ql-indent-9:not(.ql-direction-rtl) {
      padding-left: 27em;
    }
    .ql-editor li.ql-indent-9:not(.ql-direction-rtl) {
      padding-left: 28.5em;
    }
    .ql-editor .ql-indent-9.ql-direction-rtl.ql-align-right {
      padding-right: 27em;
    }
    .ql-editor li.ql-indent-9.ql-direction-rtl.ql-align-right {
      padding-right: 28.5em;
    }
    .ql-editor .ql-video {
      display: block;
      max-width: 100%;
    }
    .ql-editor .ql-video.ql-align-center {
      margin: 0 auto;
    }
    .ql-editor .ql-video.ql-align-right {
      margin: 0 0 0 auto;
    }
    .ql-editor .ql-bg-black {
      background-color: #000;
    }
    .ql-editor .ql-bg-red {
      background-color: #e60000;
    }
    .ql-editor .ql-bg-orange {
      background-color: #f90;
    }
    .ql-editor .ql-bg-yellow {
      background-color: #ff0;
    }
    .ql-editor .ql-bg-green {
      background-color: #008a00;
    }
    .ql-editor .ql-bg-blue {
      background-color: #06c;
    }
    .ql-editor .ql-bg-purple {
      background-color: #93f;
    }
    .ql-editor .ql-color-white {
      color: #fff;
    }
    .ql-editor .ql-color-red {
      color: #e60000;
    }
    .ql-editor .ql-color-orange {
      color: #f90;
    }
    .ql-editor .ql-color-yellow {
      color: #ff0;
    }
    .ql-editor .ql-color-green {
      color: #008a00;
    }
    .ql-editor .ql-color-blue {
      color: #06c;
    }
    .ql-editor .ql-color-purple {
      color: #93f;
    }
    .ql-editor .ql-font-serif {
      font-family: Georgia, Times New Roman, serif;
    }
    .ql-editor .ql-font-monospace {
      font-family: Monaco, Courier New, monospace;
    }
    .ql-editor .ql-size-small {
      font-size: 0.75em;
    }
    .ql-editor .ql-size-large {
      font-size: 1.5em;
    }
    .ql-editor .ql-size-huge {
      font-size: 2.5em;
    }
    .ql-editor .ql-direction-rtl {
      direction: rtl;
      text-align: inherit;
    }
    .ql-editor .ql-align-center {
      text-align: center;
    }
    .ql-editor .ql-align-justify {
      text-align: justify;
    }
    .ql-editor .ql-align-right {
      text-align: right;
    }
    .ql-editor.ql-blank::before {
      color: rgba(0, 0, 0, 0.6);
      content: attr(data-placeholder);
      font-style: italic;
      left: 15px;
      pointer-events: none;
      position: absolute;
      right: 15px;
    }
    .ql-snow.ql-toolbar:after,
    .ql-snow .ql-toolbar:after {
      clear: both;
      content: '';
      display: table;
    }
    .ql-snow.ql-toolbar button,
    .ql-snow .ql-toolbar button {
      background: none;
      border: none;
      cursor: pointer;
      display: inline-block;
      float: left;
      height: 24px;
      padding: 3px 5px;
      width: 28px;
    }
    .ql-snow.ql-toolbar button svg,
    .ql-snow .ql-toolbar button svg {
      float: left;
      height: 100%;
    }
    .ql-snow.ql-toolbar button:active:hover,
    .ql-snow .ql-toolbar button:active:hover {
      outline: none;
    }
    .ql-snow.ql-toolbar input.ql-image[type='file'],
    .ql-snow .ql-toolbar input.ql-image[type='file'] {
      display: none;
    }
    .ql-snow.ql-toolbar button:hover,
    .ql-snow .ql-toolbar button:hover,
    .ql-snow.ql-toolbar button:focus,
    .ql-snow .ql-toolbar button:focus,
    .ql-snow.ql-toolbar button.ql-active,
    .ql-snow .ql-toolbar button.ql-active,
    .ql-snow.ql-toolbar .ql-picker-label:hover,
    .ql-snow .ql-toolbar .ql-picker-label:hover,
    .ql-snow.ql-toolbar .ql-picker-label.ql-active,
    .ql-snow .ql-toolbar .ql-picker-label.ql-active,
    .ql-snow.ql-toolbar .ql-picker-item:hover,
    .ql-snow .ql-toolbar .ql-picker-item:hover,
    .ql-snow.ql-toolbar .ql-picker-item.ql-selected,
    .ql-snow .ql-toolbar .ql-picker-item.ql-selected {
      color: #06c;
    }
    .ql-snow.ql-toolbar button:hover .ql-fill,
    .ql-snow .ql-toolbar button:hover .ql-fill,
    .ql-snow.ql-toolbar button:focus .ql-fill,
    .ql-snow .ql-toolbar button:focus .ql-fill,
    .ql-snow.ql-toolbar button.ql-active .ql-fill,
    .ql-snow .ql-toolbar button.ql-active .ql-fill,
    .ql-snow.ql-toolbar .ql-picker-label:hover .ql-fill,
    .ql-snow .ql-toolbar .ql-picker-label:hover .ql-fill,
    .ql-snow.ql-toolbar .ql-picker-label.ql-active .ql-fill,
    .ql-snow .ql-toolbar .ql-picker-label.ql-active .ql-fill,
    .ql-snow.ql-toolbar .ql-picker-item:hover .ql-fill,
    .ql-snow .ql-toolbar .ql-picker-item:hover .ql-fill,
    .ql-snow.ql-toolbar .ql-picker-item.ql-selected .ql-fill,
    .ql-snow .ql-toolbar .ql-picker-item.ql-selected .ql-fill,
    .ql-snow.ql-toolbar button:hover .ql-stroke.ql-fill,
    .ql-snow .ql-toolbar button:hover .ql-stroke.ql-fill,
    .ql-snow.ql-toolbar button:focus .ql-stroke.ql-fill,
    .ql-snow .ql-toolbar button:focus .ql-stroke.ql-fill,
    .ql-snow.ql-toolbar button.ql-active .ql-stroke.ql-fill,
    .ql-snow .ql-toolbar button.ql-active .ql-stroke.ql-fill,
    .ql-snow.ql-toolbar .ql-picker-label:hover .ql-stroke.ql-fill,
    .ql-snow .ql-toolbar .ql-picker-label:hover .ql-stroke.ql-fill,
    .ql-snow.ql-toolbar .ql-picker-label.ql-active .ql-stroke.ql-fill,
    .ql-snow .ql-toolbar .ql-picker-label.ql-active .ql-stroke.ql-fill,
    .ql-snow.ql-toolbar .ql-picker-item:hover .ql-stroke.ql-fill,
    .ql-snow .ql-toolbar .ql-picker-item:hover .ql-stroke.ql-fill,
    .ql-snow.ql-toolbar .ql-picker-item.ql-selected .ql-stroke.ql-fill,
    .ql-snow .ql-toolbar .ql-picker-item.ql-selected .ql-stroke.ql-fill {
      fill: #06c;
    }
    .ql-snow.ql-toolbar button:hover .ql-stroke,
    .ql-snow .ql-toolbar button:hover .ql-stroke,
    .ql-snow.ql-toolbar button:focus .ql-stroke,
    .ql-snow .ql-toolbar button:focus .ql-stroke,
    .ql-snow.ql-toolbar button.ql-active .ql-stroke,
    .ql-snow .ql-toolbar button.ql-active .ql-stroke,
    .ql-snow.ql-toolbar .ql-picker-label:hover .ql-stroke,
    .ql-snow .ql-toolbar .ql-picker-label:hover .ql-stroke,
    .ql-snow.ql-toolbar .ql-picker-label.ql-active .ql-stroke,
    .ql-snow .ql-toolbar .ql-picker-label.ql-active .ql-stroke,
    .ql-snow.ql-toolbar .ql-picker-item:hover .ql-stroke,
    .ql-snow .ql-toolbar .ql-picker-item:hover .ql-stroke,
    .ql-snow.ql-toolbar .ql-picker-item.ql-selected .ql-stroke,
    .ql-snow .ql-toolbar .ql-picker-item.ql-selected .ql-stroke,
    .ql-snow.ql-toolbar button:hover .ql-stroke-miter,
    .ql-snow .ql-toolbar button:hover .ql-stroke-miter,
    .ql-snow.ql-toolbar button:focus .ql-stroke-miter,
    .ql-snow .ql-toolbar button:focus .ql-stroke-miter,
    .ql-snow.ql-toolbar button.ql-active .ql-stroke-miter,
    .ql-snow .ql-toolbar button.ql-active .ql-stroke-miter,
    .ql-snow.ql-toolbar .ql-picker-label:hover .ql-stroke-miter,
    .ql-snow .ql-toolbar .ql-picker-label:hover .ql-stroke-miter,
    .ql-snow.ql-toolbar .ql-picker-label.ql-active .ql-stroke-miter,
    .ql-snow .ql-toolbar .ql-picker-label.ql-active .ql-stroke-miter,
    .ql-snow.ql-toolbar .ql-picker-item:hover .ql-stroke-miter,
    .ql-snow .ql-toolbar .ql-picker-item:hover .ql-stroke-miter,
    .ql-snow.ql-toolbar .ql-picker-item.ql-selected .ql-stroke-miter,
    .ql-snow .ql-toolbar .ql-picker-item.ql-selected .ql-stroke-miter {
      stroke: #06c;
    }
    @media (pointer: coarse) {
      .ql-snow.ql-toolbar button:hover:not(.ql-active),
      .ql-snow .ql-toolbar button:hover:not(.ql-active) {
        color: #444;
      }
      .ql-snow.ql-toolbar button:hover:not(.ql-active) .ql-fill,
      .ql-snow .ql-toolbar button:hover:not(.ql-active) .ql-fill,
      .ql-snow.ql-toolbar button:hover:not(.ql-active) .ql-stroke.ql-fill,
      .ql-snow .ql-toolbar button:hover:not(.ql-active) .ql-stroke.ql-fill {
        fill: #444;
      }
      .ql-snow.ql-toolbar button:hover:not(.ql-active) .ql-stroke,
      .ql-snow .ql-toolbar button:hover:not(.ql-active) .ql-stroke,
      .ql-snow.ql-toolbar button:hover:not(.ql-active) .ql-stroke-miter,
      .ql-snow .ql-toolbar button:hover:not(.ql-active) .ql-stroke-miter {
        stroke: #444;
      }
    }
    .ql-snow {
      box-sizing: border-box;
    }
    .ql-snow * {
      box-sizing: border-box;
    }
    .ql-snow .ql-hidden {
      display: none;
    }
    .ql-snow .ql-out-bottom,
    .ql-snow .ql-out-top {
      visibility: hidden;
    }
    .ql-snow .ql-tooltip {
      position: absolute;
      transform: translateY(10px);
    }
    .ql-snow .ql-tooltip a {
      cursor: pointer;
      text-decoration: none;
    }
    .ql-snow .ql-tooltip.ql-flip {
      transform: translateY(-10px);
    }
    .ql-snow .ql-formats {
      display: inline-block;
      vertical-align: middle;
    }
    .ql-snow .ql-formats:after {
      clear: both;
      content: '';
      display: table;
    }
    .ql-snow .ql-stroke {
      fill: none;
      stroke: #444;
      stroke-linecap: round;
      stroke-linejoin: round;
      stroke-width: 2;
    }
    .ql-snow .ql-stroke-miter {
      fill: none;
      stroke: #444;
      stroke-miterlimit: 10;
      stroke-width: 2;
    }
    .ql-snow .ql-fill,
    .ql-snow .ql-stroke.ql-fill {
      fill: #444;
    }
    .ql-snow .ql-empty {
      fill: none;
    }
    .ql-snow .ql-even {
      fill-rule: evenodd;
    }
    .ql-snow .ql-thin,
    .ql-snow .ql-stroke.ql-thin {
      stroke-width: 1;
    }
    .ql-snow .ql-transparent {
      opacity: 0.4;
    }
    .ql-snow .ql-direction svg:last-child {
      display: none;
    }
    .ql-snow .ql-direction.ql-active svg:last-child {
      display: inline;
    }
    .ql-snow .ql-direction.ql-active svg:first-child {
      display: none;
    }
    .ql-snow .ql-editor h1 {
      font-size: 2em;
    }
    .ql-snow .ql-editor h2 {
      font-size: 1.5em;
    }
    .ql-snow .ql-editor h3 {
      font-size: 1.17em;
    }
    .ql-snow .ql-editor h4 {
      font-size: 1em;
    }
    .ql-snow .ql-editor h5 {
      font-size: 0.83em;
    }
    .ql-snow .ql-editor h6 {
      font-size: 0.67em;
    }
    .ql-snow .ql-editor a {
      text-decoration: underline;
    }
    .ql-snow .ql-editor blockquote {
      border-left: 4px solid #ccc;
      margin-bottom: 5px;
      margin-top: 5px;
      padding-left: 16px;
    }
    .ql-snow .ql-editor code,
    .ql-snow .ql-editor pre {
      background-color: #f0f0f0;
      border-radius: 3px;
    }
    .ql-snow .ql-editor pre {
      white-space: pre-wrap;
      margin-bottom: 5px;
      margin-top: 5px;
      padding: 5px 10px;
    }
    .ql-snow .ql-editor code {
      font-size: 85%;
      padding: 2px 4px;
    }
    .ql-snow .ql-editor pre.ql-syntax {
      background-color: #23241f;
      color: #f8f8f2;
      overflow: visible;
    }
    .ql-snow .ql-editor img {
      max-width: 100%;
    }
    .ql-snow .ql-picker {
      color: #444;
      display: inline-block;
      float: left;
      font-size: 14px;
      font-weight: 500;
      height: 24px;
      position: relative;
      vertical-align: middle;
    }
    .ql-snow .ql-picker-label {
      cursor: pointer;
      display: inline-block;
      height: 100%;
      padding-left: 8px;
      padding-right: 2px;
      position: relative;
      width: 100%;
    }
    .ql-snow .ql-picker-label::before {
      display: inline-block;
      line-height: 22px;
    }
    .ql-snow .ql-picker-options {
      background-color: #fff;
      display: none;
      min-width: 100%;
      padding: 4px 8px;
      position: absolute;
      white-space: nowrap;
    }
    .ql-snow .ql-picker-options .ql-picker-item {
      cursor: pointer;
      display: block;
      padding-bottom: 5px;
      padding-top: 5px;
    }
    .ql-snow .ql-picker.ql-expanded .ql-picker-label {
      color: #ccc;
      z-index: 2;
    }
    .ql-snow .ql-picker.ql-expanded .ql-picker-label .ql-fill {
      fill: #ccc;
    }
    .ql-snow .ql-picker.ql-expanded .ql-picker-label .ql-stroke {
      stroke: #ccc;
    }
    .ql-snow .ql-picker.ql-expanded .ql-picker-options {
      display: block;
      margin-top: -1px;
      top: 100%;
      z-index: 1;
    }
    .ql-snow .ql-color-picker,
    .ql-snow .ql-icon-picker {
      width: 28px;
    }
    .ql-snow .ql-color-picker .ql-picker-label,
    .ql-snow .ql-icon-picker .ql-picker-label {
      padding: 2px 4px;
    }
    .ql-snow .ql-color-picker .ql-picker-label svg,
    .ql-snow .ql-icon-picker .ql-picker-label svg {
      right: 4px;
    }
    .ql-snow .ql-icon-picker .ql-picker-options {
      padding: 4px 0px;
    }
    .ql-snow .ql-icon-picker .ql-picker-item {
      height: 24px;
      width: 24px;
      padding: 2px 4px;
    }
    .ql-snow .ql-color-picker .ql-picker-options {
      padding: 3px 5px;
      width: 152px;
    }
    .ql-snow .ql-color-picker .ql-picker-item {
      border: 1px solid transparent;
      float: left;
      height: 16px;
      margin: 2px;
      padding: 0px;
      width: 16px;
    }
    .ql-snow .ql-picker:not(.ql-color-picker):not(.ql-icon-picker) svg {
      position: absolute;
      margin-top: -9px;
      right: 0;
      top: 50%;
      width: 18px;
    }
    .ql-snow .ql-picker.ql-header .ql-picker-label[data-label]:not([data-label=''])::before,
    .ql-snow .ql-picker.ql-font .ql-picker-label[data-label]:not([data-label=''])::before,
    .ql-snow .ql-picker.ql-size .ql-picker-label[data-label]:not([data-label=''])::before,
    .ql-snow .ql-picker.ql-header .ql-picker-item[data-label]:not([data-label=''])::before,
    .ql-snow .ql-picker.ql-font .ql-picker-item[data-label]:not([data-label=''])::before,
    .ql-snow .ql-picker.ql-size .ql-picker-item[data-label]:not([data-label=''])::before {
      content: attr(data-label);
    }
    .ql-snow .ql-picker.ql-header {
      width: 98px;
    }
    .ql-snow .ql-picker.ql-header .ql-picker-label::before,
    .ql-snow .ql-picker.ql-header .ql-picker-item::before {
      content: 'Normal';
    }
    .ql-snow .ql-picker.ql-header .ql-picker-label[data-value='1']::before,
    .ql-snow .ql-picker.ql-header .ql-picker-item[data-value='1']::before {
      content: 'Heading 1';
    }
    .ql-snow .ql-picker.ql-header .ql-picker-label[data-value='2']::before,
    .ql-snow .ql-picker.ql-header .ql-picker-item[data-value='2']::before {
      content: 'Heading 2';
    }
    .ql-snow .ql-picker.ql-header .ql-picker-label[data-value='3']::before,
    .ql-snow .ql-picker.ql-header .ql-picker-item[data-value='3']::before {
      content: 'Heading 3';
    }
    .ql-snow .ql-picker.ql-header .ql-picker-label[data-value='4']::before,
    .ql-snow .ql-picker.ql-header .ql-picker-item[data-value='4']::before {
      content: 'Heading 4';
    }
    .ql-snow .ql-picker.ql-header .ql-picker-label[data-value='5']::before,
    .ql-snow .ql-picker.ql-header .ql-picker-item[data-value='5']::before {
      content: 'Heading 5';
    }
    .ql-snow .ql-picker.ql-header .ql-picker-label[data-value='6']::before,
    .ql-snow .ql-picker.ql-header .ql-picker-item[data-value='6']::before {
      content: 'Heading 6';
    }
    .ql-snow .ql-picker.ql-header .ql-picker-item[data-value='1']::before {
      font-size: 2em;
    }
    .ql-snow .ql-picker.ql-header .ql-picker-item[data-value='2']::before {
      font-size: 1.5em;
    }
    .ql-snow .ql-picker.ql-header .ql-picker-item[data-value='3']::before {
      font-size: 1.17em;
    }
    .ql-snow .ql-picker.ql-header .ql-picker-item[data-value='4']::before {
      font-size: 1em;
    }
    .ql-snow .ql-picker.ql-header .ql-picker-item[data-value='5']::before {
      font-size: 0.83em;
    }
    .ql-snow .ql-picker.ql-header .ql-picker-item[data-value='6']::before {
      font-size: 0.67em;
    }
    .ql-snow .ql-picker.ql-font {
      width: 108px;
    }
    .ql-snow .ql-picker.ql-font .ql-picker-label::before,
    .ql-snow .ql-picker.ql-font .ql-picker-item::before {
      content: 'Sans Serif';
    }
    .ql-snow .ql-picker.ql-font .ql-picker-label[data-value='serif']::before,
    .ql-snow .ql-picker.ql-font .ql-picker-item[data-value='serif']::before {
      content: 'Serif';
    }
    .ql-snow .ql-picker.ql-font .ql-picker-label[data-value='monospace']::before,
    .ql-snow .ql-picker.ql-font .ql-picker-item[data-value='monospace']::before {
      content: 'Monospace';
    }
    .ql-snow .ql-picker.ql-font .ql-picker-item[data-value='serif']::before {
      font-family: Georgia, Times New Roman, serif;
    }
    .ql-snow .ql-picker.ql-font .ql-picker-item[data-value='monospace']::before {
      font-family: Monaco, Courier New, monospace;
    }
    .ql-snow .ql-picker.ql-size {
      width: 98px;
    }
    .ql-snow .ql-picker.ql-size .ql-picker-label::before,
    .ql-snow .ql-picker.ql-size .ql-picker-item::before {
      content: 'Normal';
    }
    .ql-snow .ql-picker.ql-size .ql-picker-label[data-value='small']::before,
    .ql-snow .ql-picker.ql-size .ql-picker-item[data-value='small']::before {
      content: 'Small';
    }
    .ql-snow .ql-picker.ql-size .ql-picker-label[data-value='large']::before,
    .ql-snow .ql-picker.ql-size .ql-picker-item[data-value='large']::before {
      content: 'Large';
    }
    .ql-snow .ql-picker.ql-size .ql-picker-label[data-value='huge']::before,
    .ql-snow .ql-picker.ql-size .ql-picker-item[data-value='huge']::before {
      content: 'Huge';
    }
    .ql-snow .ql-picker.ql-size .ql-picker-item[data-value='small']::before {
      font-size: 10px;
    }
    .ql-snow .ql-picker.ql-size .ql-picker-item[data-value='large']::before {
      font-size: 18px;
    }
    .ql-snow .ql-picker.ql-size .ql-picker-item[data-value='huge']::before {
      font-size: 32px;
    }
    .ql-snow .ql-color-picker.ql-background .ql-picker-item {
      background-color: #fff;
    }
    .ql-snow .ql-color-picker.ql-color .ql-picker-item {
      background-color: #000;
    }
    .ql-toolbar.ql-snow {
      border: 1px solid #ccc;
      box-sizing: border-box;
      font-family: 'Helvetica Neue', 'Helvetica', 'Arial', sans-serif;
      padding: 8px;
    }
    .ql-toolbar.ql-snow .ql-formats {
      margin-right: 15px;
    }
    .ql-toolbar.ql-snow .ql-picker-label {
      border: 1px solid transparent;
    }
    .ql-toolbar.ql-snow .ql-picker-options {
      border: 1px solid transparent;
      box-shadow: rgba(0, 0, 0, 0.2) 0 2px 8px;
    }
    .ql-toolbar.ql-snow .ql-picker.ql-expanded .ql-picker-label {
      border-color: #ccc;
    }
    .ql-toolbar.ql-snow .ql-picker.ql-expanded .ql-picker-options {
      border-color: #ccc;
    }
    .ql-toolbar.ql-snow .ql-color-picker .ql-picker-item.ql-selected,
    .ql-toolbar.ql-snow .ql-color-picker .ql-picker-item:hover {
      border-color: #000;
    }
    .ql-toolbar.ql-snow + .ql-container.ql-snow {
      border-top: 0px;
    }
    .ql-snow .ql-tooltip {
      background-color: #fff;
      border: 1px solid #ccc;
      box-shadow: 0px 0px 5px #ddd;
      color: #444;
      padding: 5px 12px;
      white-space: nowrap;
    }
    .ql-snow .ql-tooltip::before {
      content: 'Visit URL:';
      line-height: 26px;
      margin-right: 8px;
    }
    .ql-snow .ql-tooltip input[type='text'] {
      display: none;
      border: 1px solid #ccc;
      font-size: 13px;
      height: 26px;
      margin: 0px;
      padding: 3px 5px;
      width: 170px;
    }
    .ql-snow .ql-tooltip a.ql-preview {
      display: inline-block;
      max-width: 200px;
      overflow-x: hidden;
      text-overflow: ellipsis;
      vertical-align: top;
    }
    .ql-snow .ql-tooltip a.ql-action::after {
      border-right: 1px solid #ccc;
      content: 'Edit';
      margin-left: 16px;
      padding-right: 8px;
    }
    .ql-snow .ql-tooltip a.ql-remove::before {
      content: 'Remove';
      margin-left: 8px;
    }
    .ql-snow .ql-tooltip a {
      line-height: 26px;
    }
    .ql-snow .ql-tooltip.ql-editing a.ql-preview,
    .ql-snow .ql-tooltip.ql-editing a.ql-remove {
      display: none;
    }
    .ql-snow .ql-tooltip.ql-editing input[type='text'] {
      display: inline-block;
    }
    .ql-snow .ql-tooltip.ql-editing a.ql-action::after {
      border-right: 0px;
      content: 'Save';
      padding-right: 0px;
    }
    .ql-snow .ql-tooltip[data-mode='link']::before {
      content: 'Enter link:';
    }
    .ql-snow .ql-tooltip[data-mode='formula']::before {
      content: 'Enter formula:';
    }
    .ql-snow .ql-tooltip[data-mode='video']::before {
      content: 'Enter video:';
    }
    .ql-snow a {
      color: #06c;
    }
    .ql-container.ql-snow {
      border: 1px solid #ccc;
    }
  </style>
`,Rh=He`
  <style>
    :root {
      --elemento-padding-factor: 20;
    }

    #lx-eta-box {
      display: grid;
      grid-template-columns: 1fr;
      grid-template-rows: 30px calc(100% - 30px);
      height: 100%;
    }

    #lx-eta-box .ql-toolbar.ql-snow {
      border: 1px solid #ccc;
      box-sizing: border-box;
      padding: 3px 10px 3px 10px;
    }

    #lx-eta-box .ql-snow.ql-toolbar button,
    .ql-snow .ql-toolbar button {
      height: 20px !important;
      padding: 0px !important;
      width: 24px !important;
      margin: 0px !important;
    }

    #lx-eta-barra-ferramenta button:focus {
      outline: 0;
      border: 0px solid #f1f1f1;
      -webkit-box-shadow: 0px;
      box-shadow: none;
    }

    #lx-eta-barra-ferramenta .lx-eta-ql-button {
      font-size: 1.1em;
      color: #444444;
    }

    .lx-eta-rebate-180-graus {
      -moz-transform: scaleX(-1);
      -o-transform: scaleX(-1);
      -webkit-transform: scaleX(-1);
      transform: scaleX(-1);
    }

    #lx-eta-editor {
      overflow-y: auto;
    }

    #lx-eta-editor .ql-editor {
      font-family: sans-serif, 'Open Sans', -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, 'Helvetica Neue', 'Apple Color Emoji', 'Segoe UI Emoji', 'Segoe UI Symbol',
        'Noto Color Emoji';
      font-size: 1rem;
      line-height: 1.42;
      color: #646260;
      text-transform: none !important;
      padding: 5px;
    }

    #lx-eta-editor .ql-editor *:focus {
      outline: 0;
      border: 0px solid #f1f1f1;
      -webkit-box-shadow: 0px;
      box-shadow: none;
    }

    #lx-eta-editor .ql-editor label:before {
      content: attr(data-rotulo) ' ';
    }

    #toast-msg {
      padding: 1em;
      font-size: 1.1em;
    }

    .lx-eta-dropbtn {
      background-color: #ffffff;
      color: #444444;
      width: 26px;
      font-weight: bold;
      vertical-align: middle;
      border: none;
      cursor: pointer;
      text-align: center;
    }

    .lx-eta-dropdown {
      position: relative;
      display: inline-block;
    }

    .lx-eta-dropdown-content {
      display: none;
      position: absolute;
      background-color: #f9f9f9;
      min-width: 160px;
      box-shadow: 0px 4px 4px 4px rgba(0, 0, 0, 0.25);
      z-index: 1;
    }

    .lx-eta-dropdown-content div {
      color: black;
      padding: 5px 16px;
      text-decoration: none;
      display: block;
      white-space: nowrap;
      font-weight: normal !important;
      text-align: left;
      cursor: pointer;
    }

    .lx-eta-dropdown-content div:hover {
      background-color: #e5e5e5;
    }

    .lx-eta-dropdown:hover .lx-eta-dropdown-content {
      display: block;
    }

    .lx-eta-dropdown:hover .lx-eta-dropbtn {
      background-color: #e1e1e1;
    }

    .lx-eta-btn-disp-atual {
      margin-left: 10px !important;
      text-decoration: underline;
    }

    .lx-eta-btn-desfazer {
      margin-left: 10px !important;
    }

    .icon-undo-redo {
      width: 19px;
      height: 16px !important;
    }

    .icon-undo-redo:hover {
      fill: #0066cc;
    }

    .lx-eta-dropdown-content-right {
      right: 0;
    }

    .ql-snow .ql-hidden {
      display: none;
    }

    .ql-snow .ql-tooltip::before {
      content: 'Acesse a norma:';
    }

    .ql-snow .ql-tooltip a.ql-action::after {
      display: none;
    }

    .ql-snow .ql-tooltip a.ql-remove::before {
      display: none;
    }

    .ql-snow .ql-tooltip a.ql-preview {
      max-width: 300px;
    }

    .btn--artigoOndeCouber {
    }

    .container__linha {
      display: flex;
      width: 100%;
    }

    .container__linha--reverse {
      flex-direction: row-reverse;
    }

    .container__texto {
      flex: 1;
    }

    .container__menu {
      width: 30px;
      vertical-align: top;
      text-align: center;
    }

    .container__elemento--padrao {
      width: 100%;
      min-height: 26px;
      border: 1px solid #ffffff;
      line-height: 1.42;
      margin: 0px 2px 0px 5px !important;
    }

    .container__elemento--articulacao {
      width: 100%;
      min-height: 1px;
      line-height: 0.42;
      margin: 1px;
    }

    .agrupador {
      text-align: center;
    }

    .texto__rotulo {
      color: black;
      font-weight: 600;
      font-size: 1rem;
    }

    .texto__rotulo--agrupador {
      display: block;
    }

    .texto__rotulo--padrao {
      float: left;
      margin-right: 10px;
    }

    .dispositivo--adicionado {
      color: green;
    }

    .dispositivo--modificado {
      color: blue;
    }

    .dispositivo--suprimido {
      color: red;
    }

    .texto--suprimido {
      text-decoration: line-through;
    }

    .container__elemento--ativo {
      border-color: #24d421;
    }

    .mensagem {
      font-size: 0.8em;
      font-weight: 600;
    }

    .mensagem--info {
      color: green;
    }

    .mensagem--warning {
      color: #ff5733;
    }

    .mensagem--danger {
      color: red;
    }

    lexml-eta-help {
      float: right;
    }

    #lx-eta-buffer {
      display: none;
      height: 0px;
    }
  </style>
`;let Ha=class extends ps(ye)(pt){constructor(){super(),this.inscricoes=[],this.onSelectionChange=(o,e,t)=>{(o==null?void 0:o.length)===0&&t===Quill.sources.USER&&this.ajustarLinkParaNorma()},this.tabIndex=-1}get quill(){return this._quill}createRenderRoot(){return this}async firstUpdated(){this.inicializar(this.configEditor())}stateChanged(o){var e,t;this.quill?(this.quill.undoEstruturaVazio=((e=o.elementoReducer.past)!==null&&e!==void 0?e:[]).length===0,this.quill.redoEstruturaVazio=((t=o.elementoReducer.future)!==null&&t!==void 0?t:[]).length===0,o.elementoReducer.ui&&(o.elementoReducer.ui.message?this.alertar(o.elementoReducer.ui.message.descricao):this.processarStateEvents(o.elementoReducer.ui.events))):this.quillNaoInicializado(o)}disconnectedCallback(){this.inscricoes.forEach(o=>o.cancel()),this.removeEventListener("ontextchange",o=>console.log(o)),this.destroiQuill(),super.disconnectedCallback()}render(){return He`
      ${Ch}
      ${Rh}
      <div id="lx-eta-box">
        <div id="lx-eta-barra-ferramenta">
          <button class="ql-bold" title="Negrito (Ctrl+b)"></button>
          <button class="ql-italic" title="Itlico (Ctrl+i)"></button>
          <button class="ql-script" value="sub" title="Subscrito"></button>
          <button class="ql-script" value="super" title="Sobrescrito"></button>

          <button @click=${this.onClickUndo} class="lx-eta-ql-button lx-eta-btn-desfazer" title="Desfazer (Ctrl+Z)">
            <svg class="icon-undo-redo" id="undo" viewBox="0 0 512 512">
              <path
                d="M488,256c0,123.4-100.5,223.9-223.9,223.9c-48.8,0-95.2-15.6-134.2-44.9c-14.1-10.6-17-30.7-6.4-44.8 c10.6-14.1,30.6-16.9,44.8-6.4c27.8,20.9,61,31.9,95.9,31.9c88.1,0,159.8-71.7,159.8-159.8S352.3,96.2,264.2,96.2 c-37.5,0-73.1,13.5-101.3,36.6L208,178c17,17,5,46.1-19.1,46.1H43.2c-10.6,0-19.2-8.6-19.2-19.2V59C24,35,53.1,23,70.1,40l47.6,47.6 c40.2-34.9,91.8-55.5,146.4-55.5C387.5,32.1,488,132.6,488,256z"
              />
            </svg>
          </button>
          <button @click=${this.onClickRedo} class="lx-eta-ql-button" title="Refazer (Ctrl+y)">
            <svg class="icon-undo-redo lx-eta-rebate-180-graus" id="redo" viewBox="0 0 512 512">
              <path
                d="M488,256c0,123.4-100.5,223.9-223.9,223.9c-48.8,0-95.2-15.6-134.2-44.9c-14.1-10.6-17-30.7-6.4-44.8 c10.6-14.1,30.6-16.9,44.8-6.4c27.8,20.9,61,31.9,95.9,31.9c88.1,0,159.8-71.7,159.8-159.8S352.3,96.2,264.2,96.2 c-37.5,0-73.1,13.5-101.3,36.6L208,178c17,17,5,46.1-19.1,46.1H43.2c-10.6,0-19.2-8.6-19.2-19.2V59C24,35,53.1,23,70.1,40l47.6,47.6 c40.2-34.9,91.8-55.5,146.4-55.5C387.5,32.1,488,132.6,488,256z"
              />
            </svg>
          </button>

          <button @click=${this.onClickDispositivoAtual} class="lx-eta-ql-button lx-eta-btn-disp-atual" title="Localizar dispositivo atual">D</button>
          <input type="button" @click=${this.artigoOndeCouber} class="${"ql-hidden"} btn--artigoOndeCouber" value="Propor artigo onde couber" title="Artigo onde couber"></input>
          <lexml-eta-help></lexml-eta-help>
        </div>
        <div id="lx-eta-editor"></div>
      </div>
      <elix-toast id="toast-alerta" duration="3000">
        <div id="toast-msg"></div>
      </elix-toast>
      <div id="lx-eta-buffer"><p></p></div>
    `}formatacaoAlterada(){var o;!((o=document.getSelection())===null||o===void 0)&&o.toString()&&this.agendarEmissaoEventoOnChange("toolbar")}onClickUndo(){this.quill.undo()}onClickRedo(){this.quill.redo()}onClickDispositivoAtual(){this.quill.setSelection(this.quill.getIndex(this.quill.linhaAtual.blotConteudo),0,Quill.sources.SILENT),this.quill.focus()}artigoOndeCouber(){}ajustarLinkParaNorma(){const o=document.querySelector("a.ql-preview"),e=o==null?void 0:o.getAttribute("href");if(e!=null&&e.startsWith("urn")){const t="https://normas.leg.br/?urn="+e;o.setAttribute("href",t),o.innerHTML=(i=>{var n;const r=Gu(i),s=Xn(r),p=(n=yi(r))===null||n===void 0?void 0:n.descricao,d=ui(r);return(p||"")+(s?" n\xBA "+s:"")+(d.length>7?" de "+d:"")})(e)}}onBold(o){this.quill.keyboard.verificarOperacaoTecladoPermitida()&&(this.quill.format("bold",o),this.formatacaoAlterada())}onItalic(o){this.quill.keyboard.verificarOperacaoTecladoPermitida()&&(this.quill.format("italic",o),this.formatacaoAlterada())}onScript(o){this.quill.keyboard.verificarOperacaoTecladoPermitida()&&(this.quill.format("script",o),this.formatacaoAlterada())}onOperacaoInvalida(){this.alertar("Opera\xE7\xE3o n\xE3o permitida.")}isDesmembramento(o,e,t){return(e+t).localeCompare(o)!==0}adicionarElemento(o){var e,t;const i=this.quill.linhaAtual,n=i.blotConteudo,r=(e=this.quill.inicioConteudoAtual)!==null&&e!==void 0?e:0,s=(t=r+n.tamanho)!==null&&t!==void 0?t:0;let p="",d="";if(o.index===r)p="",d=n.html;else if(o.index===s)p=n.html,d="";else{const u=s-o.index;p=this.quill.getConteudoHtmlParteLinha(n,0,n.tamanho-u),d=this.quill.getConteudoHtmlParteLinha(n,o.index-r,u)}const c=this.criarElemento(i.uuid,i.lexmlId,i.tipo,p,i.numero,i.hierarquia);if(this.isDesmembramento(n.htmlAnt,p,d)){const u=this.criarElemento(i.uuid,i.lexmlId,i.tipo,p+d,i.numero,i.hierarquia);ye.dispatch(Ea.execute(u))}ye.dispatch(hs.execute(c,d))}async renumerarElemento(){var o,e;const t=this.quill.linhaAtual,i=t.blotConteudo.html,n=this.criarElemento((o=t.uuid)!==null&&o!==void 0?o:0,t.lexmlId,(e=t.tipo)!==null&&e!==void 0?e:"","",t.numero,t.hierarquia,t.descricaoSituacao);if(!(f=>{var m,v;return((v=(m=f.hierarquia)===null||m===void 0?void 0:m.pai)===null||v===void 0?void 0:v.uuidAlteracao)!==void 0&&f.descricaoSituacao!==G.DISPOSITIVO_ORIGINAL})(n))return;const r=document.createElement("elix-dialog"),s=document.createRange().createContextualFragment(`
      <div style="padding: 15px; text-align: center">
        <div>
          Numera\xE7\xE3o do dispositivo:
          <input type="text" style="width: 60px">
        </div>
        <div class="erro" style="margin-top: 10px; color: red; display: none;"></div>
        <div style="margin-top: 10px;">
          <button>Ok</button>
          <button>Cancelar</button>
        </div>
      </div>
    `),p=s.querySelector("input");var d;p.value=`${d=t.blotRotulo.rotulo,d.replace(/\./g,"").replace(/["]/g,"").replace(/^Parte$/i,"").replace(/^Livro$/i,"").replace(/^Titulo$/i,"").replace(/^Capitulo$/i,"").replace(/^Secao$/i,"").replace(/^Subsecao$/i,"").replace(/^Artigo$/i,"").replace(/^Paragrafo$/i,"").replace(/^Inciso$/i,"").replace(/^Alinea$/i,"").replace(/^Item$/i,"").replace(/Art/i,"").replace(//i,"").replace(//i,"").replace(/[]/i,"").replace(/[-][/s]*$/,"").replace(/[)][/s]*$/,"").trim()}`;const c=s.querySelectorAll("button"),u=c[0],a=c[1],l=s.querySelector(".erro");u.onclick=()=>{var f;this.quill.focus(),r.close(),((f=n.conteudo)===null||f===void 0?void 0:f.texto)!==i&&(n.conteudo.texto=i,ye.dispatch(gp.execute(n))),ye.dispatch(At.execute(n,p.value.trim()))},a.onclick=()=>{this.quill.focus(),r.close()};const h=()=>{const f=p.value;return/^\s*$/.test(f)?"A numera\xE7\xE3o n\xE3o pode ser vazia.":""};p.onkeyup=f=>{const m=h();l.innerText=m,l.style.display=m?"block":"none",u.disabled=Boolean(m),u.disabled||f.key==="Enter"&&u.click()},r.appendChild(s),u.disabled=Boolean(h()),await r.open()}removerElemento(){const o=this.quill.linhaAtual,e=`Voc\xEA realmente deseja remover o dispositivo ${o.blotRotulo.rotulo}`;this.confirmar(e,["Sim","N\xE3o"],t=>{var i,n;const r=t.detail.closeResult;if((r&&r.choice)==="Sim"){const s=this.criarElemento((i=o.uuid)!==null&&i!==void 0?i:0,o.lexmlId,(n=o.tipo)!==null&&n!==void 0?n:"","",o.numero,o.hierarquia);ye.dispatch(Pt.execute(s))}this.quill.focus()})}moverElemento(o){const e=this.quill.linhaAtual,t=e.blotConteudo.html,i=this.criarElemento(e.uuid,e.lexmlId,e.tipo,t,e.numero,e.hierarquia);o.key==="ArrowUp"?ye.dispatch(bo.execute(i)):o.key==="ArrowDown"&&ye.dispatch(go.execute(i))}transformarElemento(o){const e=this.quill.linhaAtual,t=e.blotConteudo.html,i=this.criarElemento(e.uuid,e.lexmlId,e.tipo,t,e.numero,e.hierarquia);o.key.toLowerCase()==="a"?ye.dispatch(Jo(i,R.artigo.name)):o.key.toLowerCase()==="l"?ye.dispatch(Jo(i,R.alinea.name)):o.key.toLowerCase()==="n"?ye.dispatch(Jo(i,R.inciso.name)):o.key.toLowerCase()==="o"?ye.dispatch(Jo(i,R.omissis.name)):o.key.toLowerCase()==="p"?ye.dispatch(Jo(i,R.paragrafo.name)):o.key.toLowerCase()==="t"?ye.dispatch(Jo(i,R.item.name)):ac.keys.TAB&&ye.dispatch(o.shiftKey?{type:"SHIFT_TAB",atual:i}:(n=>({type:"TAB",atual:n}))(i))}elementoSelecionado(o){var e;const t=this.quill.linhaAtual,i=this.criarElemento(o,t.lexmlId,(e=t.tipo)!==null&&e!==void 0?e:"","",t.numero,t.hierarquia);ye.dispatch(yp.execute(i)),this.quill.processandoMudancaLinha=!1}undoRedoEstrutura(o){o==="undo"?ye.dispatch({type:"UNDO"}):ye.dispatch({type:"REDO"})}processarStateEvents(o){o==null||o.forEach(i=>{var n;switch(i.stateType){case j.DocumentoCarregado:this.destroiQuill(),this.inicializar(this.configEditor()),this.carregarArticulacao((n=i.elementos)!==null&&n!==void 0?n:[]);break;case j.InformarNorma:Th(i.elementos[0],this.quill,ye,bp);break;case j.ElementoIncluido:this.inserirNovoElementoNoQuill(i.elementos[0],i.referencia,!0),this.inserirNovosElementosNoQuill(i);break;case j.ElementoModificado:case j.ElementoRestaurado:this.atualizarQuill(i),this.montarMenuContexto(i);break;case j.ElementoSuprimido:this.atualizarSituacao(i),this.montarMenuContexto(i);break;case j.ElementoRemovido:this.removerLinhaQuill(i);break;case j.ElementoRenumerado:this.renumerarQuill(i);break;case j.ElementoValidado:this.atualizarMensagemQuill(i);break;case j.ElementoSelecionado:this.montarMenuContexto(i),this.atualizarMensagemQuill(i);break;case j.ElementoMarcado:this.marcarLinha(i);break;case j.SituacaoElementoModificada:this.atualizarSituacao(i),this.montarMenuContexto(i)}this.quill.limparHistory()});const e=[j.ElementoModificado,j.ElementoSuprimido,j.ElementoRestaurado,j.ElementoIncluido,j.ElementoRemovido,j.ElementoRenumerado],t=o==null?void 0:o.filter(i=>e.includes(i.stateType)).map(i=>i.stateType);t!=null&&t.length&&this.agendarEmissaoEventoOnChange("stateEvents")}marcarLinha(o){this.quill.desmarcarLinhaAtual(this.quill.linhaAtual);const e=o.elementos[0],t=this.quill.getLinha(e.uuid),i=this.quill.getIndex(t.blotConteudo);this.quill.setIndex(i,Quill.sources.SILENT),this.quill.atualizarLinhaCorrente(t),this.elementoSelecionado(t.uuid)}processarEscolhaMenu(o){var e,t,i,n;if(o==="Remover dispositivo")this.removerElemento();else if(o===At.descricao)this.renumerarElemento();else{const r=this.quill.linhaAtual,s=this.criarElemento((e=r.uuid)!==null&&e!==void 0?e:0,r.lexmlId,(t=r.tipo)!==null&&t!==void 0?t:"","",r.numero,r.hierarquia);s.conteudo.texto=(i=r.blotConteudo.html)!==null&&i!==void 0?i:"",ye.dispatch((n=o,Es.filter(p=>p.descricao===n.trim())[0]).execute(s))}}inserirNovoElementoNoQuill(o,e,t){const i=this.quill.getLinha(e.uuid);if(i){const n=Ri.criarContainerLinha(o);if(i.next?n.insertInto(this.quill.scroll,i.next):n.insertInto(this.quill.scroll),this.quill.linhaAtual.blotConteudo.html!==""||n.blotConteudo.html===""){if(t){this.quill.desmarcarLinhaAtual(this.quill.linhaAtual),this.quill.marcarLinhaAtual(n);try{this.quill.setIndex(this.quill.getIndex(n.blotConteudo),Quill.sources.SILENT)}catch(r){console.log(r)}}}else this.quill.linhaAtual.blotConteudo.htmlAnt=this.quill.linhaAtual.blotConteudo.html;this.quill.linhaAtual.descricaoSituacao=o.descricaoSituacao,this.quill.linhaAtual.setEstilo(o.descricaoSituacao)}}inserirNovosElementosNoQuill(o,e){var t;const i=(t=o.elementos)!==null&&t!==void 0?t:[];for(let n=1;n<i.length;n++)this.inserirNovoElementoNoQuill(i[n],i[n-1],e)}atualizarSituacao(o){var e;let t;((e=o.elementos)!==null&&e!==void 0?e:[]).map(i=>{var n;t=this.quill.getLinha((n=i.uuid)!==null&&n!==void 0?n:0,t),t&&i.descricaoSituacao!==t.descricaoSituacao&&(t.descricaoSituacao=i.descricaoSituacao,t.setEstilo(i.descricaoSituacao))})}atualizarQuill(o){var e;let t;((e=o.elementos)!==null&&e!==void 0?e:[]).map(i=>{var n,r,s,p,d;if(t=this.quill.getLinha((n=i.uuid)!==null&&n!==void 0?n:0,t),t){let c=!1;i.editavel!==t.editavel&&(t.editavel=i.editavel),i.rotulo!==t.blotRotulo.html&&(t.numero=(r=i.numero)!==null&&r!==void 0?r:"",t.blotRotulo.format(We.blotName,i.rotulo)),i.nivel!==t.nivel&&(t.nivel=i.nivel,t.format(Qe.blotName,i),c=!0),i.agrupador!==t.agrupador&&(t.agrupador=i.agrupador,t.blotRotulo.format(We.formatoStyle,i),c||t.format(Qe.blotName,i)),((s=i.conteudo)===null||s===void 0?void 0:s.texto)!==t.blotConteudo.html&&(t.blotConteudo.html=(d=(p=i.conteudo)===null||p===void 0?void 0:p.texto)!==null&&d!==void 0?d:""),i.descricaoSituacao!==t.descricaoSituacao&&(t.descricaoSituacao=i.descricaoSituacao,t.setEstilo(i.descricaoSituacao)),t.children.length===2&&t.children.tail.remove(),i.mensagens&&i.mensagens.length>0&&Ri.criarContainerMensagens(i).insertInto(t)}})}removerLinhaQuill(o){var e;let t;((e=o.elementos)!==null&&e!==void 0?e:[]).forEach(r=>{var s;t=this.quill.getLinha((s=r.uuid)!==null&&s!==void 0?s:0,t),t&&t.remove()});const i=this.quill.getLine(this.quill.getSelection(!0).index)[0].linha,n=this.quill.getIndex(i.blotConteudo);this.quill.setSelection(n,0,Quill.sources.SILENT),this.quill.marcarLinhaAtual(i)}renumerarQuill(o){var e;let t;((e=o.elementos)!==null&&e!==void 0?e:[]).map(i=>{var n;t=this.quill.getLinha((n=i.uuid)!==null&&n!==void 0?n:0,t),t&&t.blotRotulo.format(We.blotName,i.rotulo)})}atualizarMensagemQuill(o){var e;let t;((e=o.elementos)!==null&&e!==void 0?e:[]).map(i=>{var n;t=this.quill.getLinha((n=i.uuid)!==null&&n!==void 0?n:0,t),t&&((t==null?void 0:t.children.length)===2&&t.children.tail.remove(),i.mensagens&&i.mensagens.length>0&&Ri.criarContainerMensagens(i).insertInto(t))})}montarMenuContexto(o){var e;const t=o.elementos?o.elementos[0]:new Va,i=((e=t==null?void 0:t.acoesPossiveis)!==null&&e!==void 0?e:[]).filter(n=>jp(n));if(i.length>0){this.quill.linhaAtual||this.marcarLinha(o);const n=new Ht,r=new co(this.quill.linhaAtual.containerDireito.alinhamentoMenu),s=p=>{this.processarEscolhaMenu(p),this.quill.focus()};new uo().insertInto(n),i.forEach(p=>{new po(p,s).insertInto(r)}),r.insertInto(n),this.quill.linhaAtual.blotContainerDireito.remove(),n.insertInto(this.quill.linhaAtual.containerDireito)}}criarElemento(o,e,t,i,n,r,s){const p=new Va;return p.uuid=o,p.lexmlId=e,p.tipo=t,p.numero=n,p.conteudo={texto:i},p.hierarquia=r,p.descricaoSituacao=s,p}inicializar(o){const e=this.getHtmlElement("lx-eta-editor"),t=this.getHtmlElement("lx-eta-buffer");be.configurar(),this._quill=new be(e,t,o),this.quill.on("selection-change",this.onSelectionChange),this.inscricoes.push(this.quill.keyboard.operacaoTecladoInvalida.subscribe(this.onOperacaoInvalida.bind(this))),this.inscricoes.push(this.quill.keyboard.adicionaElementoTeclaEnter.subscribe(this.adicionarElemento.bind(this))),this.inscricoes.push(this.quill.keyboard.moveElemento.subscribe(this.moverElemento.bind(this))),this.inscricoes.push(this.quill.keyboard.removeElemento.subscribe(this.removerElemento.bind(this))),this.inscricoes.push(this.quill.keyboard.renumeraElemento.subscribe(this.renumerarElemento.bind(this))),this.inscricoes.push(this.quill.keyboard.transformaElemento.subscribe(this.transformarElemento.bind(this))),this.inscricoes.push(this.quill.undoRedoEstrutura.subscribe(this.undoRedoEstrutura.bind(this))),this.inscricoes.push(this.quill.elementoSelecionado.subscribe(this.elementoSelecionado.bind(this))),this.inscricoes.push(this.quill.observableSelectionChange.subscribe(this.atualizarTextoElemento.bind(this))),this.inscricoes.push(this.quill.keyboard.onChange.subscribe(this.agendarEmissaoEventoOnChange.bind(this))),this.inscricoes.push(this.quill.clipboard.onChange.subscribe(this.agendarEmissaoEventoOnChange.bind(this)))}agendarEmissaoEventoOnChange(o){clearTimeout(this.timerOnChange),this.timerOnChange=setTimeout(()=>this.emitirEventoOnChange(o),1e3)}atualizarTextoElemento(o){var e,t,i;if(!((e=o==null?void 0:o.blotConteudo)===null||e===void 0)&&e.alterado){const n=this.criarElemento(o.uuid,o.lexmlId,o.tipo,(i=(t=o.blotConteudo)===null||t===void 0?void 0:t.html)!==null&&i!==void 0?i:"",o.numero,o.hierarquia);ye.dispatch(Ea.execute(n))}}emitirEventoOnChange(o){this.atualizarTextoElemento(this.quill.linhaAtual),this.dispatchEvent(new CustomEvent("onchange",{bubbles:!0,composed:!0,detail:{origemEvento:o}}))}carregarArticulacao(o){setTimeout(()=>{this.quill.getLine(0)[0].remove(),o.map(e=>{const t=Ri.criarContainerLinha(e);t.insertInto(this.quill.scroll),e.tipo===R.generico.tipo&&ye.dispatch(Nu.execute(e)),e.descricaoSituacao===G.DISPOSITIVO_ADICIONADO&&t.setEstilo(G.DISPOSITIVO_ADICIONADO)}),this.quill.limparHistory(),setTimeout(()=>{const e=this.quill.getLinha(o[1].uuid);this.quill.setSelection(this.quill.getIndex(e==null?void 0:e.blotConteudo),0,Quill.sources.USER)},0),ye.dispatch(ku.execute())},0)}configEditor(){return{modules:{toolbar:{container:"#lx-eta-barra-ferramenta",handlers:{bold:this.onBold.bind(this),italic:this.onItalic.bind(this),script:this.onScript.bind(this)}},history:{delay:0,maxStack:500,userOnly:!0}},theme:"snow"}}async confirmar(o,e,t){const i=document.createElement("elix-alert-dialog");i.textContent=o,i.choices=e,i.addEventListener("close",t),await i.open()}alertar(o){const e=this.querySelector("#toast-alerta");this.querySelector("#toast-msg").innerHTML=o,e.fromEdge="top",e.open()}quillNaoInicializado(o){var e;let t=[];const i=n=>{setTimeout(()=>{this.quill?n.length>0&&this.carregarArticulacao(n):i(n)},70)};o.elementoReducer.ui&&(t=(e=o.elementoReducer.ui.events.find(n=>n.stateType===j.DocumentoCarregado).elementos)!==null&&e!==void 0?e:[]),i(t)}getHtmlElement(o){return this.querySelector(`#${o}`)}destroiQuill(){this.getHtmlElement("lx-eta-editor").innerHTML="",this.getHtmlElement("lx-eta-buffer").innerHTML="",this.quill&&(this.quill.off("selection-change",this.onSelectionChange),this.quill.destroi()),this._quill=void 0}};Ha=Le([Xt("lexml-eta-editor")],Ha);/**
 * @license
 * Copyright (c) 2017 The Polymer Project Authors. All rights reserved.
 * This code may only be used under the BSD style license found at
 * http://polymer.github.io/LICENSE.txt
 * The complete set of authors may be found at
 * http://polymer.github.io/AUTHORS.txt
 * The complete set of contributors may be found at
 * http://polymer.github.io/CONTRIBUTORS.txt
 * Code distributed by Google as part of the polymer project is also
 * subject to an additional IP rights grant found at
 * http://polymer.github.io/PATENTS.txt
 */const lc=new WeakMap,Dh=o=>typeof o=="function"&&lc.has(o),Ka=typeof window!="undefined"&&window.customElements!=null&&window.customElements.polyfillWrapFlushCallback!==void 0,Ga={},Qa={},_s=`{{lit-${String(Math.random()).slice(2)}}}`,Lh=`<!--${_s}-->`,jh=o=>o.index!==-1,_i=()=>document.createComment(""),Mh=/([ \x09\x0a\x0c\x0d])([^\0-\x1F\x7F-\x9F "'>=/]+)([ \x09\x0a\x0c\x0d]*=[ \x09\x0a\x0c\x0d]*(?:[^ \x09\x0a\x0c\x0d"'`<>=]*|"[^"]*|'[^']*))$/;/**
 * @license
 * Copyright (c) 2017 The Polymer Project Authors. All rights reserved.
 * This code may only be used under the BSD style license found at
 * http://polymer.github.io/LICENSE.txt
 * The complete set of authors may be found at
 * http://polymer.github.io/AUTHORS.txt
 * The complete set of contributors may be found at
 * http://polymer.github.io/CONTRIBUTORS.txt
 * Code distributed by Google as part of the polymer project is also
 * subject to an additional IP rights grant found at
 * http://polymer.github.io/PATENTS.txt
 */class Wa{constructor(e,t,i){this.__parts=[],this.template=e,this.processor=t,this.options=i}update(e){let t=0;for(const i of this.__parts)i!==void 0&&i.setValue(e[t]),t++;for(const i of this.__parts)i!==void 0&&i.commit()}_clone(){const e=Ka?this.template.element.content.cloneNode(!0):document.importNode(this.template.element.content,!0),t=[],i=this.template.parts,n=document.createTreeWalker(e,133,null,!1);let r,s=0,p=0,d=n.nextNode();for(;s<i.length;)if(r=i[s],jh(r)){for(;p<r.index;)p++,d.nodeName==="TEMPLATE"&&(t.push(d),n.currentNode=d.content),(d=n.nextNode())===null&&(n.currentNode=t.pop(),d=n.nextNode());if(r.type==="node"){const c=this.processor.handleTextExpression(this.options);c.insertAfterNode(d.previousSibling),this.__parts.push(c)}else this.__parts.push(...this.processor.handleAttributeExpressions(d,r.name,r.strings,this.options));s++}else this.__parts.push(void 0),s++;return Ka&&(document.adoptNode(e),customElements.upgrade(e)),e}}/**
 * @license
 * Copyright (c) 2017 The Polymer Project Authors. All rights reserved.
 * This code may only be used under the BSD style license found at
 * http://polymer.github.io/LICENSE.txt
 * The complete set of authors may be found at
 * http://polymer.github.io/AUTHORS.txt
 * The complete set of contributors may be found at
 * http://polymer.github.io/CONTRIBUTORS.txt
 * Code distributed by Google as part of the polymer project is also
 * subject to an additional IP rights grant found at
 * http://polymer.github.io/PATENTS.txt
 */const Za=window.trustedTypes&&trustedTypes.createPolicy("lit-html",{createHTML:o=>o}),Fh=` ${_s} `;/**
 * @license
 * Copyright (c) 2017 The Polymer Project Authors. All rights reserved.
 * This code may only be used under the BSD style license found at
 * http://polymer.github.io/LICENSE.txt
 * The complete set of authors may be found at
 * http://polymer.github.io/AUTHORS.txt
 * The complete set of contributors may be found at
 * http://polymer.github.io/CONTRIBUTORS.txt
 * Code distributed by Google as part of the polymer project is also
 * subject to an additional IP rights grant found at
 * http://polymer.github.io/PATENTS.txt
 */const uc=o=>o===null||!(typeof o=="object"||typeof o=="function");class qs{constructor(e){this.value=void 0,this.__pendingValue=void 0,this.options=e}appendInto(e){this.startNode=e.appendChild(_i()),this.endNode=e.appendChild(_i())}insertAfterNode(e){this.startNode=e,this.endNode=e.nextSibling}appendIntoPart(e){e.__insert(this.startNode=_i()),e.__insert(this.endNode=_i())}insertAfterPart(e){e.__insert(this.startNode=_i()),this.endNode=e.endNode,e.endNode=this.startNode}setValue(e){this.__pendingValue=e}commit(){if(this.startNode.parentNode===null)return;for(;Dh(this.__pendingValue);){const t=this.__pendingValue;this.__pendingValue=Ga,t(this)}const e=this.__pendingValue;e!==Ga&&(uc(e)?e!==this.value&&this.__commitText(e):e instanceof class{constructor(t,i,n,r){this.strings=t,this.values=i,this.type=n,this.processor=r}getHTML(){const t=this.strings.length-1;let i="",n=!1;for(let r=0;r<t;r++){const s=this.strings[r],p=s.lastIndexOf("<!--");n=(p>-1||n)&&s.indexOf("-->",p+1)===-1;const d=Mh.exec(s);i+=d===null?s+(n?Fh:Lh):s.substr(0,d.index)+d[1]+d[2]+"$lit$"+d[3]+_s}return i+=this.strings[t],i}getTemplateElement(){const t=document.createElement("template");let i=this.getHTML();return Za!==void 0&&(i=Za.createHTML(i)),t.innerHTML=i,t}}?this.__commitTemplateResult(e):e instanceof Node?this.__commitNode(e):(t=>Array.isArray(t)||!(!t||!t[Symbol.iterator]))(e)?this.__commitIterable(e):e===Qa?(this.value=Qa,this.clear()):this.__commitText(e))}__insert(e){this.endNode.parentNode.insertBefore(e,this.endNode)}__commitNode(e){this.value!==e&&(this.clear(),this.__insert(e),this.value=e)}__commitText(e){const t=this.startNode.nextSibling,i=typeof(e=e==null?"":e)=="string"?e:String(e);t===this.endNode.previousSibling&&t.nodeType===3?t.data=i:this.__commitNode(document.createTextNode(i)),this.value=e}__commitTemplateResult(e){const t=this.options.templateFactory(e);if(this.value instanceof Wa&&this.value.template===t)this.value.update(e.values);else{const i=new Wa(t,e.processor,this.options),n=i._clone();i.update(e.values),this.__commitNode(n),this.value=i}}__commitIterable(e){Array.isArray(this.value)||(this.value=[],this.clear());const t=this.value;let i,n=0;for(const r of e)i=t[n],i===void 0&&(i=new qs(this.options),t.push(i),n===0?i.appendIntoPart(this):i.insertAfterPart(t[n-1])),i.setValue(r),i.commit(),n++;n<t.length&&(t.length=n,this.clear(i&&i.endNode))}clear(e=this.startNode){((t,i,n=null)=>{for(;i!==n;){const r=i.nextSibling;t.removeChild(i),i=r}})(this.startNode.parentNode,e.nextSibling,this.endNode)}}let Uh=!1;(()=>{try{const o={get capture(){return Uh=!0,!1}};window.addEventListener("test",o,o),window.removeEventListener("test",o,o)}catch{}})(),typeof window!="undefined"&&(window.litHtmlVersions||(window.litHtmlVersions=[])).push("1.3.0");/**
 * @license
 * Copyright (c) 2017 The Polymer Project Authors. All rights reserved.
 * This code may only be used under the BSD style license found at
 * http://polymer.github.io/LICENSE.txt
 * The complete set of authors may be found at
 * http://polymer.github.io/AUTHORS.txt
 * The complete set of contributors may be found at
 * http://polymer.github.io/CONTRIBUTORS.txt
 * Code distributed by Google as part of the polymer project is also
 * subject to an additional IP rights grant found at
 * http://polymer.github.io/PATENTS.txt
 */const Xa=new WeakMap,Ya=(o=>(...e)=>{const t=o(...e);return lc.set(t,!0),t})(o=>e=>{if(!(e instanceof qs))throw new Error("unsafeHTML can only be used in text bindings");const t=Xa.get(e);if(t!==void 0&&uc(o)&&o===t.value&&e.value===t.fragment)return;const i=document.createElement("template");i.innerHTML=o;const n=document.importNode(i.content,!0);e.setValue(n),Xa.set(e,{value:o,fragment:n})});let qn=class extends pt{constructor(){super(...arguments),this.htmlAgrupador=()=>{var o,e,t;return He`<p class="rotulo">${this.elemento.rotulo}</p>
      <p class="texto-agrupador">${Ya((t=(e=(o=this.elemento)===null||o===void 0?void 0:o.conteudo)===null||e===void 0?void 0:e.texto)!==null&&t!==void 0?t:"")}</p>`},this.htmlDispositivo=()=>{var o,e,t;return He`
      <p class="texto" style="${`padding-left: ${20*this.elemento.nivel}px;`}">
        <span class="rotulo">${this.elemento.rotulo}</span>
        ${Ya((t=(e=(o=this.elemento)===null||o===void 0?void 0:o.conteudo)===null||e===void 0?void 0:e.texto)!==null&&t!==void 0?t:"")}
      </p>
    `}}render(){return He`
      <div class="box">
        <div class="conteudo">${this.elemento.agrupador?this.htmlAgrupador():this.htmlDispositivo()}</div>
      </div>
    `}};qn.styles=ds`
    :host {
      display: block;
      padding: 0px;
      margin: 0px;
      font-family: sans-serif, 'Open Sans', -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, 'Helvetica Neue', 'Apple Color Emoji', 'Segoe UI Emoji', 'Segoe UI Symbol',
        'Noto Color Emoji';
      font-size: 1.1em;
      line-height: 1.2;
      color: #646260;
      text-transform: none !important;
    }

    p.rotulo {
      margin: 5px !important;
      color: #373634;
      font-weight: 600;
      text-align: center;
    }

    p.texto {
      margin: 5px !important;
    }

    p.texto-agrupador {
      margin: 5px !important;
      text-align: center;
    }

    span.rotulo {
      color: #373634;
      font-weight: 600;
    }
  `,Le([Et({type:Object})],qn.prototype,"elemento",void 0),qn=Le([Xt("lexml-eta-elemento")],qn);let Sr=class extends pt{render(){return He`
      <div class="lx-eta-help">
        <button class="lx-eta-helpbtn">&quest;</button>
        <div class="lx-eta-help-content">
          <div><b>ctrl-shift-a</b>&nbsp;-&nbsp;Seleciona o texto do dispositivo atual</div>
          <div><b>ctrl-a</b>&nbsp;-&nbsp;Seleciona todos os dispositivos da articulao</div>
          <div><b>ctrl-home</b>&nbsp;-&nbsp;Vai para o primeiro dispositivo</div>
          <div><b>ctrl-end</b>&nbsp;-&nbsp;Vai para o ltimo dispositivo</div>
          <div><b>ctrl-&uarr;</b>&nbsp;-&nbsp;Move o dispositivo acima</div>
          <div><b>ctrl-&darr;</b>&nbsp;-&nbsp;Move o dispositivo abaixo</div>
          <hr></hr>
          <div><b>enter</b>&nbsp;-&nbsp;Finaliza a edio do dispositivo atual e cria um novo</div>
          <div><b>ctrl-d</b>&nbsp;-&nbsp;Remove dispositivo atual</div>
          <div><b>ctrl-z</b>&nbsp;-&nbsp;Desfaz ultima alterao</div>
          <div><b>ctrl-y</b>&nbsp;-&nbsp;Refaz alterao</div>
          <hr></hr>
          <div><b>ctrl-alt-A</b>&nbsp;-&nbsp;Transforma o dispositivo em artigo</div>
          <div><b>ctrl-alt-L</b>&nbsp;-&nbsp;Transforma o dispositivo em alnea</div>
          <div><b>ctrl-alt-N</b>&nbsp;-&nbsp;Transforma o dispositivo em inciso</div>
          <div><b>ctrl-alt-O</b>&nbsp;-&nbsp;Transforma o dispositivo em omissis</div>
          <div><b>ctrl-alt-P</b>&nbsp;-&nbsp;Transforma o dispositivo em pargrafo</div>
          <div><b>ctrl-alt-T</b>&nbsp;-&nbsp;Transforma o dispositivo em item</div>
          <div><b>tab</b>&nbsp;-&nbsp;Indenta para a direita o dispositivo, transformando-o no tipo mais provvel</div>
          <div><b>shift-tab</b>&nbsp;-&nbsp;Recua o dispositivo para a esquerda, transformando-o no tipo mais provvel</div>
          <hr></hr>
          <div><b>ctrl-alt-R</b>&nbsp;-&nbsp;Renumera o dispositivo</div>
        </div>
      </div>
    `}};Sr.styles=ds`
    :host {
      position: relative;
      display: inline-block;
    }

    .lx-eta-helpbtn {
      background-color: #ffffff;
      color: black;
      width: 26px;
      height: 22px;
      font-size: 1.1em;
      font-weight: bold;
      vertical-align: middle;
      border: none;
      cursor: pointer;
      text-align: center;
    }

    .lx-eta-help-content {
      display: none;
      position: absolute;
      right: 0;
      background-color: #f9f9f9;
      box-shadow: 0px 4px 4px 4px rgba(0, 0, 0, 0.25);
      z-index: 1;
      width: calc(100vw - 30px);
      max-width: 400px;
    }

    .lx-eta-help-content div {
      color: black;
      padding: 2px 5px;
      text-decoration: none;
      display: block;
      white-space: wrap;
      font-size: 0.8em;
      font-weight: normal !important;
      text-align: left;
    }

    .lx-eta-help:hover .lx-eta-help-content {
      display: block;
    }
  `,Sr=Le([Xt("lexml-eta-help")],Sr);class he{static getDispositivosNaoOriginais(e){const t=[];return ni(e,i=>{i.pai&&i.situacao.descricaoSituacao!==G.DISPOSITIVO_ORIGINAL&&t.push(i)}),t}static getDispositivosComando(e){const t=new Array;for(const i of e){if(i.situacao.descricaoSituacao===G.DISPOSITIVO_ORIGINAL||X(i)||Ve(i))continue;const n=he.getDispositivoAfetado(i);n&&!t.includes(n)&&t.push(n)}return t}static getDispositivoAfetado(e){if(ue(e)||W(e))return e;const t=e.pai;return ke(t)&&t.pai.situacao.descricaoSituacao!==G.DISPOSITIVO_ORIGINAL?t.filhos.find(i=>i.situacao.descricaoSituacao===G.DISPOSITIVO_ORIGINAL)?e:t.pai:he.isAlteracaoIntegral(t)?he.getDispositivoAfetado(t):e}static isTextoOmitido(e){var t;return ze(e)||e.texto.startsWith(ft)||ue(e)&&!!(!((t=e.caput)===null||t===void 0)&&t.texto.startsWith(ft))}static isAlteracaoIntegral(e){if(e.situacao.descricaoSituacao===G.DISPOSITIVO_ORIGINAL)return!1;if(e.situacao.descricaoSituacao===G.DISPOSITIVO_SUPRIMIDO||e.situacao.descricaoSituacao===G.DISPOSITIVO_ADICIONADO)return!0;if(!e.filhos.length)return!W(e)||e.situacao.descricaoSituacao!==G.DISPOSITIVO_ORIGINAL;for(const t of e.filhos)if(!he.isAlteracaoIntegral(t))return!1;return!0}static getArvoreDispositivos(e){const t=new Array;return e.length&&e.forEach(i=>{this.atualizaMapa(i,t)}),t}static atualizaMapa(e,t){const i=this.getHierarquiaDispositivosDeUmDispositivo(e);let n=t;i.forEach(r=>{const s=n.find(p=>p.dispositivo===r);if(s)n=s.filhos;else{const p=new $h(r);n.push(p),n=p.filhos}})}static getHierarquiaDispositivosDeUmDispositivo(e){const t=new Array;t.push(e);let i=e.pai;for(;i&&!Co(i)&&!Op(i);)t.push(i),i=i.pai;return t.reverse(),t}static isSequenciasPlural(e){const t=e.length;return t!==0&&(t>1||he.isSequenciaPlural(e[0]))}static isSequenciaPlural(e){const t=e.getQuantidadeRanges();return t!==0&&(t>1||e.getPrimeiroRange().getQuantidadeDispositivos()>1)}static getProximoAgrupador(e){let t=e;do t=Yi(t);while(t&&!ue(t));return t}static getDispositivoIrmaoPosterior(e){if(W(e)||ue(e))return this.getArtigoPosterior(e);if(!this.isUltimoDispositivoDoMesmoTipo(e)){const t=e.pai,i=t.filhos.indexOf(e)+1;return t.filhos[i]}}static getArtigoPosterior(e){const t=e.pai;if(t.filhos.length){for(let i=t.filhos.indexOf(e)+1;i<t.filhos.length;i++){const n=t.filhos[i];if(W(n))return n;if(ue(n)){const r=this.buscaProximoArtigo(n);if(r)return r}}if(t.pai)return this.getArtigoPosterior(t)}}static buscaProximoArtigo(e){const t=e.filhos;for(const i of t){if(W(i))return i;if(ue(i))return this.buscaProximoArtigo(i)}}static isUltimoDispositivoDoMesmoTipo(e){if(!e.pai)return!0;const t=e.pai,i=t.filhos.indexOf(e);return t.filhos.length===i+1||t.filhos[i+1].tipo!==e.tipo}static getFilhosEstiloLexML(e){if(W(e)){const t=e;return[t.caput,...t.filhos.filter(i=>fe(i))]}return e.filhos}static getDispositivoAnteriorDireto(e){const t=e.pai,i=this.getFilhosEstiloLexML(t),n=i.indexOf(e);if(!(n>0))return t;for(e=i[n-1];e.filhos.length;)e=e.filhos[e.filhos.length-1];return e}static getDispositivoPosteriorDireto(e){const t=this.getFilhosEstiloLexML(e);return t.length?t[0]:this.getProximoIrmaoRecursivo(e)}static getProximoIrmaoRecursivo(e){if(!e)return;const t=Yi(e);if(t)return t;{const i=e.pai;return i?void 0:this.getProximoIrmaoRecursivo(i)}}static isMesmoTipoParaComandoEmenda(e,t){return e.tipo===t.tipo&&(!W(e)||he.isAlteracaoIntegral(e)===he.isAlteracaoIntegral(t))}static trataTextoParaCitacao(e){return(W(e)?e.caput.texto:e.texto).replace(/( *(?:\(NR\)) *)?/,"\u2019$1 ").replace(/^\s*<p>\s*/i,"").replace(/\s*<\/p>\s*$/i,"")}}class $h{constructor(e,t=new Array){this.dispositivo=e,this.filhos=t}}const cc=(o,e)=>{o.splice(o.indexOf(e),1)};class gt{constructor(e){this.dispositivos=[],e&&this.add(e)}isSituacao(e){return!!this.dispositivos.length&&this.dispositivos[0].situacao.descricaoSituacao===e}isTipo(e){return!!this.dispositivos.length&&this.dispositivos[0].tipo===e}add(e){return!!this.podeAdicionarAoRange(e)&&(this.dispositivos.push(e),!0)}addInicio(e){this.dispositivos.splice(0,0,e)}isUltimo(e){return this.dispositivos.indexOf(e)===this.dispositivos.length-1}getPrimeiro(){return this.dispositivos[0]}getUltimo(){return this.dispositivos[this.dispositivos.length-1]}getQuantidadeDispositivos(){return this.dispositivos.length}getAnterior(e){if(!(e<1))return this.dispositivos[e-1]}getNumeracaoParaComandoEmenda(){let e=this.dispositivos[0].getNumeracaoParaComandoEmenda();return this.dispositivos.length>1&&(e+=" a "+this.getUltimo().getNumeracaoParaComandoEmenda()),e}print(e,t){this.isRotuloNecessario(t)?this.printRotuloInicio(e,t):e.append(this.dispositivos[0].getNumeracaoParaComandoEmenda()),this.printSeparadorProximoDispositivo(e,t),this.printRotuloFimSeExistir(e)}printRotuloFimSeExistir(e){this.dispositivos.length>=2&&e.append(this.dispositivos[this.dispositivos.length-1].getNumeracaoParaComandoEmenda())}printSeparadorProximoDispositivo(e,t){const i=this.getRangeDispositivosPosterior(t);this.dispositivos.length>=3?e.append(" a "):this.dispositivos.length!==2||i?this.dispositivos.length>1&&this.dispositivos.length<3&&i&&e.append(", "):e.append(" e ")}printRotuloInicio(e,t){const i=this.getRangeDispositivosPosterior(t);this.hasApenasUmDispositivo()&&!i||i&&!this.isMesmoTipoSituacao(i)?e.append(this.getRotuloCompletoSingular(this.dispositivos[0])):e.append(this.getRotuloCompletoPlural(this.dispositivos[0]))}isMesmoTipoSituacao(e){return e.isTipo(this.dispositivos[0].tipo)&&e.isSituacao(this.dispositivos[0].situacao.descricaoSituacao)}hasApenasUmDispositivo(){return this.dispositivos.length===1}isRotuloNecessario(e){const t=this.getRangeDispositivosAnterior(e);return!t||!t.isMesmoTipoSituacao(this)||!(!this.isSituacao(G.DISPOSITIVO_ADICIONADO)||this.isMesmoPai(t))}isMesmoPai(e){return this.getPrimeiro().pai===e.getPrimeiro().pai}getRotuloCompletoSingular(e){const t=new Ke;e.situacao.descricaoSituacao!==G.DISPOSITIVO_ADICIONADO?t.append(e.artigoDefinidoSingular):t.append(" ");const i=e.getNumeracaoComRotuloParaComandoEmenda();return i.endsWith(".")?t.append(i.substring(0,i.indexOf("."))):t.append(i),t.toString()}getRotuloCompletoPlural(e){const t=new Ke;return e.situacao.descricaoSituacao!==G.DISPOSITIVO_ADICIONADO?t.append(e.artigoDefinidoPlural):t.append(" "),t.append(this.getTipoDispositivoPlural(e)),t.append(" "),t.append(e.getNumeracaoParaComandoEmenda()),t.toString()}getRangeDispositivosAnterior(e){const t=e.indexOf(this);if(t>0)return e[t-1]}getRangeDispositivosPosterior(e){if(e.length===1)return;const t=e.indexOf(this);return t>=0&&t<e.length-1?e[t+1]:void 0}getTipoDispositivoPlural(e){var t;return e.tipo===R.artigo.tipo?"arts.":e.tipo===R.paragrafo.tipo?"\xA7\xA7":((t=e.descricaoPlural)===null||t===void 0?void 0:t.toLocaleLowerCase())+""}podeAdicionarAoRange(e){if(this.isVazio())return!0;const t=this.getUltimo();return t.tipo===e.tipo&&t.situacao.descricaoSituacao===e.situacao.descricaoSituacao&&!(!W(e)&&e.pai!==t.pai)&&(i=>{const n=Ze(i),r=n.indexOf(i);return r<n.length-1?n[r+1]:void 0})(t)===e&&he.isAlteracaoIntegral(t)===he.isAlteracaoIntegral(e)}isVazio(){return this.dispositivos.length===0}toString(){const e=new Ke;return this.dispositivos.forEach(t=>{e.append(" "),e.append(""+t.rotulo)}),e.toString()}getDispositivos(){return this.dispositivos}getDispositivo(e){return this.dispositivos[e]}}class So{constructor(){this.ranges=new Array,this.localizarArtigoEmAgrupador=!1,this.informarCaputDoDispositivo=!1}isVazio(){return this.ranges.length===0}add(e){this.ranges.push(e)}addInicio(e){this.ranges.unshift(e)}getQuantidadeRanges(){return this.ranges.length}getPrimeiroRange(){return this.ranges[0]}getPrimeiroDispositivo(){return this.ranges[0].getPrimeiro()}getUltimoDispositivo(){return this.ranges[this.ranges.length-1].getUltimo()}getRanges(){return this.ranges}setRanges(e){this.ranges=e}getRange(e){return this.ranges[e]}getTextoListaDeDispositivos(){const e=new Ke,t=this.ranges.length;let i=1;for(const n of this.ranges)i>1&&(i===t?e.append(" e "):e.append(", ")),e.append(n.getNumeracaoParaComandoEmenda()),i++;return e.toString()}static debug(e){const t=new Ke;for(const i of e)t.append("seq: "+i);console.log(t)}toString(){return this.ranges.toString()}remove(e){cc(this.ranges,e)}}class $o{getSequencias(e){const t=this.getRanges(e);return this.agrupaRanges(t)}getRanges(e){let t=new Array,i=new gt;for(const n of e)i.add(n)||(t.push(i),i=new gt,i.add(n));return i.isVazio()||t.push(i),t=$o.separaRangesDeDoisDispositivos(t),t}static separaRangesDeDoisDispositivos(e){const t=new Array;for(const i of e)i.getQuantidadeDispositivos()===2?(t.push(new gt(i.getPrimeiro())),t.push(new gt(i.getUltimo()))):t.push(i);return t}separaRangesDeDoisDispositivosEmSequencias(e){for(const t of e)t.setRanges($o.separaRangesDeDoisDispositivos(t.getRanges()))}agrupaRanges(e){const t=new Array;let i=new So;for(const n of e)i.isVazio()?(i.add(n),t.push(i)):this.isMesmaSequencia(i,n)?i.add(n):(i=new So,i.add(n),t.push(i));return t}isMesmaSequencia(e,t){const i=e.getPrimeiroDispositivo(),n=t.getUltimo();return he.isMesmoTipoParaComandoEmenda(i,n)&&i.situacao.descricaoSituacao===n.situacao.descricaoSituacao&&(i.tipo===R.artigo.tipo||i.pai===n.pai)&&i.tipo!==R.omissis.tipo}separaDispositivosSeguidosDeOmissis(e){const t=new Array;for(const i of e)t.push(...this.separaDispositivosSeguidosDeOmissis2(i));return t}separaDispositivosSeguidosDeOmissis2(e){const t=new Array;let i=new So;t.push(i);let n=new gt;i.add(n);for(const r of e.getRanges()){n.getQuantidadeDispositivos()>0&&(n=new gt,i.add(n));for(const s of r.getDispositivos()){const p=Yi(s);p&&p.tipo===R.omissis.tipo?(this.adicionaouDispositivos(i,n)&&(n.getQuantidadeDispositivos()===0&&i.remove(n),i=new So,t.push(i),n=new gt,i.add(n)),i.informarCaputDoDispositivo=!0,n.add(s),i=new So,t.push(i),n=new gt,i.add(n)):n.add(s)}}return n.getQuantidadeDispositivos()===0&&i.remove(n),i.getQuantidadeRanges()===0&&cc(t,i),this.separaRangesDeDoisDispositivosEmSequencias(t),t}adicionaouDispositivos(e,t){return e.getQuantidadeRanges()>1||t.getQuantidadeDispositivos()>0}}class jo{static compare(e,t){if(!e||!t)throw new Error("Tentativa de compara\xE7\xE3o de dispositivo nulo.");if(!e.pai)return-1;if(!t.pai)return 1;const i=jo.getIndices(e),n=jo.getIndices(t);return jo.comparaIndices(i,n)}static getIndices(e){const t=[];let i=this.getPaiParaComparacao(e);for(;i;)t.push(this.getIndexDoFilho(i,e)),e=i,i=this.getPaiParaComparacao(e);return t.reverse(),t}static getPaiParaComparacao(e){if(e.pai)return W(e.pai)&&Ve(e)?e.pai.caput:e.pai}static getIndexDoFilho(e,t){return ke(t)?0:fe(t)?e.filhos.indexOf(t)+1:Ve(t)?-1:e.filhos.indexOf(t)}static comparaIndices(e,t){let i=0;const n=e.length,r=t.length;for(let s=0;s<n&&s<r&&i===0;s++)i=e[s]-t[s];return i===0&&(i=n-r),i}}class Jn{constructor(e){this.dispositivos=e}static compare(e,t){var i,n;return!((i=e.dispositivos)===null||i===void 0)&&i.length?!((n=t.dispositivos)===null||n===void 0)&&n.length?jo.compare(e.dispositivos[0],t.dispositivos[0]):-1:1}}var Mo;(function(o){o[o.NENHUM=0]="NENHUM",o[o.DEFINIDO=1]="DEFINIDO",o[o.DEFINIDO_COM_PREPOSICAO_A=2]="DEFINIDO_COM_PREPOSICAO_A"})(Mo||(Mo={}));class pn{constructor(){this.artigoAntesDispositivo=Mo.NENHUM}getTexto(e){const t=new Ke,i=e.length;let n=1;for(const r of e)n>1&&(n===i?t.append(" e "):t.append(", ")),r.informarCaputDoDispositivo?t.append(this.getReferenciaCaputDoDispositivo(r)):t.append(this.getTextoArtigoAntesSequencia(r)),t.append(this.getRotuloTipoDispositivo(r)),t.append(" "),t.append(r.getTextoListaDeDispositivos()),t.append(this.getRotuloPaisSequencia(r)),n++;return t.toString()}getReferenciaCaputDoDispositivo(e){const t=new Ke,i=e.getPrimeiroDispositivo();if(i.tipo===R.caput.tipo)return this.getTextoArtigoAntesSequencia(e);const n=he.isSequenciaPlural(e);return t.append(this.getTextoArtigoAntesDispositivo(this.artigoAntesDispositivo,Vu,n)),t.append(" caput "),e.getRange(0).getQuantidadeDispositivos()===1?t.append(i.pronomePossessivoSingular):t.append(i.pronomePossessivoPlural),t.toString()}getTextoArtigoAntesSequencia(e){const t=e.getPrimeiroDispositivo(),i=he.isSequenciaPlural(e);return this.getTextoArtigoAntesDispositivo(this.artigoAntesDispositivo,t,i)}getTextoArtigoAntesDispositivo(e,t,i){switch(e){case Mo.DEFINIDO:return i?t.artigoDefinidoPlural:t.artigoDefinidoSingular;case Mo.DEFINIDO_COM_PREPOSICAO_A:return i?t.artigoDefinidoPrecedidoPreposicaoAPlural:t.artigoDefinidoPrecedidoPreposicaoASingular;default:return""}}getRotuloTipoDispositivo(e){const t=e.getPrimeiroDispositivo();return pn.getRotuloTipoDispositivo(t,he.isSequenciaPlural(e))}static getRotuloTipoDispositivo(e,t){return e.getNumeracaoParaComandoEmenda().indexOf("\xFAnico")>=0?"":t?W(e)?"arts.":fe(e)?"\xA7\xA7":String(e.descricaoPlural).toLocaleLowerCase():W(e)?e.situacao.descricaoSituacao!==G.DISPOSITIVO_MODIFICADO||he.isAlteracaoIntegral(e)?"art.":"caput do art.":fe(e)?"\xA7":String(e.descricao).toLowerCase()}getRotuloPaisSequencia(e){const t=e.getPrimeiroDispositivo(),i=e.localizarArtigoEmAgrupador;return this.getRotuloPais(t,i)}getRotuloPais(e,t){var i;const n=new Ke;let r;for(;!Co(e);){if(r=e.pai,r&&Ve(r)){if(e.tipo===R.omissis.tipo){const s=he.getDispositivoAnteriorDireto(e);if(s.tipo!==R.alteracao.tipo)return n.append("ap\xF3s "),n.append(s.artigoDefinidoSingular),n.append(s.getNumeracaoComRotuloParaComandoEmenda()),n.append(this.getRotuloPais(s,t)),n.toString()}break}if(r&&!Co(r)&&(!ue(r)||W(e)&&t)){const s=X(e),p=!s&&e.situacao.descricaoSituacao===G.DISPOSITIVO_ADICIONADO,d=s&&!he.isTextoOmitido(e)&&e.situacao.descricaoSituacao===G.DISPOSITIVO_ADICIONADO;if(p||d)n.append(r.artigoDefinidoPrecedidoPreposicaoASingular);else if(ze(e)){const c=he.getDispositivoAnteriorDireto(e),u=he.getDispositivoPosteriorDireto(e);if(c===r&&u&&u.pai===r){const a=u.pronomePossessivoSingular+" "+((i=u.descricao)===null||i===void 0?void 0:i.toLowerCase())+" "+u.getNumeracaoParaComandoEmenda();n.append("antes "+a),n.append(r.pronomePossessivoSingular)}else if(!Ee(c)||!c.pai)return n.append("ap\xF3s "),n.append(c.artigoDefinidoSingular),n.append(c.getNumeracaoComRotuloParaComandoEmenda()),n.append(this.getRotuloPais(c,t)),n.toString()}else n.append(r.pronomePossessivoSingular);n.append(r.getNumeracaoComRotuloParaComandoEmenda())}else if(W(e)&&Co(r)&&t){const s=he.getProximoAgrupador(e);s&&(n.append(" antes "),n.append(s.pronomePossessivoSingular),n.append(s.getNumeracaoComRotuloParaComandoEmenda()))}if(!r)break;e=r}return n.toString()}setArtigoAntesDispositivo(e){this.artigoAntesDispositivo=e}}class Bh extends Jn{constructor(e){super(e),this.dispositivos=e}getTexto(e,t,i){const n=new Ke,r=new $o().getSequencias(this.dispositivos);t?(n.append("D\xEA-se "),i||n.append("nova reda\xE7\xE3o ")):(n.append(i?"; e ":"; "),n.append("d\xEA-se nova reda\xE7\xE3o "));const s=new pn;return s.setArtigoAntesDispositivo(Mo.DEFINIDO_COM_PREPOSICAO_A),n.append(s.getTexto(r)),i&&(n.append(" "+e.genero.pronomePossessivoSingular+" "+e.nome),n.append(t?" a seguinte reda\xE7\xE3o:":", nos termos a seguir:")),Wn(n.toString())}}class zh extends Jn{constructor(e){super(e),this.dispositivos=e}getTexto(e,t,i){const n=new Ke;let r=new $o().getSequencias(this.dispositivos);r=this.trataLocalizacaoArtigoEmAgrupador(r);const s=he.isSequenciasPlural(r);t?n.append(s?"Acrescentem-se ":"Acrescente-se "):(n.append(i?"; e ":"; "),n.append(s?"acrescentem-se ":"acrescente-se "));const p=new pn;if(n.append(p.getTexto(r)),i){const d=r[r.length-1];!W(d.getPrimeiroDispositivo())||d.localizarArtigoEmAgrupador?n.append(e.genero.pronomePossessivoSingular):n.append(e.genero.artigoDefinidoPrecedidoPreposicaoASingular),n.append(e.nome),n.append(t?", com a seguinte reda\xE7\xE3o:":", nos termos a seguir:")}return Wn(n.toString())}trataLocalizacaoArtigoEmAgrupador(e){const t=new Array;for(const i of e)W(i.getPrimeiroDispositivo())?t.push(...this.trataLocalizacaoArtigoAgrupadorSequencia(i)):t.push(i);return t}trataLocalizacaoArtigoAgrupadorSequencia(e){const t=new Array,i=new Array;for(const d of e.getRanges())i.push(...d.getDispositivos());let n=!1;for(const d of i)if(this.isInclusaoArtigoProximoAgrupador(d)){n=!0;break}if(!n)return t.push(e),t;let r=new So;r.localizarArtigoEmAgrupador=!0,t.push(r);let s,p=new gt;r.add(p);for(const d of i)p.isVazio()||(d.pai!==s.pai?(r=new So,r.localizarArtigoEmAgrupador=!0,t.push(r),p=new gt,r.add(p)):he.getDispositivoIrmaoPosterior(s)!==d&&(p=new gt,r.add(p))),p.add(d),s=d;for(const d of t)d.setRanges($o.separaRangesDeDoisDispositivos(d.getRanges()));return t}isInclusaoArtigoProximoAgrupador(e){return this.isInclusaoArtigoInicioAgrupador(e)||this.isInclusaoArtigoAntesAgrupador(e)}isInclusaoArtigoInicioAgrupador(e){const t=e.pai;return!(Co(t)||!ue(t))&&t.filhos.indexOf(e)===0}isInclusaoArtigoAntesAgrupador(e){const t=e.pai,i=he.getDispositivoIrmaoPosterior(e);return!!i&&t!==i.pai}}class Vh extends Jn{constructor(e){super(e),this.dispositivos=e}getTexto(e,t,i){const n=new Ke,r=new $o().getSequencias(this.dispositivos),s=he.isSequenciasPlural(r);t?n.append(s?"Suprimam-se ":"Suprima-se "):(n.append(i?"; e ":"; "),n.append(s?"suprimam-se ":"suprima-se "));const p=new pn;return p.setArtigoAntesDispositivo(Mo.DEFINIDO),n.append(p.getTexto(r)),i&&(n.append(" "+e.genero.pronomePossessivoSingular+" "+e.nome),n.append(t?".":", nos termos a seguir:")),Wn(n.toString())}}class Hh{constructor(){this.classificacao=dt.EMENDA,this.proposicao=new Kh,this.dispositivosSuprimidos=[],this.dispositivosModificados=[],this.dispositivosAdicionados=[],this.comandoEmenda=new dc,this.justificativa=""}}class Kh{constructor(){this.urn="",this.identificacao=""}}class Is{constructor(){this.id=""}}class Gh extends Is{}class Qh extends Is{constructor(){super(...arguments),this.texto=""}}class Wh extends Is{}class dc{constructor(){this.comandos=[]}}class Zh{constructor(e,t){this.cabecalho=e,this.citacao=t}}class Xh{constructor(e){this.dispositivos=e}getTexto(e){if(!this.dispositivos.length)return"";let t;const i=e.genero.contracaoEmArtigoDefinidoSingular+" "+e.nome;return t=this.dispositivos.length>1?"Acrescentem-se, onde couber, "+i+" os seguintes artigos:":"Acrescente-se, onde couber, "+i+" o seguinte artigo:",Wn(t)}}class Be{constructor(e){this.nome=e,this.valores=new Array,this.atributos=new Ke}toString(){if(!this.valores.length)return"<"+this.nome+this.atributos+"/>";const e=new Ke("<"+this.nome+this.atributos+">");return this.valores.forEach(t=>{e.append(t)}),e.append("</"+this.nome+">"),e.toString()}add(e){return e&&this.valores.push(e),this}addAtributo(e,t){return this.atributos.append(" "),this.atributos.append(e),t&&(this.atributos.append("='"),this.atributos.append(t),this.atributos.append("'")),this}}class Yh{constructor(){this.emAlteracao=!1,this.abrirAspasSimples=!1}getTexto(e){let t=he.getArvoreDispositivos(e);const i=new Ke,n=t[0],r=n.dispositivo;t=n.filhos;const s=new Be("p").add("\u201C").add(new Be("Rotulo").add(r.rotulo)).add(this.getTextoDoDispositivoOuOmissis(r));return i.append(s.toString()),t.length&&(this.ultimoProcessado=r,this.writeDispositivoTo(i,t)),this.writeOmissisFinal(i,r),i.toString().replace(/(<\/p>(?:<\/Alteracao>)?)$/,"\u201D$1")}getTextoDoDispositivoOuOmissis(e){return e.situacao.descricaoSituacao===G.DISPOSITIVO_ADICIONADO||e.situacao.descricaoSituacao===G.DISPOSITIVO_MODIFICADO||ke(e)?he.trataTextoParaCitacao(e):e.situacao.descricaoSituacao===G.DISPOSITIVO_SUPRIMIDO?"(Suprimido)":new Be("Omissis")}writeDispositivoTo(e,t){t.forEach(i=>{var n;const r=i.dispositivo;if(Ve(r))return e.append("<Alteracao>"),this.emAlteracao=!0,this.abrirAspasSimples=!0,this.ultimoProcessado=r,i.filhos.length&&this.writeDispositivoTo(e,i.filhos),void e.append("</Alteracao>");if(ke(r))return this.ultimoProcessado=r,void(i.filhos.length&&this.writeDispositivoTo(e,i.filhos));const s=he.getDispositivoAnteriorDireto(r);if(W(this.ultimoProcessado)&&!ke(r)?ke(s)||e.append(new Be("p").add(new Be("Omissis")).toString()):this.ultimoProcessado===s||this.ultimoProcessado.situacao.descricaoSituacao===G.DISPOSITIVO_SUPRIMIDO&&((p,d)=>{if(!p||!d)return!1;let c=p.pai;for(;c;){if(c===d)return!0;c=c.pai}return!1})(s,this.ultimoProcessado)||e.append(new Be("p").add(new Be("Omissis")).toString()),r.situacao.descricaoSituacao!==G.DISPOSITIVO_ORIGINAL||this.hasFilhosPropostos(i.filhos)){const p=W(r)?r.caput:r,d=this.emAlteracao?(n=r.rotulo)===null||n===void 0?void 0:n.replace("\u201C",""):r.rotulo,c=new Be("p");this.abrirAspasSimples&&(c.add("\u2018"),this.abrirAspasSimples=!1),c.add(new Be("Rotulo").add(d)).add(this.getTextoDoDispositivoOuOmissis(p)),e.append(c.toString())}else e.append(new Be("p").add(new Be("Omissis")).toString());this.ultimoProcessado=r,i.filhos.length&&this.writeDispositivoTo(e,i.filhos)})}writeOmissisFinal(e,t){if(t.situacao.descricaoSituacao===G.DISPOSITIVO_SUPRIMIDO)return;let i=t;for(;i.filhos.length;)i=i.filhos[i.filhos.length-1];i.situacao.descricaoSituacao!==G.DISPOSITIVO_ORIGINAL||Uu(i)||e.append(new Be("p").add(new Be("Omissis")).toString())}hasFilhosPropostos(e){if(!e.length)return!1;let t=!1;for(const i of e){if(i.dispositivo.situacao.descricaoSituacao!==G.DISPOSITIVO_ORIGINAL){t=!0;break}if(!t&&i.filhos.length&&(t=this.hasFilhosPropostos(i.filhos),t))break}return t}}class Jh{getTexto(e){const t=new Ke,i=ke(e)?e.pai.rotulo:e.rotulo,n=new Be("Rotulo").add(i==null?void 0:i.trim()),r=new Be("p").add("\u201C").add(n).add(he.trataTextoParaCitacao(e));if(this.necessitaOmissis(e)){const s=new Be("p").add(new Be("Omissis")).add("\u201D");t.append(r.toString()),t.append(s.toString())}else r.add("\u201D"),t.append(r.toString());return t.toString()}necessitaOmissis(e){return this.temFilhoNaoSuprimido(e)&&!X(e)}temFilhoNaoSuprimido(e){for(const t of e.filhos)if(t.situacao.descricaoSituacao!==G.DISPOSITIVO_SUPRIMIDO)return!0;return!1}}class ef{constructor(e){this.articulacao=e}getTexto(){const e=new Ke,t=this.getDispositivosParaCitacao();if(t.length-t.filter(i=>i.situacao.descricaoSituacao===G.DISPOSITIVO_SUPRIMIDO).length>0){const i=t[0];t.length!==1||W(i)?this.getCitacoesMultiplas(e,t):e.append(new Jh().getTexto(i))}return e.toString()}getDispositivosParaCitacao(){const e=he.getDispositivosNaoOriginais(this.articulacao);e.sort(jo.compare);const t=new Array;return e.forEach(i=>{Ve(i)?i.pai.situacao.descricaoSituacao===G.DISPOSITIVO_ADICIONADO&&t.push(i):X(i)?t.indexOf(i.pai)>=0&&t.push(i):Uu(i)||t.push(i)}),t}getCitacoesMultiplas(e,t){let i,n,r=new Array;t.forEach(s=>{i=!W(s)&&!ue(s)||X(s)?Ru(s):s,i!==n&&(r.length&&this.getCitacaoMultipla(e,r),r=[],r.push(i),n=i),r.indexOf(s)<0&&r.push(s)}),r.length&&this.getCitacaoMultipla(e,r)}getCitacaoMultipla(e,t){e.append(new Yh().getTexto(t))}}class pc{constructor(e,t){this.urn=e,this.articulacao=t}getComandoEmenda(){const e=new dc,t=he.getDispositivosNaoOriginais(this.articulacao),i=this.getDispositivosRepresentativosDeCadaComando(t);if(i.sort(jo.compare),!i.length)return e;const n=(r=>{const s=yi(r);let p=Hu(s.genero),d="Projeto";return p===zu&&(d=s.urn.startsWith("medida.provisoria")?"Medida Provis\xF3ria":"Proposta"),new Sp(d,p)})(this.urn);return i.forEach(r=>{let s,p;Ee(r)?(s="O comando de emenda a dispositivos de norma alterada ainda n\xE3o foi implementado.",p=""):(s=new tf(t).getTexto(n),p=new ef(this.articulacao).getTexto()),e.comandos.push(new Zh(s,p))}),e}getDispositivosRepresentativosDeCadaComando(e){const t=[];let i=!1;return e.forEach(n=>{const r=Ae(n);r&&r.pai&&r.situacao.descricaoSituacao!==G.DISPOSITIVO_SUPRIMIDO?t.indexOf(r)===-1&&r.pai.situacao.descricaoSituacao!==G.DISPOSITIVO_ADICIONADO&&t.push(r):i||(i=!0,t.push(n))}),t}}class tf{constructor(e){this.dispositivosEmenda=e}getTexto(e){let t="";const i=he.getDispositivosComando(this.dispositivosEmenda),n=i.filter(a=>a.situacao instanceof Ro&&a.situacao.tipoEmenda===dt.EMENDA_ARTIGO_ONDE_COUBER);if(n.length){if(n.length<i.length)throw new Error("Adi\xE7\xE3o de artigos onde couber e outras altera\xE7\xF5es na mesma emenda.");return new Xh(n).getTexto(e)}const r=[],s=i.filter(a=>a.situacao.descricaoSituacao===G.DISPOSITIVO_SUPRIMIDO);s.length&&r.push(new Vh(s));const p=i.filter(a=>a.situacao.descricaoSituacao===G.DISPOSITIVO_MODIFICADO);p.length&&r.push(new Bh(p));const d=i.filter(a=>a.situacao.descricaoSituacao===G.DISPOSITIVO_ADICIONADO);d.length&&r.push(new zh(d)),r.sort(Jn.compare);let c=0;const u=r.length-1;return r.forEach(a=>{t+=a.getTexto(e,c===0,c===u),c++}),t}}class of{constructor(e,t,i){this.classificacao=e,this.urn=t,this.articulacao=i}getEmenda(){const e=new Hh;return e.classificacao=this.classificacao,this.preencheDispositivos(e),e.comandoEmenda=new pc(this.urn,this.articulacao).getComandoEmenda(),e}preencheDispositivos(e){const t=he.getDispositivosNaoOriginais(this.articulacao),i=t.filter(s=>s.situacao.descricaoSituacao===G.DISPOSITIVO_SUPRIMIDO);if(i.length)for(const s of i){const p=new Gh;p.id=s.id,p.rotulo=s.rotulo,e.dispositivosSuprimidos.push(p)}const n=t.filter(s=>s.situacao.descricaoSituacao===G.DISPOSITIVO_MODIFICADO);if(n.length)for(const s of n){const p=new Qh;if(W(s)){const d=s.caput;p.id=d.id,p.texto=d.texto}else p.id=s.id,p.texto=s.texto;p.rotulo=s.rotulo,e.dispositivosModificados.push(p)}const r=t.filter(s=>s.situacao.descricaoSituacao===G.DISPOSITIVO_ADICIONADO);if(r.length)for(const s of r){const p=this.criaDispositivoEmendaAdicionado(s);if(e.dispositivosAdicionados.push(p),W(s)){const d=this.criaDispositivoEmendaAdicionado(s.caput);e.dispositivosAdicionados.push(d)}}}criaDispositivoEmendaAdicionado(e){var t,i;const n=new Wh;if(e.id||(e.id=fo(e)),n.id=e.id,ke(e)||Ve(e)||ze(e)||(n.rotulo=e.rotulo),W(e)||Ve(e)||(n.texto=e.texto),ke(e)||Ve(e))n.idPai=(t=e.pai)===null||t===void 0?void 0:t.id;else{const r=he.getFilhosEstiloLexML(e.pai);e!==r[0]?n.idIrmaoAnterior=r[r.indexOf(e)-1].id:Co(e.pai)||(n.idPai=(i=e.pai)===null||i===void 0?void 0:i.id)}if(Ve(e)){const r=e.base;r&&(n.urnNormaAlterada=r)}return!ze(e)&&n.texto&&n.texto.indexOf(ft)>=0&&(n.textoOmitido=!0),n.rotulo&&n.rotulo.indexOf("\u201C")>=0&&(n.abreAspas=!0),n.texto&&n.texto.indexOf("\u201D (NR)")>=0&&(n.fechaAspas=!0),n}}const er=(o,e)=>{var t;let i;if(i=ue(o)?e.lXhier=[]:e.lXcontainersOmissis=[],W(o)){const n=Ss(o.caput);nf(o,n.value),i.push(n),Ja((t=o.filhos)===null||t===void 0?void 0:t.filter(r=>!ke(r.pai)),i),er(o.caput,n.value)}else Ja(o.filhos,i);return i},nf=(o,e)=>{var t,i,n;o.hasAlteracao()&&(e.alteracao={TYPE_NAME:"br_gov_lexml__1.Alteracao",base:"",id:"",content:[]},e.alteracao.base=(i=(t=o.alteracoes)===null||t===void 0?void 0:t.base)!==null&&i!==void 0?i:"",e.alteracao.id=(r=>{const s=[];return Fn(r,s),s.join("_")+"_alt1"})(o.caput),(n=o.alteracoes.filhos)===null||n===void 0||n.forEach(r=>{const s=Ss(r);e.alteracao.content.push(s),er(r,s.value)}))},Ja=(o,e)=>{o==null||o.forEach(t=>{const i=Ss(t);e.push(i),er(t,i.value)})},Ss=o=>{const e={name:{namespaceURI:"http://www.lexml.gov.br/1.0",localPart:o.tipo,prefix:"",key:`{http://www.lexml.gov.br/1.0}${o.tipo}`,string:`{http://www.lexml.gov.br/1.0}${o.tipo}`},value:{TYPE_NAME:"br_gov_lexml__1.DispositivoType"}};return rf(o,e.value),e},rf=(o,e)=>{e.href=ke(o)?ji(o.pai)+"_"+ji(o):ji(o),e.id=fo(o),o.rotulo&&/^["].*/.test(o.rotulo)?(e.abreAspas="s",e.rotulo=o.rotulo.substring(1)):ke(o)||ze(o)||(e.rotulo=o.rotulo),ke(o)&&/.*(NR)/.test(o.texto)&&(e.fechaAspas="s",e.notaAlteracao="NR"),ue(o)?e.nomeAgrupador={TYPE_NAME:"br_gov_lexml__1.GenInline",content:el(o)}:W(o)||(o.texto===ft?e.textoOmitido="s":e.p=[{TYPE_NAME:"br_gov_lexml__1.GenInline",content:el(o)}])},el=o=>{const e=/<a[^>]+href="(.*?)"[^>]*>(.*?)<\/a>/gi,t=[],i=o.texto.match(e);if(i)o.texto.startsWith(i[0])||t.push(o.texto.substring(0,o.texto.indexOf(i[0])));else{const n=o.texto.indexOf("\u201D (NR)");t.push(o.texto.substring(0,n===-1?void 0:n))}return i==null||i.forEach((n,r)=>{var s,p;const d=n.match(e)?n:"";t.push(sf(d!=null?d:""));const c=((s=o.texto)===null||s===void 0?void 0:s.indexOf(n))+n.length;if(c<o.texto.length-1){const u=i[r+1]?o.texto.indexOf(i[r+1]):o.texto.length;t.push((p=o.texto.substring(c,u))===null||p===void 0?void 0:p.replace(/strong>/gi,"b>").replace(/em>/gi,"i>"))}}),t},sf=o=>{var e;const t=o.match(/href="(.*?)"*>/i),i=t&&t[1]?t[1]:"",n=o.match(/<a[^>]+href=".*?"[^>]*>(.*?)<\/a>/);return{name:{namespaceURI:"http://www.lexml.gov.br/1.0",localPart:"span",prefix:"",key:"{http://www.lexml.gov.br/1.0}span",string:"{http://www.lexml.gov.br/1.0}span"},value:{TYPE_NAME:"br_gov_lexml__1.GenInline",href:i,content:n&&n[1]?[(e=n[1])===null||e===void 0?void 0:e.trim()]:[""]}}};let ks=!1;const tl=(o,e=!1)=>{var t,i;if(ks=e,!(!((t=o==null?void 0:o.value)===null||t===void 0)&&t.projetoNorma))throw new Error("N\xE3o se trata de um documento lexml v\xE1lido");return Oo(Oo(Oo({classificacao:!((i=o.value)===null||i===void 0)&&i.projetoNorma.norma?dt.NORMA:dt.PROJETO,tipo:yi(Ns(o))},af(o)),lf(o)),uf(o.value.projetoNorma.norma?o.value.projetoNorma.norma:o.value.projetoNorma.projeto))},Ui=o=>o==null?void 0:o.replace(/[\n]/g,"").trim(),Ns=o=>{var e,t,i;return(i=(t=(e=o==null?void 0:o.value)===null||e===void 0?void 0:e.metadado)===null||t===void 0?void 0:t.identificacao)===null||i===void 0?void 0:i.urn},af=o=>({urn:Ns(o)}),lf=o=>{var e,t,i,n,r,s,p,d,c,u,a,l,h,f,m,v;const g=(s=(r=(n=(i=(t=(e=o==null?void 0:o.value)===null||e===void 0?void 0:e.projetoNorma)===null||t===void 0?void 0:t.norma)===null||i===void 0?void 0:i.parteInicial)===null||n===void 0?void 0:n.epigrafe)===null||r===void 0?void 0:r.content[0])!==null&&s!==void 0?s:"",y=mc((u=(c=(d=(p=o==null?void 0:o.value)===null||p===void 0?void 0:p.projetoNorma)===null||d===void 0?void 0:d.norma)===null||c===void 0?void 0:c.parteInicial)===null||u===void 0?void 0:u.ementa.content),b=(v=(m=(f=(h=(l=(a=o==null?void 0:o.value)===null||a===void 0?void 0:a.projetoNorma)===null||l===void 0?void 0:l.norma)===null||h===void 0?void 0:h.parteInicial)===null||f===void 0?void 0:f.preambulo)===null||m===void 0?void 0:m.p[0].content[0])!==null&&v!==void 0?v:"";return{epigrafe:Ui(g),ementa:Ui(y),preambulo:Ui(b)}},uf=o=>({articulacao:cf(o.articulacao)}),cf=o=>{const e=As();return $i(e,o.lXhier),e},$i=(o,e)=>{o&&e&&(e==null||e.forEach(t=>{var i,n,r,s,p,d,c,u,a,l,h,f,m,v,g,y;let b;const x=(i=t.value)===null||i===void 0?void 0:i.notaAlteracao,E=((n=t.value)===null||n===void 0?void 0:n.fechaAspas)!==void 0?x?`\u201D (${x})`:"\u201D (NR)":"";((r=t.name)===null||r===void 0?void 0:r.localPart)==="Caput"?(((s=t.value)===null||s===void 0?void 0:s.abreAspas)==="s"?(b.rotulo="\u201C"+((p=t.value)===null||p===void 0?void 0:p.rotulo),b.cabecaAlteracao=!0,b.notaAlteracao=x):!((d=t.value)===null||d===void 0)&&d.rotulo&&(b.rotulo=t.value.rotulo,b.createNumeroFromRotulo(b.rotulo)),o.texto=!((c=t.value)===null||c===void 0)&&c.textoOmitido?ft:Ui(fc(t))+E,o.caput.href=(u=t.value)===null||u===void 0?void 0:u.href,o.caput.id=(a=t.value)===null||a===void 0?void 0:a.id,ol(o,(l=t.value)===null||l===void 0?void 0:l.alteracao),$i(o.caput,(h=t.value)===null||h===void 0?void 0:h.lXcontainersOmissis)):((f=t.name)===null||f===void 0?void 0:f.localPart)==="alteracao"?(ol(o,t),$i(o.caput,(m=t.value)===null||m===void 0?void 0:m.lXcontainersOmissis)):(b=hc(o,t),$i(b,(g=(v=t.value)===null||v===void 0?void 0:v.lXhier)!==null&&g!==void 0?g:(y=t.value)===null||y===void 0?void 0:y.lXcontainersOmissis))}))},ol=(o,e)=>{var t;e&&(nc(o),o.alteracoes.id=e.id,o.alteracoes.base=e.base,ks&&(o.alteracoes.situacao=new Zt),(t=e.content)===null||t===void 0||t.forEach(i=>{var n,r,s,p;const d=hc(o.alteracoes,i);d.isDispositivoAlteracao=!0,d.rotulo="\u201C"+((n=i.value)===null||n===void 0?void 0:n.rotulo),$i(d,(s=(r=i.value)===null||r===void 0?void 0:r.lXhier)!==null&&s!==void 0?s:(p=i.value)===null||p===void 0?void 0:p.lXcontainersOmissis)}))},hc=(o,e)=>{var t,i,n,r,s,p,d,c,u;const a=de(o,(t=e.name)===null||t===void 0?void 0:t.localPart),l=(i=e.value)===null||i===void 0?void 0:i.notaAlteracao,h=((n=e.value)===null||n===void 0?void 0:n.fechaAspas)!==void 0?l?`\u201D (${l})`:"\u201D (NR)":"";return ze(a)||(((r=e.value)===null||r===void 0?void 0:r.abreAspas)==="s"?(a.rotulo="\u201C"+((s=e.value)===null||s===void 0?void 0:s.rotulo),a.cabecaAlteracao=!0,a.notaAlteracao=l):a.rotulo=(p=e.value)===null||p===void 0?void 0:p.rotulo,a.createNumeroFromRotulo(a.rotulo)),a.href=(d=e.value)===null||d===void 0?void 0:d.href,a.id=(c=e.value)===null||c===void 0?void 0:c.id,ks&&(a.situacao=new Zt,W(a)&&(a.caput.situacao=new Zt)),a.texto=!((u=e.value)===null||u===void 0)&&u.textoOmitido?ft:Ui(fc(e))+h,a},fc=o=>{var e,t,i,n,r;let s="";return!((e=o.value)===null||e===void 0)&&e.nomeAgrupador?(t=o.value.nomeAgrupador.content[0])!==null&&t!==void 0?t:"":((r=(n=(i=o.value)===null||i===void 0?void 0:i.p)===null||n===void 0?void 0:n.map(p=>p))===null||r===void 0||r.map(p=>p.content).forEach(p=>s+=mc(p)),s.replace(/b>/gi,"strong>").replace(/i>/gi,"em>"))},mc=o=>{let e="";return o==null||o.forEach(t=>{var i;t.value?e+=`<a href="${(i=t.value).href}"> ${i.content[0]} </a>`:e+=t}),e},il={name:{namespaceURI:"http://www.lexml.gov.br/1.0",localPart:"LexML",prefix:"",key:"{http://www.lexml.gov.br/1.0}LexML",string:"{http://www.lexml.gov.br/1.0}LexML"},value:{TYPE_NAME:"br_gov_lexml__1.LexML",metadado:{TYPE_NAME:"br_gov_lexml__1.Metadado",identificacao:{TYPE_NAME:"br_gov_lexml__1.Identificacao",urn:""}},projetoNorma:{TYPE_NAME:"br_gov_lexml__1.ProjetoNorma",norma:{TYPE_NAME:"br_gov_lexml__1.HierarchicalStructure",parteInicial:{TYPE_NAME:"br_gov_lexml__1.ParteInicial",epigrafe:{TYPE_NAME:"br_gov_lexml__1.GenInline",id:"epigrafe",content:[""]},ementa:{TYPE_NAME:"br_gov_lexml__1.GenInline",id:"ementa",content:[""]},preambulo:{TYPE_NAME:"br_gov_lexml__1.TextoType",id:"preambulo",p:[{TYPE_NAME:"br_gov_lexml__1.GenInline",content:[""]}]}},articulacao:{TYPE_NAME:"br_gov_lexml__1.Articulacao",lXhier:[{name:{namespaceURI:"http://www.lexml.gov.br/1.0",localPart:"Artigo",prefix:"",key:"{http://www.lexml.gov.br/1.0}Artigo",string:"{http://www.lexml.gov.br/1.0}Artigo"},value:{TYPE_NAME:"br_gov_lexml__1.DispositivoType",id:"art1",rotulo:"Art. 1\xBA",lXcontainersOmissis:[{name:{namespaceURI:"http://www.lexml.gov.br/1.0",localPart:"Caput",prefix:"",key:"{http://www.lexml.gov.br/1.0}Caput",string:"{http://www.lexml.gov.br/1.0}Caput"},value:{TYPE_NAME:"br_gov_lexml__1.DispositivoType",id:"art1_cpt",p:[{TYPE_NAME:"br_gov_lexml__1.GenInline",content:[""]}]}}]}}]}}}}};let qi=class extends ps(ye)(pt){constructor(){super(...arguments),this.modo="",this.projetoNorma={},this.emenda={}}createRenderRoot(){return this}getEmenda(){const o=this.modo;if(o!==dt.EMENDA&&o!==dt.EMENDA_ARTIGO_ONDE_COUBER)return;const e=this.projetoNorma.value.metadado.identificacao.urn,t=ye.getState().elementoReducer.articulacao;return new of(o,e,t).getEmenda()}getComandoEmenda(){const o=this.projetoNorma.value.metadado.identificacao.urn,e=ye.getState().elementoReducer.articulacao;return new pc(o,e).getComandoEmenda()}getProjetoAtualizado(){const o=Oo({},this.projetoNorma),e=(t=ye.getState().elementoReducer.articulacao,{TYPE_NAME:"br_gov_lexml__1.Articulacao",lXhier:er(t,{articulacao:{}})});var t;return o.value.projetoNorma[o.value.projetoNorma.norma?"norma":"projeto"].articulacao.lXhier=e.lXhier,o}update(o){(this.hasChangedProjetoNorma(o)||this.hasChangedModo(o))&&this.loadProjetoNorma(),this.hasChangedEmenda(o)&&Object.keys(this.emenda).length>0&&this.loadEmenda(),super.update(o)}hasChangedProjetoNorma(o){return o.has("projetoNorma")&&o.get("projetoNorma")!==void 0}hasChangedModo(o){return o.has("modo")&&o.get("modo")!==void 0}hasChangedEmenda(o){return o.has("emenda")&&o.get("emenda")!==void 0}loadProjetoNorma(){var o;let e;if(this.projetoNorma&&this.projetoNorma.value||(this.projetoNorma=il),this.modo===dt.EMENDA_ARTIGO_ONDE_COUBER){const i=(o=Ns(this.projetoNorma))!==null&&o!==void 0?o:"";e=tl(il,!0),e.urn=i;const n=e.articulacao.artigos[0];n.rotulo="Art.",n.numero="1",n.id="art1";const r=new Ro;r.tipoEmenda=dt.EMENDA_ARTIGO_ONDE_COUBER,n.situacao=r}else e=tl(this.projetoNorma,this.modo===dt.EMENDA);var t;ye.dispatch((t=e.articulacao,{type:"ABRIR_ARTICULACAO",classificacao:this.modo,articulacao:t}))}loadEmenda(){this.emenda&&setTimeout(()=>{ye.dispatch(vp.execute({dispositivosModificados:this.emenda.dispositivosModificados,dispositivosSuprimidos:this.emenda.dispositivosSuprimidos,dispositivosAdicionados:this.emenda.dispositivosAdicionados}))},1e3)}render(){return He`
      <style>
        #gtx-trans {
          display: none;
        }

        lexml-eta-articulacao {
          display: block;
          height: 100%;
        }

        lexml-eta-articulacao:focus {
          outline: 0;
          border: 0px solid #f1f1f1;
          -webkit-box-shadow: 0px;
          box-shadow: none;
        }
      </style>

      <lexml-eta-articulacao></lexml-eta-articulacao>
    `}};Le([Et({type:String})],qi.prototype,"modo",void 0),Le([Et({type:Object})],qi.prototype,"projetoNorma",void 0),Le([Et({type:Object})],qi.prototype,"emenda",void 0),qi=Le([Xt("lexml-eta")],qi);const df={id:"",nome:"",siglaPartido:"",siglaUF:"",indSexo:"",siglaCasa:"",cargo:""},vc=ds`
  .lexml-autoria {
    display: block;
    border: 1px solid #ccc;
    height: 100%;
    padding: 0 10px;
    margin: 0px 5px;
    font-size: 1em;
    max-width: 700px;
  }

  .grid-autoria {
    display: grid;
    grid-template-columns: 3fr 2fr 250px;
  }
`;let kr=class extends pt{createRenderRoot(){return this}update(o){super.update(o)}atualizarObjeto(o){this.autoria.tipo=o.target.value}render(){var o,e;return He`
      <div @input=${this.atualizarObjeto}>
        <div>
          <p><strong>Tipo de autoria</strong></p>

          <input type="radio" id="opt-parlamentar" name="tipoAutoria" value="Parlamentar" ?checked=${((o=this.autoria)===null||o===void 0?void 0:o.tipo)==="Parlamentar"} />
          <label for="opt-parlamentar">Parlamentar</label>

          <input type="radio" id="opt-comissao" name="tipoAutoria" value="Comisso" ?checked=${((e=this.autoria)===null||e===void 0?void 0:e.tipo)==="Comiss\xE3o"} />
          <label for="opt-comissao">Comisso</label>
        </div>
      </div>
    `}};Le([Et({type:Object})],kr.prototype,"autoria",void 0),kr=Le([Xt("lexml-tipo-autoria")],kr);let Ii=class extends pt{constructor(){super(...arguments),this.parlamentares=[]}createRenderRoot(){return this}update(o){super.update(o)}montarItemAutocomplete(o){return He`<div>${o.nome}</div>`}emitEvent(o){const e=new CustomEvent(o,{detail:{parlamentar:this.parlamentar}});this.dispatchEvent(e)}atualizarObjeto(){const o=this.getElementsByTagName("input");this.parlamentar.nome=o[0].value,this.parlamentar.cargo=o[1].value}render(){var o;return He`
      <div class="grid-autoria" @input=${this.atualizarObjeto}>
        <!-- <label for="tex-parlamentar">Parlamentar</label> -->
        <!-- <elix-auto-complete-combo-box aria-label="parlamentar"> ${this.parlamentares.map(this.montarItemAutocomplete)} </elix-auto-complete-combo-box> -->
        <input type="text" aria-label="parlamentar" placeholder="Digite o nome..." value=${((o=this.parlamentar)===null||o===void 0?void 0:o.nome)||""} />

        <!-- <label for="tex-cargo">Cargo</label> -->
        <input type="text" id="tex-cargo" placeholder="ex: Presidente da Comisso ..., Lder do ..." />

        <div>
          <button id="paraBaixo" @click=${()=>this.emitEvent("paraBaixo")}>Para baixo</button>
          <button id="paraCima" @click=${()=>this.emitEvent("paraCima")}>Para cima</button>
          <button id="excluir" @click=${()=>this.emitEvent("excluir")}>Excluir</button>
        </div>
      </div>
    `}};Ii.styles=[vc],Le([Et({type:Array})],Ii.prototype,"parlamentares",void 0),Le([Et({type:Object})],Ii.prototype,"parlamentar",void 0),Ii=Le([Xt("lexml-parlamentar-autocomplete")],Ii);let Si=class extends pt{update(o){this.autoria&&!this.autoria.parlamentares.length&&this.incluirNovoParlamentar(),super.update(o)}incluirNovoParlamentar(){var o;this.autoria.parlamentares=((e,t)=>{const i=[...e];return i.push(t),i})(o=this.autoria.parlamentares,tr(Oo({},df),{id:"novo"+(o.length+1)})),this.requestUpdate()}moverParlamentar(o,e){this.autoria.parlamentares=((t,i,n)=>{const r=t.findIndex(d=>d.id===i.id),s=r+n;if(s<0||s>=t.length)return t;const p=[...t];return p.splice(s,0,p.splice(r,1)[0]),p})(this.autoria.parlamentares,o,e),this.requestUpdate()}excluir(o){var e,t;this.autoria.parlamentares=(e=this.autoria.parlamentares,t=o.detail.parlamentar,e.filter(i=>i.id!==t.id)),this.requestUpdate()}montarParlamentarAutocomplete(o,e){return He`<lexml-parlamentar-autocomplete
      .parlamentar=${o}
      .parlamentares=${e}
      @paraBaixo=${t=>this.moverParlamentar(t.detail.parlamentar,1)}
      @paraCima=${t=>this.moverParlamentar(t.detail.parlamentar,-1)}
      @excluir=${this.excluir}
    ></lexml-parlamentar-autocomplete>`}render(){var o;return He`
      <div>
        <div class="lexml-autoria">
          <h3>Autoria</h3>
          <lexml-tipo-autoria .autoria=${this.autoria}></lexml-tipo-autoria>
          <div class="grid-autoria">
            <div>Parlamentar</div>
            <div>Cargo</div>
            <div></div>
          </div>
          ${(o=this.autoria)===null||o===void 0?void 0:o.parlamentares.map(e=>this.montarParlamentarAutocomplete(e,this.parlamentares))}
        </div>
        <button @click=${this.incluirNovoParlamentar}>Incluir outro parlamentar</button>
      </div>
    `}};Si.styles=[vc],Le([Et({type:Object})],Si.prototype,"autoria",void 0),Le([Et({type:Array})],Si.prototype,"parlamentares",void 0),Si=Le([Xt("lexml-autoria")],Si);var pf={async buscarTextoLexmlAsJson(o,e,t){return(await kc.get("proposicao/texto-lexml/json",{params:{sigla:o,numero:e,ano:t}})).data}};const hn=o=>(Ic("data-v-dfbb9a40"),o=o(),Sc(),o),hf={class:"navbar navbar-expand-sm navbar-light"},ff={class:"container-fluid"},mf=hn(()=>Ce("button",{onclick:"history.back()",type:"button",class:"btn btn-back"},[Ce("span",{class:"btn-label"},[Ce("svg",{class:"bi"},[Ce("use",{"xlink:href":"#arrow-left"})])])],-1)),vf=hn(()=>Ce("button",{class:"navbar-toggler",type:"button","data-bs-toggle":"collapse","data-bs-target":"#navbarSupportedContent","aria-controls":"navbarSupportedContent","aria-expanded":"false","aria-label":"Toggle navigation"},[Ce("span",{class:"navbar-toggler-icon"})],-1)),gf={class:"collapse navbar-collapse proposicao-actions",id:"navbarSupportedContent"},bf={class:"container-edicao-emenda"},yf={class:"container-fluid mt-3"},xf={class:"row"},Ef={class:"col-md-7 col-sm-12"},wf=hn(()=>Ce("input",{type:"input",class:"form-control",placeholder:"T\xEDtulo da emenda","aria-label":"T\xEDtulo da emenda",required:""},null,-1)),Of=hn(()=>Ce("span",{class:"proposicao-actions d-md-none"},[Ce("button",{type:"button",class:"btn btn-labeled proposicao-action","data-bs-toggle":"modal","data-bs-target":"#mdlVisualizacao"},"Visualiza\xE7\xE3o"),Ce("button",{type:"button",class:"btn btn-labeled proposicao-action","data-bs-toggle":"modal","data-bs-target":"#mdlAjuda"},"Ajuda")],-1)),Af={key:1},_f=hn(()=>Ce("strong",null,"Carregando...",-1)),qf=[_f],If=["projetoNorma","emenda"],Sf={class:"col-md-5 col-sm-12 d-none d-md-block"},kf=wc({props:{sigla:null,numero:null,ano:null,emenda:null},setup(o){const e=o,t=mn(()=>fn(()=>import("./AcoesPermitidas.db71c61f.js").then(function(E){return E.a}),["assets/AcoesPermitidas.db71c61f.js","assets/AcoesPermitidas.33ac3ff0.css","assets/vendor.6d3ef757.js","assets/plugin-vue_export-helper.21dcd24c.js"])),i=mn(()=>fn(()=>import("./CardProposicao.cd9475b1.js"),["assets/CardProposicao.cd9475b1.js","assets/CardProposicao.4e0a661b.css","assets/plugin-vue_export-helper.21dcd24c.js","assets/vendor.6d3ef757.js"])),n=mn(()=>fn(()=>import("./EditorEmendaPainelLateral.9831e63d.js"),["assets/EditorEmendaPainelLateral.9831e63d.js","assets/index.87bf87ca.js","assets/index.0b49b026.css","assets/vendor.6d3ef757.js"])),r=mn(()=>fn(()=>import("./EditorEmendaPainelModal.daf943e2.js"),["assets/EditorEmendaPainelModal.daf943e2.js","assets/index.87bf87ca.js","assets/index.0b49b026.css","assets/vendor.6d3ef757.js"])),s=Rt(null),p=Rt(!0),d=Rt(),c=Rt(),u=Rt([]),a=Rt(""),l=Rt(),h=Rt(null),f=Rt();Oc(()=>{m(e.sigla,e.numero,e.ano),v(e.sigla,e.numero,e.ano)}),Ac(()=>{e.emenda!=={}&&!h.value&&(h.value=e.emenda)});function m(E,w,I){Nc.buscarProposicao(E,w,I).then(k=>c.value=k)}function v(E,w,I){pf.buscarTextoLexmlAsJson(E,w,I).then(k=>s.value=k).then(()=>x()).finally(()=>p.value=!1)}function g(){h.value=l.value.getEmenda(),f.value=l.value.getComandoEmenda()}let y=0;function b(){clearInterval(y),y=window.setTimeout(()=>{var w,I,k,P,A;const E=document.querySelectorAll(".lx-eta-dropdown-content-item");u.value=Array.from(E).map(_=>{var O;return(O=_.textContent)!=null?O:""}),a.value=(A=(P=(k=(I=(w=document.querySelector(".lx-eta-dropdown"))==null?void 0:w.closest(".container__menu"))==null?void 0:I.previousElementSibling)==null?void 0:k.querySelector("label"))==null?void 0:P.getAttribute("data-rotulo"))!=null?A:""},300)}function x(){const E=document.querySelector("lexml-eta");setTimeout(()=>{E?E.click():x()},300)}return(E,w)=>(vn(),Cs("div",{ref_key:"root",ref:d,onClick:b,onKeyup:b},[Ce("nav",hf,[Ce("div",ff,[mf,vf,Ce("div",gf,[c.value&&h.value&&s.value?(vn(),Rs(gn(t),{key:0,item:c.value,emenda:h.value,projetoNorma:s.value,"acoes-permitidas":["salvar"]},null,8,["item","emenda","projetoNorma"])):or("",!0)])])]),Ce("div",bf,[Ce("div",yf,[Ce("div",xf,[Ce("section",Ef,[wf,c.value?(vn(),Rs(gn(i),{key:0,class:"editar-emenda-dados",proposicao:c.value},null,8,["proposicao"])):or("",!0),Of,p.value?(vn(),Cs("div",Af,qf)):or("",!0),_c(Ce("lexml-eta",{ref_key:"lexmlEta",ref:l,modo:"emenda",projetoNorma:s.value,emenda:h.value,onOnchange:g},null,40,If),[[qc,!p.value]])]),Ce("aside",Sf,[Ds(gn(n),{"itens-menu":u.value,"texto-rotulo-dispositivo":a.value,"comando-emenda":f.value},null,8,["itens-menu","texto-rotulo-dispositivo","comando-emenda"])])])])]),Ds(gn(r),{"itens-menu":u.value,"texto-rotulo-dispositivo":a.value,emenda:f.value},null,8,["itens-menu","texto-rotulo-dispositivo","emenda"])],544))}});var Df=Pc(kf,[["__scopeId","data-v-dfbb9a40"]]);export{Df as default};
