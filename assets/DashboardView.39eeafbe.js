var B=Object.defineProperty,j=Object.defineProperties;var Y=Object.getOwnPropertyDescriptors;var S=Object.getOwnPropertySymbols;var $=Object.prototype.hasOwnProperty,G=Object.prototype.propertyIsEnumerable;var z=(a,o,r)=>o in a?B(a,o,{enumerable:!0,configurable:!0,writable:!0,value:r}):a[o]=r,f=(a,o)=>{for(var r in o||(o={}))$.call(o,r)&&z(a,r,o[r]);if(S)for(var r of S(o))G.call(o,r)&&z(a,r,o[r]);return a},C=(a,o)=>j(a,Y(o));import{u as H,_ as v}from"./index.b7916b87.js";import{d as J,a as K,b as E,s as h,t as Q,u as U,v as I,x as W,o as m,c as A,g as q,y,f as d,e as P,w as X,h as Z,p as aa,n as ea}from"./vendor.d72107b9.js";import{p as oa}from"./proposicaoService.8f275e90.js";import{_ as ta}from"./plugin-vue_export-helper.21dcd24c.js";const sa=J({id:"dashboardStore",state:()=>({cardAtivo:{tipo:"MinhasEmendas",titulo:"",totalItens:0,lista:[],parametros:{sigla:"MPV",numero:void 0,ano:2022,pagina:1}},proposicoesRecentes:[],minhasEmendas:[],parametrosPesquisaProposicao:{sigla:"MPV",ano:new Date().getFullYear()}}),getters:{},actions:{setDadosCardAtivo(a){this.cardAtivo=a},setProposicoesRecentes(a){this.proposicoesRecentes=a},setParametrosPesquisaProposicao(a){this.parametrosPesquisaProposicao=a}}});const ra=a=>(aa("data-v-5c6cffc9"),a=a(),ea(),a),ia={class:"container"},na={key:0},ca=ra(()=>q("span",null,"Carregando...",-1)),la=[ca],da={key:0},ua=K({setup(a){const o=E(()=>v(()=>import("./DashboardCardPesquisaPronta.d51d9866.js"),["assets/DashboardCardPesquisaPronta.d51d9866.js","assets/DashboardCardPesquisaPronta.5e9be492.css","assets/vendor.d72107b9.js","assets/plugin-vue_export-helper.21dcd24c.js","assets/index.b7916b87.js","assets/index.68742fa1.css","assets/proposicaoService.8f275e90.js"])),r=E(()=>v(()=>import("./DashboardCardPesquisaParametrizada.a73d28df.js"),["assets/DashboardCardPesquisaParametrizada.a73d28df.js","assets/DashboardCardPesquisaParametrizada.e2868f43.css","assets/vendor.d72107b9.js","assets/plugin-vue_export-helper.21dcd24c.js","assets/index.b7916b87.js","assets/index.68742fa1.css","assets/proposicaoService.8f275e90.js"])),V=E(()=>v(()=>import("./DashboardResultadoPesquisa.27c5adf4.js"),["assets/DashboardResultadoPesquisa.27c5adf4.js","assets/DashboardResultadoPesquisa.40bc0de4.css","assets/index.b7916b87.js","assets/index.68742fa1.css","assets/vendor.d72107b9.js","assets/plugin-vue_export-helper.21dcd24c.js"])),w=E(()=>v(()=>import("./AcoesPermitidas.d4506e92.js"),["assets/AcoesPermitidas.d4506e92.js","assets/AcoesPermitidas.43fc83e0.css","assets/vendor.d72107b9.js","assets/index.b7916b87.js","assets/index.68742fa1.css","assets/plugin-vue_export-helper.21dcd24c.js"]));let c=h();const p=sa(),x=Q(),R=U(),u=h(!1),i=h(new Map);i.value.set("MinhasEmendas",{tipo:"MinhasEmendas",titulo:"Minhas Emendas",subtitulo:"Acesse as emendas que voc\xEA est\xE1 trabalhando",totalItens:0,icone:"person-workspace",lista:[]}),i.value.set("PrazoEmendaAberto",{tipo:"PrazoEmendaAberto",titulo:"Proposi\xE7\xF5es com prazo de emendamento aberto",subtitulo:"Veja as proposi\xE7\xF5es que est\xE3o com prazo de emendamento aberto",totalItens:0,icone:"hourglass-split",lista:[]}),i.value.set("EmTramitacao",{tipo:"EmTramitacao",titulo:"Proposi\xE7\xF5es em tramita\xE7\xE3o",subtitulo:"Lista com todas as proposi\xE7\xF5es em tramita\xE7\xE3o",totalItens:0,icone:"arrow-left-right",lista:[]}),i.value.set("Parametrizada",{tipo:"Parametrizada",titulo:"Parametrizada",subtitulo:"",totalItens:0,icone:"search",lista:[]});const g=h(),b=H();I(()=>x.query,()=>D(),{deep:!0}),I(()=>b.emendas,()=>_()),W(()=>{_(),D()});function D(){const{sigla:e,numero:t,ano:s,tipoPesquisa:n,pagina:l}=x.query;n==="MinhasEmendas"?_():n==="PrazoEmendaAberto"?N():n==="EmTramitacao"?F():T(e==null?void 0:e.toString(),t==null?void 0:t.toString(),Number(s==null?void 0:s.toString()),n==null?void 0:n.toString(),Number(l==null?void 0:l.toString()))}function T(e="MPV",t,s,n="Parametrizada",l=1){u.value=!0,n==="MinhasEmendas"?_():(g.value={sigla:e,numero:t,ano:!s||isNaN(s)?new Date().getFullYear():s,pagina:isNaN(l)?1:l},O(g.value,n))}function k(e){let t={tipoPesquisa:e.detail.tipo};e.detail.tipo==="Parametrizada"&&(t=f(f({},t),e.detail.parametros)),R.push({path:"/",query:t})}function _(){const e=C(f({},i.value.get("MinhasEmendas")),{lista:b.emendas,totalItens:b.emendas.length});i.value.set("MinhasEmendas",e),c.value=e,p.setDadosCardAtivo(e),u.value=!1}function N(){const e=i.value.get("PrazoEmendaAberto");c.value=e,p.setDadosCardAtivo(c.value),u.value=!1}function F(){const e=i.value.get("EmTramitacao");c.value=e,p.setDadosCardAtivo(c.value),u.value=!1}function O(e,t){const{sigla:s,numero:n,ano:l,pagina:L}=e;oa.buscarProposicoes(s,n,l).then(M=>{c.value={tipo:t,titulo:t,totalItens:M.length,lista:M,parametros:{sigla:s,numero:n,ano:l,pagina:L}},p.setDadosCardAtivo(c.value)}).finally(()=>u.value=!1)}return(e,t)=>(m(),A("div",ia,[q("div",{class:"row",onCardClick:k},[(m(),y(d(o),{key:i.value.get("MinhasEmendas").totalItens,config:i.value.get("MinhasEmendas")},null,8,["config"])),P(d(o),{config:i.value.get("PrazoEmendaAberto")},null,8,["config"]),P(d(o),{config:i.value.get("EmTramitacao")},null,8,["config"]),P(d(r),{config:g.value},null,8,["config"])],32),u.value?(m(),A("div",na,la)):(m(),y(d(V),{key:1,dados:d(c)},{default:X(()=>{var s;return[((s=d(c))==null?void 0:s.tipo)==="MinhasEmendas"?(m(),A("div",da,[P(d(w),{"acoes-permitidas":["abrirDoDisco"]})])):Z("",!0)]}),_:1},8,["dados"]))]))}});var ma=ta(ua,[["__scopeId","data-v-5c6cffc9"]]),ha=Object.freeze(Object.defineProperty({__proto__:null,default:ma},Symbol.toStringTag,{value:"Module"}));export{ha as D,sa as u};
