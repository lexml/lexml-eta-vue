var z=Object.defineProperty,G=Object.defineProperties;var J=Object.getOwnPropertyDescriptors;var O=Object.getOwnPropertySymbols;var U=Object.prototype.hasOwnProperty,H=Object.prototype.propertyIsEnumerable;var S=(o,e,n)=>e in o?z(o,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):o[e]=n,P=(o,e)=>{for(var n in e||(e={}))U.call(e,n)&&S(o,n,e[n]);if(O)for(var n of O(e))H.call(e,n)&&S(o,n,e[n]);return o},M=(o,e)=>G(o,J(e));import{_ as p}from"./index.b7916b87.js";import{a as K,b as _,s as d,x as F,o as u,c as y,g as a,y as V,f as v,h as b,G as Q,H as W,e as w,p as X,n as Y}from"./vendor.d72107b9.js";import{h as Z,p as $}from"./proposicaoService.8f275e90.js";import{_ as ee}from"./plugin-vue_export-helper.21dcd24c.js";var oe={async buscarTextoLexmlAsJson(o,e,n){return(await Z.get("proposicao/texto-lexml/json",{params:{sigla:o,numero:e,ano:n}})).data}},A=(o=>(o.EMENDA="emenda",o.EMENDA_ARTIGO_ONDE_COUBER="emendaArtigoOndeCouber",o))(A||{});const E=o=>(X("data-v-658df9e0"),o=o(),Y(),o),ae={class:"navbar navbar-expand-sm navbar-light"},te={class:"container-fluid"},ne=E(()=>a("button",{onclick:"history.back()",type:"button",class:"btn btn-back"},[a("span",{class:"btn-label"},[a("svg",{class:"bi"},[a("use",{"xlink:href":"#arrow-left"})])])],-1)),se=E(()=>a("button",{class:"navbar-toggler",type:"button","data-bs-toggle":"collapse","data-bs-target":"#navbarSupportedContent","aria-controls":"navbarSupportedContent","aria-expanded":"false","aria-label":"Toggle navigation"},[a("span",{class:"navbar-toggler-icon"})],-1)),le={class:"collapse navbar-collapse proposicao-actions",id:"navbarSupportedContent"},ie={class:"container-edicao-emenda"},de={class:"container-fluid mt-3"},re={class:"row"},ce={class:"col-md-7 col-sm-12"},ue=E(()=>a("span",{class:"proposicao-actions d-md-none"},[a("button",{type:"button",class:"btn btn-labeled proposicao-action","data-bs-toggle":"modal","data-bs-target":"#mdlVisualizacao"}," Visualiza\xE7\xE3o "),a("button",{type:"button",class:"btn btn-labeled proposicao-action","data-bs-toggle":"modal","data-bs-target":"#mdlAjuda"}," Ajuda ")],-1)),me={key:2},pe=E(()=>a("strong",null,"Carregando...",-1)),_e=[pe],ve=["modo","projetoNorma"],be={class:"col-md-5 col-sm-12 d-none d-md-block"},Ee=K({props:{sigla:null,numero:null,ano:null,emenda:null,titulo:null,ondeCouber:{type:Boolean}},setup(o){const e=o,n=_(()=>p(()=>import("./AcoesPermitidas.d4506e92.js"),["assets/AcoesPermitidas.d4506e92.js","assets/AcoesPermitidas.43fc83e0.css","assets/vendor.d72107b9.js","assets/index.b7916b87.js","assets/index.68742fa1.css","assets/plugin-vue_export-helper.21dcd24c.js"])),C=_(()=>p(()=>import("./CardProposicao.ce618155.js"),["assets/CardProposicao.ce618155.js","assets/CardProposicao.050bb2d7.css","assets/plugin-vue_export-helper.21dcd24c.js","assets/vendor.d72107b9.js"])),R=_(()=>p(()=>import("./EditorEmendaPainelLateral.23fd8bfd.js"),["assets/EditorEmendaPainelLateral.23fd8bfd.js","assets/index.b7916b87.js","assets/index.68742fa1.css","assets/vendor.d72107b9.js"])),B=_(()=>p(()=>import("./EditorEmendaPainelModal.e4269f69.js"),["assets/EditorEmendaPainelModal.e4269f69.js","assets/index.b7916b87.js","assets/index.68742fa1.css","assets/vendor.d72107b9.js"])),g=d(!0),L=d(),f=d([]),x=d(""),c=d(),t=d(),k=d("emenda"),h=d();F(async()=>{g.value=!0,Promise.all([$.buscarProposicao(e.sigla,e.numero,e.ano),oe.buscarTextoLexmlAsJson(e.sigla,e.numero,e.ano)]).then(r=>{var s,l;h.value=r[1]||{},t.value=e.emenda||{tipo:e.ondeCouber?A.EMENDA_ARTIGO_ONDE_COUBER:A.EMENDA,titulo:"",proposicao:e.emenda?e.emenda.proposicao:M(P({},r[0]),{urn:(l=(s=h.value.value.metadado)==null?void 0:s.identificacao)==null?void 0:l.urn,identificacao:r[0].descricaoIdentificacao})},k.value=t.value.tipo,c.value.dispositivosEmenda={},setTimeout(()=>{var i;c.value.dispositivosEmenda=((i=t.value)==null?void 0:i.dispositivos)||{}},0)}).finally(()=>g.value=!1)});function j(){t.value&&(t.value.dispositivos=c.value.getDispositivosEmenda(),t.value.comandoEmenda=c.value.getComandoEmenda())}let D=0;function I(){clearInterval(D),D=window.setTimeout(()=>{var s,l,i,m,T;const r=document.querySelectorAll(".lx-eta-dropdown-content-item");f.value=Array.from(r).map(q=>{var N;return(N=q.textContent)!=null?N:""}),x.value=(T=(m=(i=(l=(s=document.querySelector(".lx-eta-dropdown"))==null?void 0:s.closest(".container__menu"))==null?void 0:l.previousElementSibling)==null?void 0:i.querySelector("label"))==null?void 0:m.getAttribute("data-rotulo"))!=null?T:""},300)}return(r,s)=>{var l,i;return u(),y("div",{ref_key:"root",ref:L,onClick:I,onKeyup:I},[a("nav",ae,[a("div",te,[ne,se,a("div",le,[t.value?(u(),V(v(n),{key:0,item:t.value,"acoes-permitidas":["salvar"]},null,8,["item"])):b("",!0)])])]),a("div",ie,[a("div",de,[a("div",re,[a("section",ce,[t.value?Q((u(),y("input",{key:0,type:"input",class:"form-control",placeholder:"T\xEDtulo da emenda","aria-label":"T\xEDtulo da emenda",required:"","onUpdate:modelValue":s[0]||(s[0]=m=>t.value.titulo=m)},null,512)),[[W,t.value.titulo]]):b("",!0),t.value?(u(),V(v(C),{key:1,class:"editar-emenda-dados",proposicao:t.value.proposicao},null,8,["proposicao"])):b("",!0),ue,g.value?(u(),y("div",me,_e)):b("",!0),a("lexml-eta",{ref_key:"lexmlEta",ref:c,modo:k.value,projetoNorma:h.value||{},onOnchange:j},null,40,ve)]),a("aside",be,[w(v(R),{"itens-menu":f.value,"texto-rotulo-dispositivo":x.value,"comando-emenda":(l=t.value)==null?void 0:l.comandoEmenda},null,8,["itens-menu","texto-rotulo-dispositivo","comando-emenda"])])])])]),w(v(B),{"itens-menu":f.value,"texto-rotulo-dispositivo":x.value,"comando-emenda":(i=t.value)==null?void 0:i.comandoEmenda},null,8,["itens-menu","texto-rotulo-dispositivo","comando-emenda"])],544)}}});var Ae=ee(Ee,[["__scopeId","data-v-658df9e0"]]);export{Ae as default};
