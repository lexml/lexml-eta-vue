var Hu=Object.defineProperty;var va=Object.getOwnPropertySymbols;var $u=Object.prototype.hasOwnProperty,Ku=Object.prototype.propertyIsEnumerable;var ya=(t,e,n)=>e in t?Hu(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,pr=(t,e)=>{for(var n in e||(e={}))$u.call(e,n)&&ya(t,n,e[n]);if(va)for(var n of va(e))Ku.call(e,n)&&ya(t,n,e[n]);return t};import{_ as zo}from"./index.1b151157.js";import{h as Gu,p as Wu}from"./proposicaoService.8f275e90.js";import{_ as Qu}from"./plugin-vue_export-helper.21dcd24c.js";import{d as Zu,a as Vo,q as Gt,y as Xu,o as mr,c as Ho,j as Ve,x as ba,u as $o,e as Ea,b as Yu,p as Ju,l as ec,m as tc}from"./vendor.ca3c6b03.js";const fo=Symbol("defaultState"),hs=Symbol("delegatesFocus"),On=Symbol("firstRender"),ps=Symbol("focusTarget"),ui=Symbol("hasDynamicTemplate"),ms=Symbol("ids"),ho=Symbol("nativeInternals"),Gn=Symbol("raiseChangeEvents"),Zt=Symbol("render"),po=Symbol("renderChanges"),yr=Symbol("rendered"),Or=Symbol("rendering"),ci=Symbol("setState"),wr=Symbol("shadowRoot"),fi=Symbol("shadowRootMode"),di=Symbol("state"),Ir=Symbol("stateEffects"),gs=Symbol("template");function qr(t,e){return typeof e=="boolean"?e:typeof e=="string"?e===""||t.toLowerCase()===e.toLowerCase():!1}function nc(t){for(const e of bs(t)){const n=e[ps]||e,r=n;if(n instanceof HTMLElement&&n.tabIndex>=0&&!r.disabled&&!(n instanceof HTMLSlotElement))return n}return null}function*rc(t){let e=t;for(;e=e instanceof HTMLElement&&e.assignedSlot?e.assignedSlot:e instanceof ShadowRoot?e.host:e.parentNode,e;)yield e}function hn(t,e){let n=e;for(;n;){const r=n.assignedSlot||n.parentNode||n.host;if(r===t)return!0;n=r}return!1}function Eo(t){const e='a[href],area[href],button:not([disabled]),details,iframe,input:not([disabled]),select:not([disabled]),textarea:not([disabled]),[contentEditable="true"],[tabindex]',n=As(t,o=>o instanceof HTMLElement&&o.matches(e)&&o.tabIndex>=0),{value:r}=n.next();return r instanceof HTMLElement?r:null}function vs(t,e){return Array.prototype.findIndex.call(t,n=>n===e||hn(n,e))}function ys(t,e){const r=e.composedPath()[0];return t===r||hn(t,r)}function*bs(t){t&&(yield t,yield*rc(t))}function Mr(t,e,n){t.toggleAttribute(e,n),t[ho]&&t[ho].states&&t[ho].states.toggle(e,n)}const Es={checked:!0,defer:!0,disabled:!0,hidden:!0,ismap:!0,multiple:!0,noresize:!0,readonly:!0,selected:!0};function oc(t,e){const n=[...e],r=t.childNodes.length,o=n.length,i=Math.max(r,o);for(let a=0;a<i;a++){const f=t.childNodes[a],u=n[a];a>=r?t.append(u):a>=o?t.removeChild(t.childNodes[o]):f!==u&&(n.indexOf(f,a)>=a?t.insertBefore(u,f):t.replaceChild(u,f))}}function*As(t,e){e(t)&&(yield t);let n;if(t instanceof HTMLElement&&t.shadowRoot)n=t.shadowRoot.children;else{const r=t instanceof HTMLSlotElement?t.assignedNodes({flatten:!0}):[];n=r.length>0?r:t.childNodes}if(n)for(let r=0;r<n.length;r++)yield*As(n[r],e)}const Re={html(t,...e){return Ot.html(t,...e).content}},Ot={html(t,...e){const n=document.createElement("template");return n.innerHTML=String.raw(t,...e),n}},Aa=new Map;function xs(t){if(typeof t=="function"){let e;try{e=new t}catch(n){if(n.name==="TypeError")ic(t),e=new t;else throw n}return e}else return document.createElement(t)}function ic(t){let e;const n=/^[A-Za-z][A-Za-z0-9_$]*$/,r=t.name&&t.name.match(n);if(r){const a=r[0],f=/([A-Z])/g;e=a.replace(f,(c,s,l)=>l>0?`-${s}`:s).toLowerCase()}else e="custom-element";let o=Aa.get(e)||0,i;for(;i=`${e}-${o}`,!!customElements.get(i);o++);customElements.define(i,t),Aa.set(e,o+1)}function hi(t,e){const n=t.parentNode;if(!n)throw"An element must have a parent before it can be substituted.";return(t instanceof HTMLElement||t instanceof SVGElement)&&(e instanceof HTMLElement||e instanceof SVGElement)&&(Array.prototype.forEach.call(t.attributes,r=>{!e.getAttribute(r.name)&&r.name!=="class"&&r.name!=="style"&&e.setAttribute(r.name,r.value)}),Array.prototype.forEach.call(t.classList,r=>{e.classList.add(r)}),Array.prototype.forEach.call(t.style,r=>{e.style[r]||(e.style[r]=t.style[r])})),e.append(...t.childNodes),n.replaceChild(e,t),e}function ir(t,e){if(typeof e=="function"&&t.constructor===e||typeof e=="string"&&t instanceof Element&&t.localName===e)return t;{const n=xs(e);return hi(t,n),n}}const xa={tabindex:"tabIndex"},_a={tabIndex:"tabindex"};function ac(t){class e extends t{attributeChangedCallback(r,o,i){if(super.attributeChangedCallback&&super.attributeChangedCallback(r,o,i),i!==o&&!this[Or]){const a=sc(r);if(a in this){const f=Es[r]?qr(r,i):i;this[a]=f}}}static get observedAttributes(){return _s(this)}}return e}function _s(t){if(t===HTMLElement)return[];const e=Object.getPrototypeOf(t.prototype).constructor;let n=e.observedAttributes;n||(n=_s(e));const a=Object.getOwnPropertyNames(t.prototype).filter(u=>{const c=Object.getOwnPropertyDescriptor(t.prototype,u);return c&&typeof c.set=="function"}).map(u=>lc(u)).filter(u=>n.indexOf(u)<0);return n.concat(a)}function sc(t){let e=xa[t];if(!e){const n=/-([a-z])/g;e=t.replace(n,r=>r[1].toUpperCase()),xa[t]=e}return e}function lc(t){let e=_a[t];if(!e){const n=/([A-Z])/g;e=t.replace(n,"-$1").toLowerCase(),_a[t]=e}return e}const mo=Symbol("state"),Ko=Symbol("raiseChangeEventsInNextRender"),zn=Symbol("changedSinceLastRender");function uc(t){class e extends t{constructor(){super();this[On]=void 0,this[Gn]=!1,this[zn]=null,this[ci](this[fo])}connectedCallback(){super.connectedCallback&&super.connectedCallback(),this[po]()}get[fo](){return super[fo]||{}}[Zt](o){super[Zt]&&super[Zt](o)}[po](){this[On]===void 0&&(this[On]=!0);const o=this[zn];if(this[On]||o){const i=this[Gn];this[Gn]=this[Ko],this[Or]=!0,this[Zt](o),this[Or]=!1,this[zn]=null,this[yr](o),this[On]=!1,this[Gn]=i,this[Ko]=i}}[yr](o){super[yr]&&super[yr](o)}async[ci](o){this[Or]&&console.warn(`${this.constructor.name} called [setState] during rendering, which you should avoid.
See https://elix.org/documentation/ReactiveMixin.`);const{state:i,changed:a}=cc(this,o);if(this[mo]&&Object.keys(a).length===0)return;Object.freeze(i),this[mo]=i,this[Gn]&&(this[Ko]=!0);const f=this[On]===void 0||this[zn]!==null;this[zn]=Object.assign(this[zn]||{},a),this.isConnected&&!f&&(await Promise.resolve(),this[po]())}get[di](){return this[mo]}[Ir](o,i){return super[Ir]?super[Ir](o,i):{}}}return new URLSearchParams(location.search).get("elixdebug")==="true"&&Object.defineProperty(e.prototype,"state",{get(){return this[di]}}),e}function cc(t,e){const n=Object.assign({},t[mo]),r={};let o=e;for(;;){const i=dc(n,o);if(Object.keys(i).length===0)break;Object.assign(n,o),Object.assign(r,i),o=t[Ir](n,i)}return{state:n,changed:r}}function fc(t,e){return t instanceof Date&&e instanceof Date?t.getTime()===e.getTime():t===e}function dc(t,e){const n={};for(const r in e)fc(e[r],t[r])||(n[r]=!0);return n}const Oa=new Map,Go=Symbol("shadowIdProxy"),Os=Symbol("proxyElement"),hc={get(t,e){const r=t[Os][wr];return r&&typeof e=="string"?r.getElementById(e):null}};function pc(t){class e extends t{get[ms](){if(!this[Go]){const r={[Os]:this};this[Go]=new Proxy(r,hc)}return this[Go]}[Zt](r){if(super[Zt]&&super[Zt](r),!this[wr]){const o=mc(this);if(o){const i=this.attachShadow({delegatesFocus:this[hs],mode:this[fi]}),a=document.importNode(o.content,!0);i.append(a),this[wr]=i}else this[wr]=null}}get[fi](){return"open"}}return e}function mc(t){let e=t[ui]?void 0:Oa.get(t.constructor);if(e===void 0){if(e=t[gs],e&&!(e instanceof HTMLTemplateElement))throw`Warning: the [template] property for ${t.constructor.name} must return an HTMLTemplateElement.`;t[ui]||Oa.set(t.constructor,e||null)}return e}const Ht=ac(uc(pc(HTMLElement))),pi=Symbol("checkSize"),Sn=Symbol("closestAvailableItemIndex"),mi=Symbol("contentSlot"),X=fo,Ao=Symbol("defaultTabIndex"),Li=hs,Xn=Symbol("effectEndTarget"),Be=On,gi=ps,br=Symbol("getItemText"),Xt=Symbol("goDown"),Nt=Symbol("goEnd"),er=Symbol("goFirst"),tr=Symbol("goLast"),Yt=Symbol("goLeft"),nn=Symbol("goNext"),rn=Symbol("goPrevious"),Jt=Symbol("goRight"),Rt=Symbol("goStart"),nr=Symbol("goToItemWithPrefix"),en=Symbol("goUp"),gc=ui,fe=ms,Pn=Symbol("inputDelegate"),vc=Symbol("itemsDelegate"),Ie=Symbol("keydown"),yc=Symbol("mouseenter"),bc=Symbol("mouseleave"),Rn=ho,ue=Gn,J=Zt,Ec=po,Ac=Symbol("renderDataToElement"),le=yr,cr=Or,at=Symbol("scrollTarget"),te=ci,Ke=wr,xc=fi,qi=Symbol("startEffect"),j=di,_e=Ir,_c=Symbol("swipeDown"),Oc=Symbol("swipeDownComplete"),wc=Symbol("swipeLeft"),Ic=Symbol("swipeLeftTransitionEnd"),Sc=Symbol("swipeRight"),Pc=Symbol("swipeRightTransitionEnd"),Tc=Symbol("swipeUp"),Nc=Symbol("swipeUpComplete"),Rc=Symbol("swipeStart"),Cc=Symbol("swipeTarget"),ar=Symbol("tap"),de=gs,Dc=Symbol("toggleSelectedFlag"),kc=new URLSearchParams(location.search).get("elixdebug");kc==="true"&&(window.elix={internal:{checkSize:pi,closestAvailableItemIndex:Sn,contentSlot:mi,defaultState:X,defaultTabIndex:Ao,delegatesFocus:Li,effectEndTarget:Xn,firstRender:Be,focusTarget:gi,getItemText:br,goDown:Xt,goEnd:Nt,goFirst:er,goLast:tr,goLeft:Yt,goNext:nn,goPrevious:rn,goRight:Jt,goStart:Rt,goToItemWithPrefix:nr,goUp:en,hasDynamicTemplate:gc,ids:fe,inputDelegate:Pn,itemsDelegate:vc,keydown:Ie,mouseenter:yc,mouseleave:bc,nativeInternals:Rn,event,raiseChangeEvents:ue,render:J,renderChanges:Ec,renderDataToElement:Ac,rendered:le,rendering:cr,scrollTarget:at,setState:te,shadowRoot:Ke,shadowRootMode:xc,startEffect:qi,state:j,stateEffects:_e,swipeDown:_c,swipeDownComplete:Oc,swipeLeft:wc,swipeLeftTransitionEnd:Ic,swipeRight:Sc,swipeRightTransitionEnd:Pc,swipeUp:Tc,swipeUpComplete:Nc,swipeStart:Rc,swipeTarget:Cc,tap:ar,template:de,toggleSelectedFlag:Dc}});const ao=Symbol("previousBodyStyleOverflow"),so=Symbol("previousDocumentMarginRight");function Lc(t){return class extends t{get[X](){return Object.assign(super[X]||{},{role:"dialog"})}[Ie](n){let r=!1;switch(n.key){case"Escape":this.close({canceled:"Escape"}),r=!0;break}return r||super[Ie]&&super[Ie](n)||!1}[J](n){if(super[J]&&super[J](n),n.opened)if(this[j].opened&&document.documentElement){const r=document.documentElement.clientWidth,o=window.innerWidth-r;this[ao]=document.body.style.overflow,this[so]=o>0?document.documentElement.style.marginRight:null,document.body.style.overflow="hidden",o>0&&(document.documentElement.style.marginRight=`${o}px`)}else this[ao]!=null&&(document.body.style.overflow=this[ao],this[ao]=null),this[so]!=null&&(document.documentElement.style.marginRight=this[so],this[so]=null);if(n.role){const{role:r}=this[j];this.setAttribute("role",r)}}get role(){return super.role}set role(n){super.role=n,this[cr]||this[te]({role:n})}}}const ws=Symbol("wrap"),Wo=Symbol("wrappingFocus");function Mi(t){class e extends t{[Ie](r){const o=Eo(this[Ke]);if(o){const i=document.activeElement&&(document.activeElement===o||document.activeElement.contains(o)),a=this[Ke].activeElement,f=a&&(a===o||hn(a,o));(i||f)&&r.key==="Tab"&&r.shiftKey&&(this[Wo]=!0,this[fe].focusCatcher.focus(),this[Wo]=!1)}return super[Ie]&&super[Ie](r)||!1}[J](r){super[J]&&super[J](r),this[Be]&&this[fe].focusCatcher.addEventListener("focus",()=>{if(!this[Wo]){const o=Eo(this[Ke]);o&&o.focus()}})}[ws](r){const o=Re.html`
        <style>
          #focusCapture {
            display: flex;
            height: 100%;
            overflow: hidden;
            width: 100%;
          }

          #focusCaptureContainer {
            align-items: center;
            display: flex;
            flex: 1;
            flex-direction: column;
            justify-content: center;
            position: relative;
          }
        </style>
        <div id="focusCapture">
          <div id="focusCaptureContainer"></div>
          <div id="focusCatcher" tabindex="0"></div>
        </div>
      `,i=o.getElementById("focusCaptureContainer");i&&(r.replaceWith(o),i.append(r))}}return e}Mi.wrap=ws;function Po(t){class e extends t{constructor(){super();this.addEventListener("keydown",async r=>{this[ue]=!0,this[j].focusVisible||this[te]({focusVisible:!0}),this[Ie](r)&&(r.preventDefault(),r.stopImmediatePropagation()),await Promise.resolve(),this[ue]=!1})}attributeChangedCallback(r,o,i){if(r==="tabindex"){let a;i===null?a=-1:(a=Number(i),isNaN(a)&&(a=this[Ao]?this[Ao]:0)),this.tabIndex=a}else super.attributeChangedCallback(r,o,i)}get[X](){const r=this[Li]?-1:0;return Object.assign(super[X]||{},{tabIndex:r})}[Ie](r){return super[Ie]?super[Ie](r):!1}[J](r){super[J]&&super[J](r),r.tabIndex&&(this.tabIndex=this[j].tabIndex)}get tabIndex(){return super.tabIndex}set tabIndex(r){super.tabIndex!==r&&(super.tabIndex=r),this[cr]||this[te]({tabIndex:r})}}return e}function qc(t){class e extends t{get[X](){return Object.assign(super[X]||{},{role:null})}[J](r){if(super[J]&&super[J](r),r.role){const{role:o}=this[j];o?this.setAttribute("role",o):this.removeAttribute("role")}}get role(){return super.role}set role(r){const o=String(r);super.role=o,this[cr]||this[te]({s:o})}}return e}const Mc=qc(Ht);class Fi extends Mc{get[X](){return Object.assign(super[X],{role:"none"})}get[de](){return Ot.html`
      <style>
        :host {
          display: inline-block;
          height: 100%;
          left: 0;
          position: fixed;
          top: 0;
          touch-action: manipulation;
          width: 100%;
        }
      </style>
      <slot></slot>
    `}}class Is extends Fi{constructor(){super();"PointerEvent"in window||this.addEventListener("touchmove",e=>{e.touches.length===1&&e.preventDefault()})}}const lo=Symbol("closePromise"),Qo=Symbol("closeResolve");function Ss(t){class e extends t{attributeChangedCallback(r,o,i){if(r==="opened"){const a=qr(r,i);this.opened!==a&&(this.opened=a)}else super.attributeChangedCallback(r,o,i)}async close(r){super.close&&await super.close(),this[te]({closeResult:r}),await this.toggle(!1)}get closed(){return this[j]&&!this[j].opened}get closeFinished(){return this[j].closeFinished}get closeResult(){return this[j].closeResult}get[X](){const r={closeResult:null,opened:!1};return this[qi]&&Object.assign(r,{closeFinished:!0,effect:"close",effectPhase:"after",openCloseEffects:!0}),Object.assign(super[X]||{},r)}async open(){super.open&&await super.open(),this[te]({closeResult:void 0}),await this.toggle(!0)}get opened(){return this[j]&&this[j].opened}set opened(r){this[te]({closeResult:void 0}),this.toggle(r)}[J](r){if(super[J](r),r.opened){const{opened:o}=this[j];Mr(this,"opened",o)}if(r.closeFinished){const{closeFinished:o}=this[j];Mr(this,"closed",o)}}[le](r){if(super[le]&&super[le](r),r.opened&&this[ue]){const i=new CustomEvent("opened-changed",{bubbles:!0,detail:{closeResult:this[j].closeResult,opened:this[j].opened}});this.dispatchEvent(i);const a=new CustomEvent("openedchange",{bubbles:!0,detail:{closeResult:this[j].closeResult,opened:this[j].opened}});if(this.dispatchEvent(a),this[j].opened){const f=new CustomEvent("opened",{bubbles:!0});this.dispatchEvent(f);const u=new CustomEvent("open",{bubbles:!0});this.dispatchEvent(u)}else{const f=new CustomEvent("closed",{bubbles:!0,detail:{closeResult:this[j].closeResult}});this.dispatchEvent(f);const u=new CustomEvent("close",{bubbles:!0,detail:{closeResult:this[j].closeResult}});this.dispatchEvent(u)}}const o=this[Qo];this.closeFinished&&o&&(this[Qo]=null,this[lo]=null,o(this[j].closeResult))}[_e](r,o){const i=super[_e]?super[_e](r,o):{};if(o.openCloseEffects||o.effect||o.effectPhase||o.opened){const{effect:a,effectPhase:f,openCloseEffects:u,opened:c}=r;Object.assign(i,{closeFinished:u?a==="close"&&f==="after":!c})}return i}async toggle(r=!this.opened){if(super.toggle&&await super.toggle(r),r!==this[j].opened){const i={opened:r};this[j].openCloseEffects&&(i.effect=r?"open":"close",this[j].effectPhase==="after"&&(i.effectPhase="before")),await this[te](i)}}whenClosed(){return this[lo]||(this[lo]=new Promise(r=>{this[Qo]=r})),this[lo]}}return e}class Ps extends Ht{get[de](){return Ot.html`
      <style>
        :host {
          display: inline-block;
          position: relative;
        }
      </style>
      <slot></slot>
    `}}const Zo=Symbol("appendedToDocument"),Er=Symbol("assignedZIndex"),_n=Symbol("restoreFocusToElement");function Fc(t){class e extends t{get autoFocus(){return this[j].autoFocus}set autoFocus(r){this[te]({autoFocus:r})}get[X](){return Object.assign(super[X]||{},{autoFocus:!0,persistent:!1})}async open(){!this[j].persistent&&!this.isConnected&&(this[Zo]=!0,document.body.append(this)),super.open&&await super.open()}[J](r){super[J]&&super[J](r),this[Be]&&this.addEventListener("blur",o=>{const i=o.relatedTarget||document.activeElement,a=this;i instanceof HTMLElement&&(hn(a,i)||(this.opened?this[_n]=i:(i.focus(),this[_n]=null)))}),(r.effectPhase||r.opened||r.persistent)&&(this[j].persistent||((typeof this.closeFinished=="undefined"?this.closed:this.closeFinished)?this[Er]&&(this.style.zIndex="",this[Er]=null):this[Er]?this.style.zIndex=this[Er]:vi(this)||wa(this)))}[le](r){if(super[le]&&super[le](r),this[Be]&&this[j].persistent&&!vi(this)&&wa(this),r.opened&&this[j].autoFocus)if(this[j].opened){!this[_n]&&document.activeElement!==document.body&&(this[_n]=document.activeElement);const o=Eo(this);o&&o.focus()}else this[_n]&&(this[_n].focus(),this[_n]=null);!this[Be]&&!this[j].persistent&&this.closeFinished&&this[Zo]&&(this[Zo]=!1,this.parentNode&&this.parentNode.removeChild(this))}get[de](){const r=super[de]||Ot.html``;return r.content.append(Re.html`
        <style>
          :host([closed]) {
            display: none;
          }
        </style>
      `),r}}return e}function wa(t){const e=jc()+1;t[Er]=e,t.style.zIndex=e.toString()}function vi(t){const e=getComputedStyle(t).zIndex,n=t.style.zIndex,r=!isNaN(parseInt(n));if(e==="auto")return r;if(e==="0"&&!r){const o=t.assignedSlot||(t instanceof ShadowRoot?t.host:t.parentNode);if(!(o instanceof HTMLElement))return!0;if(!vi(o))return!1}return!0}function jc(){const t=document.body.querySelectorAll("*"),e=Array.from(t,n=>{const r=getComputedStyle(n);let o=0;if(r.position!=="static"&&r.zIndex!=="auto"){const i=r.zIndex?parseInt(r.zIndex):0;o=isNaN(i)?0:i}return o});return Math.max(...e)}function Ts(t){class e extends t{get[mi](){const r=this[Ke]&&this[Ke].querySelector("slot:not([name])");return(!this[Ke]||!r)&&console.warn(`SlotContentMixin expects ${this.constructor.name} to define a shadow tree that includes a default (unnamed) slot.
See https://elix.org/documentation/SlotContentMixin.`),r}get[X](){return Object.assign(super[X]||{},{content:null})}[le](r){if(super[le]&&super[le](r),this[Be]){const o=this[mi];o&&o.addEventListener("slotchange",async()=>{this[ue]=!0;const i=o.assignedNodes({flatten:!0});Object.freeze(i),this[te]({content:i}),await Promise.resolve(),this[ue]=!1})}}}return e}const Bc=Ss(Fc(Ts(Ht)));class Ns extends Bc{get backdrop(){return this[fe]&&this[fe].backdrop}get backdropPartType(){return this[j].backdropPartType}set backdropPartType(e){this[te]({backdropPartType:e})}get[X](){return Object.assign(super[X],{backdropPartType:Fi,framePartType:Ps})}get frame(){return this[fe].frame}get framePartType(){return this[j].framePartType}set framePartType(e){this[te]({framePartType:e})}[J](e){super[J](e),Ia(this[Ke],this[j],e)}[le](e){super[le](e),e.opened&&this[j].content&&this[j].content.forEach(n=>{n[pi]&&n[pi]()})}get[de](){const e=super[de];return e.content.append(Re.html`
      <style>
        :host {
          display: inline-grid;
          /* Constrain content if overlay's height is constrained. */
          grid-template: minmax(0, 1fr) / minmax(0, 1fr);
          max-height: 100vh;
          max-width: 100vw;
          outline: none;
          position: fixed;
          -webkit-tap-highlight-color: transparent;
        }

        [part~="frame"] {
          box-sizing: border-box;
          display: grid;
          overscroll-behavior: contain;
          pointer-events: initial;
          position: relative;
        }

        #frameContent {
          display: grid;
          grid-template: minmax(0, 1fr) / minmax(0, 1fr);
          overflow: hidden;
        }
      </style>
      <div id="backdrop" part="backdrop" tabindex="-1"></div>
      <div id="frame" part="frame" role="none">
        <div id="frameContent">
          <slot></slot>
        </div>
      </div>
    `),Ia(e.content,this[j]),e}}function Ia(t,e,n){if(!n||n.backdropPartType){const{backdropPartType:r}=e,o=t.getElementById("backdrop");o&&ir(o,r)}if(!n||n.framePartType){const{framePartType:r}=e,o=t.getElementById("frame");o&&ir(o,r)}}const Uc=Lc(Mi(Po(Ns)));class Rs extends Uc{get[X](){return Object.assign(super[X],{backdropPartType:Is,tabIndex:-1})}get[de](){const e=super[de],n=e.content.querySelector("#frame");return this[Mi.wrap](n),e.content.append(Re.html`
        <style>
          :host {
            height: 100%;
            left: 0;
            pointer-events: initial;
            top: 0;
            width: 100%;
          }
        </style>
      `),e}}class zc extends Rs{get choiceButtons(){return this[j].choiceButtons}get choiceButtonPartType(){return this[j].choiceButtonPartType}set choiceButtonPartType(e){this[te]({choiceButtonPartType:e})}get choices(){return this[j].choices}set choices(e){this[te]({choices:e})}get[X](){return Object.assign(super[X],{choiceButtonPartType:"button",choiceButtons:[],choices:["OK"]})}[Ie](e){let n=!1;const r=e.key.length===1&&e.key.toLowerCase();if(r){const o=this.choices.find(i=>i[0].toLowerCase()===r);o&&(this.close({choice:o}),n=!0)}return n||super[Ie]&&super[Ie](e)||!1}[J](e){super[J](e),this[Be]&&this[fe].choiceButtonContainer.addEventListener("click",async n=>{const r=n.target;if(r instanceof HTMLElement){const o=r.textContent;this[ue]=!0,await this.close({choice:o}),this[ue]=!1}}),e.choiceButtons&&oc(this[fe].choiceButtonContainer,this[j].choiceButtons)}[_e](e,n){const r=super[_e](e,n);if(n.choiceButtonPartType||n.choices){const i=e.choices.map(a=>{const f=xs(e.choiceButtonPartType);return"part"in f&&(f.part="choice-button"),f.textContent=a,f});Object.freeze(i),Object.assign(r,{choiceButtons:i})}return r}get[de](){const e=super[de],n=e.content.querySelector("slot:not([name])");return n&&n.replaceWith(Re.html`
        <div id="alertDialogContent">
          <slot></slot>
          <div id="choiceButtonContainer" part="choice-button-container"></div>
        </div>
      `),e}}const Cs=document.createElement("div");Cs.attachShadow({mode:"open",delegatesFocus:!0});const Vc=Cs.shadowRoot,Hc=Vc.delegatesFocus;function $c(t){class e extends t{get[X](){return Object.assign(super[X]||{},{composeFocus:!Hc})}[J](r){super[J]&&super[J](r),this[Be]&&this.addEventListener("mousedown",o=>{if(!!this[j].composeFocus&&o.button===0&&o.target instanceof Element){const i=nc(o.target);i&&(i.focus(),o.preventDefault())}})}}return e}function Kc(t){class e extends t{get ariaLabel(){return this[j].ariaLabel}set ariaLabel(r){this[j].removingAriaAttribute||this[te]({ariaLabel:String(r)})}get ariaLabelledby(){return this[j].ariaLabelledby}set ariaLabelledby(r){this[j].removingAriaAttribute||this[te]({ariaLabelledby:String(r)})}get[X](){return Object.assign(super[X]||{},{ariaLabel:null,ariaLabelledby:null,inputLabel:null,removingAriaAttribute:!1})}[J](r){if(super[J]&&super[J](r),this[Be]&&this.addEventListener("focus",()=>{this[ue]=!0;const o=Yo(this,this[j]);this[te]({inputLabel:o}),this[ue]=!1}),r.inputLabel){const{inputLabel:o}=this[j];o?this[Pn].setAttribute("aria-label",o):this[Pn].removeAttribute("aria-label")}}[le](r){super[le]&&super[le](r),this[Be]&&(window.requestIdleCallback||setTimeout)(()=>{const f=Yo(this,this[j]);this[te]({inputLabel:f})});const{ariaLabel:o,ariaLabelledby:i}=this[j];r.ariaLabel&&!this[j].removingAriaAttribute&&this.getAttribute("aria-label")&&(this.setAttribute("delegated-label",o),this[te]({removingAriaAttribute:!0}),this.removeAttribute("aria-label")),r.ariaLabelledby&&!this[j].removingAriaAttribute&&this.getAttribute("aria-labelledby")&&(this.setAttribute("delegated-labelledby",i),this[te]({removingAriaAttribute:!0}),this.removeAttribute("aria-labelledby")),r.removingAriaAttribute&&this[j].removingAriaAttribute&&this[te]({removingAriaAttribute:!1})}[_e](r,o){const i=super[_e]?super[_e](r,o):{};if(o.ariaLabel&&r.ariaLabel||o.selectedText&&r.ariaLabelledby&&this.matches(":focus-within")){const a=Yo(this,r);Object.assign(i,{inputLabel:a})}return i}}return e}function Xo(t){if("selectedText"in t)return t.selectedText;if("value"in t&&"options"in t){const e=t.value,n=t.options.find(r=>r.value===e);return n?n.innerText:""}else return"value"in t?t.value:t.innerText}function Yo(t,e){const{ariaLabel:n,ariaLabelledby:r}=e,o=t.isConnected?t.getRootNode():null;let i=null;if(r&&o)i=r.split(" ").map(u=>{const c=o.getElementById(u);return c?c===t&&e.value!==null?e.selectedText:Xo(c):""}).join(" ");else if(n)i=n;else if(o){const a=t.id;if(a){const f=o.querySelector(`[for="${a}"]`);f instanceof HTMLElement&&(i=Xo(f))}if(i===null){const f=t.closest("label");f&&(i=Xo(f))}}return i&&(i=i.trim()),i}let In=!1;const gr=Symbol("focusVisibleChangedListener");function Ds(t){return class extends t{constructor(){super();this.addEventListener("focusout",n=>{Promise.resolve().then(()=>{const o=n.relatedTarget||document.activeElement,i=this===o,a=hn(this,o);!i&&!a&&(this[te]({focusVisible:!1}),document.removeEventListener("focusvisiblechange",this[gr]),this[gr]=null)})}),this.addEventListener("focusin",()=>{Promise.resolve().then(()=>{this[j].focusVisible!==In&&this[te]({focusVisible:In}),this[gr]||(this[gr]=()=>Gc(this),document.addEventListener("focusvisiblechange",this[gr]))})})}get[X](){return Object.assign(super[X]||{},{focusVisible:!1})}[J](n){if(super[J]&&super[J](n),n.focusVisible){const{focusVisible:r}=this[j];this.toggleAttribute("focus-visible",r)}}get[de](){const n=super[de]||Ot.html``;return n.content.append(Re.html`
        <style>
          :host {
            outline: none;
          }

          :host([focus-visible]:focus-within) {
            outline-color: Highlight; /* Firefox */
            outline-color: -webkit-focus-ring-color; /* All other browsers */
            outline-style: auto;
          }
        </style>
      `),n}}}function Gc(t){t[te]({focusVisible:In})}function ks(t){if(In!==t){In=t;const e=new CustomEvent("focus-visible-changed",{detail:{focusVisible:In}});document.dispatchEvent(e);const n=new CustomEvent("focusvisiblechange",{detail:{focusVisible:In}});document.dispatchEvent(n)}}window.addEventListener("keydown",()=>{ks(!0)},{capture:!0});window.addEventListener("mousedown",()=>{ks(!1)},{capture:!0});function ji(t){class e extends t{get[Li](){return!0}focus(r){const o=this[gi];o&&o.focus(r)}get[gi](){return Eo(this[Ke])}}return e}const Sa=Symbol("extends"),yi=Symbol("delegatedPropertySetters"),Wc={a:!0,area:!0,button:!0,details:!0,iframe:!0,input:!0,select:!0,textarea:!0},Qc={address:["scroll"],blockquote:["scroll"],caption:["scroll"],center:["scroll"],dd:["scroll"],dir:["scroll"],div:["scroll"],dl:["scroll"],dt:["scroll"],fieldset:["scroll"],form:["reset","scroll"],frame:["load"],h1:["scroll"],h2:["scroll"],h3:["scroll"],h4:["scroll"],h5:["scroll"],h6:["scroll"],iframe:["load"],img:["abort","error","load"],input:["abort","change","error","select","load"],li:["scroll"],link:["load"],menu:["scroll"],object:["error","scroll"],ol:["scroll"],p:["scroll"],script:["error","load"],select:["change","scroll"],tbody:["scroll"],tfoot:["scroll"],thead:["scroll"],textarea:["change","select","scroll"]},Zc=["click","dblclick","mousedown","mouseenter","mouseleave","mousemove","mouseout","mouseover","mouseup","wheel"],Xc={abort:!0,change:!0,reset:!0},Yc=["address","article","aside","blockquote","canvas","dd","div","dl","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","header","hgroup","hr","li","main","nav","noscript","ol","output","p","pre","section","table","tfoot","ul","video"],Pa=["accept-charset","autoplay","buffered","challenge","codebase","colspan","contenteditable","controls","crossorigin","datetime","dirname","for","formaction","http-equiv","icon","ismap","itemprop","keytype","language","loop","manifest","maxlength","minlength","muted","novalidate","preload","radiogroup","readonly","referrerpolicy","rowspan","scoped","usemap"],Jc=ji(Ht);class Bi extends Jc{constructor(){super();const e=this;!this[Rn]&&e.attachInternals&&(this[Rn]=e.attachInternals())}attributeChangedCallback(e,n,r){if(Pa.indexOf(e)>=0){const i=Object.assign({},this[j].innerAttributes,{[e]:r});this[te]({innerAttributes:i})}else super.attributeChangedCallback(e,n,r)}blur(){this.inner.blur()}get[X](){return Object.assign(super[X],{innerAttributes:{}})}get[Ao](){return Wc[this.extends]?0:-1}get extends(){return this.constructor[Sa]}get inner(){const e=this[fe]&&this[fe].inner;return e||console.warn("Attempted to get an inner standard element before it was instantiated."),e}static get observedAttributes(){return[...super.observedAttributes,...Pa]}[J](e){super[J](e);const n=this.inner;if(this[Be]&&((Qc[this.extends]||[]).forEach(o=>{n.addEventListener(o,()=>{const i=new Event(o,{bubbles:Xc[o]||!1});this.dispatchEvent(i)})}),"disabled"in n&&Zc.forEach(o=>{this.addEventListener(o,i=>{n.disabled&&i.stopImmediatePropagation()})})),e.tabIndex&&(n.tabIndex=this[j].tabIndex),e.innerAttributes){const{innerAttributes:r}=this[j];for(const o in r)ef(n,o,r[o])}this.constructor[yi].forEach(r=>{if(e[r]){const o=this[j][r];(r==="selectionEnd"||r==="selectionStart")&&o===null||(n[r]=o)}})}[le](e){if(super[le](e),e.disabled){const{disabled:n}=this[j];n!==void 0&&Mr(this,"disabled",n)}}get[de](){const e=Yc.includes(this.extends)?"block":"inline-block",n=this.extends;return Ot.html`
      <style>
        :host {
          display: ${e}
        }
        
        [part~="inner"] {
          box-sizing: border-box;
          height: 100%;
          width: 100%;
        }
      </style>
      <${n} id="inner" part="inner ${n}">
        <slot></slot>
      </${n}>
    `}static wrap(e){class n extends Bi{}n[Sa]=e;const r=document.createElement(e);return of(n,Object.getPrototypeOf(r)),n}}function ef(t,e,n){Es[e]?typeof n=="string"?t.setAttribute(e,""):n===null&&t.removeAttribute(e):n!=null?t.setAttribute(e,n.toString()):t.removeAttribute(e)}function tf(t,e){if(typeof e.value=="function"){if(t!=="constructor")return nf(t,e)}else if(typeof e.get=="function"||typeof e.set=="function")return rf(t,e);return null}function nf(t,e){const n=function(...o){this.inner[t](...o)};return{configurable:e.configurable,enumerable:e.enumerable,value:n,writable:e.writable}}function rf(t,e){const n={configurable:e.configurable,enumerable:e.enumerable};return e.get&&(n.get=function(){return af(this,t)}),e.set&&(n.set=function(r){sf(this,t,r)}),e.writable&&(n.writable=e.writable),n}function of(t,e){const n=Object.getOwnPropertyNames(e);t[yi]=[],n.forEach(r=>{const o=Object.getOwnPropertyDescriptor(e,r);if(!o)return;const i=tf(r,o);i&&(Object.defineProperty(t.prototype,r,i),i.set&&t[yi].push(r))})}function af(t,e){return t[j][e]||t[Ke]&&t.inner[e]}function sf(t,e,n){t[j][e]!==n&&t[te]({[e]:n})}const lf=$c(Kc(Ds(Bi.wrap("button"))));class uf extends lf{get[X](){return Object.assign(super[X],{role:"button"})}get[Pn](){return this[fe].inner}[ar](){const e=new MouseEvent("click",{bubbles:!0,cancelable:!0});this.dispatchEvent(e)}get[de](){const e=super[de];return e.content.append(Re.html`
        <style>
          :host {
            display: inline-flex;
            outline: none;
            -webkit-tap-highlight-color: transparent;
            touch-action: manipulation;
          }

          [part~="button"] {
            align-items: center;
            background: none;
            border: none;
            color: inherit;
            flex: 1;
            font: inherit;
            outline: none;
            padding: 0;
          }
        </style>
      `),e}}function cf(t){return class extends t{get[de](){const n=super[de];return n.content.append(Re.html`
        <style>
          :host([disabled]) ::slotted(*) {
            opacity: 0.5;
          }

          [part~="button"] {
            display: inline-flex;
            justify-content: center;
            margin: 0;
            position: relative;
          }
        </style>
      `),n}}}class ff extends cf(uf){}class Ls extends ff{get[de](){const e=super[de];return e.content.append(Re.html`
        <style>
          [part~="button"] {
            background: #eee;
            border: 1px solid #ccc;
            padding: 0.25em 0.5em;
          }
        </style>
      `),e}}class df extends Is{get[de](){const e=super[de];return e.content.append(Re.html`
        <style>
          :host {
            background: rgba(0, 0, 0, 0.2);
          }
        </style>
      `),e}}class Ui extends Ps{get[de](){const e=super[de];return e.content.append(Re.html`
        <style>
          :host {
            background: white;
            border: 1px solid rgba(0, 0, 0, 0.2);
            box-shadow: 0 0px 10px rgba(0, 0, 0, 0.5);
            box-sizing: border-box;
          }
        </style>
      `),e}}function qs(t){return class extends t{get[X](){return Object.assign(super[X]||{},{backdropPartType:df,framePartType:Ui})}}}class hf extends qs(zc){get[X](){return Object.assign(super[X],{choiceButtonPartType:Ls})}get[de](){const e=super[de];return e.content.append(Re.html`
        <style>
          [part~="frame"] {
            padding: 1em;
          }

          [part~="choice-button-container"] {
            margin-top: 1em;
          }

          [part~="choice-button"]:not(:first-child) {
            margin-left: 0.5em;
          }
        </style>
      `),e}}class pf extends hf{}customElements.define("elix-alert-dialog",pf);class mf extends qs(Rs){}class gf extends mf{}customElements.define("elix-dialog",gf);const vf={a:"link",article:"region",button:"button",h1:"sectionhead",h2:"sectionhead",h3:"sectionhead",h4:"sectionhead",h5:"sectionhead",h6:"sectionhead",hr:"sectionhead",iframe:"region",link:"link",menu:"menu",ol:"list",option:"option",output:"liveregion",progress:"progressbar",select:"select",table:"table",td:"td",textarea:"textbox",th:"th",ul:"list"};function yf(t){class e extends t{get[X](){const r=super[X];return Object.assign(r,{itemRole:r.itemRole||"menuitem",role:r.role||"menu"})}get itemRole(){return this[j].itemRole}set itemRole(r){this[te]({itemRole:r})}[J](r){super[J]&&super[J](r);const o=this[j].items;if((r.items||r.itemRole)&&o){const{itemRole:i}=this[j];o.forEach(a=>{i===vf[a.localName]?a.removeAttribute("role"):a.setAttribute("role",i)})}if(r.role){const{role:i}=this[j];this.setAttribute("role",i)}}get role(){return super.role}set role(r){super.role=r,this[cr]||this[te]({role:r})}}return e}function bf(t){class e extends t{attributeChangedCallback(r,o,i){if(r==="current-index")this.currentIndex=Number(i);else if(r==="current-item-required"){const a=qr(r,i);this.currentItemRequired!==a&&(this.currentItemRequired=a)}else if(r==="cursor-operations-wrap"){const a=qr(r,i);this.cursorOperationsWrap!==a&&(this.cursorOperationsWrap=a)}else super.attributeChangedCallback(r,o,i)}get currentIndex(){const{items:r,currentIndex:o}=this[j];return r&&r.length>0?o:-1}set currentIndex(r){isNaN(r)||this[te]({currentIndex:r})}get currentItem(){const{items:r,currentIndex:o}=this[j];return r&&r[o]}set currentItem(r){const{items:o}=this[j];if(!o)return;const i=o.indexOf(r);this[te]({currentIndex:i})}get currentItemRequired(){return this[j].currentItemRequired}set currentItemRequired(r){this[te]({currentItemRequired:r})}get cursorOperationsWrap(){return this[j].cursorOperationsWrap}set cursorOperationsWrap(r){this[te]({cursorOperationsWrap:r})}goFirst(){return super.goFirst&&super.goFirst(),this[er]()}goLast(){return super.goLast&&super.goLast(),this[tr]()}goNext(){return super.goNext&&super.goNext(),this[nn]()}goPrevious(){return super.goPrevious&&super.goPrevious(),this[rn]()}[le](r){if(super[le]&&super[le](r),r.currentIndex&&this[ue]){const{currentIndex:o}=this[j],i=new CustomEvent("current-index-changed",{bubbles:!0,detail:{currentIndex:o}});this.dispatchEvent(i);const a=new CustomEvent("currentindexchange",{bubbles:!0,detail:{currentIndex:o}});this.dispatchEvent(a)}}}return e}function Ms(t){const e=t[Ke],n=e&&e.querySelector("slot:not([name])");return n&&n.parentNode instanceof Element&&Af(n.parentNode)||t}function Ef(t){const e=getComputedStyle(t),n=e.overflowX,r=e.overflowY;return n==="scroll"||n==="auto"||r==="scroll"||r==="auto"}function Af(t){for(const e of bs(t))if(e instanceof HTMLElement&&Ef(e))return e;return null}function xf(t){class e extends t{[le](r){super[le]&&super[le](r),r.currentItem&&this.scrollCurrentItemIntoView()}scrollCurrentItemIntoView(){super.scrollCurrentItemIntoView&&super.scrollCurrentItemIntoView();const{currentItem:r,items:o}=this[j];if(!r||!o)return;const i=this[at].getBoundingClientRect(),a=r.getBoundingClientRect(),f=a.bottom-i.bottom,u=a.left-i.left,c=a.right-i.right,s=a.top-i.top,l=this[j].orientation||"both";(l==="horizontal"||l==="both")&&(c>0?this[at].scrollLeft+=c:u<0&&(this[at].scrollLeft+=Math.ceil(u))),(l==="vertical"||l==="both")&&(f>0?this[at].scrollTop+=f:s<0&&(this[at].scrollTop+=Math.ceil(s)))}get[at](){return super[at]||Ms(this)}}return e}function _f(t){class e extends t{get[X](){return Object.assign(super[X]||{},{canGoDown:null,canGoLeft:null,canGoRight:null,canGoUp:null})}[Xt](){return super[Xt]&&super[Xt](),this[nn]()}[Nt](){return super[Nt]&&super[Nt](),this[tr]()}[Yt](){return super[Yt]&&super[Yt](),this[j]&&this[j].rightToLeft?this[nn]():this[rn]()}[Jt](){return super[Jt]&&super[Jt](),this[j]&&this[j].rightToLeft?this[rn]():this[nn]()}[Rt](){return super[Rt]&&super[Rt](),this[er]()}[en](){return super[en]&&super[en](),this[rn]()}[_e](r,o){const i=super[_e]?super[_e](r,o):{};if(o.canGoNext||o.canGoPrevious||o.languageDirection||o.orientation||o.rightToLeft){const{canGoNext:a,canGoPrevious:f,orientation:u,rightToLeft:c}=r,s=u==="horizontal"||u==="both",l=u==="vertical"||u==="both";Object.assign(i,{canGoDown:l&&a,canGoLeft:s?c?a:f:!1,canGoRight:s?c?f:a:!1,canGoUp:l&&f})}return i}}return e}function Of(t){class e extends t{get items(){return this[j]?this[j].items:null}[le](r){if(super[le]&&super[le](r),!this[Be]&&r.items&&this[ue]){const o=new CustomEvent("items-changed",{bubbles:!0});this.dispatchEvent(o);const i=new CustomEvent("itemschange",{bubbles:!0});this.dispatchEvent(i)}}}return e}function wf(t){class e extends t{[Sn](r,o={}){const i=o.direction!==void 0?o.direction:1,a=o.index!==void 0?o.index:r.currentIndex,f=o.wrap!==void 0?o.wrap:r.cursorOperationsWrap,{items:u}=r,c=u?u.length:0;if(c===0)return-1;if(f){let s=(a%c+c)%c;const l=((s-i)%c+c)%c;for(;s!==l;){if(r.availableItemFlags?r.availableItemFlags[s]:!0)return s;s=((s+i)%c+c)%c}}else for(let s=a;s>=0&&s<c;s+=i)if(r.availableItemFlags?r.availableItemFlags[s]:!0)return s;return-1}get[X](){return Object.assign(super[X]||{},{currentIndex:-1,desiredCurrentIndex:null,currentItem:null,currentItemRequired:!1,cursorOperationsWrap:!1})}[er](){return super[er]&&super[er](),uo(this,0,1)}[tr](){return super[tr]&&super[tr](),uo(this,this[j].items.length-1,-1)}[nn](){super[nn]&&super[nn]();const{currentIndex:r,items:o}=this[j],i=r<0&&o?0:r+1;return uo(this,i,1)}[rn](){super[rn]&&super[rn]();const{currentIndex:r,items:o}=this[j],i=r<0&&o?o.length-1:r-1;return uo(this,i,-1)}[_e](r,o){const i=super[_e]?super[_e](r,o):{};if(o.availableItemFlags||o.items||o.currentIndex||o.currentItemRequired){const{currentIndex:a,desiredCurrentIndex:f,currentItem:u,currentItemRequired:c,items:s}=r,l=s?s.length:0;let g=f;if(o.items&&!o.currentIndex&&u&&l>0&&s[a]!==u){const h=s.indexOf(u);h>=0&&(g=h)}else o.currentIndex&&(a<0&&u!==null||a>=0&&(l===0||s[a]!==u)||f===null)&&(g=a);c&&g<0&&(g=0);let m;g<0?(g=-1,m=-1):l===0?m=-1:(m=Math.max(Math.min(l-1,g),0),m=this[Sn](r,{direction:1,index:m,wrap:!1}),m<0&&(m=this[Sn](r,{direction:-1,index:m-1,wrap:!1})));const v=s&&s[m]||null;Object.assign(i,{currentIndex:m,desiredCurrentIndex:g,currentItem:v})}return i}}return e}function uo(t,e,n){const r=t[Sn](t[j],{direction:n,index:e});if(r<0)return!1;const o=t[j].currentIndex!==r;return o&&t[te]({currentIndex:r}),o}const If=["applet","basefont","embed","font","frame","frameset","isindex","keygen","link","multicol","nextid","noscript","object","param","script","style","template","noembed"];function Sf(t){return t.getAttribute("aria-label")||t.getAttribute("alt")||t.innerText||t.textContent||""}function Pf(t){return t instanceof Element&&(!t.localName||If.indexOf(t.localName)<0)}function Tf(t){class e extends t{get[X](){return Object.assign(super[X]||{},{texts:null})}[br](r){return super[br]?super[br](r):Sf(r)}[_e](r,o){const i=super[_e]?super[_e](r,o):{};if(o.items){const{items:a}=r,f=Nf(a,this[br]);f&&(Object.freeze(f),Object.assign(i,{texts:f}))}return i}}return e}function Nf(t,e){return t?Array.from(t,n=>e(n)):null}function Rf(t){class e extends t{[Xt](){if(super[Xt])return super[Xt]()}[Nt](){if(super[Nt])return super[Nt]()}[Yt](){if(super[Yt])return super[Yt]()}[Jt](){if(super[Jt])return super[Jt]()}[Rt](){if(super[Rt])return super[Rt]()}[en](){if(super[en])return super[en]()}[Ie](r){let o=!1;if(r.target===this){const i=this[j].orientation||"both",a=i==="horizontal"||i==="both",f=i==="vertical"||i==="both";switch(r.key){case"ArrowDown":f&&(o=r.altKey?this[Nt]():this[Xt]());break;case"ArrowLeft":a&&!r.metaKey&&!r.altKey&&(o=this[Yt]());break;case"ArrowRight":a&&!r.metaKey&&!r.altKey&&(o=this[Jt]());break;case"ArrowUp":f&&(o=r.altKey?this[Rt]():this[en]());break;case"End":o=this[Nt]();break;case"Home":o=this[Rt]();break}}return o||super[Ie]&&super[Ie](r)||!1}}return e}function Cf(t){class e extends t{[Ie](r){let o=!1;if(this.orientation!=="horizontal")switch(r.key){case"PageDown":o=this.pageDown();break;case"PageUp":o=this.pageUp();break}return o||super[Ie]&&super[Ie](r)}get orientation(){return super.orientation||this[j]&&this[j].orientation||"both"}pageDown(){return super.pageDown&&super.pageDown(),Na(this,!0)}pageUp(){return super.pageUp&&super.pageUp(),Na(this,!1)}get[at](){const r=this;return super[at]||Ms(r)}}return e}function Ta(t,e,n){const r=t[j].items,o=n?0:r.length-1,i=n?r.length:0,a=n?1:-1;let f,u=null,c;const{availableItemFlags:s}=t[j];for(f=o;f!==i;f+=a)if((s?s[f]:!0)&&(c=r[f].getBoundingClientRect(),c.top<=e&&e<=c.bottom)){u=r[f];break}if(!u||!c)return null;const l=getComputedStyle(u),g=l.paddingTop?parseFloat(l.paddingTop):0,m=l.paddingBottom?parseFloat(l.paddingBottom):0,v=c.top+g,h=v+u.clientHeight-g-m;return n&&v<=e||!n&&h>=e?f:f-a}function Na(t,e){const n=t[j].items,r=t[j].currentIndex,o=t[at].getBoundingClientRect(),i=e?o.bottom:o.top,a=Ta(t,i,e);let f;if(a&&r===a){const s=n[r].getBoundingClientRect(),l=t[at].clientHeight,g=e?s.bottom+l:s.top-l;f=Ta(t,g,e)}else f=a;if(!f){const c=e?n.length-1:0;f=t[Sn]?t[Sn](t[j],{direction:e?-1:1,index:c}):c}const u=f!==r;if(u){const c=t[ue];t[ue]=!0,t[te]({currentIndex:f}),t[ue]=c}return u}const Df=1e3,Ct=Symbol("typedPrefix"),go=Symbol("prefixTimeout");function kf(t){class e extends t{constructor(){super();bi(this)}[nr](r){if(super[nr]&&super[nr](r),r==null||r.length===0)return!1;const o=r.toLowerCase(),a=this[j].texts.findIndex(f=>f.substr(0,r.length).toLowerCase()===o);if(a>=0){const f=this[j].currentIndex;return this[te]({currentIndex:a}),this[j].currentIndex!==f}else return!1}[Ie](r){let o;switch(r.key){case"Backspace":Lf(this),o=!0;break;case"Escape":bi(this);break;default:!r.ctrlKey&&!r.metaKey&&!r.altKey&&r.key.length===1&&qf(this,r.key)}return o||super[Ie]&&super[Ie](r)}}return e}function Lf(t){const e=t,n=e[Ct]?e[Ct].length:0;n>0&&(e[Ct]=e[Ct].substr(0,n-1)),t[nr](e[Ct]),js(t)}function qf(t,e){const n=t,r=n[Ct]||"";n[Ct]=r+e,t[nr](n[Ct]),js(t)}function Fs(t){const e=t;e[go]&&(clearTimeout(e[go]),e[go]=!1)}function bi(t){t[Ct]="",Fs(t)}function js(t){Fs(t),t[go]=setTimeout(()=>{bi(t)},Df)}function zi(t){return class extends t{connectedCallback(){const o=getComputedStyle(this).direction==="rtl";this[te]({rightToLeft:o}),super.connectedCallback()}}}function Mf(t){return class extends t{get[X](){return Object.assign(super[X]||{},{items:null})}[_e](n,r){const o=super[_e]?super[_e](n,r):{};if(r.content){const i=n.content,a=i?Array.prototype.filter.call(i,f=>Pf(f)):null;a&&Object.freeze(a),Object.assign(o,{items:a})}return o}}}function Ff(t){return Mf(Ts(t))}function jf(t){return class extends t{constructor(){super();this.addEventListener("mousedown",n=>{n.button===0&&(this[ue]=!0,this[ar](n),this[ue]=!1)})}[J](n){super[J]&&super[J](n),this[Be]&&Object.assign(this.style,{touchAction:"manipulation",mozUserSelect:"none",msUserSelect:"none",webkitUserSelect:"none",userSelect:"none"})}[ar](n){const r=n.composedPath?n.composedPath()[0]:n.target,{items:o,currentItemRequired:i}=this[j];if(o&&r instanceof Node){const a=vs(o,r),f=a>=0?o[a]:null;(f&&!f.disabled||!f&&!i)&&(this[te]({currentIndex:a}),n.stopPropagation())}}}}const Bf=yf(bf(xf(ji(_f(Of(wf(Tf(Rf(Po(Cf(kf(zi(Ff(jf(Ht)))))))))))))));class Bs extends Bf{get[X](){return Object.assign(super[X],{availableItemFlags:null,highlightCurrentItem:!0,orientation:"vertical",currentItemFocused:!1})}async flashCurrentItem(){const e=this[j].focusVisible,n=matchMedia("(pointer: fine)").matches;(e||n)&&(this[te]({highlightCurrentItem:!1}),await new Promise(o=>setTimeout(o,75)),this[te]({highlightCurrentItem:!0}),await new Promise(o=>setTimeout(o,75)))}[J](e){super[J](e),this[Be]&&(this.addEventListener("disabledchange",o=>{this[ue]=!0;const i=o.target,{items:a}=this[j],f=a===null?-1:a.indexOf(i);if(f>=0){const u=this[j].availableItemFlags.slice();u[f]=!i.disabled,this[te]({availableItemFlags:u})}this[ue]=!1}),"PointerEvent"in window?this.addEventListener("pointerdown",o=>this[ar](o)):this.addEventListener("touchstart",o=>this[ar](o)),this.removeAttribute("tabindex"));const{currentIndex:n,items:r}=this[j];if((e.items||e.currentIndex||e.highlightCurrentItem)&&r){const{highlightCurrentItem:o}=this[j];r.forEach((i,a)=>{i.toggleAttribute("current",o&&a===n)})}(e.items||e.currentIndex||e.currentItemFocused||e.focusVisible)&&r&&r.forEach((o,i)=>{const a=i===n,f=n<0&&i===0;this[j].currentItemFocused?a||f||o.removeAttribute("tabindex"):(a||f)&&(o.tabIndex=0)})}[le](e){if(super[le](e),!this[Be]&&e.currentIndex&&!this[j].currentItemFocused){const{currentItem:n}=this[j];(n instanceof HTMLElement?n:this).focus(),this[te]({currentItemFocused:!0})}}get[at](){return this[fe].content}[_e](e,n){const r=super[_e](e,n);if(n.currentIndex&&Object.assign(r,{currentItemFocused:!1}),n.items){const{items:o}=e,i=o===null?null:o.map(a=>!a.disabled);Object.assign(r,{availableItemFlags:i})}return r}get[de](){return Ot.html`
      <style>
        :host {
          box-sizing: border-box;
          cursor: default;
          display: inline-flex;
          -webkit-tap-highlight-color: transparent;
          touch-action: manipulation;
        }

        #content {
          display: flex;
          flex: 1;
          flex-direction: column;
          max-height: 100%;
          overflow-x: hidden;
          overflow-y: auto;
          -webkit-overflow-scrolling: touch; /* for momentum scrolling */
        }
        
        ::slotted(*) {
          flex-shrink: 0;
          outline: none;
          touch-action: manipulation;
        }

        ::slotted(option) {
          font: inherit;
          min-height: inherit;
        }
      </style>
      <div id="content" role="none">
        <slot></slot>
      </div>
    `}}const Vn=Symbol("documentMouseupListener");function Uf(t){class e extends t{connectedCallback(){super.connectedCallback(),Jo(this)}get[X](){return Object.assign(super[X]||{},{dragSelect:!0})}disconnectedCallback(){super.disconnectedCallback&&super.disconnectedCallback(),Jo(this)}[le](r){super[le](r),r.opened&&Jo(this)}[_e](r,o){const i=super[_e](r,o);return o.opened&&r.opened&&Object.assign(i,{dragSelect:!0}),i}}return e}async function zf(t){const e=this,n=e[Ke].elementsFromPoint(t.clientX,t.clientY);if(e.opened){const r=n.indexOf(e[fe].source)>=0,o=e[fe].popup,i=n.indexOf(o)>=0,a=o.frame&&n.indexOf(o.frame)>=0;r?e[j].dragSelect&&(e[ue]=!0,e[te]({dragSelect:!1}),e[ue]=!1):i||a||(e[ue]=!0,await e.close(),e[ue]=!1)}}function Jo(t){t[j].opened&&t.isConnected?t[Vn]||(t[Vn]=zf.bind(t),document.addEventListener("mouseup",t[Vn])):t[Vn]&&(document.removeEventListener("mouseup",t[Vn]),t[Vn]=null)}function Vi(t){class e extends t{get[X](){return Object.assign(super[X]||{},{disabled:!1})}get disabled(){return this[j].disabled}set disabled(r){this[te]({disabled:r})}[le](r){if(super[le]&&super[le](r),r.disabled&&(this.toggleAttribute("disabled",this.disabled),this[ue])){const o=new CustomEvent("disabled-changed",{bubbles:!0});this.dispatchEvent(o);const i=new CustomEvent("disabledchange",{bubbles:!0});this.dispatchEvent(i)}}}return e}function Ra(t,e,n,r){const o=Us(t,n,r);let i=0,a=0;const f=n==="above"||n==="below";switch(n){case"above":i=o.y-e.top;break;case"below":i=e.bottom-o.y;break;case"left":a=o.x-e.left;break;case"right":a=e.right-o.x;break}switch(r){case"bottom":i=o.y-e.top;break;case"center":f?a=e.width:i=e.height;break;case"stretch":f?a=t.width:i=t.height;break;case"left":a=e.right-o.x;break;case"right":a=o.x-e.left;break;case"top":i=e.bottom-o.y;break}return i=Math.max(0,i),a=Math.max(0,a),{height:i,width:a}}function Vf(t,e,n,r,o){const i=Ra(n,o,t.direction,t.align),a=Ra(n,o,e.direction,e.align),f=r.width<=i.width,u=r.height<=i.height,c=f||u,s=f&&u,l=r.width<=a.width,g=r.height<=a.height,m=l||g,v=l&&g,h=i.width*i.height,p=a.width*a.height;return s&&v?0:s?-1:v?1:c&&!m?-1:m&&!c?1:c&&h>p?-1:m&&p>h?1:h>p?-1:p>h?1:0}function Hf(t,e,n,r,o){const i=Us(t,r,o);let{x:a,y:f,bottom:u,right:c}=n,s=0,l=0,g=e.height,m=e.width;const v=r==="above"||r==="below";switch(r){case"above":l=i.y-e.height,u=i.y;break;case"below":l=i.y,f=i.y;break;case"left":s=i.x-e.width,c=i.x;break;case"right":s=i.x,a=i.x;break}switch(o){case"bottom":l=i.y-e.height,u=i.y;break;case"left":s=i.x,a=i.x;break;case"center":v?s=i.x-e.width/2:l=i.y-e.height/2;break;case"right":s=i.x-e.width,c=i.x;break;case"stretch":v?(s=i.x,m=t.width):(l=i.y,g=t.height);break;case"top":l=i.y,f=i.y;break}return s=Math.max(s,a),l=Math.max(l,f),m=Math.min(m,c-s),g=Math.min(g,u-l),new DOMRect(s,l,m,g)}function Us(t,e,n){let r=0,o=0;const i=e==="above"||e==="below";switch(e){case"above":o=t.top;break;case"below":o=t.bottom;break;case"left":case"right":r=t[e];break}switch(n){case"bottom":case"top":o=t[n];break;case"left":case"right":r=t[n];break;case"center":i?r=t.left+t.width/2:o=t.top+t.height/2;break;case"stretch":i?r=t.left:o=t.top;break}return{x:r,y:o}}function $f(t,e,n,r){const o=Kf(r),i=Gf(o.direction,o.align);i.sort((f,u)=>Vf(f,u,t,e,n));const a=i[0];return a.rect=Hf(t,e,n,a.direction,a.align),a}function Kf(t){const{align:e,direction:n,rightToLeft:r}=t,o="below",i={above:"above",below:"below",column:"below","column-reverse":"above",left:"left",right:"right",row:r?"left":"right","row-reverse":r?"right":"left"}[n]||o,a={above:"horizontal",below:"horizontal",left:"vertical",right:"vertical"}[i],f={horizontal:"left",vertical:"top"}[a];return{align:{horizontal:{center:"center",end:r?"left":"right",left:"left",right:"right",start:r?"right":"left",stretch:"stretch"},vertical:{bottom:"bottom",center:"center",end:"bottom",start:"top",stretch:"stretch",top:"top"}}[a][e]||f,direction:i,rightToLeft:r}}function Gf(t,e){const n={above:"below",below:"above",left:"right",right:"left"},r={top:"bottom",bottom:"top",left:"right",right:"left"},o=[{align:e,direction:t}];return e==="center"||e==="stretch"?o.push({align:e,direction:n[t]}):(o.push({align:r[e],direction:t}),o.push({align:e,direction:n[t]}),o.push({align:r[e],direction:n[t]})),o}const Dt=Symbol("implicitCloseListener");function Wf(t){class e extends t{get closeOnWindowResize(){return this[j].closeOnWindowResize}set closeOnWindowResize(r){this[te]({closeOnWindowResize:r})}get[X](){return Object.assign(super[X]||{},{closeOnWindowResize:!0,role:"alert"})}[Ie](r){let o=!1;switch(r.key){case"Escape":this.close({canceled:"Escape"}),o=!0;break}return o||super.keydown&&super.keydown(r)||!1}[J](r){if(super[J]&&super[J](r),this[Be]&&this.addEventListener("blur",Xf.bind(this)),r.role){const{role:o}=this[j];this.setAttribute("role",o)}}[le](r){super[le]&&super[le](r),r.opened&&(this.opened?("requestIdleCallback"in window?window.requestIdleCallback:setTimeout)(()=>{this.opened&&Qf(this)}):Zf(this))}get role(){return super.role}set role(r){super.role=r,this[cr]||this[te]({role:r})}}return e}function Qf(t){t[Dt]=Yf.bind(t),window.addEventListener("blur",t[Dt]),window.addEventListener("resize",t[Dt]),window.addEventListener("scroll",t[Dt])}function Zf(t){t[Dt]&&(window.removeEventListener("blur",t[Dt]),window.removeEventListener("resize",t[Dt]),window.removeEventListener("scroll",t[Dt]),t[Dt]=null)}async function Xf(t){const e=this,n=t.relatedTarget||document.activeElement;n instanceof Element&&!hn(e,n)&&(e[ue]=!0,await e.close({canceled:"window blur"}),e[ue]=!1)}async function Yf(t){const e=this,n=t.type!=="resize"||e[j].closeOnWindowResize;!ys(e,t)&&n&&(e[ue]=!0,await e.close({canceled:`window ${t.type}`}),e[ue]=!1)}const Jf=Po(Wf(Ns));class Hi extends Jf{[J](e){super[J](e),e.backdropPartType&&(this[fe].backdrop.addEventListener("mousedown",Ca.bind(this)),"PointerEvent"in window||this[fe].backdrop.addEventListener("touchend",Ca))}}async function Ca(t){const e=this;e[ue]=!0,await e.close({canceled:"mousedown outside"}),e[ue]=!1,t.preventDefault(),t.stopPropagation()}const Sr=Symbol("resizeListener"),ed=Vi(Ds(zi(Ss(Ht))));class td extends ed{get[X](){return Object.assign(super[X],{ariaHasPopup:"true",popupAlign:"start",popupDirection:"column",popupLayout:null,popupPartType:Hi,sourcePartType:"div"})}get[Pn](){return this[fe].source}get frame(){return this[fe].popup.frame}get horizontalAlign(){return this[j].popupAlign}set horizontalAlign(e){console.warn('The "horizontalAlign" property has been renamed to "popupAlign"; the "horizontal-align" attribute is now "popup-align".'),this[te]({popupAlign:e})}get popupAlign(){return this[j].popupAlign}set popupAlign(e){this[te]({popupAlign:e})}get popupDirection(){return this[j].popupDirection}set popupDirection(e){this[te]({popupDirection:e})}get popupPosition(){return this[j].popupPosition}set popupPosition(e){console.warn('The "popupPosition" property has been renamed to "popupDirection"; the "popup-position" attribute is now "popup-direction".'),this[te]({popupPosition:e})}get popupPartType(){return this[j].popupPartType}set popupPartType(e){this[te]({popupPartType:e})}[J](e){if(super[J](e),Da(this[Ke],this[j],e),this[Be]||e.ariaHasPopup){const{ariaHasPopup:n}=this[j];n===null?this[Pn].removeAttribute("aria-haspopup"):this[Pn].setAttribute("aria-haspopup",this[j].ariaHasPopup)}if(e.popupPartType&&(this[fe].popup.addEventListener("open",()=>{this.opened||(this[ue]=!0,this.open(),this[ue]=!1)}),this[fe].popup.addEventListener("close",n=>{if(!this.closed){this[ue]=!0;const o=n.detail.closeResult;this.close(o),this[ue]=!1}})),e.opened||e.popupLayout){const{opened:n,popupLayout:r}=this[j];if(!n)Object.assign(this[fe].popup.style,{bottom:"",left:"",opacity:"",right:"",top:""});else if(!r)Object.assign(this[fe].popup.style,{bottom:"",left:"",opacity:0,right:"",top:""});else{const o=this[fe].popup,i=rd(r);Object.assign(o.style,i,{opacity:""})}}if(e.opened){const{opened:n}=this[j];this[fe].popup.opened=n}if(e.disabled&&"disabled"in this[fe].source){const{disabled:n}=this[j];this[fe].source.disabled=n}if(e.popupLayout){const{popupLayout:n}=this[j];if(n){const{align:r,direction:o}=n,i=this[fe].popup;"position"in i&&(i.position=o),"align"in i&&(i.align=r)}}}[le](e){super[le](e);const{opened:n}=this[j];e.opened?n?id(this):od(this):e.popupLayout&&this[j].opened&&!this[j].popupLayout&&$i(this)}get sourcePartType(){return this[j].sourcePartType}set sourcePartType(e){this[te]({sourcePartType:e})}[_e](e,n){const r=super[_e](e,n);return(n.opened&&!e.opened||e.opened&&(n.popupAlign||n.popupDirection||n.rightToLeft))&&Object.assign(r,{popupLayout:null}),r}get[de](){const e=super[de];return e.content.append(Re.html`
      <style>
        :host {
          display: inline-block;
          position: relative;
        }

        [part~="source"] {
          height: 100%;
          -webkit-tap-highlight-color: transparent;
          touch-action: manipulation;
          width: 100%;
        }

        [part~="popup"] {
          max-height: 100%;
          max-width: 100%;
          outline: none;
          position: fixed;
        }
      </style>
      <div id="source" part="source">
        <slot name="source"></slot>
      </div>
      <div id="popup" part="popup" exportparts="backdrop, frame" role="none">
        <slot></slot>
      </div>
    `),Da(e.content,this[j]),e}}function nd(t){const e=t;e[Sr]=()=>{$i(t)},(window.visualViewport||window).addEventListener("resize",e[Sr])}function $i(t){const{popupAlign:e,popupDirection:n,rightToLeft:r}=t[j],o=t[fe].source.getBoundingClientRect(),i=t[fe].popup.getBoundingClientRect(),a=zs(),f=$f(o,i,a,{align:e,direction:n,rightToLeft:r});t[te]({popupLayout:f})}function rd(t){const{align:e,direction:n,rect:r}=t,o=zs(),i={},a=n==="above"||n==="below";switch(n){case"above":i.bottom=`${o.bottom-r.bottom}px`;break;case"below":i.top=`${r.top}px`;break;case"left":i.right=`${o.right-r.right}px`;break;case"right":i.left=`${r.left}px`;break}switch(e){case"bottom":i.bottom=`${o.bottom-r.bottom}px`;break;case"center":case"stretch":a?(i.left=`${r.left}px`,i.right=`${o.right-r.right}px`):(i.bottom=`${o.bottom-r.bottom}px`,i.top=`${r.top}px`);break;case"left":i.left=`${r.left}px`;break;case"right":i.right=`${o.right-r.right}px`;break;case"top":i.top=`${r.top}px`;break}return i}function od(t){const e=t;e[Sr]&&((window.visualViewport||window).removeEventListener("resize",e[Sr]),e[Sr]=null)}function Da(t,e,n){if(!n||n.popupPartType){const{popupPartType:r}=e,o=t.getElementById("popup");o&&ir(o,r)}if(!n||n.sourcePartType){const{sourcePartType:r}=e,o=t.getElementById("source");o&&ir(o,r)}}function zs(){const t=window.visualViewport;return t?new DOMRect(t.offsetLeft,t.offsetTop,t.width,t.height):new DOMRect(0,0,window.innerWidth,window.innerHeight)}function id(t){setTimeout(()=>{t[j].opened&&($i(t),nd(t))})}const ad=ji(Po(Uf(td)));class sd extends ad{get[X](){return Object.assign(super[X],{sourcePartType:"button"})}[Ie](e){let n;switch(e.key){case" ":case"ArrowDown":case"ArrowUp":this.closed&&(this.open(),n=!0);break;case"Enter":this.opened||(this.open(),n=!0);break;case"Escape":this.opened&&(this.close({canceled:"Escape"}),n=!0);break}if(n=super[Ie]&&super[Ie](e),!n&&this.opened&&!e.metaKey&&!e.altKey)switch(e.key){case"ArrowDown":case"ArrowLeft":case"ArrowRight":case"ArrowUp":case"End":case"Home":case"PageDown":case"PageUp":case" ":n=!0}return n}[J](e){if(super[J](e),this[Be]&&(this.addEventListener("blur",ld.bind(this)),this[fe].source.addEventListener("focus",async n=>{const r=ys(this[fe].popup,n),o=this[j].popupHeight!==null;!r&&this.opened&&o&&(this[ue]=!0,await this.close(),this[ue]=!1)})),e.opened){const{opened:n}=this[j];this.toggleAttribute("opened",n)}e.sourcePartType&&this[fe].source.addEventListener("mousedown",r=>{if(this.disabled){r.preventDefault();return}const o=r;o.button&&o.button!==0||(setTimeout(()=>{this.opened||(this[ue]=!0,this.open(),this[ue]=!1)}),r.stopPropagation())}),e.popupPartType&&this[fe].popup.removeAttribute("tabindex")}get[de](){const e=super[de];return e.content.append(Re.html`
        <style>
          [part~="source"] {
            cursor: default;
            outline: none;
            -webkit-tap-highlight-color: transparent;
            touch-action: manipulation;
            -moz-user-select: none;
            -ms-user-select: none;
            -webkit-user-select: none;
            user-select: none;
          }

          :host([opened][focus-visible]) {
            outline: none;
          }
        </style>
      `),e}}async function ld(t){const e=this,n=t.relatedTarget||document.activeElement;n instanceof Element&&!hn(e,n)&&(e[ue]=!0,await e.close({canceled:"blur"}),e[ue]=!1)}const Hn=Symbol("documentMousemoveListener");function ud(t){class e extends t{connectedCallback(){super.connectedCallback(),ei(this)}get[X](){return Object.assign(super[X]||{},{currentIndex:-1,hasHoveredOverItemSinceOpened:!1,popupList:null})}disconnectedCallback(){super.disconnectedCallback&&super.disconnectedCallback(),ei(this)}[Ie](r){let o=!1;switch(r.key){case"Enter":this.opened&&(ka(this),o=!0)}return o||super[Ie]&&super[Ie](r)||!1}[J](r){if(super[J]&&super[J](r),r.popupList){const{popupList:o}=this[j];o&&(o.addEventListener("mouseup",async i=>{const a=this[j].currentIndex;this[j].dragSelect||a>=0?(i.stopPropagation(),this[ue]=!0,await ka(this),this[ue]=!1):i.stopPropagation()}),o.addEventListener("currentindexchange",i=>{this[ue]=!0;const a=i;this[te]({currentIndex:a.detail.currentIndex}),this[ue]=!1}))}if(r.currentIndex||r.popupList){const{currentIndex:o,popupList:i}=this[j];i&&"currentIndex"in i&&(i.currentIndex=o)}}[le](r){if(super[le]&&super[le](r),r.opened){if(this[j].opened){const{popupList:o}=this[j];o.scrollCurrentItemIntoView&&setTimeout(()=>{o.scrollCurrentItemIntoView()})}ei(this)}}[_e](r,o){const i=super[_e]?super[_e](r,o):{};return o.opened&&r.opened&&Object.assign(i,{hasHoveredOverItemSinceOpened:!1}),i}}return e}function cd(t){const e=this,{hasHoveredOverItemSinceOpened:n,opened:r}=e[j];if(r){const o=t.composedPath?t.composedPath()[0]:t.target,i=e.items;if(o&&o instanceof Node&&i){const a=vs(i,o),f=i[a],u=f&&!f.disabled?a:-1;(n||u>=0)&&u!==e[j].currentIndex&&(e[ue]=!0,e[te]({currentIndex:u}),u>=0&&!n&&e[te]({hasHoveredOverItemSinceOpened:!0}),e[ue]=!1)}}}function ei(t){t[j].opened&&t.isConnected?t[Hn]||(t[Hn]=cd.bind(t),document.addEventListener("mousemove",t[Hn])):t[Hn]&&(document.removeEventListener("mousemove",t[Hn]),t[Hn]=null)}async function ka(t){const e=t[ue],n=t[j].currentIndex>=0,r=t.items;if(r){const o=n?r[t[j].currentIndex]:void 0,i=t[j].popupList;n&&"flashCurrentItem"in i&&await i.flashCurrentItem();const a=t[ue];t[ue]=e,await t.close(o),t[ue]=a}}const fd=ud(sd);class dd extends fd{get[X](){return Object.assign(super[X],{menuPartType:Bs})}get items(){const e=this[fe]&&this[fe].menu;return e?e.items:null}get menuPartType(){return this[j].menuPartType}set menuPartType(e){this[te]({menuPartType:e})}[J](e){if(super[J](e),La(this[Ke],this[j],e),e.menuPartType&&(this[fe].menu.addEventListener("blur",async n=>{const o=n.relatedTarget||document.activeElement;this.opened&&!hn(this[fe].menu,o)&&(this[ue]=!0,await this.close(),this[ue]=!1)}),this[fe].menu.addEventListener("mousedown",n=>{n.button===0&&this.opened&&(n.stopPropagation(),n.preventDefault())})),e.opened){const{opened:n}=this[j];this[fe].source.setAttribute("aria-expanded",n.toString())}}[le](e){super[le](e),e.menuPartType&&this[te]({popupList:this[fe].menu})}[_e](e,n){const r=super[_e](e,n);return n.opened&&!e.opened&&Object.assign(r,{currentIndex:-1}),r}get[de](){const e=super[de],n=e.content.querySelector("slot:not([name])");return n&&n.replaceWith(Re.html`
        <div id="menu" part="menu">
          <slot></slot>
        </div>
      `),La(e.content,this[j]),e.content.append(Re.html`
      <style>
        [part~="menu"] {
          max-height: 100%;
        }
      </style>
    `),e}}function La(t,e,n){if(!n||n.menuPartType){const{menuPartType:r}=e,o=t.getElementById("menu");o&&ir(o,r)}}const hd=Vi(Ht);class Vs extends hd{get[X](){return Object.assign(super[X],{direction:"down"})}get direction(){return this[j].direction}set direction(e){this[te]({direction:e})}[J](e){if(super[J](e),e.direction){const{direction:n}=this[j];this[fe].downIcon.style.display=n==="down"?"block":"none",this[fe].upIcon.style.display=n==="up"?"block":"none"}}get[de](){return Ot.html`
      <style>
        :host {
          display: inline-block;
        }
      </style>
      <div id="downIcon" part="toggle-icon down-icon">
        <slot name="down-icon"></slot>
      </div>
      <div id="upIcon" part="toggle-icon up-icon">
        <slot name="up-icon"></slot>
      </div>
    `}}function pd(t){class e extends t{get[X](){return Object.assign(super[X]||{},{popupTogglePartType:Vs})}get popupTogglePartType(){return this[j].popupTogglePartType}set popupTogglePartType(r){this[te]({popupTogglePartType:r})}[J](r){if(super[J](r),qa(this[Ke],this[j],r),r.popupDirection||r.popupTogglePartType){const{popupDirection:o}=this[j],i=o==="above"||o==="column-reverse"?"up":"down",a=this[fe].popupToggle;"direction"in a&&(a.direction=i)}if(r.disabled){const{disabled:o}=this[j];this[fe].popupToggle.disabled=o}}get[de](){const r=super[de],o=r.content.querySelector('[part~="source"]');return o&&o.append(Re.html`
          <div
            id="popupToggle"
            part="popup-toggle"
            exportparts="toggle-icon, down-icon, up-icon"
            tabindex="-1"
          ></div>
      `),qa(r.content,this[j]),r.content.append(Re.html`
      <style>
        [part~="popup-toggle"] {
          outline: none;
        }

        [part~="source"] {
          align-items: center;
          display: flex;
        }
      </style>
    `),r}}return e}function qa(t,e,n){if(!n||n.popupTogglePartType){const{popupTogglePartType:r}=e,o=t.getElementById("popupToggle");o&&ir(o,r)}}class md extends Bs{get[de](){const e=super[de];return e.content.append(Re.html`
        <style>
          :host ::slotted(*) {
            padding: 0.25em 1em;
          }
          
          :host ::slotted([current]) {
            background: highlight;
            color: highlighttext;
          }

          @media (pointer: coarse) {
            ::slotted(*) {
              padding: 1em;
            }
          }
        </style>
      `),e}}class gd extends Vs{get[de](){const e=super[de],n=e.content.getElementById("downIcon"),r=Re.html`
      <svg
        id="downIcon"
        part="toggle-icon down-icon"
        xmlns="http://www.w3.org/2000/svg"
        viewBox="0 0 10 5"
      >
        <path d="M 0 0 l5 5 5 -5 z" />
      </svg>
    `.firstElementChild;n&&r&&hi(n,r);const o=e.content.getElementById("upIcon"),i=Re.html`
      <svg
        id="upIcon"
        part="toggle-icon up-icon"
        xmlns="http://www.w3.org/2000/svg"
        viewBox="0 0 10 5"
      >
        <path d="M 0 5 l5 -5 5 5 z" />
      </svg>
    `.firstElementChild;return o&&i&&hi(o,i),e.content.append(Re.html`
        <style>
          :host {
            align-items: center;
            display: inline-flex;
            padding: 2px;
          }

          :host(:not([disabled])):hover {
            background: #eee;
          }

          [part~="toggle-icon"] {
            fill: currentColor;
            height: 10px;
            margin: 0.25em;
            width: 10px;
          }
        </style>
      `),e}}class vd extends Fi{}class yd extends Hi{get[X](){return Object.assign(super[X],{backdropPartType:vd,framePartType:Ui})}}class bd extends pd(dd){get[X](){return Object.assign(super[X],{menuPartType:md,popupPartType:yd,popupTogglePartType:gd,sourcePartType:Ls})}get[de](){const e=super[de];return e.content.append(Re.html`
        <style>
          [part~="menu"] {
            background: window;
            border: none;
            padding: 0.5em 0;
          }
        </style>
      `),e}}class Ed extends bd{}customElements.define("elix-menu-button",Ed);function Ad(t){return class extends t{constructor(){super();const n=this;!this[Rn]&&n.attachInternals&&(this[Rn]=n.attachInternals())}attributeChangedCallback(n,r,o){if(n==="current"){const i=qr(n,o);this.current!==i&&(this.current=i)}else super.attributeChangedCallback(n,r,o)}get[X](){return Object.assign(super[X]||{},{current:!1})}[J](n){if(super[J](n),n.current){const{current:r}=this[j];Mr(this,"current",r)}}[le](n){if(super[le]&&super[le](n),n.current){const{current:r}=this[j],o=new CustomEvent("current-changed",{bubbles:!0,detail:{current:r}});this.dispatchEvent(o);const i=new CustomEvent("currentchange",{bubbles:!0,detail:{current:r}});this.dispatchEvent(i)}}get current(){return this[j].current}set current(n){this[te]({current:n})}}}function xd(t){return class extends t{constructor(){super();const n=this;!this[Rn]&&n.attachInternals&&(this[Rn]=n.attachInternals())}get[X](){return Object.assign(super[X]||{},{selected:!1})}[J](n){if(super[J](n),n.selected){const{selected:r}=this[j];Mr(this,"selected",r)}}[le](n){if(super[le]&&super[le](n),n.selected){const{selected:r}=this[j],o=new CustomEvent("selected-changed",{bubbles:!0,detail:{selected:r}});this.dispatchEvent(o);const i=new CustomEvent("selectedchange",{bubbles:!0,detail:{selected:r}});this.dispatchEvent(i)}}get selected(){return this[j].selected}set selected(n){this[te]({selected:n})}}}class _d extends Ad(Vi(xd(Ht))){}class Od extends _d{get[de](){return Ot.html`
      <style>
        :host {
          font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen, Ubuntu, Cantarell, 'Open Sans', 'Helvetica Neue', sans-serif;
          font-size: 10pt;
          white-space: nowrap;
        }

        :host([disabled]) {
          opacity: 0.5;
        }

        #checkmark {
          height: 1em;
          visibility: hidden;
          width: 1em;
        }

        :host([selected]) #checkmark {
          visibility: visible;
        }
      </style>
      <svg id="checkmark" xmlns="http://www.w3.org/2000/svg" viewBox="4 6 18 12">
        <path d="M0 0h24v24H0V0z" fill="none"/>
        <path d="M9 16.17L4.83 12l-1.42 1.41L9 19 21 7l-1.41-1.41L9 16.17z"/>
      </svg>
      <slot></slot>
    `}}class wd extends Od{}customElements.define("elix-menu-item",wd);class Id extends Ht{get disabled(){return!0}[J](e){super[J](e),this[Be]&&this.setAttribute("aria-hidden","true")}}class Sd extends Id{get[de](){return Ot.html`
      <style>
        :host {
          padding: 0 !important;
        }

        hr {
          border-bottom-width: 0px;
          border-color: #fff; /* Ends up as light gray */
          border-top-width: 1px;
          margin: 0.25em 0;
        }
      </style>
      <hr>
    `}}class Pd extends Sd{}customElements.define("elix-menu-separator",Pd);function Td(t){class e extends t{get[Xn](){return super[Xn]||this}[J](r){super[J]&&super[J](r),this[Be]&&(this[Xn]===this?this:this[Ke]).addEventListener("transitionend",i=>{const a=this[j].effectEndTarget||this[Xn];i.target===a&&this[te]({effectPhase:"after"})})}[le](r){if(super[le]&&super[le](r),r.effect||r.effectPhase){const{effect:o,effectPhase:i}=this[j],a=new CustomEvent("effect-phase-changed",{bubbles:!0,detail:{effect:o,effectPhase:i}});this.dispatchEvent(a);const f=new CustomEvent("effectphasechange",{bubbles:!0,detail:{effect:o,effectPhase:i}});this.dispatchEvent(f),o&&(i!=="after"&&this.offsetHeight,i==="before"&&this[te]({effectPhase:"during"}))}}async[qi](r){await this[te]({effect:r,effectPhase:"before"})}}return e}const vo=Symbol("timeout"),Nd=zi(Td(Hi));class Rd extends Nd{constructor(){super();this.addEventListener("mouseout",()=>{Ma(this)}),this.addEventListener("mouseover",()=>{Hs(this)})}attributeChangedCallback(e,n,r){e==="duration"?this.duration=Number(r):super.attributeChangedCallback(e,n,r)}get[X](){return Object.assign(super[X],{duration:null,fromEdge:"bottom"})}get duration(){return this[j].duration}set duration(e){isNaN(e)||this[te]({duration:e})}get[Xn](){return this[fe].frame}get fromEdge(){return this[j].fromEdge}set fromEdge(e){this[te]({fromEdge:e})}[J](e){if(super[J](e),e.fromEdge){const n={bottom:{alignItems:"center",justifyContent:"flex-end"},"bottom-left":{alignItems:"flex-start",justifyContent:"flex-end"},"bottom-right":{alignItems:"flex-end",justifyContent:"flex-end"},top:{alignItems:"center",justifyContent:null},"top-left":{alignItems:"flex-start",justifyContent:null},"top-right":{alignItems:"flex-end",justifyContent:null}};Object.assign(this.style,n[this[j].fromEdge])}if(e.effect||e.effectPhase||e.fromEdge||e.rightToLeft){const{effect:n,effectPhase:r,fromEdge:o,rightToLeft:i}=this[j],f=i&&{"bottom-left":"bottom-right","bottom-right":"bottom-left","top-left":"top-right","top-right":"top-left"}[o]||o,u={bottom:"translateY(100%)","bottom-left":"translateX(-100%)","bottom-right":"translateX(100%)",top:"translateY(-100%)","top-left":"translateX(-100%)","top-right":"translateX(100%)"},c={bottom:"translateY(0)","bottom-left":"translateX(0)","bottom-right":"translateX(0)",top:"translateY(0)","top-left":"translateX(0)","top-right":"translateX(0)"},s=n==="open"&&r!=="before"||n==="close"&&r==="before",l=s?1:0,g=s?c[f]:u[f];Object.assign(this[fe].frame.style,{opacity:l,transform:g})}}[le](e){super[le](e),Ma(this)}}function Hs(t){const e=t;e[vo]&&(clearTimeout(e[vo]),e[vo]=null)}function Cd(t){Hs(t);const e=t[j].duration;e!==null&&e>0&&(t[vo]=setTimeout(()=>{t.close()},e))}function Ma(t){t.opened&&Cd(t)}class Dd extends Rd{get[X](){return Object.assign(super[X],{framePartType:Ui})}get[de](){const e=super[de];return e.content.append(Re.html`
        <style>
          :host {
            align-items: initial;
            display: flex;
            flex-direction: column;
            height: 100%;
            justify-content: initial;
            left: 0;
            outline: none;
            pointer-events: none;
            top: 0;
            -webkit-tap-highlight-color: transparent;
            width: 100%;
          }

          [part~="frame"] {
            margin: 1em;
            transition-duration: 0.25s;
            transition-property: opacity, transform;
            will-change: opacity, transform;
          }
        </style>
      `),e}}class kd extends Dd{}customElements.define("elix-toast",kd);/*!
 * Quill Editor v1.3.7
 * https://quilljs.com/
 * Copyright (c) 2014, Jason Chen
 * Copyright (c) 2013, salesforce.com
 */(function(e,n){typeof exports=="object"&&typeof module=="object"?module.exports=n():typeof define=="function"&&define.amd?define([],n):typeof exports=="object"?exports.Quill=n():e.Quill=n()})(typeof self!="undefined"?self:void 0,function(){return function(t){var e={};function n(r){if(e[r])return e[r].exports;var o=e[r]={i:r,l:!1,exports:{}};return t[r].call(o.exports,o,o.exports,n),o.l=!0,o.exports}return n.m=t,n.c=e,n.d=function(r,o,i){n.o(r,o)||Object.defineProperty(r,o,{configurable:!1,enumerable:!0,get:i})},n.n=function(r){var o=r&&r.__esModule?function(){return r.default}:function(){return r};return n.d(o,"a",o),o},n.o=function(r,o){return Object.prototype.hasOwnProperty.call(r,o)},n.p="",n(n.s=109)}([function(t,e,n){Object.defineProperty(e,"__esModule",{value:!0});var r=n(17),o=n(18),i=n(19),a=n(45),f=n(46),u=n(47),c=n(48),s=n(49),l=n(12),g=n(32),m=n(33),v=n(31),h=n(1),p={Scope:h.Scope,create:h.create,find:h.find,query:h.query,register:h.register,Container:r.default,Format:o.default,Leaf:i.default,Embed:c.default,Scroll:a.default,Block:u.default,Inline:f.default,Text:s.default,Attributor:{Attribute:l.default,Class:g.default,Style:m.default,Store:v.default}};e.default=p},function(t,e,n){var r=this&&this.__extends||function(){var v=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(h,p){h.__proto__=p}||function(h,p){for(var y in p)p.hasOwnProperty(y)&&(h[y]=p[y])};return function(h,p){v(h,p);function y(){this.constructor=h}h.prototype=p===null?Object.create(p):(y.prototype=p.prototype,new y)}}();Object.defineProperty(e,"__esModule",{value:!0});var o=function(v){r(h,v);function h(p){var y=this;return p="[Parchment] "+p,y=v.call(this,p)||this,y.message=p,y.name=y.constructor.name,y}return h}(Error);e.ParchmentError=o;var i={},a={},f={},u={};e.DATA_KEY="__blot";var c;(function(v){v[v.TYPE=3]="TYPE",v[v.LEVEL=12]="LEVEL",v[v.ATTRIBUTE=13]="ATTRIBUTE",v[v.BLOT=14]="BLOT",v[v.INLINE=7]="INLINE",v[v.BLOCK=11]="BLOCK",v[v.BLOCK_BLOT=10]="BLOCK_BLOT",v[v.INLINE_BLOT=6]="INLINE_BLOT",v[v.BLOCK_ATTRIBUTE=9]="BLOCK_ATTRIBUTE",v[v.INLINE_ATTRIBUTE=5]="INLINE_ATTRIBUTE",v[v.ANY=15]="ANY"})(c=e.Scope||(e.Scope={}));function s(v,h){var p=g(v);if(p==null)throw new o("Unable to create "+v+" blot");var y=p,d=v instanceof Node||v.nodeType===Node.TEXT_NODE?v:y.create(h);return new y(d,h)}e.create=s;function l(v,h){return h===void 0&&(h=!1),v==null?null:v[e.DATA_KEY]!=null?v[e.DATA_KEY].blot:h?l(v.parentNode,h):null}e.find=l;function g(v,h){h===void 0&&(h=c.ANY);var p;if(typeof v=="string")p=u[v]||i[v];else if(v instanceof Text||v.nodeType===Node.TEXT_NODE)p=u.text;else if(typeof v=="number")v&c.LEVEL&c.BLOCK?p=u.block:v&c.LEVEL&c.INLINE&&(p=u.inline);else if(v instanceof HTMLElement){var y=(v.getAttribute("class")||"").split(/\s+/);for(var d in y)if(p=a[y[d]],p)break;p=p||f[v.tagName]}return p==null?null:h&c.LEVEL&p.scope&&h&c.TYPE&p.scope?p:null}e.query=g;function m(){for(var v=[],h=0;h<arguments.length;h++)v[h]=arguments[h];if(v.length>1)return v.map(function(d){return m(d)});var p=v[0];if(typeof p.blotName!="string"&&typeof p.attrName!="string")throw new o("Invalid definition");if(p.blotName==="abstract")throw new o("Cannot register abstract class");if(u[p.blotName||p.attrName]=p,typeof p.keyName=="string")i[p.keyName]=p;else if(p.className!=null&&(a[p.className]=p),p.tagName!=null){Array.isArray(p.tagName)?p.tagName=p.tagName.map(function(d){return d.toUpperCase()}):p.tagName=p.tagName.toUpperCase();var y=Array.isArray(p.tagName)?p.tagName:[p.tagName];y.forEach(function(d){(f[d]==null||p.className==null)&&(f[d]=p)})}return p}e.register=m},function(t,e,n){var r=n(51),o=n(11),i=n(3),a=n(20),f=String.fromCharCode(0),u=function(c){Array.isArray(c)?this.ops=c:c!=null&&Array.isArray(c.ops)?this.ops=c.ops:this.ops=[]};u.prototype.insert=function(c,s){var l={};return c.length===0?this:(l.insert=c,s!=null&&typeof s=="object"&&Object.keys(s).length>0&&(l.attributes=s),this.push(l))},u.prototype.delete=function(c){return c<=0?this:this.push({delete:c})},u.prototype.retain=function(c,s){if(c<=0)return this;var l={retain:c};return s!=null&&typeof s=="object"&&Object.keys(s).length>0&&(l.attributes=s),this.push(l)},u.prototype.push=function(c){var s=this.ops.length,l=this.ops[s-1];if(c=i(!0,{},c),typeof l=="object"){if(typeof c.delete=="number"&&typeof l.delete=="number")return this.ops[s-1]={delete:l.delete+c.delete},this;if(typeof l.delete=="number"&&c.insert!=null&&(s-=1,l=this.ops[s-1],typeof l!="object"))return this.ops.unshift(c),this;if(o(c.attributes,l.attributes)){if(typeof c.insert=="string"&&typeof l.insert=="string")return this.ops[s-1]={insert:l.insert+c.insert},typeof c.attributes=="object"&&(this.ops[s-1].attributes=c.attributes),this;if(typeof c.retain=="number"&&typeof l.retain=="number")return this.ops[s-1]={retain:l.retain+c.retain},typeof c.attributes=="object"&&(this.ops[s-1].attributes=c.attributes),this}}return s===this.ops.length?this.ops.push(c):this.ops.splice(s,0,c),this},u.prototype.chop=function(){var c=this.ops[this.ops.length-1];return c&&c.retain&&!c.attributes&&this.ops.pop(),this},u.prototype.filter=function(c){return this.ops.filter(c)},u.prototype.forEach=function(c){this.ops.forEach(c)},u.prototype.map=function(c){return this.ops.map(c)},u.prototype.partition=function(c){var s=[],l=[];return this.forEach(function(g){var m=c(g)?s:l;m.push(g)}),[s,l]},u.prototype.reduce=function(c,s){return this.ops.reduce(c,s)},u.prototype.changeLength=function(){return this.reduce(function(c,s){return s.insert?c+a.length(s):s.delete?c-s.delete:c},0)},u.prototype.length=function(){return this.reduce(function(c,s){return c+a.length(s)},0)},u.prototype.slice=function(c,s){c=c||0,typeof s!="number"&&(s=1/0);for(var l=[],g=a.iterator(this.ops),m=0;m<s&&g.hasNext();){var v;m<c?v=g.next(c-m):(v=g.next(s-m),l.push(v)),m+=a.length(v)}return new u(l)},u.prototype.compose=function(c){var s=a.iterator(this.ops),l=a.iterator(c.ops),g=[],m=l.peek();if(m!=null&&typeof m.retain=="number"&&m.attributes==null){for(var v=m.retain;s.peekType()==="insert"&&s.peekLength()<=v;)v-=s.peekLength(),g.push(s.next());m.retain-v>0&&l.next(m.retain-v)}for(var h=new u(g);s.hasNext()||l.hasNext();)if(l.peekType()==="insert")h.push(l.next());else if(s.peekType()==="delete")h.push(s.next());else{var p=Math.min(s.peekLength(),l.peekLength()),y=s.next(p),d=l.next(p);if(typeof d.retain=="number"){var b={};typeof y.retain=="number"?b.retain=p:b.insert=y.insert;var w=a.attributes.compose(y.attributes,d.attributes,typeof y.retain=="number");if(w&&(b.attributes=w),h.push(b),!l.hasNext()&&o(h.ops[h.ops.length-1],b)){var _=new u(s.rest());return h.concat(_).chop()}}else typeof d.delete=="number"&&typeof y.retain=="number"&&h.push(d)}return h.chop()},u.prototype.concat=function(c){var s=new u(this.ops.slice());return c.ops.length>0&&(s.push(c.ops[0]),s.ops=s.ops.concat(c.ops.slice(1))),s},u.prototype.diff=function(c,s){if(this.ops===c.ops)return new u;var l=[this,c].map(function(p){return p.map(function(y){if(y.insert!=null)return typeof y.insert=="string"?y.insert:f;var d=p===c?"on":"with";throw new Error("diff() called "+d+" non-document")}).join("")}),g=new u,m=r(l[0],l[1],s),v=a.iterator(this.ops),h=a.iterator(c.ops);return m.forEach(function(p){for(var y=p[1].length;y>0;){var d=0;switch(p[0]){case r.INSERT:d=Math.min(h.peekLength(),y),g.push(h.next(d));break;case r.DELETE:d=Math.min(y,v.peekLength()),v.next(d),g.delete(d);break;case r.EQUAL:d=Math.min(v.peekLength(),h.peekLength(),y);var b=v.next(d),w=h.next(d);o(b.insert,w.insert)?g.retain(d,a.attributes.diff(b.attributes,w.attributes)):g.push(w).delete(d);break}y-=d}}),g.chop()},u.prototype.eachLine=function(c,s){s=s||`
`;for(var l=a.iterator(this.ops),g=new u,m=0;l.hasNext();){if(l.peekType()!=="insert")return;var v=l.peek(),h=a.length(v)-l.peekLength(),p=typeof v.insert=="string"?v.insert.indexOf(s,h)-h:-1;if(p<0)g.push(l.next());else if(p>0)g.push(l.next(p));else{if(c(g,l.next(1).attributes||{},m)===!1)return;m+=1,g=new u}}g.length()>0&&c(g,{},m)},u.prototype.transform=function(c,s){if(s=!!s,typeof c=="number")return this.transformPosition(c,s);for(var l=a.iterator(this.ops),g=a.iterator(c.ops),m=new u;l.hasNext()||g.hasNext();)if(l.peekType()==="insert"&&(s||g.peekType()!=="insert"))m.retain(a.length(l.next()));else if(g.peekType()==="insert")m.push(g.next());else{var v=Math.min(l.peekLength(),g.peekLength()),h=l.next(v),p=g.next(v);if(h.delete)continue;p.delete?m.push(p):m.retain(v,a.attributes.transform(h.attributes,p.attributes,s))}return m.chop()},u.prototype.transformPosition=function(c,s){s=!!s;for(var l=a.iterator(this.ops),g=0;l.hasNext()&&g<=c;){var m=l.peekLength(),v=l.peekType();if(l.next(),v==="delete"){c-=Math.min(m,c-g);continue}else v==="insert"&&(g<c||!s)&&(c+=m);g+=m}return c},t.exports=u},function(t,e){var n=Object.prototype.hasOwnProperty,r=Object.prototype.toString,o=Object.defineProperty,i=Object.getOwnPropertyDescriptor,a=function(l){return typeof Array.isArray=="function"?Array.isArray(l):r.call(l)==="[object Array]"},f=function(l){if(!l||r.call(l)!=="[object Object]")return!1;var g=n.call(l,"constructor"),m=l.constructor&&l.constructor.prototype&&n.call(l.constructor.prototype,"isPrototypeOf");if(l.constructor&&!g&&!m)return!1;var v;for(v in l);return typeof v=="undefined"||n.call(l,v)},u=function(l,g){o&&g.name==="__proto__"?o(l,g.name,{enumerable:!0,configurable:!0,value:g.newValue,writable:!0}):l[g.name]=g.newValue},c=function(l,g){if(g==="__proto__")if(n.call(l,g)){if(i)return i(l,g).value}else return;return l[g]};t.exports=function s(){var l,g,m,v,h,p,y=arguments[0],d=1,b=arguments.length,w=!1;for(typeof y=="boolean"&&(w=y,y=arguments[1]||{},d=2),(y==null||typeof y!="object"&&typeof y!="function")&&(y={});d<b;++d)if(l=arguments[d],l!=null)for(g in l)m=c(y,g),v=c(l,g),y!==v&&(w&&v&&(f(v)||(h=a(v)))?(h?(h=!1,p=m&&a(m)?m:[]):p=m&&f(m)?m:{},u(y,{name:g,newValue:s(w,p,v)})):typeof v!="undefined"&&u(y,{name:g,newValue:v}));return y}},function(t,e,n){Object.defineProperty(e,"__esModule",{value:!0}),e.default=e.BlockEmbed=e.bubbleFormats=void 0;var r=function(){function E(x,S){for(var T=0;T<S.length;T++){var C=S[T];C.enumerable=C.enumerable||!1,C.configurable=!0,"value"in C&&(C.writable=!0),Object.defineProperty(x,C.key,C)}}return function(x,S,T){return S&&E(x.prototype,S),T&&E(x,T),x}}(),o=function E(x,S,T){x===null&&(x=Function.prototype);var C=Object.getOwnPropertyDescriptor(x,S);if(C===void 0){var q=Object.getPrototypeOf(x);return q===null?void 0:E(q,S,T)}else{if("value"in C)return C.value;var B=C.get;return B===void 0?void 0:B.call(T)}},i=n(3),a=y(i),f=n(2),u=y(f),c=n(0),s=y(c),l=n(16),g=y(l),m=n(6),v=y(m),h=n(7),p=y(h);function y(E){return E&&E.__esModule?E:{default:E}}function d(E,x){if(!(E instanceof x))throw new TypeError("Cannot call a class as a function")}function b(E,x){if(!E)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return x&&(typeof x=="object"||typeof x=="function")?x:E}function w(E,x){if(typeof x!="function"&&x!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof x);E.prototype=Object.create(x&&x.prototype,{constructor:{value:E,enumerable:!1,writable:!0,configurable:!0}}),x&&(Object.setPrototypeOf?Object.setPrototypeOf(E,x):E.__proto__=x)}var _=1,O=function(E){w(x,E);function x(){return d(this,x),b(this,(x.__proto__||Object.getPrototypeOf(x)).apply(this,arguments))}return r(x,[{key:"attach",value:function(){o(x.prototype.__proto__||Object.getPrototypeOf(x.prototype),"attach",this).call(this),this.attributes=new s.default.Attributor.Store(this.domNode)}},{key:"delta",value:function(){return new u.default().insert(this.value(),(0,a.default)(this.formats(),this.attributes.values()))}},{key:"format",value:function(T,C){var q=s.default.query(T,s.default.Scope.BLOCK_ATTRIBUTE);q!=null&&this.attributes.attribute(q,C)}},{key:"formatAt",value:function(T,C,q,B){this.format(q,B)}},{key:"insertAt",value:function(T,C,q){if(typeof C=="string"&&C.endsWith(`
`)){var B=s.default.create(P.blotName);this.parent.insertBefore(B,T===0?this:this.next),B.insertAt(0,C.slice(0,-1))}else o(x.prototype.__proto__||Object.getPrototypeOf(x.prototype),"insertAt",this).call(this,T,C,q)}}]),x}(s.default.Embed);O.scope=s.default.Scope.BLOCK_BLOT;var P=function(E){w(x,E);function x(S){d(this,x);var T=b(this,(x.__proto__||Object.getPrototypeOf(x)).call(this,S));return T.cache={},T}return r(x,[{key:"delta",value:function(){return this.cache.delta==null&&(this.cache.delta=this.descendants(s.default.Leaf).reduce(function(T,C){return C.length()===0?T:T.insert(C.value(),A(C))},new u.default).insert(`
`,A(this))),this.cache.delta}},{key:"deleteAt",value:function(T,C){o(x.prototype.__proto__||Object.getPrototypeOf(x.prototype),"deleteAt",this).call(this,T,C),this.cache={}}},{key:"formatAt",value:function(T,C,q,B){C<=0||(s.default.query(q,s.default.Scope.BLOCK)?T+C===this.length()&&this.format(q,B):o(x.prototype.__proto__||Object.getPrototypeOf(x.prototype),"formatAt",this).call(this,T,Math.min(C,this.length()-T-1),q,B),this.cache={})}},{key:"insertAt",value:function(T,C,q){if(q!=null)return o(x.prototype.__proto__||Object.getPrototypeOf(x.prototype),"insertAt",this).call(this,T,C,q);if(C.length!==0){var B=C.split(`
`),Q=B.shift();Q.length>0&&(T<this.length()-1||this.children.tail==null?o(x.prototype.__proto__||Object.getPrototypeOf(x.prototype),"insertAt",this).call(this,Math.min(T,this.length()-1),Q):this.children.tail.insertAt(this.children.tail.length(),Q),this.cache={});var M=this;B.reduce(function(k,I){return M=M.split(k,!0),M.insertAt(0,I),I.length},T+Q.length)}}},{key:"insertBefore",value:function(T,C){var q=this.children.head;o(x.prototype.__proto__||Object.getPrototypeOf(x.prototype),"insertBefore",this).call(this,T,C),q instanceof g.default&&q.remove(),this.cache={}}},{key:"length",value:function(){return this.cache.length==null&&(this.cache.length=o(x.prototype.__proto__||Object.getPrototypeOf(x.prototype),"length",this).call(this)+_),this.cache.length}},{key:"moveChildren",value:function(T,C){o(x.prototype.__proto__||Object.getPrototypeOf(x.prototype),"moveChildren",this).call(this,T,C),this.cache={}}},{key:"optimize",value:function(T){o(x.prototype.__proto__||Object.getPrototypeOf(x.prototype),"optimize",this).call(this,T),this.cache={}}},{key:"path",value:function(T){return o(x.prototype.__proto__||Object.getPrototypeOf(x.prototype),"path",this).call(this,T,!0)}},{key:"removeChild",value:function(T){o(x.prototype.__proto__||Object.getPrototypeOf(x.prototype),"removeChild",this).call(this,T),this.cache={}}},{key:"split",value:function(T){var C=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;if(C&&(T===0||T>=this.length()-_)){var q=this.clone();return T===0?(this.parent.insertBefore(q,this),this):(this.parent.insertBefore(q,this.next),q)}else{var B=o(x.prototype.__proto__||Object.getPrototypeOf(x.prototype),"split",this).call(this,T,C);return this.cache={},B}}}]),x}(s.default.Block);P.blotName="block",P.tagName="P",P.defaultChild="break",P.allowedChildren=[v.default,s.default.Embed,p.default];function A(E){var x=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return E==null||(typeof E.formats=="function"&&(x=(0,a.default)(x,E.formats())),E.parent==null||E.parent.blotName=="scroll"||E.parent.statics.scope!==E.statics.scope)?x:A(E.parent,x)}e.bubbleFormats=A,e.BlockEmbed=O,e.default=P},function(t,e,n){Object.defineProperty(e,"__esModule",{value:!0}),e.default=e.overload=e.expandConfig=void 0;var r=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(M){return typeof M}:function(M){return M&&typeof Symbol=="function"&&M.constructor===Symbol&&M!==Symbol.prototype?"symbol":typeof M},o=function(){function M(k,I){var R=[],D=!0,U=!1,F=void 0;try{for(var N=k[Symbol.iterator](),L;!(D=(L=N.next()).done)&&(R.push(L.value),!(I&&R.length===I));D=!0);}catch(z){U=!0,F=z}finally{try{!D&&N.return&&N.return()}finally{if(U)throw F}}return R}return function(k,I){if(Array.isArray(k))return k;if(Symbol.iterator in Object(k))return M(k,I);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),i=function(){function M(k,I){for(var R=0;R<I.length;R++){var D=I[R];D.enumerable=D.enumerable||!1,D.configurable=!0,"value"in D&&(D.writable=!0),Object.defineProperty(k,D.key,D)}}return function(k,I,R){return I&&M(k.prototype,I),R&&M(k,R),k}}();n(50);var a=n(2),f=A(a),u=n(14),c=A(u),s=n(8),l=A(s),g=n(9),m=A(g),v=n(0),h=A(v),p=n(15),y=A(p),d=n(3),b=A(d),w=n(10),_=A(w),O=n(34),P=A(O);function A(M){return M&&M.__esModule?M:{default:M}}function E(M,k,I){return k in M?Object.defineProperty(M,k,{value:I,enumerable:!0,configurable:!0,writable:!0}):M[k]=I,M}function x(M,k){if(!(M instanceof k))throw new TypeError("Cannot call a class as a function")}var S=(0,_.default)("quill"),T=function(){i(M,null,[{key:"debug",value:function(I){I===!0&&(I="log"),_.default.level(I)}},{key:"find",value:function(I){return I.__quill||h.default.find(I)}},{key:"import",value:function(I){return this.imports[I]==null&&S.error("Cannot import "+I+". Are you sure it was registered?"),this.imports[I]}},{key:"register",value:function(I,R){var D=this,U=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1;if(typeof I!="string"){var F=I.attrName||I.blotName;typeof F=="string"?this.register("formats/"+F,I,R):Object.keys(I).forEach(function(N){D.register(N,I[N],R)})}else this.imports[I]!=null&&!U&&S.warn("Overwriting "+I+" with",R),this.imports[I]=R,(I.startsWith("blots/")||I.startsWith("formats/"))&&R.blotName!=="abstract"?h.default.register(R):I.startsWith("modules")&&typeof R.register=="function"&&R.register()}}]);function M(k){var I=this,R=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(x(this,M),this.options=C(k,R),this.container=this.options.container,this.container==null)return S.error("Invalid Quill container",k);this.options.debug&&M.debug(this.options.debug);var D=this.container.innerHTML.trim();this.container.classList.add("ql-container"),this.container.innerHTML="",this.container.__quill=this,this.root=this.addContainer("ql-editor"),this.root.classList.add("ql-blank"),this.root.setAttribute("data-gramm",!1),this.scrollingContainer=this.options.scrollingContainer||this.root,this.emitter=new l.default,this.scroll=h.default.create(this.root,{emitter:this.emitter,whitelist:this.options.formats}),this.editor=new c.default(this.scroll),this.selection=new y.default(this.scroll,this.emitter),this.theme=new this.options.theme(this,this.options),this.keyboard=this.theme.addModule("keyboard"),this.clipboard=this.theme.addModule("clipboard"),this.history=this.theme.addModule("history"),this.theme.init(),this.emitter.on(l.default.events.EDITOR_CHANGE,function(F){F===l.default.events.TEXT_CHANGE&&I.root.classList.toggle("ql-blank",I.editor.isBlank())}),this.emitter.on(l.default.events.SCROLL_UPDATE,function(F,N){var L=I.selection.lastRange,z=L&&L.length===0?L.index:void 0;q.call(I,function(){return I.editor.update(null,N,z)},F)});var U=this.clipboard.convert(`<div class='ql-editor' style="white-space: normal;">`+D+"<p><br></p></div>");this.setContents(U),this.history.clear(),this.options.placeholder&&this.root.setAttribute("data-placeholder",this.options.placeholder),this.options.readOnly&&this.disable()}return i(M,[{key:"addContainer",value:function(I){var R=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null;if(typeof I=="string"){var D=I;I=document.createElement("div"),I.classList.add(D)}return this.container.insertBefore(I,R),I}},{key:"blur",value:function(){this.selection.setRange(null)}},{key:"deleteText",value:function(I,R,D){var U=this,F=B(I,R,D),N=o(F,4);return I=N[0],R=N[1],D=N[3],q.call(this,function(){return U.editor.deleteText(I,R)},D,I,-1*R)}},{key:"disable",value:function(){this.enable(!1)}},{key:"enable",value:function(){var I=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0;this.scroll.enable(I),this.container.classList.toggle("ql-disabled",!I)}},{key:"focus",value:function(){var I=this.scrollingContainer.scrollTop;this.selection.focus(),this.scrollingContainer.scrollTop=I,this.scrollIntoView()}},{key:"format",value:function(I,R){var D=this,U=arguments.length>2&&arguments[2]!==void 0?arguments[2]:l.default.sources.API;return q.call(this,function(){var F=D.getSelection(!0),N=new f.default;if(F==null)return N;if(h.default.query(I,h.default.Scope.BLOCK))N=D.editor.formatLine(F.index,F.length,E({},I,R));else{if(F.length===0)return D.selection.format(I,R),N;N=D.editor.formatText(F.index,F.length,E({},I,R))}return D.setSelection(F,l.default.sources.SILENT),N},U)}},{key:"formatLine",value:function(I,R,D,U,F){var N=this,L=void 0,z=B(I,R,D,U,F),V=o(z,4);return I=V[0],R=V[1],L=V[2],F=V[3],q.call(this,function(){return N.editor.formatLine(I,R,L)},F,I,0)}},{key:"formatText",value:function(I,R,D,U,F){var N=this,L=void 0,z=B(I,R,D,U,F),V=o(z,4);return I=V[0],R=V[1],L=V[2],F=V[3],q.call(this,function(){return N.editor.formatText(I,R,L)},F,I,0)}},{key:"getBounds",value:function(I){var R=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,D=void 0;typeof I=="number"?D=this.selection.getBounds(I,R):D=this.selection.getBounds(I.index,I.length);var U=this.container.getBoundingClientRect();return{bottom:D.bottom-U.top,height:D.height,left:D.left-U.left,right:D.right-U.left,top:D.top-U.top,width:D.width}}},{key:"getContents",value:function(){var I=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,R=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.getLength()-I,D=B(I,R),U=o(D,2);return I=U[0],R=U[1],this.editor.getContents(I,R)}},{key:"getFormat",value:function(){var I=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.getSelection(!0),R=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return typeof I=="number"?this.editor.getFormat(I,R):this.editor.getFormat(I.index,I.length)}},{key:"getIndex",value:function(I){return I.offset(this.scroll)}},{key:"getLength",value:function(){return this.scroll.length()}},{key:"getLeaf",value:function(I){return this.scroll.leaf(I)}},{key:"getLine",value:function(I){return this.scroll.line(I)}},{key:"getLines",value:function(){var I=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,R=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Number.MAX_VALUE;return typeof I!="number"?this.scroll.lines(I.index,I.length):this.scroll.lines(I,R)}},{key:"getModule",value:function(I){return this.theme.modules[I]}},{key:"getSelection",value:function(){var I=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1;return I&&this.focus(),this.update(),this.selection.getRange()[0]}},{key:"getText",value:function(){var I=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,R=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.getLength()-I,D=B(I,R),U=o(D,2);return I=U[0],R=U[1],this.editor.getText(I,R)}},{key:"hasFocus",value:function(){return this.selection.hasFocus()}},{key:"insertEmbed",value:function(I,R,D){var U=this,F=arguments.length>3&&arguments[3]!==void 0?arguments[3]:M.sources.API;return q.call(this,function(){return U.editor.insertEmbed(I,R,D)},F,I)}},{key:"insertText",value:function(I,R,D,U,F){var N=this,L=void 0,z=B(I,0,D,U,F),V=o(z,4);return I=V[0],L=V[2],F=V[3],q.call(this,function(){return N.editor.insertText(I,R,L)},F,I,R.length)}},{key:"isEnabled",value:function(){return!this.container.classList.contains("ql-disabled")}},{key:"off",value:function(){return this.emitter.off.apply(this.emitter,arguments)}},{key:"on",value:function(){return this.emitter.on.apply(this.emitter,arguments)}},{key:"once",value:function(){return this.emitter.once.apply(this.emitter,arguments)}},{key:"pasteHTML",value:function(I,R,D){this.clipboard.dangerouslyPasteHTML(I,R,D)}},{key:"removeFormat",value:function(I,R,D){var U=this,F=B(I,R,D),N=o(F,4);return I=N[0],R=N[1],D=N[3],q.call(this,function(){return U.editor.removeFormat(I,R)},D,I)}},{key:"scrollIntoView",value:function(){this.selection.scrollIntoView(this.scrollingContainer)}},{key:"setContents",value:function(I){var R=this,D=arguments.length>1&&arguments[1]!==void 0?arguments[1]:l.default.sources.API;return q.call(this,function(){I=new f.default(I);var U=R.getLength(),F=R.editor.deleteText(0,U),N=R.editor.applyDelta(I),L=N.ops[N.ops.length-1];L!=null&&typeof L.insert=="string"&&L.insert[L.insert.length-1]===`
`&&(R.editor.deleteText(R.getLength()-1,1),N.delete(1));var z=F.compose(N);return z},D)}},{key:"setSelection",value:function(I,R,D){if(I==null)this.selection.setRange(null,R||M.sources.API);else{var U=B(I,R,D),F=o(U,4);I=F[0],R=F[1],D=F[3],this.selection.setRange(new p.Range(I,R),D),D!==l.default.sources.SILENT&&this.selection.scrollIntoView(this.scrollingContainer)}}},{key:"setText",value:function(I){var R=arguments.length>1&&arguments[1]!==void 0?arguments[1]:l.default.sources.API,D=new f.default().insert(I);return this.setContents(D,R)}},{key:"update",value:function(){var I=arguments.length>0&&arguments[0]!==void 0?arguments[0]:l.default.sources.USER,R=this.scroll.update(I);return this.selection.update(I),R}},{key:"updateContents",value:function(I){var R=this,D=arguments.length>1&&arguments[1]!==void 0?arguments[1]:l.default.sources.API;return q.call(this,function(){return I=new f.default(I),R.editor.applyDelta(I,D)},D,!0)}}]),M}();T.DEFAULTS={bounds:null,formats:null,modules:{},placeholder:"",readOnly:!1,scrollingContainer:null,strict:!0,theme:"default"},T.events=l.default.events,T.sources=l.default.sources,T.version="1.3.7",T.imports={delta:f.default,parchment:h.default,"core/module":m.default,"core/theme":P.default};function C(M,k){if(k=(0,b.default)(!0,{container:M,modules:{clipboard:!0,keyboard:!0,history:!0}},k),!k.theme||k.theme===T.DEFAULTS.theme)k.theme=P.default;else if(k.theme=T.import("themes/"+k.theme),k.theme==null)throw new Error("Invalid theme "+k.theme+". Did you register it?");var I=(0,b.default)(!0,{},k.theme.DEFAULTS);[I,k].forEach(function(U){U.modules=U.modules||{},Object.keys(U.modules).forEach(function(F){U.modules[F]===!0&&(U.modules[F]={})})});var R=Object.keys(I.modules).concat(Object.keys(k.modules)),D=R.reduce(function(U,F){var N=T.import("modules/"+F);return N==null?S.error("Cannot load "+F+" module. Are you sure you registered it?"):U[F]=N.DEFAULTS||{},U},{});return k.modules!=null&&k.modules.toolbar&&k.modules.toolbar.constructor!==Object&&(k.modules.toolbar={container:k.modules.toolbar}),k=(0,b.default)(!0,{},T.DEFAULTS,{modules:D},I,k),["bounds","container","scrollingContainer"].forEach(function(U){typeof k[U]=="string"&&(k[U]=document.querySelector(k[U]))}),k.modules=Object.keys(k.modules).reduce(function(U,F){return k.modules[F]&&(U[F]=k.modules[F]),U},{}),k}function q(M,k,I,R){if(this.options.strict&&!this.isEnabled()&&k===l.default.sources.USER)return new f.default;var D=I==null?null:this.getSelection(),U=this.editor.delta,F=M();if(D!=null&&(I===!0&&(I=D.index),R==null?D=Q(D,F,k):R!==0&&(D=Q(D,I,R,k)),this.setSelection(D,l.default.sources.SILENT)),F.length()>0){var N,L=[l.default.events.TEXT_CHANGE,F,U,k];if((N=this.emitter).emit.apply(N,[l.default.events.EDITOR_CHANGE].concat(L)),k!==l.default.sources.SILENT){var z;(z=this.emitter).emit.apply(z,L)}}return F}function B(M,k,I,R,D){var U={};return typeof M.index=="number"&&typeof M.length=="number"?typeof k!="number"?(D=R,R=I,I=k,k=M.length,M=M.index):(k=M.length,M=M.index):typeof k!="number"&&(D=R,R=I,I=k,k=0),(typeof I=="undefined"?"undefined":r(I))==="object"?(U=I,D=R):typeof I=="string"&&(R!=null?U[I]=R:D=I),D=D||l.default.sources.API,[M,k,U,D]}function Q(M,k,I,R){if(M==null)return null;var D=void 0,U=void 0;if(k instanceof f.default){var F=[M.index,M.index+M.length].map(function(V){return k.transformPosition(V,R!==l.default.sources.USER)}),N=o(F,2);D=N[0],U=N[1]}else{var L=[M.index,M.index+M.length].map(function(V){return V<k||V===k&&R===l.default.sources.USER?V:I>=0?V+I:Math.max(k,V+I)}),z=o(L,2);D=z[0],U=z[1]}return new p.Range(D,U-D)}e.expandConfig=C,e.overload=B,e.default=T},function(t,e,n){Object.defineProperty(e,"__esModule",{value:!0});var r=function(){function v(h,p){for(var y=0;y<p.length;y++){var d=p[y];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(h,d.key,d)}}return function(h,p,y){return p&&v(h.prototype,p),y&&v(h,y),h}}(),o=function v(h,p,y){h===null&&(h=Function.prototype);var d=Object.getOwnPropertyDescriptor(h,p);if(d===void 0){var b=Object.getPrototypeOf(h);return b===null?void 0:v(b,p,y)}else{if("value"in d)return d.value;var w=d.get;return w===void 0?void 0:w.call(y)}},i=n(7),a=c(i),f=n(0),u=c(f);function c(v){return v&&v.__esModule?v:{default:v}}function s(v,h){if(!(v instanceof h))throw new TypeError("Cannot call a class as a function")}function l(v,h){if(!v)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return h&&(typeof h=="object"||typeof h=="function")?h:v}function g(v,h){if(typeof h!="function"&&h!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof h);v.prototype=Object.create(h&&h.prototype,{constructor:{value:v,enumerable:!1,writable:!0,configurable:!0}}),h&&(Object.setPrototypeOf?Object.setPrototypeOf(v,h):v.__proto__=h)}var m=function(v){g(h,v);function h(){return s(this,h),l(this,(h.__proto__||Object.getPrototypeOf(h)).apply(this,arguments))}return r(h,[{key:"formatAt",value:function(y,d,b,w){if(h.compare(this.statics.blotName,b)<0&&u.default.query(b,u.default.Scope.BLOT)){var _=this.isolate(y,d);w&&_.wrap(b,w)}else o(h.prototype.__proto__||Object.getPrototypeOf(h.prototype),"formatAt",this).call(this,y,d,b,w)}},{key:"optimize",value:function(y){if(o(h.prototype.__proto__||Object.getPrototypeOf(h.prototype),"optimize",this).call(this,y),this.parent instanceof h&&h.compare(this.statics.blotName,this.parent.statics.blotName)>0){var d=this.parent.isolate(this.offset(),this.length());this.moveChildren(d),d.wrap(this)}}}],[{key:"compare",value:function(y,d){var b=h.order.indexOf(y),w=h.order.indexOf(d);return b>=0||w>=0?b-w:y===d?0:y<d?-1:1}}]),h}(u.default.Inline);m.allowedChildren=[m,u.default.Embed,a.default],m.order=["cursor","inline","underline","strike","italic","bold","script","link","code"],e.default=m},function(t,e,n){Object.defineProperty(e,"__esModule",{value:!0});var r=n(0),o=i(r);function i(s){return s&&s.__esModule?s:{default:s}}function a(s,l){if(!(s instanceof l))throw new TypeError("Cannot call a class as a function")}function f(s,l){if(!s)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return l&&(typeof l=="object"||typeof l=="function")?l:s}function u(s,l){if(typeof l!="function"&&l!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof l);s.prototype=Object.create(l&&l.prototype,{constructor:{value:s,enumerable:!1,writable:!0,configurable:!0}}),l&&(Object.setPrototypeOf?Object.setPrototypeOf(s,l):s.__proto__=l)}var c=function(s){u(l,s);function l(){return a(this,l),f(this,(l.__proto__||Object.getPrototypeOf(l)).apply(this,arguments))}return l}(o.default.Text);e.default=c},function(t,e,n){Object.defineProperty(e,"__esModule",{value:!0});var r=function(){function p(y,d){for(var b=0;b<d.length;b++){var w=d[b];w.enumerable=w.enumerable||!1,w.configurable=!0,"value"in w&&(w.writable=!0),Object.defineProperty(y,w.key,w)}}return function(y,d,b){return d&&p(y.prototype,d),b&&p(y,b),y}}(),o=function p(y,d,b){y===null&&(y=Function.prototype);var w=Object.getOwnPropertyDescriptor(y,d);if(w===void 0){var _=Object.getPrototypeOf(y);return _===null?void 0:p(_,d,b)}else{if("value"in w)return w.value;var O=w.get;return O===void 0?void 0:O.call(b)}},i=n(54),a=c(i),f=n(10),u=c(f);function c(p){return p&&p.__esModule?p:{default:p}}function s(p,y){if(!(p instanceof y))throw new TypeError("Cannot call a class as a function")}function l(p,y){if(!p)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return y&&(typeof y=="object"||typeof y=="function")?y:p}function g(p,y){if(typeof y!="function"&&y!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof y);p.prototype=Object.create(y&&y.prototype,{constructor:{value:p,enumerable:!1,writable:!0,configurable:!0}}),y&&(Object.setPrototypeOf?Object.setPrototypeOf(p,y):p.__proto__=y)}var m=(0,u.default)("quill:events"),v=["selectionchange","mousedown","mouseup","click"];v.forEach(function(p){document.addEventListener(p,function(){for(var y=arguments.length,d=Array(y),b=0;b<y;b++)d[b]=arguments[b];[].slice.call(document.querySelectorAll(".ql-container")).forEach(function(w){if(w.__quill&&w.__quill.emitter){var _;(_=w.__quill.emitter).handleDOM.apply(_,d)}})})});var h=function(p){g(y,p);function y(){s(this,y);var d=l(this,(y.__proto__||Object.getPrototypeOf(y)).call(this));return d.listeners={},d.on("error",m.error),d}return r(y,[{key:"emit",value:function(){m.log.apply(m,arguments),o(y.prototype.__proto__||Object.getPrototypeOf(y.prototype),"emit",this).apply(this,arguments)}},{key:"handleDOM",value:function(b){for(var w=arguments.length,_=Array(w>1?w-1:0),O=1;O<w;O++)_[O-1]=arguments[O];(this.listeners[b.type]||[]).forEach(function(P){var A=P.node,E=P.handler;(b.target===A||A.contains(b.target))&&E.apply(void 0,[b].concat(_))})}},{key:"listenDOM",value:function(b,w,_){this.listeners[b]||(this.listeners[b]=[]),this.listeners[b].push({node:w,handler:_})}}]),y}(a.default);h.events={EDITOR_CHANGE:"editor-change",SCROLL_BEFORE_UPDATE:"scroll-before-update",SCROLL_OPTIMIZE:"scroll-optimize",SCROLL_UPDATE:"scroll-update",SELECTION_CHANGE:"selection-change",TEXT_CHANGE:"text-change"},h.sources={API:"api",SILENT:"silent",USER:"user"},e.default=h},function(t,e,n){Object.defineProperty(e,"__esModule",{value:!0});function r(i,a){if(!(i instanceof a))throw new TypeError("Cannot call a class as a function")}var o=function i(a){var f=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};r(this,i),this.quill=a,this.options=f};o.DEFAULTS={},e.default=o},function(t,e,n){Object.defineProperty(e,"__esModule",{value:!0});var r=["error","warn","log","info"],o="warn";function i(f){if(r.indexOf(f)<=r.indexOf(o)){for(var u,c=arguments.length,s=Array(c>1?c-1:0),l=1;l<c;l++)s[l-1]=arguments[l];(u=console)[f].apply(u,s)}}function a(f){return r.reduce(function(u,c){return u[c]=i.bind(console,c,f),u},{})}i.level=a.level=function(f){o=f},e.default=a},function(t,e,n){var r=Array.prototype.slice,o=n(52),i=n(53),a=t.exports=function(s,l,g){return g||(g={}),s===l?!0:s instanceof Date&&l instanceof Date?s.getTime()===l.getTime():!s||!l||typeof s!="object"&&typeof l!="object"?g.strict?s===l:s==l:c(s,l,g)};function f(s){return s==null}function u(s){return!(!s||typeof s!="object"||typeof s.length!="number"||typeof s.copy!="function"||typeof s.slice!="function"||s.length>0&&typeof s[0]!="number")}function c(s,l,g){var m,v;if(f(s)||f(l)||s.prototype!==l.prototype)return!1;if(i(s))return i(l)?(s=r.call(s),l=r.call(l),a(s,l,g)):!1;if(u(s)){if(!u(l)||s.length!==l.length)return!1;for(m=0;m<s.length;m++)if(s[m]!==l[m])return!1;return!0}try{var h=o(s),p=o(l)}catch{return!1}if(h.length!=p.length)return!1;for(h.sort(),p.sort(),m=h.length-1;m>=0;m--)if(h[m]!=p[m])return!1;for(m=h.length-1;m>=0;m--)if(v=h[m],!a(s[v],l[v],g))return!1;return typeof s==typeof l}},function(t,e,n){Object.defineProperty(e,"__esModule",{value:!0});var r=n(1),o=function(){function i(a,f,u){u===void 0&&(u={}),this.attrName=a,this.keyName=f;var c=r.Scope.TYPE&r.Scope.ATTRIBUTE;u.scope!=null?this.scope=u.scope&r.Scope.LEVEL|c:this.scope=r.Scope.ATTRIBUTE,u.whitelist!=null&&(this.whitelist=u.whitelist)}return i.keys=function(a){return[].map.call(a.attributes,function(f){return f.name})},i.prototype.add=function(a,f){return this.canAdd(a,f)?(a.setAttribute(this.keyName,f),!0):!1},i.prototype.canAdd=function(a,f){var u=r.query(a,r.Scope.BLOT&(this.scope|r.Scope.TYPE));return u==null?!1:this.whitelist==null?!0:typeof f=="string"?this.whitelist.indexOf(f.replace(/["']/g,""))>-1:this.whitelist.indexOf(f)>-1},i.prototype.remove=function(a){a.removeAttribute(this.keyName)},i.prototype.value=function(a){var f=a.getAttribute(this.keyName);return this.canAdd(a,f)&&f?f:""},i}();e.default=o},function(t,e,n){Object.defineProperty(e,"__esModule",{value:!0}),e.default=e.Code=void 0;var r=function(){function O(P,A){var E=[],x=!0,S=!1,T=void 0;try{for(var C=P[Symbol.iterator](),q;!(x=(q=C.next()).done)&&(E.push(q.value),!(A&&E.length===A));x=!0);}catch(B){S=!0,T=B}finally{try{!x&&C.return&&C.return()}finally{if(S)throw T}}return E}return function(P,A){if(Array.isArray(P))return P;if(Symbol.iterator in Object(P))return O(P,A);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),o=function(){function O(P,A){for(var E=0;E<A.length;E++){var x=A[E];x.enumerable=x.enumerable||!1,x.configurable=!0,"value"in x&&(x.writable=!0),Object.defineProperty(P,x.key,x)}}return function(P,A,E){return A&&O(P.prototype,A),E&&O(P,E),P}}(),i=function O(P,A,E){P===null&&(P=Function.prototype);var x=Object.getOwnPropertyDescriptor(P,A);if(x===void 0){var S=Object.getPrototypeOf(P);return S===null?void 0:O(S,A,E)}else{if("value"in x)return x.value;var T=x.get;return T===void 0?void 0:T.call(E)}},a=n(2),f=p(a),u=n(0),c=p(u),s=n(4),l=p(s),g=n(6),m=p(g),v=n(7),h=p(v);function p(O){return O&&O.__esModule?O:{default:O}}function y(O,P){if(!(O instanceof P))throw new TypeError("Cannot call a class as a function")}function d(O,P){if(!O)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return P&&(typeof P=="object"||typeof P=="function")?P:O}function b(O,P){if(typeof P!="function"&&P!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof P);O.prototype=Object.create(P&&P.prototype,{constructor:{value:O,enumerable:!1,writable:!0,configurable:!0}}),P&&(Object.setPrototypeOf?Object.setPrototypeOf(O,P):O.__proto__=P)}var w=function(O){b(P,O);function P(){return y(this,P),d(this,(P.__proto__||Object.getPrototypeOf(P)).apply(this,arguments))}return P}(m.default);w.blotName="code",w.tagName="CODE";var _=function(O){b(P,O);function P(){return y(this,P),d(this,(P.__proto__||Object.getPrototypeOf(P)).apply(this,arguments))}return o(P,[{key:"delta",value:function(){var E=this,x=this.domNode.textContent;return x.endsWith(`
`)&&(x=x.slice(0,-1)),x.split(`
`).reduce(function(S,T){return S.insert(T).insert(`
`,E.formats())},new f.default)}},{key:"format",value:function(E,x){if(!(E===this.statics.blotName&&x)){var S=this.descendant(h.default,this.length()-1),T=r(S,1),C=T[0];C!=null&&C.deleteAt(C.length()-1,1),i(P.prototype.__proto__||Object.getPrototypeOf(P.prototype),"format",this).call(this,E,x)}}},{key:"formatAt",value:function(E,x,S,T){if(x!==0&&!(c.default.query(S,c.default.Scope.BLOCK)==null||S===this.statics.blotName&&T===this.statics.formats(this.domNode))){var C=this.newlineIndex(E);if(!(C<0||C>=E+x)){var q=this.newlineIndex(E,!0)+1,B=C-q+1,Q=this.isolate(q,B),M=Q.next;Q.format(S,T),M instanceof P&&M.formatAt(0,E-q+x-B,S,T)}}}},{key:"insertAt",value:function(E,x,S){if(S==null){var T=this.descendant(h.default,E),C=r(T,2),q=C[0],B=C[1];q.insertAt(B,x)}}},{key:"length",value:function(){var E=this.domNode.textContent.length;return this.domNode.textContent.endsWith(`
`)?E:E+1}},{key:"newlineIndex",value:function(E){var x=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;if(x)return this.domNode.textContent.slice(0,E).lastIndexOf(`
`);var S=this.domNode.textContent.slice(E).indexOf(`
`);return S>-1?E+S:-1}},{key:"optimize",value:function(E){this.domNode.textContent.endsWith(`
`)||this.appendChild(c.default.create("text",`
`)),i(P.prototype.__proto__||Object.getPrototypeOf(P.prototype),"optimize",this).call(this,E);var x=this.next;x!=null&&x.prev===this&&x.statics.blotName===this.statics.blotName&&this.statics.formats(this.domNode)===x.statics.formats(x.domNode)&&(x.optimize(E),x.moveChildren(this),x.remove())}},{key:"replace",value:function(E){i(P.prototype.__proto__||Object.getPrototypeOf(P.prototype),"replace",this).call(this,E),[].slice.call(this.domNode.querySelectorAll("*")).forEach(function(x){var S=c.default.find(x);S==null?x.parentNode.removeChild(x):S instanceof c.default.Embed?S.remove():S.unwrap()})}}],[{key:"create",value:function(E){var x=i(P.__proto__||Object.getPrototypeOf(P),"create",this).call(this,E);return x.setAttribute("spellcheck",!1),x}},{key:"formats",value:function(){return!0}}]),P}(l.default);_.blotName="code-block",_.tagName="PRE",_.TAB="  ",e.Code=w,e.default=_},function(t,e,n){Object.defineProperty(e,"__esModule",{value:!0});var r=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(M){return typeof M}:function(M){return M&&typeof Symbol=="function"&&M.constructor===Symbol&&M!==Symbol.prototype?"symbol":typeof M},o=function(){function M(k,I){var R=[],D=!0,U=!1,F=void 0;try{for(var N=k[Symbol.iterator](),L;!(D=(L=N.next()).done)&&(R.push(L.value),!(I&&R.length===I));D=!0);}catch(z){U=!0,F=z}finally{try{!D&&N.return&&N.return()}finally{if(U)throw F}}return R}return function(k,I){if(Array.isArray(k))return k;if(Symbol.iterator in Object(k))return M(k,I);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),i=function(){function M(k,I){for(var R=0;R<I.length;R++){var D=I[R];D.enumerable=D.enumerable||!1,D.configurable=!0,"value"in D&&(D.writable=!0),Object.defineProperty(k,D.key,D)}}return function(k,I,R){return I&&M(k.prototype,I),R&&M(k,R),k}}(),a=n(2),f=x(a),u=n(20),c=x(u),s=n(0),l=x(s),g=n(13),m=x(g),v=n(24),h=x(v),p=n(4),y=x(p),d=n(16),b=x(d),w=n(21),_=x(w),O=n(11),P=x(O),A=n(3),E=x(A);function x(M){return M&&M.__esModule?M:{default:M}}function S(M,k,I){return k in M?Object.defineProperty(M,k,{value:I,enumerable:!0,configurable:!0,writable:!0}):M[k]=I,M}function T(M,k){if(!(M instanceof k))throw new TypeError("Cannot call a class as a function")}var C=/^[ -~]*$/,q=function(){function M(k){T(this,M),this.scroll=k,this.delta=this.getDelta()}return i(M,[{key:"applyDelta",value:function(I){var R=this,D=!1;this.scroll.update();var U=this.scroll.length();return this.scroll.batchStart(),I=Q(I),I.reduce(function(F,N){var L=N.retain||N.delete||N.insert.length||1,z=N.attributes||{};if(N.insert!=null){if(typeof N.insert=="string"){var V=N.insert;V.endsWith(`
`)&&D&&(D=!1,V=V.slice(0,-1)),F>=U&&!V.endsWith(`
`)&&(D=!0),R.scroll.insertAt(F,V);var W=R.scroll.line(F),ne=o(W,2),he=ne[0],pe=ne[1],Ee=(0,E.default)({},(0,p.bubbleFormats)(he));if(he instanceof y.default){var Se=he.descendant(l.default.Leaf,pe),et=o(Se,1),Ue=et[0];Ee=(0,E.default)(Ee,(0,p.bubbleFormats)(Ue))}z=c.default.attributes.diff(Ee,z)||{}}else if(r(N.insert)==="object"){var $=Object.keys(N.insert)[0];if($==null)return F;R.scroll.insertAt(F,$,N.insert[$])}U+=L}return Object.keys(z).forEach(function(G){R.scroll.formatAt(F,L,G,z[G])}),F+L},0),I.reduce(function(F,N){return typeof N.delete=="number"?(R.scroll.deleteAt(F,N.delete),F):F+(N.retain||N.insert.length||1)},0),this.scroll.batchEnd(),this.update(I)}},{key:"deleteText",value:function(I,R){return this.scroll.deleteAt(I,R),this.update(new f.default().retain(I).delete(R))}},{key:"formatLine",value:function(I,R){var D=this,U=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return this.scroll.update(),Object.keys(U).forEach(function(F){if(!(D.scroll.whitelist!=null&&!D.scroll.whitelist[F])){var N=D.scroll.lines(I,Math.max(R,1)),L=R;N.forEach(function(z){var V=z.length();if(!(z instanceof m.default))z.format(F,U[F]);else{var W=I-z.offset(D.scroll),ne=z.newlineIndex(W+L)-W+1;z.formatAt(W,ne,F,U[F])}L-=V})}}),this.scroll.optimize(),this.update(new f.default().retain(I).retain(R,(0,_.default)(U)))}},{key:"formatText",value:function(I,R){var D=this,U=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return Object.keys(U).forEach(function(F){D.scroll.formatAt(I,R,F,U[F])}),this.update(new f.default().retain(I).retain(R,(0,_.default)(U)))}},{key:"getContents",value:function(I,R){return this.delta.slice(I,I+R)}},{key:"getDelta",value:function(){return this.scroll.lines().reduce(function(I,R){return I.concat(R.delta())},new f.default)}},{key:"getFormat",value:function(I){var R=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,D=[],U=[];R===0?this.scroll.path(I).forEach(function(N){var L=o(N,1),z=L[0];z instanceof y.default?D.push(z):z instanceof l.default.Leaf&&U.push(z)}):(D=this.scroll.lines(I,R),U=this.scroll.descendants(l.default.Leaf,I,R));var F=[D,U].map(function(N){if(N.length===0)return{};for(var L=(0,p.bubbleFormats)(N.shift());Object.keys(L).length>0;){var z=N.shift();if(z==null)return L;L=B((0,p.bubbleFormats)(z),L)}return L});return E.default.apply(E.default,F)}},{key:"getText",value:function(I,R){return this.getContents(I,R).filter(function(D){return typeof D.insert=="string"}).map(function(D){return D.insert}).join("")}},{key:"insertEmbed",value:function(I,R,D){return this.scroll.insertAt(I,R,D),this.update(new f.default().retain(I).insert(S({},R,D)))}},{key:"insertText",value:function(I,R){var D=this,U=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return R=R.replace(/\r\n/g,`
`).replace(/\r/g,`
`),this.scroll.insertAt(I,R),Object.keys(U).forEach(function(F){D.scroll.formatAt(I,R.length,F,U[F])}),this.update(new f.default().retain(I).insert(R,(0,_.default)(U)))}},{key:"isBlank",value:function(){if(this.scroll.children.length==0)return!0;if(this.scroll.children.length>1)return!1;var I=this.scroll.children.head;return I.statics.blotName!==y.default.blotName||I.children.length>1?!1:I.children.head instanceof b.default}},{key:"removeFormat",value:function(I,R){var D=this.getText(I,R),U=this.scroll.line(I+R),F=o(U,2),N=F[0],L=F[1],z=0,V=new f.default;N!=null&&(N instanceof m.default?z=N.newlineIndex(L)-L+1:z=N.length()-L,V=N.delta().slice(L,L+z-1).insert(`
`));var W=this.getContents(I,R+z),ne=W.diff(new f.default().insert(D).concat(V)),he=new f.default().retain(I).concat(ne);return this.applyDelta(he)}},{key:"update",value:function(I){var R=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],D=arguments.length>2&&arguments[2]!==void 0?arguments[2]:void 0,U=this.delta;if(R.length===1&&R[0].type==="characterData"&&R[0].target.data.match(C)&&l.default.find(R[0].target)){var F=l.default.find(R[0].target),N=(0,p.bubbleFormats)(F),L=F.offset(this.scroll),z=R[0].oldValue.replace(h.default.CONTENTS,""),V=new f.default().insert(z),W=new f.default().insert(F.value()),ne=new f.default().retain(L).concat(V.diff(W,D));I=ne.reduce(function(he,pe){return pe.insert?he.insert(pe.insert,N):he.push(pe)},new f.default),this.delta=U.compose(I)}else this.delta=this.getDelta(),(!I||!(0,P.default)(U.compose(I),this.delta))&&(I=U.diff(this.delta,D));return I}}]),M}();function B(M,k){return Object.keys(k).reduce(function(I,R){return M[R]==null||(k[R]===M[R]?I[R]=k[R]:Array.isArray(k[R])?k[R].indexOf(M[R])<0&&(I[R]=k[R].concat([M[R]])):I[R]=[k[R],M[R]]),I},{})}function Q(M){return M.reduce(function(k,I){if(I.insert===1){var R=(0,_.default)(I.attributes);return delete R.image,k.insert({image:I.attributes.image},R)}if(I.attributes!=null&&(I.attributes.list===!0||I.attributes.bullet===!0)&&(I=(0,_.default)(I),I.attributes.list?I.attributes.list="ordered":(I.attributes.list="bullet",delete I.attributes.bullet)),typeof I.insert=="string"){var D=I.insert.replace(/\r\n/g,`
`).replace(/\r/g,`
`);return k.insert(D,I.attributes)}return k.push(I)},new f.default)}e.default=q},function(t,e,n){Object.defineProperty(e,"__esModule",{value:!0}),e.default=e.Range=void 0;var r=function(){function O(P,A){var E=[],x=!0,S=!1,T=void 0;try{for(var C=P[Symbol.iterator](),q;!(x=(q=C.next()).done)&&(E.push(q.value),!(A&&E.length===A));x=!0);}catch(B){S=!0,T=B}finally{try{!x&&C.return&&C.return()}finally{if(S)throw T}}return E}return function(P,A){if(Array.isArray(P))return P;if(Symbol.iterator in Object(P))return O(P,A);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),o=function(){function O(P,A){for(var E=0;E<A.length;E++){var x=A[E];x.enumerable=x.enumerable||!1,x.configurable=!0,"value"in x&&(x.writable=!0),Object.defineProperty(P,x.key,x)}}return function(P,A,E){return A&&O(P.prototype,A),E&&O(P,E),P}}(),i=n(0),a=h(i),f=n(21),u=h(f),c=n(11),s=h(c),l=n(8),g=h(l),m=n(10),v=h(m);function h(O){return O&&O.__esModule?O:{default:O}}function p(O){if(Array.isArray(O)){for(var P=0,A=Array(O.length);P<O.length;P++)A[P]=O[P];return A}else return Array.from(O)}function y(O,P){if(!(O instanceof P))throw new TypeError("Cannot call a class as a function")}var d=(0,v.default)("quill:selection"),b=function O(P){var A=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;y(this,O),this.index=P,this.length=A},w=function(){function O(P,A){var E=this;y(this,O),this.emitter=A,this.scroll=P,this.composing=!1,this.mouseDown=!1,this.root=this.scroll.domNode,this.cursor=a.default.create("cursor",this),this.lastRange=this.savedRange=new b(0,0),this.handleComposition(),this.handleDragging(),this.emitter.listenDOM("selectionchange",document,function(){E.mouseDown||setTimeout(E.update.bind(E,g.default.sources.USER),1)}),this.emitter.on(g.default.events.EDITOR_CHANGE,function(x,S){x===g.default.events.TEXT_CHANGE&&S.length()>0&&E.update(g.default.sources.SILENT)}),this.emitter.on(g.default.events.SCROLL_BEFORE_UPDATE,function(){if(!!E.hasFocus()){var x=E.getNativeRange();x!=null&&x.start.node!==E.cursor.textNode&&E.emitter.once(g.default.events.SCROLL_UPDATE,function(){try{E.setNativeRange(x.start.node,x.start.offset,x.end.node,x.end.offset)}catch{}})}}),this.emitter.on(g.default.events.SCROLL_OPTIMIZE,function(x,S){if(S.range){var T=S.range,C=T.startNode,q=T.startOffset,B=T.endNode,Q=T.endOffset;E.setNativeRange(C,q,B,Q)}}),this.update(g.default.sources.SILENT)}return o(O,[{key:"handleComposition",value:function(){var A=this;this.root.addEventListener("compositionstart",function(){A.composing=!0}),this.root.addEventListener("compositionend",function(){if(A.composing=!1,A.cursor.parent){var E=A.cursor.restore();if(!E)return;setTimeout(function(){A.setNativeRange(E.startNode,E.startOffset,E.endNode,E.endOffset)},1)}})}},{key:"handleDragging",value:function(){var A=this;this.emitter.listenDOM("mousedown",document.body,function(){A.mouseDown=!0}),this.emitter.listenDOM("mouseup",document.body,function(){A.mouseDown=!1,A.update(g.default.sources.USER)})}},{key:"focus",value:function(){this.hasFocus()||(this.root.focus(),this.setRange(this.savedRange))}},{key:"format",value:function(A,E){if(!(this.scroll.whitelist!=null&&!this.scroll.whitelist[A])){this.scroll.update();var x=this.getNativeRange();if(!(x==null||!x.native.collapsed||a.default.query(A,a.default.Scope.BLOCK))){if(x.start.node!==this.cursor.textNode){var S=a.default.find(x.start.node,!1);if(S==null)return;if(S instanceof a.default.Leaf){var T=S.split(x.start.offset);S.parent.insertBefore(this.cursor,T)}else S.insertBefore(this.cursor,x.start.node);this.cursor.attach()}this.cursor.format(A,E),this.scroll.optimize(),this.setNativeRange(this.cursor.textNode,this.cursor.textNode.data.length),this.update()}}}},{key:"getBounds",value:function(A){var E=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,x=this.scroll.length();A=Math.min(A,x-1),E=Math.min(A+E,x-1)-A;var S=void 0,T=this.scroll.leaf(A),C=r(T,2),q=C[0],B=C[1];if(q==null)return null;var Q=q.position(B,!0),M=r(Q,2);S=M[0],B=M[1];var k=document.createRange();if(E>0){k.setStart(S,B);var I=this.scroll.leaf(A+E),R=r(I,2);if(q=R[0],B=R[1],q==null)return null;var D=q.position(B,!0),U=r(D,2);return S=U[0],B=U[1],k.setEnd(S,B),k.getBoundingClientRect()}else{var F="left",N=void 0;return S instanceof Text?(B<S.data.length?(k.setStart(S,B),k.setEnd(S,B+1)):(k.setStart(S,B-1),k.setEnd(S,B),F="right"),N=k.getBoundingClientRect()):(N=q.domNode.getBoundingClientRect(),B>0&&(F="right")),{bottom:N.top+N.height,height:N.height,left:N[F],right:N[F],top:N.top,width:0}}}},{key:"getNativeRange",value:function(){var A=document.getSelection();if(A==null||A.rangeCount<=0)return null;var E=A.getRangeAt(0);if(E==null)return null;var x=this.normalizeNative(E);return d.info("getNativeRange",x),x}},{key:"getRange",value:function(){var A=this.getNativeRange();if(A==null)return[null,null];var E=this.normalizedToRange(A);return[E,A]}},{key:"hasFocus",value:function(){return document.activeElement===this.root}},{key:"normalizedToRange",value:function(A){var E=this,x=[[A.start.node,A.start.offset]];A.native.collapsed||x.push([A.end.node,A.end.offset]);var S=x.map(function(q){var B=r(q,2),Q=B[0],M=B[1],k=a.default.find(Q,!0),I=k.offset(E.scroll);return M===0?I:k instanceof a.default.Container?I+k.length():I+k.index(Q,M)}),T=Math.min(Math.max.apply(Math,p(S)),this.scroll.length()-1),C=Math.min.apply(Math,[T].concat(p(S)));return new b(C,T-C)}},{key:"normalizeNative",value:function(A){if(!_(this.root,A.startContainer)||!A.collapsed&&!_(this.root,A.endContainer))return null;var E={start:{node:A.startContainer,offset:A.startOffset},end:{node:A.endContainer,offset:A.endOffset},native:A};return[E.start,E.end].forEach(function(x){for(var S=x.node,T=x.offset;!(S instanceof Text)&&S.childNodes.length>0;)if(S.childNodes.length>T)S=S.childNodes[T],T=0;else if(S.childNodes.length===T)S=S.lastChild,T=S instanceof Text?S.data.length:S.childNodes.length+1;else break;x.node=S,x.offset=T}),E}},{key:"rangeToNative",value:function(A){var E=this,x=A.collapsed?[A.index]:[A.index,A.index+A.length],S=[],T=this.scroll.length();return x.forEach(function(C,q){C=Math.min(T-1,C);var B=void 0,Q=E.scroll.leaf(C),M=r(Q,2),k=M[0],I=M[1],R=k.position(I,q!==0),D=r(R,2);B=D[0],I=D[1],S.push(B,I)}),S.length<2&&(S=S.concat(S)),S}},{key:"scrollIntoView",value:function(A){var E=this.lastRange;if(E!=null){var x=this.getBounds(E.index,E.length);if(x!=null){var S=this.scroll.length()-1,T=this.scroll.line(Math.min(E.index,S)),C=r(T,1),q=C[0],B=q;if(E.length>0){var Q=this.scroll.line(Math.min(E.index+E.length,S)),M=r(Q,1);B=M[0]}if(!(q==null||B==null)){var k=A.getBoundingClientRect();x.top<k.top?A.scrollTop-=k.top-x.top:x.bottom>k.bottom&&(A.scrollTop+=x.bottom-k.bottom)}}}}},{key:"setNativeRange",value:function(A,E){var x=arguments.length>2&&arguments[2]!==void 0?arguments[2]:A,S=arguments.length>3&&arguments[3]!==void 0?arguments[3]:E,T=arguments.length>4&&arguments[4]!==void 0?arguments[4]:!1;if(d.info("setNativeRange",A,E,x,S),!(A!=null&&(this.root.parentNode==null||A.parentNode==null||x.parentNode==null))){var C=document.getSelection();if(C!=null)if(A!=null){this.hasFocus()||this.root.focus();var q=(this.getNativeRange()||{}).native;if(q==null||T||A!==q.startContainer||E!==q.startOffset||x!==q.endContainer||S!==q.endOffset){A.tagName=="BR"&&(E=[].indexOf.call(A.parentNode.childNodes,A),A=A.parentNode),x.tagName=="BR"&&(S=[].indexOf.call(x.parentNode.childNodes,x),x=x.parentNode);var B=document.createRange();B.setStart(A,E),B.setEnd(x,S),C.removeAllRanges(),C.addRange(B)}}else C.removeAllRanges(),this.root.blur(),document.body.focus()}}},{key:"setRange",value:function(A){var E=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,x=arguments.length>2&&arguments[2]!==void 0?arguments[2]:g.default.sources.API;if(typeof E=="string"&&(x=E,E=!1),d.info("setRange",A),A!=null){var S=this.rangeToNative(A);this.setNativeRange.apply(this,p(S).concat([E]))}else this.setNativeRange(null);this.update(x)}},{key:"update",value:function(){var A=arguments.length>0&&arguments[0]!==void 0?arguments[0]:g.default.sources.USER,E=this.lastRange,x=this.getRange(),S=r(x,2),T=S[0],C=S[1];if(this.lastRange=T,this.lastRange!=null&&(this.savedRange=this.lastRange),!(0,s.default)(E,this.lastRange)){var q;!this.composing&&C!=null&&C.native.collapsed&&C.start.node!==this.cursor.textNode&&this.cursor.restore();var B=[g.default.events.SELECTION_CHANGE,(0,u.default)(this.lastRange),(0,u.default)(E),A];if((q=this.emitter).emit.apply(q,[g.default.events.EDITOR_CHANGE].concat(B)),A!==g.default.sources.SILENT){var Q;(Q=this.emitter).emit.apply(Q,B)}}}}]),O}();function _(O,P){try{P.parentNode}catch{return!1}return P instanceof Text&&(P=P.parentNode),O.contains(P)}e.Range=b,e.default=w},function(t,e,n){Object.defineProperty(e,"__esModule",{value:!0});var r=function(){function g(m,v){for(var h=0;h<v.length;h++){var p=v[h];p.enumerable=p.enumerable||!1,p.configurable=!0,"value"in p&&(p.writable=!0),Object.defineProperty(m,p.key,p)}}return function(m,v,h){return v&&g(m.prototype,v),h&&g(m,h),m}}(),o=function g(m,v,h){m===null&&(m=Function.prototype);var p=Object.getOwnPropertyDescriptor(m,v);if(p===void 0){var y=Object.getPrototypeOf(m);return y===null?void 0:g(y,v,h)}else{if("value"in p)return p.value;var d=p.get;return d===void 0?void 0:d.call(h)}},i=n(0),a=f(i);function f(g){return g&&g.__esModule?g:{default:g}}function u(g,m){if(!(g instanceof m))throw new TypeError("Cannot call a class as a function")}function c(g,m){if(!g)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return m&&(typeof m=="object"||typeof m=="function")?m:g}function s(g,m){if(typeof m!="function"&&m!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof m);g.prototype=Object.create(m&&m.prototype,{constructor:{value:g,enumerable:!1,writable:!0,configurable:!0}}),m&&(Object.setPrototypeOf?Object.setPrototypeOf(g,m):g.__proto__=m)}var l=function(g){s(m,g);function m(){return u(this,m),c(this,(m.__proto__||Object.getPrototypeOf(m)).apply(this,arguments))}return r(m,[{key:"insertInto",value:function(h,p){h.children.length===0?o(m.prototype.__proto__||Object.getPrototypeOf(m.prototype),"insertInto",this).call(this,h,p):this.remove()}},{key:"length",value:function(){return 0}},{key:"value",value:function(){return""}}],[{key:"value",value:function(){}}]),m}(a.default.Embed);l.blotName="break",l.tagName="BR",e.default=l},function(t,e,n){var r=this&&this.__extends||function(){var c=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(s,l){s.__proto__=l}||function(s,l){for(var g in l)l.hasOwnProperty(g)&&(s[g]=l[g])};return function(s,l){c(s,l);function g(){this.constructor=s}s.prototype=l===null?Object.create(l):(g.prototype=l.prototype,new g)}}();Object.defineProperty(e,"__esModule",{value:!0});var o=n(44),i=n(30),a=n(1),f=function(c){r(s,c);function s(l){var g=c.call(this,l)||this;return g.build(),g}return s.prototype.appendChild=function(l){this.insertBefore(l)},s.prototype.attach=function(){c.prototype.attach.call(this),this.children.forEach(function(l){l.attach()})},s.prototype.build=function(){var l=this;this.children=new o.default,[].slice.call(this.domNode.childNodes).reverse().forEach(function(g){try{var m=u(g);l.insertBefore(m,l.children.head||void 0)}catch(v){if(v instanceof a.ParchmentError)return;throw v}})},s.prototype.deleteAt=function(l,g){if(l===0&&g===this.length())return this.remove();this.children.forEachAt(l,g,function(m,v,h){m.deleteAt(v,h)})},s.prototype.descendant=function(l,g){var m=this.children.find(g),v=m[0],h=m[1];return l.blotName==null&&l(v)||l.blotName!=null&&v instanceof l?[v,h]:v instanceof s?v.descendant(l,h):[null,-1]},s.prototype.descendants=function(l,g,m){g===void 0&&(g=0),m===void 0&&(m=Number.MAX_VALUE);var v=[],h=m;return this.children.forEachAt(g,m,function(p,y,d){(l.blotName==null&&l(p)||l.blotName!=null&&p instanceof l)&&v.push(p),p instanceof s&&(v=v.concat(p.descendants(l,y,h))),h-=d}),v},s.prototype.detach=function(){this.children.forEach(function(l){l.detach()}),c.prototype.detach.call(this)},s.prototype.formatAt=function(l,g,m,v){this.children.forEachAt(l,g,function(h,p,y){h.formatAt(p,y,m,v)})},s.prototype.insertAt=function(l,g,m){var v=this.children.find(l),h=v[0],p=v[1];if(h)h.insertAt(p,g,m);else{var y=m==null?a.create("text",g):a.create(g,m);this.appendChild(y)}},s.prototype.insertBefore=function(l,g){if(this.statics.allowedChildren!=null&&!this.statics.allowedChildren.some(function(m){return l instanceof m}))throw new a.ParchmentError("Cannot insert "+l.statics.blotName+" into "+this.statics.blotName);l.insertInto(this,g)},s.prototype.length=function(){return this.children.reduce(function(l,g){return l+g.length()},0)},s.prototype.moveChildren=function(l,g){this.children.forEach(function(m){l.insertBefore(m,g)})},s.prototype.optimize=function(l){if(c.prototype.optimize.call(this,l),this.children.length===0)if(this.statics.defaultChild!=null){var g=a.create(this.statics.defaultChild);this.appendChild(g),g.optimize(l)}else this.remove()},s.prototype.path=function(l,g){g===void 0&&(g=!1);var m=this.children.find(l,g),v=m[0],h=m[1],p=[[this,l]];return v instanceof s?p.concat(v.path(h,g)):(v!=null&&p.push([v,h]),p)},s.prototype.removeChild=function(l){this.children.remove(l)},s.prototype.replace=function(l){l instanceof s&&l.moveChildren(this),c.prototype.replace.call(this,l)},s.prototype.split=function(l,g){if(g===void 0&&(g=!1),!g){if(l===0)return this;if(l===this.length())return this.next}var m=this.clone();return this.parent.insertBefore(m,this.next),this.children.forEachAt(l,this.length(),function(v,h,p){v=v.split(h,g),m.appendChild(v)}),m},s.prototype.unwrap=function(){this.moveChildren(this.parent,this.next),this.remove()},s.prototype.update=function(l,g){var m=this,v=[],h=[];l.forEach(function(p){p.target===m.domNode&&p.type==="childList"&&(v.push.apply(v,p.addedNodes),h.push.apply(h,p.removedNodes))}),h.forEach(function(p){if(!(p.parentNode!=null&&p.tagName!=="IFRAME"&&document.body.compareDocumentPosition(p)&Node.DOCUMENT_POSITION_CONTAINED_BY)){var y=a.find(p);y!=null&&(y.domNode.parentNode==null||y.domNode.parentNode===m.domNode)&&y.detach()}}),v.filter(function(p){return p.parentNode==m.domNode}).sort(function(p,y){return p===y?0:p.compareDocumentPosition(y)&Node.DOCUMENT_POSITION_FOLLOWING?1:-1}).forEach(function(p){var y=null;p.nextSibling!=null&&(y=a.find(p.nextSibling));var d=u(p);(d.next!=y||d.next==null)&&(d.parent!=null&&d.parent.removeChild(m),m.insertBefore(d,y||void 0))})},s}(i.default);function u(c){var s=a.find(c);if(s==null)try{s=a.create(c)}catch{s=a.create(a.Scope.INLINE),[].slice.call(c.childNodes).forEach(function(g){s.domNode.appendChild(g)}),c.parentNode&&c.parentNode.replaceChild(s.domNode,c),s.attach()}return s}e.default=f},function(t,e,n){var r=this&&this.__extends||function(){var c=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(s,l){s.__proto__=l}||function(s,l){for(var g in l)l.hasOwnProperty(g)&&(s[g]=l[g])};return function(s,l){c(s,l);function g(){this.constructor=s}s.prototype=l===null?Object.create(l):(g.prototype=l.prototype,new g)}}();Object.defineProperty(e,"__esModule",{value:!0});var o=n(12),i=n(31),a=n(17),f=n(1),u=function(c){r(s,c);function s(l){var g=c.call(this,l)||this;return g.attributes=new i.default(g.domNode),g}return s.formats=function(l){if(typeof this.tagName=="string")return!0;if(Array.isArray(this.tagName))return l.tagName.toLowerCase()},s.prototype.format=function(l,g){var m=f.query(l);m instanceof o.default?this.attributes.attribute(m,g):g&&m!=null&&(l!==this.statics.blotName||this.formats()[l]!==g)&&this.replaceWith(l,g)},s.prototype.formats=function(){var l=this.attributes.values(),g=this.statics.formats(this.domNode);return g!=null&&(l[this.statics.blotName]=g),l},s.prototype.replaceWith=function(l,g){var m=c.prototype.replaceWith.call(this,l,g);return this.attributes.copy(m),m},s.prototype.update=function(l,g){var m=this;c.prototype.update.call(this,l,g),l.some(function(v){return v.target===m.domNode&&v.type==="attributes"})&&this.attributes.build()},s.prototype.wrap=function(l,g){var m=c.prototype.wrap.call(this,l,g);return m instanceof s&&m.statics.scope===this.statics.scope&&this.attributes.move(m),m},s}(a.default);e.default=u},function(t,e,n){var r=this&&this.__extends||function(){var f=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(u,c){u.__proto__=c}||function(u,c){for(var s in c)c.hasOwnProperty(s)&&(u[s]=c[s])};return function(u,c){f(u,c);function s(){this.constructor=u}u.prototype=c===null?Object.create(c):(s.prototype=c.prototype,new s)}}();Object.defineProperty(e,"__esModule",{value:!0});var o=n(30),i=n(1),a=function(f){r(u,f);function u(){return f!==null&&f.apply(this,arguments)||this}return u.value=function(c){return!0},u.prototype.index=function(c,s){return this.domNode===c||this.domNode.compareDocumentPosition(c)&Node.DOCUMENT_POSITION_CONTAINED_BY?Math.min(s,1):-1},u.prototype.position=function(c,s){var l=[].indexOf.call(this.parent.domNode.childNodes,this.domNode);return c>0&&(l+=1),[this.parent.domNode,l]},u.prototype.value=function(){var c;return c={},c[this.statics.blotName]=this.statics.value(this.domNode)||!0,c},u.scope=i.Scope.INLINE_BLOT,u}(o.default);e.default=a},function(t,e,n){var r=n(11),o=n(3),i={attributes:{compose:function(f,u,c){typeof f!="object"&&(f={}),typeof u!="object"&&(u={});var s=o(!0,{},u);c||(s=Object.keys(s).reduce(function(g,m){return s[m]!=null&&(g[m]=s[m]),g},{}));for(var l in f)f[l]!==void 0&&u[l]===void 0&&(s[l]=f[l]);return Object.keys(s).length>0?s:void 0},diff:function(f,u){typeof f!="object"&&(f={}),typeof u!="object"&&(u={});var c=Object.keys(f).concat(Object.keys(u)).reduce(function(s,l){return r(f[l],u[l])||(s[l]=u[l]===void 0?null:u[l]),s},{});return Object.keys(c).length>0?c:void 0},transform:function(f,u,c){if(typeof f!="object")return u;if(typeof u=="object"){if(!c)return u;var s=Object.keys(u).reduce(function(l,g){return f[g]===void 0&&(l[g]=u[g]),l},{});return Object.keys(s).length>0?s:void 0}}},iterator:function(f){return new a(f)},length:function(f){return typeof f.delete=="number"?f.delete:typeof f.retain=="number"?f.retain:typeof f.insert=="string"?f.insert.length:1}};function a(f){this.ops=f,this.index=0,this.offset=0}a.prototype.hasNext=function(){return this.peekLength()<1/0},a.prototype.next=function(f){f||(f=1/0);var u=this.ops[this.index];if(u){var c=this.offset,s=i.length(u);if(f>=s-c?(f=s-c,this.index+=1,this.offset=0):this.offset+=f,typeof u.delete=="number")return{delete:f};var l={};return u.attributes&&(l.attributes=u.attributes),typeof u.retain=="number"?l.retain=f:typeof u.insert=="string"?l.insert=u.insert.substr(c,f):l.insert=u.insert,l}else return{retain:1/0}},a.prototype.peek=function(){return this.ops[this.index]},a.prototype.peekLength=function(){return this.ops[this.index]?i.length(this.ops[this.index])-this.offset:1/0},a.prototype.peekType=function(){return this.ops[this.index]?typeof this.ops[this.index].delete=="number"?"delete":typeof this.ops[this.index].retain=="number"?"retain":"insert":"retain"},a.prototype.rest=function(){if(this.hasNext()){if(this.offset===0)return this.ops.slice(this.index);var f=this.offset,u=this.index,c=this.next(),s=this.ops.slice(this.index);return this.offset=f,this.index=u,[c].concat(s)}else return[]},t.exports=i},function(t,e){var n=function(){function r(m,v){return v!=null&&m instanceof v}var o;try{o=Map}catch{o=function(){}}var i;try{i=Set}catch{i=function(){}}var a;try{a=Promise}catch{a=function(){}}function f(m,v,h,p,y){typeof v=="object"&&(h=v.depth,p=v.prototype,y=v.includeNonEnumerable,v=v.circular);var d=[],b=[],w=typeof Buffer!="undefined";typeof v=="undefined"&&(v=!0),typeof h=="undefined"&&(h=1/0);function _(O,P){if(O===null)return null;if(P===0)return O;var A,E;if(typeof O!="object")return O;if(r(O,o))A=new o;else if(r(O,i))A=new i;else if(r(O,a))A=new a(function(k,I){O.then(function(R){k(_(R,P-1))},function(R){I(_(R,P-1))})});else if(f.__isArray(O))A=[];else if(f.__isRegExp(O))A=new RegExp(O.source,g(O)),O.lastIndex&&(A.lastIndex=O.lastIndex);else if(f.__isDate(O))A=new Date(O.getTime());else{if(w&&Buffer.isBuffer(O))return Buffer.allocUnsafe?A=Buffer.allocUnsafe(O.length):A=new Buffer(O.length),O.copy(A),A;r(O,Error)?A=Object.create(O):typeof p=="undefined"?(E=Object.getPrototypeOf(O),A=Object.create(E)):(A=Object.create(p),E=p)}if(v){var x=d.indexOf(O);if(x!=-1)return b[x];d.push(O),b.push(A)}r(O,o)&&O.forEach(function(k,I){var R=_(I,P-1),D=_(k,P-1);A.set(R,D)}),r(O,i)&&O.forEach(function(k){var I=_(k,P-1);A.add(I)});for(var S in O){var T;E&&(T=Object.getOwnPropertyDescriptor(E,S)),!(T&&T.set==null)&&(A[S]=_(O[S],P-1))}if(Object.getOwnPropertySymbols)for(var C=Object.getOwnPropertySymbols(O),S=0;S<C.length;S++){var q=C[S],B=Object.getOwnPropertyDescriptor(O,q);B&&!B.enumerable&&!y||(A[q]=_(O[q],P-1),B.enumerable||Object.defineProperty(A,q,{enumerable:!1}))}if(y)for(var Q=Object.getOwnPropertyNames(O),S=0;S<Q.length;S++){var M=Q[S],B=Object.getOwnPropertyDescriptor(O,M);B&&B.enumerable||(A[M]=_(O[M],P-1),Object.defineProperty(A,M,{enumerable:!1}))}return A}return _(m,h)}f.clonePrototype=function(v){if(v===null)return null;var h=function(){};return h.prototype=v,new h};function u(m){return Object.prototype.toString.call(m)}f.__objToStr=u;function c(m){return typeof m=="object"&&u(m)==="[object Date]"}f.__isDate=c;function s(m){return typeof m=="object"&&u(m)==="[object Array]"}f.__isArray=s;function l(m){return typeof m=="object"&&u(m)==="[object RegExp]"}f.__isRegExp=l;function g(m){var v="";return m.global&&(v+="g"),m.ignoreCase&&(v+="i"),m.multiline&&(v+="m"),v}return f.__getRegExpFlags=g,f}();typeof t=="object"&&t.exports&&(t.exports=n)},function(t,e,n){Object.defineProperty(e,"__esModule",{value:!0});var r=function(){function A(E,x){var S=[],T=!0,C=!1,q=void 0;try{for(var B=E[Symbol.iterator](),Q;!(T=(Q=B.next()).done)&&(S.push(Q.value),!(x&&S.length===x));T=!0);}catch(M){C=!0,q=M}finally{try{!T&&B.return&&B.return()}finally{if(C)throw q}}return S}return function(E,x){if(Array.isArray(E))return E;if(Symbol.iterator in Object(E))return A(E,x);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),o=function(){function A(E,x){for(var S=0;S<x.length;S++){var T=x[S];T.enumerable=T.enumerable||!1,T.configurable=!0,"value"in T&&(T.writable=!0),Object.defineProperty(E,T.key,T)}}return function(E,x,S){return x&&A(E.prototype,x),S&&A(E,S),E}}(),i=function A(E,x,S){E===null&&(E=Function.prototype);var T=Object.getOwnPropertyDescriptor(E,x);if(T===void 0){var C=Object.getPrototypeOf(E);return C===null?void 0:A(C,x,S)}else{if("value"in T)return T.value;var q=T.get;return q===void 0?void 0:q.call(S)}},a=n(0),f=d(a),u=n(8),c=d(u),s=n(4),l=d(s),g=n(16),m=d(g),v=n(13),h=d(v),p=n(25),y=d(p);function d(A){return A&&A.__esModule?A:{default:A}}function b(A,E){if(!(A instanceof E))throw new TypeError("Cannot call a class as a function")}function w(A,E){if(!A)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return E&&(typeof E=="object"||typeof E=="function")?E:A}function _(A,E){if(typeof E!="function"&&E!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof E);A.prototype=Object.create(E&&E.prototype,{constructor:{value:A,enumerable:!1,writable:!0,configurable:!0}}),E&&(Object.setPrototypeOf?Object.setPrototypeOf(A,E):A.__proto__=E)}function O(A){return A instanceof l.default||A instanceof s.BlockEmbed}var P=function(A){_(E,A);function E(x,S){b(this,E);var T=w(this,(E.__proto__||Object.getPrototypeOf(E)).call(this,x));return T.emitter=S.emitter,Array.isArray(S.whitelist)&&(T.whitelist=S.whitelist.reduce(function(C,q){return C[q]=!0,C},{})),T.domNode.addEventListener("DOMNodeInserted",function(){}),T.optimize(),T.enable(),T}return o(E,[{key:"batchStart",value:function(){this.batch=!0}},{key:"batchEnd",value:function(){this.batch=!1,this.optimize()}},{key:"deleteAt",value:function(S,T){var C=this.line(S),q=r(C,2),B=q[0],Q=q[1],M=this.line(S+T),k=r(M,1),I=k[0];if(i(E.prototype.__proto__||Object.getPrototypeOf(E.prototype),"deleteAt",this).call(this,S,T),I!=null&&B!==I&&Q>0){if(B instanceof s.BlockEmbed||I instanceof s.BlockEmbed){this.optimize();return}if(B instanceof h.default){var R=B.newlineIndex(B.length(),!0);if(R>-1&&(B=B.split(R+1),B===I)){this.optimize();return}}else if(I instanceof h.default){var D=I.newlineIndex(0);D>-1&&I.split(D+1)}var U=I.children.head instanceof m.default?null:I.children.head;B.moveChildren(I,U),B.remove()}this.optimize()}},{key:"enable",value:function(){var S=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0;this.domNode.setAttribute("contenteditable",S)}},{key:"formatAt",value:function(S,T,C,q){this.whitelist!=null&&!this.whitelist[C]||(i(E.prototype.__proto__||Object.getPrototypeOf(E.prototype),"formatAt",this).call(this,S,T,C,q),this.optimize())}},{key:"insertAt",value:function(S,T,C){if(!(C!=null&&this.whitelist!=null&&!this.whitelist[T])){if(S>=this.length())if(C==null||f.default.query(T,f.default.Scope.BLOCK)==null){var q=f.default.create(this.statics.defaultChild);this.appendChild(q),C==null&&T.endsWith(`
`)&&(T=T.slice(0,-1)),q.insertAt(0,T,C)}else{var B=f.default.create(T,C);this.appendChild(B)}else i(E.prototype.__proto__||Object.getPrototypeOf(E.prototype),"insertAt",this).call(this,S,T,C);this.optimize()}}},{key:"insertBefore",value:function(S,T){if(S.statics.scope===f.default.Scope.INLINE_BLOT){var C=f.default.create(this.statics.defaultChild);C.appendChild(S),S=C}i(E.prototype.__proto__||Object.getPrototypeOf(E.prototype),"insertBefore",this).call(this,S,T)}},{key:"leaf",value:function(S){return this.path(S).pop()||[null,-1]}},{key:"line",value:function(S){return S===this.length()?this.line(S-1):this.descendant(O,S)}},{key:"lines",value:function(){var S=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,T=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Number.MAX_VALUE,C=function q(B,Q,M){var k=[],I=M;return B.children.forEachAt(Q,M,function(R,D,U){O(R)?k.push(R):R instanceof f.default.Container&&(k=k.concat(q(R,D,I))),I-=U}),k};return C(this,S,T)}},{key:"optimize",value:function(){var S=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],T=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};this.batch!==!0&&(i(E.prototype.__proto__||Object.getPrototypeOf(E.prototype),"optimize",this).call(this,S,T),S.length>0&&this.emitter.emit(c.default.events.SCROLL_OPTIMIZE,S,T))}},{key:"path",value:function(S){return i(E.prototype.__proto__||Object.getPrototypeOf(E.prototype),"path",this).call(this,S).slice(1)}},{key:"update",value:function(S){if(this.batch!==!0){var T=c.default.sources.USER;typeof S=="string"&&(T=S),Array.isArray(S)||(S=this.observer.takeRecords()),S.length>0&&this.emitter.emit(c.default.events.SCROLL_BEFORE_UPDATE,T,S),i(E.prototype.__proto__||Object.getPrototypeOf(E.prototype),"update",this).call(this,S.concat([])),S.length>0&&this.emitter.emit(c.default.events.SCROLL_UPDATE,T,S)}}}]),E}(f.default.Scroll);P.blotName="scroll",P.className="ql-editor",P.tagName="DIV",P.defaultChild="block",P.allowedChildren=[l.default,s.BlockEmbed,y.default],e.default=P},function(t,e,n){Object.defineProperty(e,"__esModule",{value:!0}),e.SHORTKEY=e.default=void 0;var r=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(N){return typeof N}:function(N){return N&&typeof Symbol=="function"&&N.constructor===Symbol&&N!==Symbol.prototype?"symbol":typeof N},o=function(){function N(L,z){var V=[],W=!0,ne=!1,he=void 0;try{for(var pe=L[Symbol.iterator](),Ee;!(W=(Ee=pe.next()).done)&&(V.push(Ee.value),!(z&&V.length===z));W=!0);}catch(Se){ne=!0,he=Se}finally{try{!W&&pe.return&&pe.return()}finally{if(ne)throw he}}return V}return function(L,z){if(Array.isArray(L))return L;if(Symbol.iterator in Object(L))return N(L,z);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),i=function(){function N(L,z){for(var V=0;V<z.length;V++){var W=z[V];W.enumerable=W.enumerable||!1,W.configurable=!0,"value"in W&&(W.writable=!0),Object.defineProperty(L,W.key,W)}}return function(L,z,V){return z&&N(L.prototype,z),V&&N(L,V),L}}(),a=n(21),f=A(a),u=n(11),c=A(u),s=n(3),l=A(s),g=n(2),m=A(g),v=n(20),h=A(v),p=n(0),y=A(p),d=n(5),b=A(d),w=n(10),_=A(w),O=n(9),P=A(O);function A(N){return N&&N.__esModule?N:{default:N}}function E(N,L,z){return L in N?Object.defineProperty(N,L,{value:z,enumerable:!0,configurable:!0,writable:!0}):N[L]=z,N}function x(N,L){if(!(N instanceof L))throw new TypeError("Cannot call a class as a function")}function S(N,L){if(!N)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return L&&(typeof L=="object"||typeof L=="function")?L:N}function T(N,L){if(typeof L!="function"&&L!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof L);N.prototype=Object.create(L&&L.prototype,{constructor:{value:N,enumerable:!1,writable:!0,configurable:!0}}),L&&(Object.setPrototypeOf?Object.setPrototypeOf(N,L):N.__proto__=L)}var C=(0,_.default)("quill:keyboard"),q=/Mac/i.test(navigator.platform)?"metaKey":"ctrlKey",B=function(N){T(L,N),i(L,null,[{key:"match",value:function(V,W){return W=F(W),["altKey","ctrlKey","metaKey","shiftKey"].some(function(ne){return!!W[ne]!==V[ne]&&W[ne]!==null})?!1:W.key===(V.which||V.keyCode)}}]);function L(z,V){x(this,L);var W=S(this,(L.__proto__||Object.getPrototypeOf(L)).call(this,z,V));return W.bindings={},Object.keys(W.options.bindings).forEach(function(ne){ne==="list autofill"&&z.scroll.whitelist!=null&&!z.scroll.whitelist.list||W.options.bindings[ne]&&W.addBinding(W.options.bindings[ne])}),W.addBinding({key:L.keys.ENTER,shiftKey:null},R),W.addBinding({key:L.keys.ENTER,metaKey:null,ctrlKey:null,altKey:null},function(){}),/Firefox/i.test(navigator.userAgent)?(W.addBinding({key:L.keys.BACKSPACE},{collapsed:!0},M),W.addBinding({key:L.keys.DELETE},{collapsed:!0},k)):(W.addBinding({key:L.keys.BACKSPACE},{collapsed:!0,prefix:/^.?$/},M),W.addBinding({key:L.keys.DELETE},{collapsed:!0,suffix:/^.?$/},k)),W.addBinding({key:L.keys.BACKSPACE},{collapsed:!1},I),W.addBinding({key:L.keys.DELETE},{collapsed:!1},I),W.addBinding({key:L.keys.BACKSPACE,altKey:null,ctrlKey:null,metaKey:null,shiftKey:null},{collapsed:!0,offset:0},M),W.listen(),W}return i(L,[{key:"addBinding",value:function(V){var W=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},ne=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},he=F(V);if(he==null||he.key==null)return C.warn("Attempted to add invalid keyboard binding",he);typeof W=="function"&&(W={handler:W}),typeof ne=="function"&&(ne={handler:ne}),he=(0,l.default)(he,W,ne),this.bindings[he.key]=this.bindings[he.key]||[],this.bindings[he.key].push(he)}},{key:"listen",value:function(){var V=this;this.quill.root.addEventListener("keydown",function(W){if(!W.defaultPrevented){var ne=W.which||W.keyCode,he=(V.bindings[ne]||[]).filter(function(Fe){return L.match(W,Fe)});if(he.length!==0){var pe=V.quill.getSelection();if(!(pe==null||!V.quill.hasFocus())){var Ee=V.quill.getLine(pe.index),Se=o(Ee,2),et=Se[0],Ue=Se[1],$=V.quill.getLeaf(pe.index),G=o($,2),Y=G[0],ee=G[1],Z=pe.length===0?[Y,ee]:V.quill.getLeaf(pe.index+pe.length),ge=o(Z,2),ve=ge[0],ye=ge[1],ct=Y instanceof y.default.Text?Y.value().slice(0,ee):"",Pt=ve instanceof y.default.Text?ve.value().slice(ye):"",De={collapsed:pe.length===0,empty:pe.length===0&&et.length()<=1,format:V.quill.getFormat(pe),offset:Ue,prefix:ct,suffix:Pt},Vu=he.some(function(Fe){if(Fe.collapsed!=null&&Fe.collapsed!==De.collapsed||Fe.empty!=null&&Fe.empty!==De.empty||Fe.offset!=null&&Fe.offset!==De.offset)return!1;if(Array.isArray(Fe.format)){if(Fe.format.every(function(Kt){return De.format[Kt]==null}))return!1}else if(r(Fe.format)==="object"&&!Object.keys(Fe.format).every(function(Kt){return Fe.format[Kt]===!0?De.format[Kt]!=null:Fe.format[Kt]===!1?De.format[Kt]==null:(0,c.default)(Fe.format[Kt],De.format[Kt])}))return!1;return Fe.prefix!=null&&!Fe.prefix.test(De.prefix)||Fe.suffix!=null&&!Fe.suffix.test(De.suffix)?!1:Fe.handler.call(V,pe,De)!==!0});Vu&&W.preventDefault()}}}})}}]),L}(P.default);B.keys={BACKSPACE:8,TAB:9,ENTER:13,ESCAPE:27,LEFT:37,UP:38,RIGHT:39,DOWN:40,DELETE:46},B.DEFAULTS={bindings:{bold:U("bold"),italic:U("italic"),underline:U("underline"),indent:{key:B.keys.TAB,format:["blockquote","indent","list"],handler:function(L,z){if(z.collapsed&&z.offset!==0)return!0;this.quill.format("indent","+1",b.default.sources.USER)}},outdent:{key:B.keys.TAB,shiftKey:!0,format:["blockquote","indent","list"],handler:function(L,z){if(z.collapsed&&z.offset!==0)return!0;this.quill.format("indent","-1",b.default.sources.USER)}},"outdent backspace":{key:B.keys.BACKSPACE,collapsed:!0,shiftKey:null,metaKey:null,ctrlKey:null,altKey:null,format:["indent","list"],offset:0,handler:function(L,z){z.format.indent!=null?this.quill.format("indent","-1",b.default.sources.USER):z.format.list!=null&&this.quill.format("list",!1,b.default.sources.USER)}},"indent code-block":D(!0),"outdent code-block":D(!1),"remove tab":{key:B.keys.TAB,shiftKey:!0,collapsed:!0,prefix:/\t$/,handler:function(L){this.quill.deleteText(L.index-1,1,b.default.sources.USER)}},tab:{key:B.keys.TAB,handler:function(L){this.quill.history.cutoff();var z=new m.default().retain(L.index).delete(L.length).insert("	");this.quill.updateContents(z,b.default.sources.USER),this.quill.history.cutoff(),this.quill.setSelection(L.index+1,b.default.sources.SILENT)}},"list empty enter":{key:B.keys.ENTER,collapsed:!0,format:["list"],empty:!0,handler:function(L,z){this.quill.format("list",!1,b.default.sources.USER),z.format.indent&&this.quill.format("indent",!1,b.default.sources.USER)}},"checklist enter":{key:B.keys.ENTER,collapsed:!0,format:{list:"checked"},handler:function(L){var z=this.quill.getLine(L.index),V=o(z,2),W=V[0],ne=V[1],he=(0,l.default)({},W.formats(),{list:"checked"}),pe=new m.default().retain(L.index).insert(`
`,he).retain(W.length()-ne-1).retain(1,{list:"unchecked"});this.quill.updateContents(pe,b.default.sources.USER),this.quill.setSelection(L.index+1,b.default.sources.SILENT),this.quill.scrollIntoView()}},"header enter":{key:B.keys.ENTER,collapsed:!0,format:["header"],suffix:/^$/,handler:function(L,z){var V=this.quill.getLine(L.index),W=o(V,2),ne=W[0],he=W[1],pe=new m.default().retain(L.index).insert(`
`,z.format).retain(ne.length()-he-1).retain(1,{header:null});this.quill.updateContents(pe,b.default.sources.USER),this.quill.setSelection(L.index+1,b.default.sources.SILENT),this.quill.scrollIntoView()}},"list autofill":{key:" ",collapsed:!0,format:{list:!1},prefix:/^\s*?(\d+\.|-|\*|\[ ?\]|\[x\])$/,handler:function(L,z){var V=z.prefix.length,W=this.quill.getLine(L.index),ne=o(W,2),he=ne[0],pe=ne[1];if(pe>V)return!0;var Ee=void 0;switch(z.prefix.trim()){case"[]":case"[ ]":Ee="unchecked";break;case"[x]":Ee="checked";break;case"-":case"*":Ee="bullet";break;default:Ee="ordered"}this.quill.insertText(L.index," ",b.default.sources.USER),this.quill.history.cutoff();var Se=new m.default().retain(L.index-pe).delete(V+1).retain(he.length()-2-pe).retain(1,{list:Ee});this.quill.updateContents(Se,b.default.sources.USER),this.quill.history.cutoff(),this.quill.setSelection(L.index-V,b.default.sources.SILENT)}},"code exit":{key:B.keys.ENTER,collapsed:!0,format:["code-block"],prefix:/\n\n$/,suffix:/^\s+$/,handler:function(L){var z=this.quill.getLine(L.index),V=o(z,2),W=V[0],ne=V[1],he=new m.default().retain(L.index+W.length()-ne-2).retain(1,{"code-block":null}).delete(1);this.quill.updateContents(he,b.default.sources.USER)}},"embed left":Q(B.keys.LEFT,!1),"embed left shift":Q(B.keys.LEFT,!0),"embed right":Q(B.keys.RIGHT,!1),"embed right shift":Q(B.keys.RIGHT,!0)}};function Q(N,L){var z,V=N===B.keys.LEFT?"prefix":"suffix";return z={key:N,shiftKey:L,altKey:null},E(z,V,/^$/),E(z,"handler",function(ne){var he=ne.index;N===B.keys.RIGHT&&(he+=ne.length+1);var pe=this.quill.getLeaf(he),Ee=o(pe,1),Se=Ee[0];return Se instanceof y.default.Embed?(N===B.keys.LEFT?L?this.quill.setSelection(ne.index-1,ne.length+1,b.default.sources.USER):this.quill.setSelection(ne.index-1,b.default.sources.USER):L?this.quill.setSelection(ne.index,ne.length+1,b.default.sources.USER):this.quill.setSelection(ne.index+ne.length+1,b.default.sources.USER),!1):!0}),z}function M(N,L){if(!(N.index===0||this.quill.getLength()<=1)){var z=this.quill.getLine(N.index),V=o(z,1),W=V[0],ne={};if(L.offset===0){var he=this.quill.getLine(N.index-1),pe=o(he,1),Ee=pe[0];if(Ee!=null&&Ee.length()>1){var Se=W.formats(),et=this.quill.getFormat(N.index-1,1);ne=h.default.attributes.diff(Se,et)||{}}}var Ue=/[\uD800-\uDBFF][\uDC00-\uDFFF]$/.test(L.prefix)?2:1;this.quill.deleteText(N.index-Ue,Ue,b.default.sources.USER),Object.keys(ne).length>0&&this.quill.formatLine(N.index-Ue,Ue,ne,b.default.sources.USER),this.quill.focus()}}function k(N,L){var z=/^[\uD800-\uDBFF][\uDC00-\uDFFF]/.test(L.suffix)?2:1;if(!(N.index>=this.quill.getLength()-z)){var V={},W=0,ne=this.quill.getLine(N.index),he=o(ne,1),pe=he[0];if(L.offset>=pe.length()-1){var Ee=this.quill.getLine(N.index+1),Se=o(Ee,1),et=Se[0];if(et){var Ue=pe.formats(),$=this.quill.getFormat(N.index,1);V=h.default.attributes.diff(Ue,$)||{},W=et.length()}}this.quill.deleteText(N.index,z,b.default.sources.USER),Object.keys(V).length>0&&this.quill.formatLine(N.index+W-1,z,V,b.default.sources.USER)}}function I(N){var L=this.quill.getLines(N),z={};if(L.length>1){var V=L[0].formats(),W=L[L.length-1].formats();z=h.default.attributes.diff(W,V)||{}}this.quill.deleteText(N,b.default.sources.USER),Object.keys(z).length>0&&this.quill.formatLine(N.index,1,z,b.default.sources.USER),this.quill.setSelection(N.index,b.default.sources.SILENT),this.quill.focus()}function R(N,L){var z=this;N.length>0&&this.quill.scroll.deleteAt(N.index,N.length);var V=Object.keys(L.format).reduce(function(W,ne){return y.default.query(ne,y.default.Scope.BLOCK)&&!Array.isArray(L.format[ne])&&(W[ne]=L.format[ne]),W},{});this.quill.insertText(N.index,`
`,V,b.default.sources.USER),this.quill.setSelection(N.index+1,b.default.sources.SILENT),this.quill.focus(),Object.keys(L.format).forEach(function(W){V[W]==null&&(Array.isArray(L.format[W])||W!=="link"&&z.quill.format(W,L.format[W],b.default.sources.USER))})}function D(N){return{key:B.keys.TAB,shiftKey:!N,format:{"code-block":!0},handler:function(z){var V=y.default.query("code-block"),W=z.index,ne=z.length,he=this.quill.scroll.descendant(V,W),pe=o(he,2),Ee=pe[0],Se=pe[1];if(Ee!=null){var et=this.quill.getIndex(Ee),Ue=Ee.newlineIndex(Se,!0)+1,$=Ee.newlineIndex(et+Se+ne),G=Ee.domNode.textContent.slice(Ue,$).split(`
`);Se=0,G.forEach(function(Y,ee){N?(Ee.insertAt(Ue+Se,V.TAB),Se+=V.TAB.length,ee===0?W+=V.TAB.length:ne+=V.TAB.length):Y.startsWith(V.TAB)&&(Ee.deleteAt(Ue+Se,V.TAB.length),Se-=V.TAB.length,ee===0?W-=V.TAB.length:ne-=V.TAB.length),Se+=Y.length+1}),this.quill.update(b.default.sources.USER),this.quill.setSelection(W,ne,b.default.sources.SILENT)}}}}function U(N){return{key:N[0].toUpperCase(),shortKey:!0,handler:function(z,V){this.quill.format(N,!V.format[N],b.default.sources.USER)}}}function F(N){if(typeof N=="string"||typeof N=="number")return F({key:N});if((typeof N=="undefined"?"undefined":r(N))==="object"&&(N=(0,f.default)(N,!1)),typeof N.key=="string")if(B.keys[N.key.toUpperCase()]!=null)N.key=B.keys[N.key.toUpperCase()];else if(N.key.length===1)N.key=N.key.toUpperCase().charCodeAt(0);else return null;return N.shortKey&&(N[q]=N.shortKey,delete N.shortKey),N}e.default=B,e.SHORTKEY=q},function(t,e,n){Object.defineProperty(e,"__esModule",{value:!0});var r=function(){function h(p,y){var d=[],b=!0,w=!1,_=void 0;try{for(var O=p[Symbol.iterator](),P;!(b=(P=O.next()).done)&&(d.push(P.value),!(y&&d.length===y));b=!0);}catch(A){w=!0,_=A}finally{try{!b&&O.return&&O.return()}finally{if(w)throw _}}return d}return function(p,y){if(Array.isArray(p))return p;if(Symbol.iterator in Object(p))return h(p,y);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),o=function h(p,y,d){p===null&&(p=Function.prototype);var b=Object.getOwnPropertyDescriptor(p,y);if(b===void 0){var w=Object.getPrototypeOf(p);return w===null?void 0:h(w,y,d)}else{if("value"in b)return b.value;var _=b.get;return _===void 0?void 0:_.call(d)}},i=function(){function h(p,y){for(var d=0;d<y.length;d++){var b=y[d];b.enumerable=b.enumerable||!1,b.configurable=!0,"value"in b&&(b.writable=!0),Object.defineProperty(p,b.key,b)}}return function(p,y,d){return y&&h(p.prototype,y),d&&h(p,d),p}}(),a=n(0),f=s(a),u=n(7),c=s(u);function s(h){return h&&h.__esModule?h:{default:h}}function l(h,p){if(!(h instanceof p))throw new TypeError("Cannot call a class as a function")}function g(h,p){if(!h)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return p&&(typeof p=="object"||typeof p=="function")?p:h}function m(h,p){if(typeof p!="function"&&p!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof p);h.prototype=Object.create(p&&p.prototype,{constructor:{value:h,enumerable:!1,writable:!0,configurable:!0}}),p&&(Object.setPrototypeOf?Object.setPrototypeOf(h,p):h.__proto__=p)}var v=function(h){m(p,h),i(p,null,[{key:"value",value:function(){}}]);function p(y,d){l(this,p);var b=g(this,(p.__proto__||Object.getPrototypeOf(p)).call(this,y));return b.selection=d,b.textNode=document.createTextNode(p.CONTENTS),b.domNode.appendChild(b.textNode),b._length=0,b}return i(p,[{key:"detach",value:function(){this.parent!=null&&this.parent.removeChild(this)}},{key:"format",value:function(d,b){if(this._length!==0)return o(p.prototype.__proto__||Object.getPrototypeOf(p.prototype),"format",this).call(this,d,b);for(var w=this,_=0;w!=null&&w.statics.scope!==f.default.Scope.BLOCK_BLOT;)_+=w.offset(w.parent),w=w.parent;w!=null&&(this._length=p.CONTENTS.length,w.optimize(),w.formatAt(_,p.CONTENTS.length,d,b),this._length=0)}},{key:"index",value:function(d,b){return d===this.textNode?0:o(p.prototype.__proto__||Object.getPrototypeOf(p.prototype),"index",this).call(this,d,b)}},{key:"length",value:function(){return this._length}},{key:"position",value:function(){return[this.textNode,this.textNode.data.length]}},{key:"remove",value:function(){o(p.prototype.__proto__||Object.getPrototypeOf(p.prototype),"remove",this).call(this),this.parent=null}},{key:"restore",value:function(){if(!(this.selection.composing||this.parent==null)){var d=this.textNode,b=this.selection.getNativeRange(),w=void 0,_=void 0,O=void 0;if(b!=null&&b.start.node===d&&b.end.node===d){var P=[d,b.start.offset,b.end.offset];w=P[0],_=P[1],O=P[2]}for(;this.domNode.lastChild!=null&&this.domNode.lastChild!==this.textNode;)this.domNode.parentNode.insertBefore(this.domNode.lastChild,this.domNode);if(this.textNode.data!==p.CONTENTS){var A=this.textNode.data.split(p.CONTENTS).join("");this.next instanceof c.default?(w=this.next.domNode,this.next.insertAt(0,A),this.textNode.data=p.CONTENTS):(this.textNode.data=A,this.parent.insertBefore(f.default.create(this.textNode),this),this.textNode=document.createTextNode(p.CONTENTS),this.domNode.appendChild(this.textNode))}if(this.remove(),_!=null){var E=[_,O].map(function(S){return Math.max(0,Math.min(w.data.length,S-1))}),x=r(E,2);return _=x[0],O=x[1],{startNode:w,startOffset:_,endNode:w,endOffset:O}}}}},{key:"update",value:function(d,b){var w=this;if(d.some(function(O){return O.type==="characterData"&&O.target===w.textNode})){var _=this.restore();_&&(b.range=_)}}},{key:"value",value:function(){return""}}]),p}(f.default.Embed);v.blotName="cursor",v.className="ql-cursor",v.tagName="span",v.CONTENTS="\uFEFF",e.default=v},function(t,e,n){Object.defineProperty(e,"__esModule",{value:!0});var r=n(0),o=f(r),i=n(4),a=f(i);function f(g){return g&&g.__esModule?g:{default:g}}function u(g,m){if(!(g instanceof m))throw new TypeError("Cannot call a class as a function")}function c(g,m){if(!g)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return m&&(typeof m=="object"||typeof m=="function")?m:g}function s(g,m){if(typeof m!="function"&&m!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof m);g.prototype=Object.create(m&&m.prototype,{constructor:{value:g,enumerable:!1,writable:!0,configurable:!0}}),m&&(Object.setPrototypeOf?Object.setPrototypeOf(g,m):g.__proto__=m)}var l=function(g){s(m,g);function m(){return u(this,m),c(this,(m.__proto__||Object.getPrototypeOf(m)).apply(this,arguments))}return m}(o.default.Container);l.allowedChildren=[a.default,i.BlockEmbed,l],e.default=l},function(t,e,n){Object.defineProperty(e,"__esModule",{value:!0}),e.ColorStyle=e.ColorClass=e.ColorAttributor=void 0;var r=function(){function v(h,p){for(var y=0;y<p.length;y++){var d=p[y];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(h,d.key,d)}}return function(h,p,y){return p&&v(h.prototype,p),y&&v(h,y),h}}(),o=function v(h,p,y){h===null&&(h=Function.prototype);var d=Object.getOwnPropertyDescriptor(h,p);if(d===void 0){var b=Object.getPrototypeOf(h);return b===null?void 0:v(b,p,y)}else{if("value"in d)return d.value;var w=d.get;return w===void 0?void 0:w.call(y)}},i=n(0),a=f(i);function f(v){return v&&v.__esModule?v:{default:v}}function u(v,h){if(!(v instanceof h))throw new TypeError("Cannot call a class as a function")}function c(v,h){if(!v)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return h&&(typeof h=="object"||typeof h=="function")?h:v}function s(v,h){if(typeof h!="function"&&h!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof h);v.prototype=Object.create(h&&h.prototype,{constructor:{value:v,enumerable:!1,writable:!0,configurable:!0}}),h&&(Object.setPrototypeOf?Object.setPrototypeOf(v,h):v.__proto__=h)}var l=function(v){s(h,v);function h(){return u(this,h),c(this,(h.__proto__||Object.getPrototypeOf(h)).apply(this,arguments))}return r(h,[{key:"value",value:function(y){var d=o(h.prototype.__proto__||Object.getPrototypeOf(h.prototype),"value",this).call(this,y);return d.startsWith("rgb(")?(d=d.replace(/^[^\d]+/,"").replace(/[^\d]+$/,""),"#"+d.split(",").map(function(b){return("00"+parseInt(b).toString(16)).slice(-2)}).join("")):d}}]),h}(a.default.Attributor.Style),g=new a.default.Attributor.Class("color","ql-color",{scope:a.default.Scope.INLINE}),m=new l("color","color",{scope:a.default.Scope.INLINE});e.ColorAttributor=l,e.ColorClass=g,e.ColorStyle=m},function(t,e,n){Object.defineProperty(e,"__esModule",{value:!0}),e.sanitize=e.default=void 0;var r=function(){function m(v,h){for(var p=0;p<h.length;p++){var y=h[p];y.enumerable=y.enumerable||!1,y.configurable=!0,"value"in y&&(y.writable=!0),Object.defineProperty(v,y.key,y)}}return function(v,h,p){return h&&m(v.prototype,h),p&&m(v,p),v}}(),o=function m(v,h,p){v===null&&(v=Function.prototype);var y=Object.getOwnPropertyDescriptor(v,h);if(y===void 0){var d=Object.getPrototypeOf(v);return d===null?void 0:m(d,h,p)}else{if("value"in y)return y.value;var b=y.get;return b===void 0?void 0:b.call(p)}},i=n(6),a=f(i);function f(m){return m&&m.__esModule?m:{default:m}}function u(m,v){if(!(m instanceof v))throw new TypeError("Cannot call a class as a function")}function c(m,v){if(!m)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return v&&(typeof v=="object"||typeof v=="function")?v:m}function s(m,v){if(typeof v!="function"&&v!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof v);m.prototype=Object.create(v&&v.prototype,{constructor:{value:m,enumerable:!1,writable:!0,configurable:!0}}),v&&(Object.setPrototypeOf?Object.setPrototypeOf(m,v):m.__proto__=v)}var l=function(m){s(v,m);function v(){return u(this,v),c(this,(v.__proto__||Object.getPrototypeOf(v)).apply(this,arguments))}return r(v,[{key:"format",value:function(p,y){if(p!==this.statics.blotName||!y)return o(v.prototype.__proto__||Object.getPrototypeOf(v.prototype),"format",this).call(this,p,y);y=this.constructor.sanitize(y),this.domNode.setAttribute("href",y)}}],[{key:"create",value:function(p){var y=o(v.__proto__||Object.getPrototypeOf(v),"create",this).call(this,p);return p=this.sanitize(p),y.setAttribute("href",p),y.setAttribute("rel","noopener noreferrer"),y.setAttribute("target","_blank"),y}},{key:"formats",value:function(p){return p.getAttribute("href")}},{key:"sanitize",value:function(p){return g(p,this.PROTOCOL_WHITELIST)?p:this.SANITIZED_URL}}]),v}(a.default);l.blotName="link",l.tagName="A",l.SANITIZED_URL="about:blank",l.PROTOCOL_WHITELIST=["http","https","mailto","tel"];function g(m,v){var h=document.createElement("a");h.href=m;var p=h.href.slice(0,h.href.indexOf(":"));return v.indexOf(p)>-1}e.default=l,e.sanitize=g},function(t,e,n){Object.defineProperty(e,"__esModule",{value:!0});var r=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(v){return typeof v}:function(v){return v&&typeof Symbol=="function"&&v.constructor===Symbol&&v!==Symbol.prototype?"symbol":typeof v},o=function(){function v(h,p){for(var y=0;y<p.length;y++){var d=p[y];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(h,d.key,d)}}return function(h,p,y){return p&&v(h.prototype,p),y&&v(h,y),h}}(),i=n(23),a=c(i),f=n(107),u=c(f);function c(v){return v&&v.__esModule?v:{default:v}}function s(v,h){if(!(v instanceof h))throw new TypeError("Cannot call a class as a function")}var l=0;function g(v,h){v.setAttribute(h,v.getAttribute(h)!=="true")}var m=function(){function v(h){var p=this;s(this,v),this.select=h,this.container=document.createElement("span"),this.buildPicker(),this.select.style.display="none",this.select.parentNode.insertBefore(this.container,this.select),this.label.addEventListener("mousedown",function(){p.togglePicker()}),this.label.addEventListener("keydown",function(y){switch(y.keyCode){case a.default.keys.ENTER:p.togglePicker();break;case a.default.keys.ESCAPE:p.escape(),y.preventDefault();break}}),this.select.addEventListener("change",this.update.bind(this))}return o(v,[{key:"togglePicker",value:function(){this.container.classList.toggle("ql-expanded"),g(this.label,"aria-expanded"),g(this.options,"aria-hidden")}},{key:"buildItem",value:function(p){var y=this,d=document.createElement("span");return d.tabIndex="0",d.setAttribute("role","button"),d.classList.add("ql-picker-item"),p.hasAttribute("value")&&d.setAttribute("data-value",p.getAttribute("value")),p.textContent&&d.setAttribute("data-label",p.textContent),d.addEventListener("click",function(){y.selectItem(d,!0)}),d.addEventListener("keydown",function(b){switch(b.keyCode){case a.default.keys.ENTER:y.selectItem(d,!0),b.preventDefault();break;case a.default.keys.ESCAPE:y.escape(),b.preventDefault();break}}),d}},{key:"buildLabel",value:function(){var p=document.createElement("span");return p.classList.add("ql-picker-label"),p.innerHTML=u.default,p.tabIndex="0",p.setAttribute("role","button"),p.setAttribute("aria-expanded","false"),this.container.appendChild(p),p}},{key:"buildOptions",value:function(){var p=this,y=document.createElement("span");y.classList.add("ql-picker-options"),y.setAttribute("aria-hidden","true"),y.tabIndex="-1",y.id="ql-picker-options-"+l,l+=1,this.label.setAttribute("aria-controls",y.id),this.options=y,[].slice.call(this.select.options).forEach(function(d){var b=p.buildItem(d);y.appendChild(b),d.selected===!0&&p.selectItem(b)}),this.container.appendChild(y)}},{key:"buildPicker",value:function(){var p=this;[].slice.call(this.select.attributes).forEach(function(y){p.container.setAttribute(y.name,y.value)}),this.container.classList.add("ql-picker"),this.label=this.buildLabel(),this.buildOptions()}},{key:"escape",value:function(){var p=this;this.close(),setTimeout(function(){return p.label.focus()},1)}},{key:"close",value:function(){this.container.classList.remove("ql-expanded"),this.label.setAttribute("aria-expanded","false"),this.options.setAttribute("aria-hidden","true")}},{key:"selectItem",value:function(p){var y=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,d=this.container.querySelector(".ql-selected");if(p!==d&&(d!=null&&d.classList.remove("ql-selected"),p!=null&&(p.classList.add("ql-selected"),this.select.selectedIndex=[].indexOf.call(p.parentNode.children,p),p.hasAttribute("data-value")?this.label.setAttribute("data-value",p.getAttribute("data-value")):this.label.removeAttribute("data-value"),p.hasAttribute("data-label")?this.label.setAttribute("data-label",p.getAttribute("data-label")):this.label.removeAttribute("data-label"),y))){if(typeof Event=="function")this.select.dispatchEvent(new Event("change"));else if((typeof Event=="undefined"?"undefined":r(Event))==="object"){var b=document.createEvent("Event");b.initEvent("change",!0,!0),this.select.dispatchEvent(b)}this.close()}}},{key:"update",value:function(){var p=void 0;if(this.select.selectedIndex>-1){var y=this.container.querySelector(".ql-picker-options").children[this.select.selectedIndex];p=this.select.options[this.select.selectedIndex],this.selectItem(y)}else this.selectItem(null);var d=p!=null&&p!==this.select.querySelector("option[selected]");this.label.classList.toggle("ql-active",d)}}]),v}();e.default=m},function(t,e,n){Object.defineProperty(e,"__esModule",{value:!0});var r=n(0),o=C(r),i=n(5),a=C(i),f=n(4),u=C(f),c=n(16),s=C(c),l=n(25),g=C(l),m=n(24),v=C(m),h=n(35),p=C(h),y=n(6),d=C(y),b=n(22),w=C(b),_=n(7),O=C(_),P=n(55),A=C(P),E=n(42),x=C(E),S=n(23),T=C(S);function C(q){return q&&q.__esModule?q:{default:q}}a.default.register({"blots/block":u.default,"blots/block/embed":f.BlockEmbed,"blots/break":s.default,"blots/container":g.default,"blots/cursor":v.default,"blots/embed":p.default,"blots/inline":d.default,"blots/scroll":w.default,"blots/text":O.default,"modules/clipboard":A.default,"modules/history":x.default,"modules/keyboard":T.default}),o.default.register(u.default,s.default,v.default,d.default,w.default,O.default),e.default=a.default},function(t,e,n){Object.defineProperty(e,"__esModule",{value:!0});var r=n(1),o=function(){function i(a){this.domNode=a,this.domNode[r.DATA_KEY]={blot:this}}return Object.defineProperty(i.prototype,"statics",{get:function(){return this.constructor},enumerable:!0,configurable:!0}),i.create=function(a){if(this.tagName==null)throw new r.ParchmentError("Blot definition missing tagName");var f;return Array.isArray(this.tagName)?(typeof a=="string"&&(a=a.toUpperCase(),parseInt(a).toString()===a&&(a=parseInt(a))),typeof a=="number"?f=document.createElement(this.tagName[a-1]):this.tagName.indexOf(a)>-1?f=document.createElement(a):f=document.createElement(this.tagName[0])):f=document.createElement(this.tagName),this.className&&f.classList.add(this.className),f},i.prototype.attach=function(){this.parent!=null&&(this.scroll=this.parent.scroll)},i.prototype.clone=function(){var a=this.domNode.cloneNode(!1);return r.create(a)},i.prototype.detach=function(){this.parent!=null&&this.parent.removeChild(this),delete this.domNode[r.DATA_KEY]},i.prototype.deleteAt=function(a,f){var u=this.isolate(a,f);u.remove()},i.prototype.formatAt=function(a,f,u,c){var s=this.isolate(a,f);if(r.query(u,r.Scope.BLOT)!=null&&c)s.wrap(u,c);else if(r.query(u,r.Scope.ATTRIBUTE)!=null){var l=r.create(this.statics.scope);s.wrap(l),l.format(u,c)}},i.prototype.insertAt=function(a,f,u){var c=u==null?r.create("text",f):r.create(f,u),s=this.split(a);this.parent.insertBefore(c,s)},i.prototype.insertInto=function(a,f){f===void 0&&(f=null),this.parent!=null&&this.parent.children.remove(this);var u=null;a.children.insertBefore(this,f),f!=null&&(u=f.domNode),(this.domNode.parentNode!=a.domNode||this.domNode.nextSibling!=u)&&a.domNode.insertBefore(this.domNode,u),this.parent=a,this.attach()},i.prototype.isolate=function(a,f){var u=this.split(a);return u.split(f),u},i.prototype.length=function(){return 1},i.prototype.offset=function(a){return a===void 0&&(a=this.parent),this.parent==null||this==a?0:this.parent.children.offset(this)+this.parent.offset(a)},i.prototype.optimize=function(a){this.domNode[r.DATA_KEY]!=null&&delete this.domNode[r.DATA_KEY].mutations},i.prototype.remove=function(){this.domNode.parentNode!=null&&this.domNode.parentNode.removeChild(this.domNode),this.detach()},i.prototype.replace=function(a){a.parent!=null&&(a.parent.insertBefore(this,a.next),a.remove())},i.prototype.replaceWith=function(a,f){var u=typeof a=="string"?r.create(a,f):a;return u.replace(this),u},i.prototype.split=function(a,f){return a===0?this:this.next},i.prototype.update=function(a,f){},i.prototype.wrap=function(a,f){var u=typeof a=="string"?r.create(a,f):a;return this.parent!=null&&this.parent.insertBefore(u,this.next),u.appendChild(this),u},i.blotName="abstract",i}();e.default=o},function(t,e,n){Object.defineProperty(e,"__esModule",{value:!0});var r=n(12),o=n(32),i=n(33),a=n(1),f=function(){function u(c){this.attributes={},this.domNode=c,this.build()}return u.prototype.attribute=function(c,s){s?c.add(this.domNode,s)&&(c.value(this.domNode)!=null?this.attributes[c.attrName]=c:delete this.attributes[c.attrName]):(c.remove(this.domNode),delete this.attributes[c.attrName])},u.prototype.build=function(){var c=this;this.attributes={};var s=r.default.keys(this.domNode),l=o.default.keys(this.domNode),g=i.default.keys(this.domNode);s.concat(l).concat(g).forEach(function(m){var v=a.query(m,a.Scope.ATTRIBUTE);v instanceof r.default&&(c.attributes[v.attrName]=v)})},u.prototype.copy=function(c){var s=this;Object.keys(this.attributes).forEach(function(l){var g=s.attributes[l].value(s.domNode);c.format(l,g)})},u.prototype.move=function(c){var s=this;this.copy(c),Object.keys(this.attributes).forEach(function(l){s.attributes[l].remove(s.domNode)}),this.attributes={}},u.prototype.values=function(){var c=this;return Object.keys(this.attributes).reduce(function(s,l){return s[l]=c.attributes[l].value(c.domNode),s},{})},u}();e.default=f},function(t,e,n){var r=this&&this.__extends||function(){var f=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(u,c){u.__proto__=c}||function(u,c){for(var s in c)c.hasOwnProperty(s)&&(u[s]=c[s])};return function(u,c){f(u,c);function s(){this.constructor=u}u.prototype=c===null?Object.create(c):(s.prototype=c.prototype,new s)}}();Object.defineProperty(e,"__esModule",{value:!0});var o=n(12);function i(f,u){var c=f.getAttribute("class")||"";return c.split(/\s+/).filter(function(s){return s.indexOf(u+"-")===0})}var a=function(f){r(u,f);function u(){return f!==null&&f.apply(this,arguments)||this}return u.keys=function(c){return(c.getAttribute("class")||"").split(/\s+/).map(function(s){return s.split("-").slice(0,-1).join("-")})},u.prototype.add=function(c,s){return this.canAdd(c,s)?(this.remove(c),c.classList.add(this.keyName+"-"+s),!0):!1},u.prototype.remove=function(c){var s=i(c,this.keyName);s.forEach(function(l){c.classList.remove(l)}),c.classList.length===0&&c.removeAttribute("class")},u.prototype.value=function(c){var s=i(c,this.keyName)[0]||"",l=s.slice(this.keyName.length+1);return this.canAdd(c,l)?l:""},u}(o.default);e.default=a},function(t,e,n){var r=this&&this.__extends||function(){var f=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(u,c){u.__proto__=c}||function(u,c){for(var s in c)c.hasOwnProperty(s)&&(u[s]=c[s])};return function(u,c){f(u,c);function s(){this.constructor=u}u.prototype=c===null?Object.create(c):(s.prototype=c.prototype,new s)}}();Object.defineProperty(e,"__esModule",{value:!0});var o=n(12);function i(f){var u=f.split("-"),c=u.slice(1).map(function(s){return s[0].toUpperCase()+s.slice(1)}).join("");return u[0]+c}var a=function(f){r(u,f);function u(){return f!==null&&f.apply(this,arguments)||this}return u.keys=function(c){return(c.getAttribute("style")||"").split(";").map(function(s){var l=s.split(":");return l[0].trim()})},u.prototype.add=function(c,s){return this.canAdd(c,s)?(c.style[i(this.keyName)]=s,!0):!1},u.prototype.remove=function(c){c.style[i(this.keyName)]="",c.getAttribute("style")||c.removeAttribute("style")},u.prototype.value=function(c){var s=c.style[i(this.keyName)];return this.canAdd(c,s)?s:""},u}(o.default);e.default=a},function(t,e,n){Object.defineProperty(e,"__esModule",{value:!0});var r=function(){function a(f,u){for(var c=0;c<u.length;c++){var s=u[c];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(f,s.key,s)}}return function(f,u,c){return u&&a(f.prototype,u),c&&a(f,c),f}}();function o(a,f){if(!(a instanceof f))throw new TypeError("Cannot call a class as a function")}var i=function(){function a(f,u){o(this,a),this.quill=f,this.options=u,this.modules={}}return r(a,[{key:"init",value:function(){var u=this;Object.keys(this.options.modules).forEach(function(c){u.modules[c]==null&&u.addModule(c)})}},{key:"addModule",value:function(u){var c=this.quill.constructor.import("modules/"+u);return this.modules[u]=new c(this.quill,this.options.modules[u]||{}),this.modules[u]}}]),a}();i.DEFAULTS={modules:{}},i.themes={default:i},e.default=i},function(t,e,n){Object.defineProperty(e,"__esModule",{value:!0});var r=function(){function h(p,y){for(var d=0;d<y.length;d++){var b=y[d];b.enumerable=b.enumerable||!1,b.configurable=!0,"value"in b&&(b.writable=!0),Object.defineProperty(p,b.key,b)}}return function(p,y,d){return y&&h(p.prototype,y),d&&h(p,d),p}}(),o=function h(p,y,d){p===null&&(p=Function.prototype);var b=Object.getOwnPropertyDescriptor(p,y);if(b===void 0){var w=Object.getPrototypeOf(p);return w===null?void 0:h(w,y,d)}else{if("value"in b)return b.value;var _=b.get;return _===void 0?void 0:_.call(d)}},i=n(0),a=c(i),f=n(7),u=c(f);function c(h){return h&&h.__esModule?h:{default:h}}function s(h,p){if(!(h instanceof p))throw new TypeError("Cannot call a class as a function")}function l(h,p){if(!h)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return p&&(typeof p=="object"||typeof p=="function")?p:h}function g(h,p){if(typeof p!="function"&&p!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof p);h.prototype=Object.create(p&&p.prototype,{constructor:{value:h,enumerable:!1,writable:!0,configurable:!0}}),p&&(Object.setPrototypeOf?Object.setPrototypeOf(h,p):h.__proto__=p)}var m="\uFEFF",v=function(h){g(p,h);function p(y){s(this,p);var d=l(this,(p.__proto__||Object.getPrototypeOf(p)).call(this,y));return d.contentNode=document.createElement("span"),d.contentNode.setAttribute("contenteditable",!1),[].slice.call(d.domNode.childNodes).forEach(function(b){d.contentNode.appendChild(b)}),d.leftGuard=document.createTextNode(m),d.rightGuard=document.createTextNode(m),d.domNode.appendChild(d.leftGuard),d.domNode.appendChild(d.contentNode),d.domNode.appendChild(d.rightGuard),d}return r(p,[{key:"index",value:function(d,b){return d===this.leftGuard?0:d===this.rightGuard?1:o(p.prototype.__proto__||Object.getPrototypeOf(p.prototype),"index",this).call(this,d,b)}},{key:"restore",value:function(d){var b=void 0,w=void 0,_=d.data.split(m).join("");if(d===this.leftGuard)if(this.prev instanceof u.default){var O=this.prev.length();this.prev.insertAt(O,_),b={startNode:this.prev.domNode,startOffset:O+_.length}}else w=document.createTextNode(_),this.parent.insertBefore(a.default.create(w),this),b={startNode:w,startOffset:_.length};else d===this.rightGuard&&(this.next instanceof u.default?(this.next.insertAt(0,_),b={startNode:this.next.domNode,startOffset:_.length}):(w=document.createTextNode(_),this.parent.insertBefore(a.default.create(w),this.next),b={startNode:w,startOffset:_.length}));return d.data=m,b}},{key:"update",value:function(d,b){var w=this;d.forEach(function(_){if(_.type==="characterData"&&(_.target===w.leftGuard||_.target===w.rightGuard)){var O=w.restore(_.target);O&&(b.range=O)}})}}]),p}(a.default.Embed);e.default=v},function(t,e,n){Object.defineProperty(e,"__esModule",{value:!0}),e.AlignStyle=e.AlignClass=e.AlignAttribute=void 0;var r=n(0),o=i(r);function i(s){return s&&s.__esModule?s:{default:s}}var a={scope:o.default.Scope.BLOCK,whitelist:["right","center","justify"]},f=new o.default.Attributor.Attribute("align","align",a),u=new o.default.Attributor.Class("align","ql-align",a),c=new o.default.Attributor.Style("align","text-align",a);e.AlignAttribute=f,e.AlignClass=u,e.AlignStyle=c},function(t,e,n){Object.defineProperty(e,"__esModule",{value:!0}),e.BackgroundStyle=e.BackgroundClass=void 0;var r=n(0),o=a(r),i=n(26);function a(c){return c&&c.__esModule?c:{default:c}}var f=new o.default.Attributor.Class("background","ql-bg",{scope:o.default.Scope.INLINE}),u=new i.ColorAttributor("background","background-color",{scope:o.default.Scope.INLINE});e.BackgroundClass=f,e.BackgroundStyle=u},function(t,e,n){Object.defineProperty(e,"__esModule",{value:!0}),e.DirectionStyle=e.DirectionClass=e.DirectionAttribute=void 0;var r=n(0),o=i(r);function i(s){return s&&s.__esModule?s:{default:s}}var a={scope:o.default.Scope.BLOCK,whitelist:["rtl"]},f=new o.default.Attributor.Attribute("direction","dir",a),u=new o.default.Attributor.Class("direction","ql-direction",a),c=new o.default.Attributor.Style("direction","direction",a);e.DirectionAttribute=f,e.DirectionClass=u,e.DirectionStyle=c},function(t,e,n){Object.defineProperty(e,"__esModule",{value:!0}),e.FontClass=e.FontStyle=void 0;var r=function(){function h(p,y){for(var d=0;d<y.length;d++){var b=y[d];b.enumerable=b.enumerable||!1,b.configurable=!0,"value"in b&&(b.writable=!0),Object.defineProperty(p,b.key,b)}}return function(p,y,d){return y&&h(p.prototype,y),d&&h(p,d),p}}(),o=function h(p,y,d){p===null&&(p=Function.prototype);var b=Object.getOwnPropertyDescriptor(p,y);if(b===void 0){var w=Object.getPrototypeOf(p);return w===null?void 0:h(w,y,d)}else{if("value"in b)return b.value;var _=b.get;return _===void 0?void 0:_.call(d)}},i=n(0),a=f(i);function f(h){return h&&h.__esModule?h:{default:h}}function u(h,p){if(!(h instanceof p))throw new TypeError("Cannot call a class as a function")}function c(h,p){if(!h)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return p&&(typeof p=="object"||typeof p=="function")?p:h}function s(h,p){if(typeof p!="function"&&p!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof p);h.prototype=Object.create(p&&p.prototype,{constructor:{value:h,enumerable:!1,writable:!0,configurable:!0}}),p&&(Object.setPrototypeOf?Object.setPrototypeOf(h,p):h.__proto__=p)}var l={scope:a.default.Scope.INLINE,whitelist:["serif","monospace"]},g=new a.default.Attributor.Class("font","ql-font",l),m=function(h){s(p,h);function p(){return u(this,p),c(this,(p.__proto__||Object.getPrototypeOf(p)).apply(this,arguments))}return r(p,[{key:"value",value:function(d){return o(p.prototype.__proto__||Object.getPrototypeOf(p.prototype),"value",this).call(this,d).replace(/["']/g,"")}}]),p}(a.default.Attributor.Style),v=new m("font","font-family",l);e.FontStyle=v,e.FontClass=g},function(t,e,n){Object.defineProperty(e,"__esModule",{value:!0}),e.SizeStyle=e.SizeClass=void 0;var r=n(0),o=i(r);function i(u){return u&&u.__esModule?u:{default:u}}var a=new o.default.Attributor.Class("size","ql-size",{scope:o.default.Scope.INLINE,whitelist:["small","large","huge"]}),f=new o.default.Attributor.Style("size","font-size",{scope:o.default.Scope.INLINE,whitelist:["10px","18px","32px"]});e.SizeClass=a,e.SizeStyle=f},function(t,e,n){t.exports={align:{"":n(76),center:n(77),right:n(78),justify:n(79)},background:n(80),blockquote:n(81),bold:n(82),clean:n(83),code:n(58),"code-block":n(58),color:n(84),direction:{"":n(85),rtl:n(86)},float:{center:n(87),full:n(88),left:n(89),right:n(90)},formula:n(91),header:{"1":n(92),"2":n(93)},italic:n(94),image:n(95),indent:{"+1":n(96),"-1":n(97)},link:n(98),list:{ordered:n(99),bullet:n(100),check:n(101)},script:{sub:n(102),super:n(103)},strike:n(104),underline:n(105),video:n(106)}},function(t,e,n){Object.defineProperty(e,"__esModule",{value:!0}),e.getLastChangeIndex=e.default=void 0;var r=function(){function y(d,b){for(var w=0;w<b.length;w++){var _=b[w];_.enumerable=_.enumerable||!1,_.configurable=!0,"value"in _&&(_.writable=!0),Object.defineProperty(d,_.key,_)}}return function(d,b,w){return b&&y(d.prototype,b),w&&y(d,w),d}}(),o=n(0),i=s(o),a=n(5),f=s(a),u=n(9),c=s(u);function s(y){return y&&y.__esModule?y:{default:y}}function l(y,d){if(!(y instanceof d))throw new TypeError("Cannot call a class as a function")}function g(y,d){if(!y)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return d&&(typeof d=="object"||typeof d=="function")?d:y}function m(y,d){if(typeof d!="function"&&d!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof d);y.prototype=Object.create(d&&d.prototype,{constructor:{value:y,enumerable:!1,writable:!0,configurable:!0}}),d&&(Object.setPrototypeOf?Object.setPrototypeOf(y,d):y.__proto__=d)}var v=function(y){m(d,y);function d(b,w){l(this,d);var _=g(this,(d.__proto__||Object.getPrototypeOf(d)).call(this,b,w));return _.lastRecorded=0,_.ignoreChange=!1,_.clear(),_.quill.on(f.default.events.EDITOR_CHANGE,function(O,P,A,E){O!==f.default.events.TEXT_CHANGE||_.ignoreChange||(!_.options.userOnly||E===f.default.sources.USER?_.record(P,A):_.transform(P))}),_.quill.keyboard.addBinding({key:"Z",shortKey:!0},_.undo.bind(_)),_.quill.keyboard.addBinding({key:"Z",shortKey:!0,shiftKey:!0},_.redo.bind(_)),/Win/i.test(navigator.platform)&&_.quill.keyboard.addBinding({key:"Y",shortKey:!0},_.redo.bind(_)),_}return r(d,[{key:"change",value:function(w,_){if(this.stack[w].length!==0){var O=this.stack[w].pop();this.stack[_].push(O),this.lastRecorded=0,this.ignoreChange=!0,this.quill.updateContents(O[w],f.default.sources.USER),this.ignoreChange=!1;var P=p(O[w]);this.quill.setSelection(P)}}},{key:"clear",value:function(){this.stack={undo:[],redo:[]}}},{key:"cutoff",value:function(){this.lastRecorded=0}},{key:"record",value:function(w,_){if(w.ops.length!==0){this.stack.redo=[];var O=this.quill.getContents().diff(_),P=Date.now();if(this.lastRecorded+this.options.delay>P&&this.stack.undo.length>0){var A=this.stack.undo.pop();O=O.compose(A.undo),w=A.redo.compose(w)}else this.lastRecorded=P;this.stack.undo.push({redo:w,undo:O}),this.stack.undo.length>this.options.maxStack&&this.stack.undo.shift()}}},{key:"redo",value:function(){this.change("redo","undo")}},{key:"transform",value:function(w){this.stack.undo.forEach(function(_){_.undo=w.transform(_.undo,!0),_.redo=w.transform(_.redo,!0)}),this.stack.redo.forEach(function(_){_.undo=w.transform(_.undo,!0),_.redo=w.transform(_.redo,!0)})}},{key:"undo",value:function(){this.change("undo","redo")}}]),d}(c.default);v.DEFAULTS={delay:1e3,maxStack:100,userOnly:!1};function h(y){var d=y.ops[y.ops.length-1];return d==null?!1:d.insert!=null?typeof d.insert=="string"&&d.insert.endsWith(`
`):d.attributes!=null?Object.keys(d.attributes).some(function(b){return i.default.query(b,i.default.Scope.BLOCK)!=null}):!1}function p(y){var d=y.reduce(function(w,_){return w+=_.delete||0,w},0),b=y.length()-d;return h(y)&&(b-=1),b}e.default=v,e.getLastChangeIndex=p},function(t,e,n){Object.defineProperty(e,"__esModule",{value:!0}),e.default=e.BaseTooltip=void 0;var r=function(){function R(D,U){for(var F=0;F<U.length;F++){var N=U[F];N.enumerable=N.enumerable||!1,N.configurable=!0,"value"in N&&(N.writable=!0),Object.defineProperty(D,N.key,N)}}return function(D,U,F){return U&&R(D.prototype,U),F&&R(D,F),D}}(),o=function R(D,U,F){D===null&&(D=Function.prototype);var N=Object.getOwnPropertyDescriptor(D,U);if(N===void 0){var L=Object.getPrototypeOf(D);return L===null?void 0:R(L,U,F)}else{if("value"in N)return N.value;var z=N.get;return z===void 0?void 0:z.call(F)}},i=n(3),a=P(i),f=n(2),u=P(f),c=n(8),s=P(c),l=n(23),g=P(l),m=n(34),v=P(m),h=n(59),p=P(h),y=n(60),d=P(y),b=n(28),w=P(b),_=n(61),O=P(_);function P(R){return R&&R.__esModule?R:{default:R}}function A(R,D){if(!(R instanceof D))throw new TypeError("Cannot call a class as a function")}function E(R,D){if(!R)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return D&&(typeof D=="object"||typeof D=="function")?D:R}function x(R,D){if(typeof D!="function"&&D!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof D);R.prototype=Object.create(D&&D.prototype,{constructor:{value:R,enumerable:!1,writable:!0,configurable:!0}}),D&&(Object.setPrototypeOf?Object.setPrototypeOf(R,D):R.__proto__=D)}var S=[!1,"center","right","justify"],T=["#000000","#e60000","#ff9900","#ffff00","#008a00","#0066cc","#9933ff","#ffffff","#facccc","#ffebcc","#ffffcc","#cce8cc","#cce0f5","#ebd6ff","#bbbbbb","#f06666","#ffc266","#ffff66","#66b966","#66a3e0","#c285ff","#888888","#a10000","#b26b00","#b2b200","#006100","#0047b2","#6b24b2","#444444","#5c0000","#663d00","#666600","#003700","#002966","#3d1466"],C=[!1,"serif","monospace"],q=["1","2","3",!1],B=["small",!1,"large","huge"],Q=function(R){x(D,R);function D(U,F){A(this,D);var N=E(this,(D.__proto__||Object.getPrototypeOf(D)).call(this,U,F)),L=function z(V){if(!document.body.contains(U.root))return document.body.removeEventListener("click",z);N.tooltip!=null&&!N.tooltip.root.contains(V.target)&&document.activeElement!==N.tooltip.textbox&&!N.quill.hasFocus()&&N.tooltip.hide(),N.pickers!=null&&N.pickers.forEach(function(W){W.container.contains(V.target)||W.close()})};return U.emitter.listenDOM("click",document.body,L),N}return r(D,[{key:"addModule",value:function(F){var N=o(D.prototype.__proto__||Object.getPrototypeOf(D.prototype),"addModule",this).call(this,F);return F==="toolbar"&&this.extendToolbar(N),N}},{key:"buildButtons",value:function(F,N){F.forEach(function(L){var z=L.getAttribute("class")||"";z.split(/\s+/).forEach(function(V){if(!!V.startsWith("ql-")&&(V=V.slice(3),N[V]!=null))if(V==="direction")L.innerHTML=N[V][""]+N[V].rtl;else if(typeof N[V]=="string")L.innerHTML=N[V];else{var W=L.value||"";W!=null&&N[V][W]&&(L.innerHTML=N[V][W])}})})}},{key:"buildPickers",value:function(F,N){var L=this;this.pickers=F.map(function(V){if(V.classList.contains("ql-align"))return V.querySelector("option")==null&&I(V,S),new d.default(V,N.align);if(V.classList.contains("ql-background")||V.classList.contains("ql-color")){var W=V.classList.contains("ql-background")?"background":"color";return V.querySelector("option")==null&&I(V,T,W==="background"?"#ffffff":"#000000"),new p.default(V,N[W])}else return V.querySelector("option")==null&&(V.classList.contains("ql-font")?I(V,C):V.classList.contains("ql-header")?I(V,q):V.classList.contains("ql-size")&&I(V,B)),new w.default(V)});var z=function(){L.pickers.forEach(function(W){W.update()})};this.quill.on(s.default.events.EDITOR_CHANGE,z)}}]),D}(v.default);Q.DEFAULTS=(0,a.default)(!0,{},v.default.DEFAULTS,{modules:{toolbar:{handlers:{formula:function(){this.quill.theme.tooltip.edit("formula")},image:function(){var D=this,U=this.container.querySelector("input.ql-image[type=file]");U==null&&(U=document.createElement("input"),U.setAttribute("type","file"),U.setAttribute("accept","image/png, image/gif, image/jpeg, image/bmp, image/x-icon"),U.classList.add("ql-image"),U.addEventListener("change",function(){if(U.files!=null&&U.files[0]!=null){var F=new FileReader;F.onload=function(N){var L=D.quill.getSelection(!0);D.quill.updateContents(new u.default().retain(L.index).delete(L.length).insert({image:N.target.result}),s.default.sources.USER),D.quill.setSelection(L.index+1,s.default.sources.SILENT),U.value=""},F.readAsDataURL(U.files[0])}}),this.container.appendChild(U)),U.click()},video:function(){this.quill.theme.tooltip.edit("video")}}}}});var M=function(R){x(D,R);function D(U,F){A(this,D);var N=E(this,(D.__proto__||Object.getPrototypeOf(D)).call(this,U,F));return N.textbox=N.root.querySelector('input[type="text"]'),N.listen(),N}return r(D,[{key:"listen",value:function(){var F=this;this.textbox.addEventListener("keydown",function(N){g.default.match(N,"enter")?(F.save(),N.preventDefault()):g.default.match(N,"escape")&&(F.cancel(),N.preventDefault())})}},{key:"cancel",value:function(){this.hide()}},{key:"edit",value:function(){var F=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"link",N=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null;this.root.classList.remove("ql-hidden"),this.root.classList.add("ql-editing"),N!=null?this.textbox.value=N:F!==this.root.getAttribute("data-mode")&&(this.textbox.value=""),this.position(this.quill.getBounds(this.quill.selection.savedRange)),this.textbox.select(),this.textbox.setAttribute("placeholder",this.textbox.getAttribute("data-"+F)||""),this.root.setAttribute("data-mode",F)}},{key:"restoreFocus",value:function(){var F=this.quill.scrollingContainer.scrollTop;this.quill.focus(),this.quill.scrollingContainer.scrollTop=F}},{key:"save",value:function(){var F=this.textbox.value;switch(this.root.getAttribute("data-mode")){case"link":{var N=this.quill.root.scrollTop;this.linkRange?(this.quill.formatText(this.linkRange,"link",F,s.default.sources.USER),delete this.linkRange):(this.restoreFocus(),this.quill.format("link",F,s.default.sources.USER)),this.quill.root.scrollTop=N;break}case"video":F=k(F);case"formula":{if(!F)break;var L=this.quill.getSelection(!0);if(L!=null){var z=L.index+L.length;this.quill.insertEmbed(z,this.root.getAttribute("data-mode"),F,s.default.sources.USER),this.root.getAttribute("data-mode")==="formula"&&this.quill.insertText(z+1," ",s.default.sources.USER),this.quill.setSelection(z+2,s.default.sources.USER)}break}}this.textbox.value="",this.hide()}}]),D}(O.default);function k(R){var D=R.match(/^(?:(https?):\/\/)?(?:(?:www|m)\.)?youtube\.com\/watch.*v=([a-zA-Z0-9_-]+)/)||R.match(/^(?:(https?):\/\/)?(?:(?:www|m)\.)?youtu\.be\/([a-zA-Z0-9_-]+)/);return D?(D[1]||"https")+"://www.youtube.com/embed/"+D[2]+"?showinfo=0":(D=R.match(/^(?:(https?):\/\/)?(?:www\.)?vimeo\.com\/(\d+)/))?(D[1]||"https")+"://player.vimeo.com/video/"+D[2]+"/":R}function I(R,D){var U=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1;D.forEach(function(F){var N=document.createElement("option");F===U?N.setAttribute("selected","selected"):N.setAttribute("value",F),R.appendChild(N)})}e.BaseTooltip=M,e.default=Q},function(t,e,n){Object.defineProperty(e,"__esModule",{value:!0});var r=function(){function o(){this.head=this.tail=null,this.length=0}return o.prototype.append=function(){for(var i=[],a=0;a<arguments.length;a++)i[a]=arguments[a];this.insertBefore(i[0],null),i.length>1&&this.append.apply(this,i.slice(1))},o.prototype.contains=function(i){for(var a,f=this.iterator();a=f();)if(a===i)return!0;return!1},o.prototype.insertBefore=function(i,a){!i||(i.next=a,a!=null?(i.prev=a.prev,a.prev!=null&&(a.prev.next=i),a.prev=i,a===this.head&&(this.head=i)):this.tail!=null?(this.tail.next=i,i.prev=this.tail,this.tail=i):(i.prev=null,this.head=this.tail=i),this.length+=1)},o.prototype.offset=function(i){for(var a=0,f=this.head;f!=null;){if(f===i)return a;a+=f.length(),f=f.next}return-1},o.prototype.remove=function(i){!this.contains(i)||(i.prev!=null&&(i.prev.next=i.next),i.next!=null&&(i.next.prev=i.prev),i===this.head&&(this.head=i.next),i===this.tail&&(this.tail=i.prev),this.length-=1)},o.prototype.iterator=function(i){return i===void 0&&(i=this.head),function(){var a=i;return i!=null&&(i=i.next),a}},o.prototype.find=function(i,a){a===void 0&&(a=!1);for(var f,u=this.iterator();f=u();){var c=f.length();if(i<c||a&&i===c&&(f.next==null||f.next.length()!==0))return[f,i];i-=c}return[null,0]},o.prototype.forEach=function(i){for(var a,f=this.iterator();a=f();)i(a)},o.prototype.forEachAt=function(i,a,f){if(!(a<=0))for(var u=this.find(i),c=u[0],s=u[1],l,g=i-s,m=this.iterator(c);(l=m())&&g<i+a;){var v=l.length();i>g?f(l,i-g,Math.min(a,g+v-i)):f(l,0,Math.min(v,i+a-g)),g+=v}},o.prototype.map=function(i){return this.reduce(function(a,f){return a.push(i(f)),a},[])},o.prototype.reduce=function(i,a){for(var f,u=this.iterator();f=u();)a=i(a,f);return a},o}();e.default=r},function(t,e,n){var r=this&&this.__extends||function(){var c=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(s,l){s.__proto__=l}||function(s,l){for(var g in l)l.hasOwnProperty(g)&&(s[g]=l[g])};return function(s,l){c(s,l);function g(){this.constructor=s}s.prototype=l===null?Object.create(l):(g.prototype=l.prototype,new g)}}();Object.defineProperty(e,"__esModule",{value:!0});var o=n(17),i=n(1),a={attributes:!0,characterData:!0,characterDataOldValue:!0,childList:!0,subtree:!0},f=100,u=function(c){r(s,c);function s(l){var g=c.call(this,l)||this;return g.scroll=g,g.observer=new MutationObserver(function(m){g.update(m)}),g.observer.observe(g.domNode,a),g.attach(),g}return s.prototype.detach=function(){c.prototype.detach.call(this),this.observer.disconnect()},s.prototype.deleteAt=function(l,g){this.update(),l===0&&g===this.length()?this.children.forEach(function(m){m.remove()}):c.prototype.deleteAt.call(this,l,g)},s.prototype.formatAt=function(l,g,m,v){this.update(),c.prototype.formatAt.call(this,l,g,m,v)},s.prototype.insertAt=function(l,g,m){this.update(),c.prototype.insertAt.call(this,l,g,m)},s.prototype.optimize=function(l,g){var m=this;l===void 0&&(l=[]),g===void 0&&(g={}),c.prototype.optimize.call(this,g);for(var v=[].slice.call(this.observer.takeRecords());v.length>0;)l.push(v.pop());for(var h=function(b,w){w===void 0&&(w=!0),!(b==null||b===m)&&b.domNode.parentNode!=null&&(b.domNode[i.DATA_KEY].mutations==null&&(b.domNode[i.DATA_KEY].mutations=[]),w&&h(b.parent))},p=function(b){b.domNode[i.DATA_KEY]==null||b.domNode[i.DATA_KEY].mutations==null||(b instanceof o.default&&b.children.forEach(p),b.optimize(g))},y=l,d=0;y.length>0;d+=1){if(d>=f)throw new Error("[Parchment] Maximum optimize iterations reached");for(y.forEach(function(b){var w=i.find(b.target,!0);w!=null&&(w.domNode===b.target&&(b.type==="childList"?(h(i.find(b.previousSibling,!1)),[].forEach.call(b.addedNodes,function(_){var O=i.find(_,!1);h(O,!1),O instanceof o.default&&O.children.forEach(function(P){h(P,!1)})})):b.type==="attributes"&&h(w.prev)),h(w))}),this.children.forEach(p),y=[].slice.call(this.observer.takeRecords()),v=y.slice();v.length>0;)l.push(v.pop())}},s.prototype.update=function(l,g){var m=this;g===void 0&&(g={}),l=l||this.observer.takeRecords(),l.map(function(v){var h=i.find(v.target,!0);return h==null?null:h.domNode[i.DATA_KEY].mutations==null?(h.domNode[i.DATA_KEY].mutations=[v],h):(h.domNode[i.DATA_KEY].mutations.push(v),null)}).forEach(function(v){v==null||v===m||v.domNode[i.DATA_KEY]==null||v.update(v.domNode[i.DATA_KEY].mutations||[],g)}),this.domNode[i.DATA_KEY].mutations!=null&&c.prototype.update.call(this,this.domNode[i.DATA_KEY].mutations,g),this.optimize(l,g)},s.blotName="scroll",s.defaultChild="block",s.scope=i.Scope.BLOCK_BLOT,s.tagName="DIV",s}(o.default);e.default=u},function(t,e,n){var r=this&&this.__extends||function(){var u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(c,s){c.__proto__=s}||function(c,s){for(var l in s)s.hasOwnProperty(l)&&(c[l]=s[l])};return function(c,s){u(c,s);function l(){this.constructor=c}c.prototype=s===null?Object.create(s):(l.prototype=s.prototype,new l)}}();Object.defineProperty(e,"__esModule",{value:!0});var o=n(18),i=n(1);function a(u,c){if(Object.keys(u).length!==Object.keys(c).length)return!1;for(var s in u)if(u[s]!==c[s])return!1;return!0}var f=function(u){r(c,u);function c(){return u!==null&&u.apply(this,arguments)||this}return c.formats=function(s){if(s.tagName!==c.tagName)return u.formats.call(this,s)},c.prototype.format=function(s,l){var g=this;s===this.statics.blotName&&!l?(this.children.forEach(function(m){m instanceof o.default||(m=m.wrap(c.blotName,!0)),g.attributes.copy(m)}),this.unwrap()):u.prototype.format.call(this,s,l)},c.prototype.formatAt=function(s,l,g,m){if(this.formats()[g]!=null||i.query(g,i.Scope.ATTRIBUTE)){var v=this.isolate(s,l);v.format(g,m)}else u.prototype.formatAt.call(this,s,l,g,m)},c.prototype.optimize=function(s){u.prototype.optimize.call(this,s);var l=this.formats();if(Object.keys(l).length===0)return this.unwrap();var g=this.next;g instanceof c&&g.prev===this&&a(l,g.formats())&&(g.moveChildren(this),g.remove())},c.blotName="inline",c.scope=i.Scope.INLINE_BLOT,c.tagName="SPAN",c}(o.default);e.default=f},function(t,e,n){var r=this&&this.__extends||function(){var f=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(u,c){u.__proto__=c}||function(u,c){for(var s in c)c.hasOwnProperty(s)&&(u[s]=c[s])};return function(u,c){f(u,c);function s(){this.constructor=u}u.prototype=c===null?Object.create(c):(s.prototype=c.prototype,new s)}}();Object.defineProperty(e,"__esModule",{value:!0});var o=n(18),i=n(1),a=function(f){r(u,f);function u(){return f!==null&&f.apply(this,arguments)||this}return u.formats=function(c){var s=i.query(u.blotName).tagName;if(c.tagName!==s)return f.formats.call(this,c)},u.prototype.format=function(c,s){i.query(c,i.Scope.BLOCK)!=null&&(c===this.statics.blotName&&!s?this.replaceWith(u.blotName):f.prototype.format.call(this,c,s))},u.prototype.formatAt=function(c,s,l,g){i.query(l,i.Scope.BLOCK)!=null?this.format(l,g):f.prototype.formatAt.call(this,c,s,l,g)},u.prototype.insertAt=function(c,s,l){if(l==null||i.query(s,i.Scope.INLINE)!=null)f.prototype.insertAt.call(this,c,s,l);else{var g=this.split(c),m=i.create(s,l);g.parent.insertBefore(m,g)}},u.prototype.update=function(c,s){navigator.userAgent.match(/Trident/)?this.build():f.prototype.update.call(this,c,s)},u.blotName="block",u.scope=i.Scope.BLOCK_BLOT,u.tagName="P",u}(o.default);e.default=a},function(t,e,n){var r=this&&this.__extends||function(){var a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(f,u){f.__proto__=u}||function(f,u){for(var c in u)u.hasOwnProperty(c)&&(f[c]=u[c])};return function(f,u){a(f,u);function c(){this.constructor=f}f.prototype=u===null?Object.create(u):(c.prototype=u.prototype,new c)}}();Object.defineProperty(e,"__esModule",{value:!0});var o=n(19),i=function(a){r(f,a);function f(){return a!==null&&a.apply(this,arguments)||this}return f.formats=function(u){},f.prototype.format=function(u,c){a.prototype.formatAt.call(this,0,this.length(),u,c)},f.prototype.formatAt=function(u,c,s,l){u===0&&c===this.length()?this.format(s,l):a.prototype.formatAt.call(this,u,c,s,l)},f.prototype.formats=function(){return this.statics.formats(this.domNode)},f}(o.default);e.default=i},function(t,e,n){var r=this&&this.__extends||function(){var f=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(u,c){u.__proto__=c}||function(u,c){for(var s in c)c.hasOwnProperty(s)&&(u[s]=c[s])};return function(u,c){f(u,c);function s(){this.constructor=u}u.prototype=c===null?Object.create(c):(s.prototype=c.prototype,new s)}}();Object.defineProperty(e,"__esModule",{value:!0});var o=n(19),i=n(1),a=function(f){r(u,f);function u(c){var s=f.call(this,c)||this;return s.text=s.statics.value(s.domNode),s}return u.create=function(c){return document.createTextNode(c)},u.value=function(c){var s=c.data;return s.normalize&&(s=s.normalize()),s},u.prototype.deleteAt=function(c,s){this.domNode.data=this.text=this.text.slice(0,c)+this.text.slice(c+s)},u.prototype.index=function(c,s){return this.domNode===c?s:-1},u.prototype.insertAt=function(c,s,l){l==null?(this.text=this.text.slice(0,c)+s+this.text.slice(c),this.domNode.data=this.text):f.prototype.insertAt.call(this,c,s,l)},u.prototype.length=function(){return this.text.length},u.prototype.optimize=function(c){f.prototype.optimize.call(this,c),this.text=this.statics.value(this.domNode),this.text.length===0?this.remove():this.next instanceof u&&this.next.prev===this&&(this.insertAt(this.length(),this.next.value()),this.next.remove())},u.prototype.position=function(c,s){return[this.domNode,c]},u.prototype.split=function(c,s){if(s===void 0&&(s=!1),!s){if(c===0)return this;if(c===this.length())return this.next}var l=i.create(this.domNode.splitText(c));return this.parent.insertBefore(l,this.next),this.text=this.statics.value(this.domNode),l},u.prototype.update=function(c,s){var l=this;c.some(function(g){return g.type==="characterData"&&g.target===l.domNode})&&(this.text=this.statics.value(this.domNode))},u.prototype.value=function(){return this.text},u.blotName="text",u.scope=i.Scope.INLINE_BLOT,u}(o.default);e.default=a},function(t,e,n){var r=document.createElement("div");if(r.classList.toggle("test-class",!1),r.classList.contains("test-class")){var o=DOMTokenList.prototype.toggle;DOMTokenList.prototype.toggle=function(i,a){return arguments.length>1&&!this.contains(i)==!a?a:o.call(this,i)}}String.prototype.startsWith||(String.prototype.startsWith=function(i,a){return a=a||0,this.substr(a,i.length)===i}),String.prototype.endsWith||(String.prototype.endsWith=function(i,a){var f=this.toString();(typeof a!="number"||!isFinite(a)||Math.floor(a)!==a||a>f.length)&&(a=f.length),a-=i.length;var u=f.indexOf(i,a);return u!==-1&&u===a}),Array.prototype.find||Object.defineProperty(Array.prototype,"find",{value:function(a){if(this===null)throw new TypeError("Array.prototype.find called on null or undefined");if(typeof a!="function")throw new TypeError("predicate must be a function");for(var f=Object(this),u=f.length>>>0,c=arguments[1],s,l=0;l<u;l++)if(s=f[l],a.call(c,s,l,f))return s}}),document.addEventListener("DOMContentLoaded",function(){document.execCommand("enableObjectResizing",!1,!1),document.execCommand("autoUrlDetect",!1,!1)})},function(t,e){var n=-1,r=1,o=0;function i(d,b,w){if(d==b)return d?[[o,d]]:[];(w<0||d.length<w)&&(w=null);var _=c(d,b),O=d.substring(0,_);d=d.substring(_),b=b.substring(_),_=s(d,b);var P=d.substring(d.length-_);d=d.substring(0,d.length-_),b=b.substring(0,b.length-_);var A=a(d,b);return O&&A.unshift([o,O]),P&&A.push([o,P]),g(A),w!=null&&(A=h(A,w)),A=p(A),A}function a(d,b){var w;if(!d)return[[r,b]];if(!b)return[[n,d]];var _=d.length>b.length?d:b,O=d.length>b.length?b:d,P=_.indexOf(O);if(P!=-1)return w=[[r,_.substring(0,P)],[o,O],[r,_.substring(P+O.length)]],d.length>b.length&&(w[0][0]=w[2][0]=n),w;if(O.length==1)return[[n,d],[r,b]];var A=l(d,b);if(A){var E=A[0],x=A[1],S=A[2],T=A[3],C=A[4],q=i(E,S),B=i(x,T);return q.concat([[o,C]],B)}return f(d,b)}function f(d,b){for(var w=d.length,_=b.length,O=Math.ceil((w+_)/2),P=O,A=2*O,E=new Array(A),x=new Array(A),S=0;S<A;S++)E[S]=-1,x[S]=-1;E[P+1]=0,x[P+1]=0;for(var T=w-_,C=T%2!=0,q=0,B=0,Q=0,M=0,k=0;k<O;k++){for(var I=-k+q;I<=k-B;I+=2){var R=P+I,D;I==-k||I!=k&&E[R-1]<E[R+1]?D=E[R+1]:D=E[R-1]+1;for(var U=D-I;D<w&&U<_&&d.charAt(D)==b.charAt(U);)D++,U++;if(E[R]=D,D>w)B+=2;else if(U>_)q+=2;else if(C){var F=P+T-I;if(F>=0&&F<A&&x[F]!=-1){var N=w-x[F];if(D>=N)return u(d,b,D,U)}}}for(var L=-k+Q;L<=k-M;L+=2){var F=P+L,N;L==-k||L!=k&&x[F-1]<x[F+1]?N=x[F+1]:N=x[F-1]+1;for(var z=N-L;N<w&&z<_&&d.charAt(w-N-1)==b.charAt(_-z-1);)N++,z++;if(x[F]=N,N>w)M+=2;else if(z>_)Q+=2;else if(!C){var R=P+T-L;if(R>=0&&R<A&&E[R]!=-1){var D=E[R],U=P+D-R;if(N=w-N,D>=N)return u(d,b,D,U)}}}}return[[n,d],[r,b]]}function u(d,b,w,_){var O=d.substring(0,w),P=b.substring(0,_),A=d.substring(w),E=b.substring(_),x=i(O,P),S=i(A,E);return x.concat(S)}function c(d,b){if(!d||!b||d.charAt(0)!=b.charAt(0))return 0;for(var w=0,_=Math.min(d.length,b.length),O=_,P=0;w<O;)d.substring(P,O)==b.substring(P,O)?(w=O,P=w):_=O,O=Math.floor((_-w)/2+w);return O}function s(d,b){if(!d||!b||d.charAt(d.length-1)!=b.charAt(b.length-1))return 0;for(var w=0,_=Math.min(d.length,b.length),O=_,P=0;w<O;)d.substring(d.length-O,d.length-P)==b.substring(b.length-O,b.length-P)?(w=O,P=w):_=O,O=Math.floor((_-w)/2+w);return O}function l(d,b){var w=d.length>b.length?d:b,_=d.length>b.length?b:d;if(w.length<4||_.length*2<w.length)return null;function O(B,Q,M){for(var k=B.substring(M,M+Math.floor(B.length/4)),I=-1,R="",D,U,F,N;(I=Q.indexOf(k,I+1))!=-1;){var L=c(B.substring(M),Q.substring(I)),z=s(B.substring(0,M),Q.substring(0,I));R.length<z+L&&(R=Q.substring(I-z,I)+Q.substring(I,I+L),D=B.substring(0,M-z),U=B.substring(M+L),F=Q.substring(0,I-z),N=Q.substring(I+L))}return R.length*2>=B.length?[D,U,F,N,R]:null}var P=O(w,_,Math.ceil(w.length/4)),A=O(w,_,Math.ceil(w.length/2)),E;if(!P&&!A)return null;A?P?E=P[4].length>A[4].length?P:A:E=A:E=P;var x,S,T,C;d.length>b.length?(x=E[0],S=E[1],T=E[2],C=E[3]):(T=E[0],C=E[1],x=E[2],S=E[3]);var q=E[4];return[x,S,T,C,q]}function g(d){d.push([o,""]);for(var b=0,w=0,_=0,O="",P="",A;b<d.length;)switch(d[b][0]){case r:_++,P+=d[b][1],b++;break;case n:w++,O+=d[b][1],b++;break;case o:w+_>1?(w!==0&&_!==0&&(A=c(P,O),A!==0&&(b-w-_>0&&d[b-w-_-1][0]==o?d[b-w-_-1][1]+=P.substring(0,A):(d.splice(0,0,[o,P.substring(0,A)]),b++),P=P.substring(A),O=O.substring(A)),A=s(P,O),A!==0&&(d[b][1]=P.substring(P.length-A)+d[b][1],P=P.substring(0,P.length-A),O=O.substring(0,O.length-A))),w===0?d.splice(b-_,w+_,[r,P]):_===0?d.splice(b-w,w+_,[n,O]):d.splice(b-w-_,w+_,[n,O],[r,P]),b=b-w-_+(w?1:0)+(_?1:0)+1):b!==0&&d[b-1][0]==o?(d[b-1][1]+=d[b][1],d.splice(b,1)):b++,_=0,w=0,O="",P="";break}d[d.length-1][1]===""&&d.pop();var E=!1;for(b=1;b<d.length-1;)d[b-1][0]==o&&d[b+1][0]==o&&(d[b][1].substring(d[b][1].length-d[b-1][1].length)==d[b-1][1]?(d[b][1]=d[b-1][1]+d[b][1].substring(0,d[b][1].length-d[b-1][1].length),d[b+1][1]=d[b-1][1]+d[b+1][1],d.splice(b-1,1),E=!0):d[b][1].substring(0,d[b+1][1].length)==d[b+1][1]&&(d[b-1][1]+=d[b+1][1],d[b][1]=d[b][1].substring(d[b+1][1].length)+d[b+1][1],d.splice(b+1,1),E=!0)),b++;E&&g(d)}var m=i;m.INSERT=r,m.DELETE=n,m.EQUAL=o,t.exports=m;function v(d,b){if(b===0)return[o,d];for(var w=0,_=0;_<d.length;_++){var O=d[_];if(O[0]===n||O[0]===o){var P=w+O[1].length;if(b===P)return[_+1,d];if(b<P){d=d.slice();var A=b-w,E=[O[0],O[1].slice(0,A)],x=[O[0],O[1].slice(A)];return d.splice(_,1,E,x),[_+1,d]}else w=P}}throw new Error("cursor_pos is out of bounds!")}function h(d,b){var w=v(d,b),_=w[1],O=w[0],P=_[O],A=_[O+1];if(P==null)return d;if(P[0]!==o)return d;if(A!=null&&P[1]+A[1]===A[1]+P[1])return _.splice(O,2,A,P),y(_,O,2);if(A!=null&&A[1].indexOf(P[1])===0){_.splice(O,2,[A[0],P[1]],[0,P[1]]);var E=A[1].slice(P[1].length);return E.length>0&&_.splice(O+2,0,[A[0],E]),y(_,O,3)}else return d}function p(d){for(var b=!1,w=function(A){return A.charCodeAt(0)>=56320&&A.charCodeAt(0)<=57343},_=function(A){return A.charCodeAt(A.length-1)>=55296&&A.charCodeAt(A.length-1)<=56319},O=2;O<d.length;O+=1)d[O-2][0]===o&&_(d[O-2][1])&&d[O-1][0]===n&&w(d[O-1][1])&&d[O][0]===r&&w(d[O][1])&&(b=!0,d[O-1][1]=d[O-2][1].slice(-1)+d[O-1][1],d[O][1]=d[O-2][1].slice(-1)+d[O][1],d[O-2][1]=d[O-2][1].slice(0,-1));if(!b)return d;for(var P=[],O=0;O<d.length;O+=1)d[O][1].length>0&&P.push(d[O]);return P}function y(d,b,w){for(var _=b+w-1;_>=0&&_>=b-1;_--)if(_+1<d.length){var O=d[_],P=d[_+1];O[0]===P[1]&&d.splice(_,2,[O[0],O[1]+P[1]])}return d}},function(t,e){e=t.exports=typeof Object.keys=="function"?Object.keys:n,e.shim=n;function n(r){var o=[];for(var i in r)o.push(i);return o}},function(t,e){var n=function(){return Object.prototype.toString.call(arguments)}()=="[object Arguments]";e=t.exports=n?r:o,e.supported=r;function r(i){return Object.prototype.toString.call(i)=="[object Arguments]"}e.unsupported=o;function o(i){return i&&typeof i=="object"&&typeof i.length=="number"&&Object.prototype.hasOwnProperty.call(i,"callee")&&!Object.prototype.propertyIsEnumerable.call(i,"callee")||!1}},function(t,e){var n=Object.prototype.hasOwnProperty,r="~";function o(){}Object.create&&(o.prototype=Object.create(null),new o().__proto__||(r=!1));function i(f,u,c){this.fn=f,this.context=u,this.once=c||!1}function a(){this._events=new o,this._eventsCount=0}a.prototype.eventNames=function(){var u=[],c,s;if(this._eventsCount===0)return u;for(s in c=this._events)n.call(c,s)&&u.push(r?s.slice(1):s);return Object.getOwnPropertySymbols?u.concat(Object.getOwnPropertySymbols(c)):u},a.prototype.listeners=function(u,c){var s=r?r+u:u,l=this._events[s];if(c)return!!l;if(!l)return[];if(l.fn)return[l.fn];for(var g=0,m=l.length,v=new Array(m);g<m;g++)v[g]=l[g].fn;return v},a.prototype.emit=function(u,c,s,l,g,m){var v=r?r+u:u;if(!this._events[v])return!1;var h=this._events[v],p=arguments.length,y,d;if(h.fn){switch(h.once&&this.removeListener(u,h.fn,void 0,!0),p){case 1:return h.fn.call(h.context),!0;case 2:return h.fn.call(h.context,c),!0;case 3:return h.fn.call(h.context,c,s),!0;case 4:return h.fn.call(h.context,c,s,l),!0;case 5:return h.fn.call(h.context,c,s,l,g),!0;case 6:return h.fn.call(h.context,c,s,l,g,m),!0}for(d=1,y=new Array(p-1);d<p;d++)y[d-1]=arguments[d];h.fn.apply(h.context,y)}else{var b=h.length,w;for(d=0;d<b;d++)switch(h[d].once&&this.removeListener(u,h[d].fn,void 0,!0),p){case 1:h[d].fn.call(h[d].context);break;case 2:h[d].fn.call(h[d].context,c);break;case 3:h[d].fn.call(h[d].context,c,s);break;case 4:h[d].fn.call(h[d].context,c,s,l);break;default:if(!y)for(w=1,y=new Array(p-1);w<p;w++)y[w-1]=arguments[w];h[d].fn.apply(h[d].context,y)}}return!0},a.prototype.on=function(u,c,s){var l=new i(c,s||this),g=r?r+u:u;return this._events[g]?this._events[g].fn?this._events[g]=[this._events[g],l]:this._events[g].push(l):(this._events[g]=l,this._eventsCount++),this},a.prototype.once=function(u,c,s){var l=new i(c,s||this,!0),g=r?r+u:u;return this._events[g]?this._events[g].fn?this._events[g]=[this._events[g],l]:this._events[g].push(l):(this._events[g]=l,this._eventsCount++),this},a.prototype.removeListener=function(u,c,s,l){var g=r?r+u:u;if(!this._events[g])return this;if(!c)return--this._eventsCount===0?this._events=new o:delete this._events[g],this;var m=this._events[g];if(m.fn)m.fn===c&&(!l||m.once)&&(!s||m.context===s)&&(--this._eventsCount===0?this._events=new o:delete this._events[g]);else{for(var v=0,h=[],p=m.length;v<p;v++)(m[v].fn!==c||l&&!m[v].once||s&&m[v].context!==s)&&h.push(m[v]);h.length?this._events[g]=h.length===1?h[0]:h:--this._eventsCount===0?this._events=new o:delete this._events[g]}return this},a.prototype.removeAllListeners=function(u){var c;return u?(c=r?r+u:u,this._events[c]&&(--this._eventsCount===0?this._events=new o:delete this._events[c])):(this._events=new o,this._eventsCount=0),this},a.prototype.off=a.prototype.removeListener,a.prototype.addListener=a.prototype.on,a.prototype.setMaxListeners=function(){return this},a.prefixed=r,a.EventEmitter=a,typeof t!="undefined"&&(t.exports=a)},function(t,e,n){Object.defineProperty(e,"__esModule",{value:!0}),e.matchText=e.matchSpacing=e.matchNewline=e.matchBlot=e.matchAttributor=e.default=void 0;var r=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function($){return typeof $}:function($){return $&&typeof Symbol=="function"&&$.constructor===Symbol&&$!==Symbol.prototype?"symbol":typeof $},o=function(){function $(G,Y){var ee=[],Z=!0,ge=!1,ve=void 0;try{for(var ye=G[Symbol.iterator](),ct;!(Z=(ct=ye.next()).done)&&(ee.push(ct.value),!(Y&&ee.length===Y));Z=!0);}catch(Pt){ge=!0,ve=Pt}finally{try{!Z&&ye.return&&ye.return()}finally{if(ge)throw ve}}return ee}return function(G,Y){if(Array.isArray(G))return G;if(Symbol.iterator in Object(G))return $(G,Y);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),i=function(){function $(G,Y){for(var ee=0;ee<Y.length;ee++){var Z=Y[ee];Z.enumerable=Z.enumerable||!1,Z.configurable=!0,"value"in Z&&(Z.writable=!0),Object.defineProperty(G,Z.key,Z)}}return function(G,Y,ee){return Y&&$(G.prototype,Y),ee&&$(G,ee),G}}(),a=n(3),f=x(a),u=n(2),c=x(u),s=n(0),l=x(s),g=n(5),m=x(g),v=n(10),h=x(v),p=n(9),y=x(p),d=n(36),b=n(37),w=n(13),_=x(w),O=n(26),P=n(38),A=n(39),E=n(40);function x($){return $&&$.__esModule?$:{default:$}}function S($,G,Y){return G in $?Object.defineProperty($,G,{value:Y,enumerable:!0,configurable:!0,writable:!0}):$[G]=Y,$}function T($,G){if(!($ instanceof G))throw new TypeError("Cannot call a class as a function")}function C($,G){if(!$)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return G&&(typeof G=="object"||typeof G=="function")?G:$}function q($,G){if(typeof G!="function"&&G!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof G);$.prototype=Object.create(G&&G.prototype,{constructor:{value:$,enumerable:!1,writable:!0,configurable:!0}}),G&&(Object.setPrototypeOf?Object.setPrototypeOf($,G):$.__proto__=G)}var B=(0,h.default)("quill:clipboard"),Q="__ql-matcher",M=[[Node.TEXT_NODE,Ue],[Node.TEXT_NODE,Ee],["br",ne],[Node.ELEMENT_NODE,Ee],[Node.ELEMENT_NODE,W],[Node.ELEMENT_NODE,Se],[Node.ELEMENT_NODE,V],[Node.ELEMENT_NODE,et],["li",pe],["b",z.bind(z,"bold")],["i",z.bind(z,"italic")],["style",he]],k=[d.AlignAttribute,P.DirectionAttribute].reduce(function($,G){return $[G.keyName]=G,$},{}),I=[d.AlignStyle,b.BackgroundStyle,O.ColorStyle,P.DirectionStyle,A.FontStyle,E.SizeStyle].reduce(function($,G){return $[G.keyName]=G,$},{}),R=function($){q(G,$);function G(Y,ee){T(this,G);var Z=C(this,(G.__proto__||Object.getPrototypeOf(G)).call(this,Y,ee));return Z.quill.root.addEventListener("paste",Z.onPaste.bind(Z)),Z.container=Z.quill.addContainer("ql-clipboard"),Z.container.setAttribute("contenteditable",!0),Z.container.setAttribute("tabindex",-1),Z.matchers=[],M.concat(Z.options.matchers).forEach(function(ge){var ve=o(ge,2),ye=ve[0],ct=ve[1];!ee.matchVisual&&ct===Se||Z.addMatcher(ye,ct)}),Z}return i(G,[{key:"addMatcher",value:function(ee,Z){this.matchers.push([ee,Z])}},{key:"convert",value:function(ee){if(typeof ee=="string")return this.container.innerHTML=ee.replace(/\>\r?\n +\</g,"><"),this.convert();var Z=this.quill.getFormat(this.quill.selection.savedRange.index);if(Z[_.default.blotName]){var ge=this.container.innerText;return this.container.innerHTML="",new c.default().insert(ge,S({},_.default.blotName,Z[_.default.blotName]))}var ve=this.prepareMatching(),ye=o(ve,2),ct=ye[0],Pt=ye[1],De=L(this.container,ct,Pt);return F(De,`
`)&&De.ops[De.ops.length-1].attributes==null&&(De=De.compose(new c.default().retain(De.length()-1).delete(1))),B.log("convert",this.container.innerHTML,De),this.container.innerHTML="",De}},{key:"dangerouslyPasteHTML",value:function(ee,Z){var ge=arguments.length>2&&arguments[2]!==void 0?arguments[2]:m.default.sources.API;if(typeof ee=="string")this.quill.setContents(this.convert(ee),Z),this.quill.setSelection(0,m.default.sources.SILENT);else{var ve=this.convert(Z);this.quill.updateContents(new c.default().retain(ee).concat(ve),ge),this.quill.setSelection(ee+ve.length(),m.default.sources.SILENT)}}},{key:"onPaste",value:function(ee){var Z=this;if(!(ee.defaultPrevented||!this.quill.isEnabled())){var ge=this.quill.getSelection(),ve=new c.default().retain(ge.index),ye=this.quill.scrollingContainer.scrollTop;this.container.focus(),this.quill.selection.update(m.default.sources.SILENT),setTimeout(function(){ve=ve.concat(Z.convert()).delete(ge.length),Z.quill.updateContents(ve,m.default.sources.USER),Z.quill.setSelection(ve.length()-ge.length,m.default.sources.SILENT),Z.quill.scrollingContainer.scrollTop=ye,Z.quill.focus()},1)}}},{key:"prepareMatching",value:function(){var ee=this,Z=[],ge=[];return this.matchers.forEach(function(ve){var ye=o(ve,2),ct=ye[0],Pt=ye[1];switch(ct){case Node.TEXT_NODE:ge.push(Pt);break;case Node.ELEMENT_NODE:Z.push(Pt);break;default:[].forEach.call(ee.container.querySelectorAll(ct),function(De){De[Q]=De[Q]||[],De[Q].push(Pt)});break}}),[Z,ge]}}]),G}(y.default);R.DEFAULTS={matchers:[],matchVisual:!0};function D($,G,Y){return(typeof G=="undefined"?"undefined":r(G))==="object"?Object.keys(G).reduce(function(ee,Z){return D(ee,Z,G[Z])},$):$.reduce(function(ee,Z){return Z.attributes&&Z.attributes[G]?ee.push(Z):ee.insert(Z.insert,(0,f.default)({},S({},G,Y),Z.attributes))},new c.default)}function U($){if($.nodeType!==Node.ELEMENT_NODE)return{};var G="__ql-computed-style";return $[G]||($[G]=window.getComputedStyle($))}function F($,G){for(var Y="",ee=$.ops.length-1;ee>=0&&Y.length<G.length;--ee){var Z=$.ops[ee];if(typeof Z.insert!="string")break;Y=Z.insert+Y}return Y.slice(-1*G.length)===G}function N($){if($.childNodes.length===0)return!1;var G=U($);return["block","list-item"].indexOf(G.display)>-1}function L($,G,Y){return $.nodeType===$.TEXT_NODE?Y.reduce(function(ee,Z){return Z($,ee)},new c.default):$.nodeType===$.ELEMENT_NODE?[].reduce.call($.childNodes||[],function(ee,Z){var ge=L(Z,G,Y);return Z.nodeType===$.ELEMENT_NODE&&(ge=G.reduce(function(ve,ye){return ye(Z,ve)},ge),ge=(Z[Q]||[]).reduce(function(ve,ye){return ye(Z,ve)},ge)),ee.concat(ge)},new c.default):new c.default}function z($,G,Y){return D(Y,$,!0)}function V($,G){var Y=l.default.Attributor.Attribute.keys($),ee=l.default.Attributor.Class.keys($),Z=l.default.Attributor.Style.keys($),ge={};return Y.concat(ee).concat(Z).forEach(function(ve){var ye=l.default.query(ve,l.default.Scope.ATTRIBUTE);ye!=null&&(ge[ye.attrName]=ye.value($),ge[ye.attrName])||(ye=k[ve],ye!=null&&(ye.attrName===ve||ye.keyName===ve)&&(ge[ye.attrName]=ye.value($)||void 0),ye=I[ve],ye!=null&&(ye.attrName===ve||ye.keyName===ve)&&(ye=I[ve],ge[ye.attrName]=ye.value($)||void 0))}),Object.keys(ge).length>0&&(G=D(G,ge)),G}function W($,G){var Y=l.default.query($);if(Y==null)return G;if(Y.prototype instanceof l.default.Embed){var ee={},Z=Y.value($);Z!=null&&(ee[Y.blotName]=Z,G=new c.default().insert(ee,Y.formats($)))}else typeof Y.formats=="function"&&(G=D(G,Y.blotName,Y.formats($)));return G}function ne($,G){return F(G,`
`)||G.insert(`
`),G}function he(){return new c.default}function pe($,G){var Y=l.default.query($);if(Y==null||Y.blotName!=="list-item"||!F(G,`
`))return G;for(var ee=-1,Z=$.parentNode;!Z.classList.contains("ql-clipboard");)(l.default.query(Z)||{}).blotName==="list"&&(ee+=1),Z=Z.parentNode;return ee<=0?G:G.compose(new c.default().retain(G.length()-1).retain(1,{indent:ee}))}function Ee($,G){return F(G,`
`)||(N($)||G.length()>0&&$.nextSibling&&N($.nextSibling))&&G.insert(`
`),G}function Se($,G){if(N($)&&$.nextElementSibling!=null&&!F(G,`

`)){var Y=$.offsetHeight+parseFloat(U($).marginTop)+parseFloat(U($).marginBottom);$.nextElementSibling.offsetTop>$.offsetTop+Y*1.5&&G.insert(`
`)}return G}function et($,G){var Y={},ee=$.style||{};return ee.fontStyle&&U($).fontStyle==="italic"&&(Y.italic=!0),ee.fontWeight&&(U($).fontWeight.startsWith("bold")||parseInt(U($).fontWeight)>=700)&&(Y.bold=!0),Object.keys(Y).length>0&&(G=D(G,Y)),parseFloat(ee.textIndent||0)>0&&(G=new c.default().insert("	").concat(G)),G}function Ue($,G){var Y=$.data;if($.parentNode.tagName==="O:P")return G.insert(Y.trim());if(Y.trim().length===0&&$.parentNode.classList.contains("ql-clipboard"))return G;if(!U($.parentNode).whiteSpace.startsWith("pre")){var ee=function(ge,ve){return ve=ve.replace(/[^\u00a0]/g,""),ve.length<1&&ge?" ":ve};Y=Y.replace(/\r\n/g," ").replace(/\n/g," "),Y=Y.replace(/\s\s+/g,ee.bind(ee,!0)),($.previousSibling==null&&N($.parentNode)||$.previousSibling!=null&&N($.previousSibling))&&(Y=Y.replace(/^\s+/,ee.bind(ee,!1))),($.nextSibling==null&&N($.parentNode)||$.nextSibling!=null&&N($.nextSibling))&&(Y=Y.replace(/\s+$/,ee.bind(ee,!1)))}return G.insert(Y)}e.default=R,e.matchAttributor=V,e.matchBlot=W,e.matchNewline=Ee,e.matchSpacing=Se,e.matchText=Ue},function(t,e,n){Object.defineProperty(e,"__esModule",{value:!0});var r=function(){function g(m,v){for(var h=0;h<v.length;h++){var p=v[h];p.enumerable=p.enumerable||!1,p.configurable=!0,"value"in p&&(p.writable=!0),Object.defineProperty(m,p.key,p)}}return function(m,v,h){return v&&g(m.prototype,v),h&&g(m,h),m}}(),o=function g(m,v,h){m===null&&(m=Function.prototype);var p=Object.getOwnPropertyDescriptor(m,v);if(p===void 0){var y=Object.getPrototypeOf(m);return y===null?void 0:g(y,v,h)}else{if("value"in p)return p.value;var d=p.get;return d===void 0?void 0:d.call(h)}},i=n(6),a=f(i);function f(g){return g&&g.__esModule?g:{default:g}}function u(g,m){if(!(g instanceof m))throw new TypeError("Cannot call a class as a function")}function c(g,m){if(!g)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return m&&(typeof m=="object"||typeof m=="function")?m:g}function s(g,m){if(typeof m!="function"&&m!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof m);g.prototype=Object.create(m&&m.prototype,{constructor:{value:g,enumerable:!1,writable:!0,configurable:!0}}),m&&(Object.setPrototypeOf?Object.setPrototypeOf(g,m):g.__proto__=m)}var l=function(g){s(m,g);function m(){return u(this,m),c(this,(m.__proto__||Object.getPrototypeOf(m)).apply(this,arguments))}return r(m,[{key:"optimize",value:function(h){o(m.prototype.__proto__||Object.getPrototypeOf(m.prototype),"optimize",this).call(this,h),this.domNode.tagName!==this.statics.tagName[0]&&this.replaceWith(this.statics.blotName)}}],[{key:"create",value:function(){return o(m.__proto__||Object.getPrototypeOf(m),"create",this).call(this)}},{key:"formats",value:function(){return!0}}]),m}(a.default);l.blotName="bold",l.tagName=["STRONG","B"],e.default=l},function(t,e,n){Object.defineProperty(e,"__esModule",{value:!0}),e.addControls=e.default=void 0;var r=function(){function E(x,S){var T=[],C=!0,q=!1,B=void 0;try{for(var Q=x[Symbol.iterator](),M;!(C=(M=Q.next()).done)&&(T.push(M.value),!(S&&T.length===S));C=!0);}catch(k){q=!0,B=k}finally{try{!C&&Q.return&&Q.return()}finally{if(q)throw B}}return T}return function(x,S){if(Array.isArray(x))return x;if(Symbol.iterator in Object(x))return E(x,S);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),o=function(){function E(x,S){for(var T=0;T<S.length;T++){var C=S[T];C.enumerable=C.enumerable||!1,C.configurable=!0,"value"in C&&(C.writable=!0),Object.defineProperty(x,C.key,C)}}return function(x,S,T){return S&&E(x.prototype,S),T&&E(x,T),x}}(),i=n(2),a=h(i),f=n(0),u=h(f),c=n(5),s=h(c),l=n(10),g=h(l),m=n(9),v=h(m);function h(E){return E&&E.__esModule?E:{default:E}}function p(E,x,S){return x in E?Object.defineProperty(E,x,{value:S,enumerable:!0,configurable:!0,writable:!0}):E[x]=S,E}function y(E,x){if(!(E instanceof x))throw new TypeError("Cannot call a class as a function")}function d(E,x){if(!E)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return x&&(typeof x=="object"||typeof x=="function")?x:E}function b(E,x){if(typeof x!="function"&&x!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof x);E.prototype=Object.create(x&&x.prototype,{constructor:{value:E,enumerable:!1,writable:!0,configurable:!0}}),x&&(Object.setPrototypeOf?Object.setPrototypeOf(E,x):E.__proto__=x)}var w=(0,g.default)("quill:toolbar"),_=function(E){b(x,E);function x(S,T){y(this,x);var C=d(this,(x.__proto__||Object.getPrototypeOf(x)).call(this,S,T));if(Array.isArray(C.options.container)){var q=document.createElement("div");P(q,C.options.container),S.container.parentNode.insertBefore(q,S.container),C.container=q}else typeof C.options.container=="string"?C.container=document.querySelector(C.options.container):C.container=C.options.container;if(!(C.container instanceof HTMLElement)){var B;return B=w.error("Container required for toolbar",C.options),d(C,B)}return C.container.classList.add("ql-toolbar"),C.controls=[],C.handlers={},Object.keys(C.options.handlers).forEach(function(Q){C.addHandler(Q,C.options.handlers[Q])}),[].forEach.call(C.container.querySelectorAll("button, select"),function(Q){C.attach(Q)}),C.quill.on(s.default.events.EDITOR_CHANGE,function(Q,M){Q===s.default.events.SELECTION_CHANGE&&C.update(M)}),C.quill.on(s.default.events.SCROLL_OPTIMIZE,function(){var Q=C.quill.selection.getRange(),M=r(Q,1),k=M[0];C.update(k)}),C}return o(x,[{key:"addHandler",value:function(T,C){this.handlers[T]=C}},{key:"attach",value:function(T){var C=this,q=[].find.call(T.classList,function(Q){return Q.indexOf("ql-")===0});if(!!q){if(q=q.slice(3),T.tagName==="BUTTON"&&T.setAttribute("type","button"),this.handlers[q]==null){if(this.quill.scroll.whitelist!=null&&this.quill.scroll.whitelist[q]==null){w.warn("ignoring attaching to disabled format",q,T);return}if(u.default.query(q)==null){w.warn("ignoring attaching to nonexistent format",q,T);return}}var B=T.tagName==="SELECT"?"change":"click";T.addEventListener(B,function(Q){var M=void 0;if(T.tagName==="SELECT"){if(T.selectedIndex<0)return;var k=T.options[T.selectedIndex];k.hasAttribute("selected")?M=!1:M=k.value||!1}else T.classList.contains("ql-active")?M=!1:M=T.value||!T.hasAttribute("value"),Q.preventDefault();C.quill.focus();var I=C.quill.selection.getRange(),R=r(I,1),D=R[0];if(C.handlers[q]!=null)C.handlers[q].call(C,M);else if(u.default.query(q).prototype instanceof u.default.Embed){if(M=prompt("Enter "+q),!M)return;C.quill.updateContents(new a.default().retain(D.index).delete(D.length).insert(p({},q,M)),s.default.sources.USER)}else C.quill.format(q,M,s.default.sources.USER);C.update(D)}),this.controls.push([q,T])}}},{key:"update",value:function(T){var C=T==null?{}:this.quill.getFormat(T);this.controls.forEach(function(q){var B=r(q,2),Q=B[0],M=B[1];if(M.tagName==="SELECT"){var k=void 0;if(T==null)k=null;else if(C[Q]==null)k=M.querySelector("option[selected]");else if(!Array.isArray(C[Q])){var I=C[Q];typeof I=="string"&&(I=I.replace(/\"/g,'\\"')),k=M.querySelector('option[value="'+I+'"]')}k==null?(M.value="",M.selectedIndex=-1):k.selected=!0}else if(T==null)M.classList.remove("ql-active");else if(M.hasAttribute("value")){var R=C[Q]===M.getAttribute("value")||C[Q]!=null&&C[Q].toString()===M.getAttribute("value")||C[Q]==null&&!M.getAttribute("value");M.classList.toggle("ql-active",R)}else M.classList.toggle("ql-active",C[Q]!=null)})}}]),x}(v.default);_.DEFAULTS={};function O(E,x,S){var T=document.createElement("button");T.setAttribute("type","button"),T.classList.add("ql-"+x),S!=null&&(T.value=S),E.appendChild(T)}function P(E,x){Array.isArray(x[0])||(x=[x]),x.forEach(function(S){var T=document.createElement("span");T.classList.add("ql-formats"),S.forEach(function(C){if(typeof C=="string")O(T,C);else{var q=Object.keys(C)[0],B=C[q];Array.isArray(B)?A(T,q,B):O(T,q,B)}}),E.appendChild(T)})}function A(E,x,S){var T=document.createElement("select");T.classList.add("ql-"+x),S.forEach(function(C){var q=document.createElement("option");C!==!1?q.setAttribute("value",C):q.setAttribute("selected","selected"),T.appendChild(q)}),E.appendChild(T)}_.DEFAULTS={container:null,handlers:{clean:function(){var x=this,S=this.quill.getSelection();if(S!=null)if(S.length==0){var T=this.quill.getFormat();Object.keys(T).forEach(function(C){u.default.query(C,u.default.Scope.INLINE)!=null&&x.quill.format(C,!1)})}else this.quill.removeFormat(S,s.default.sources.USER)},direction:function(x){var S=this.quill.getFormat().align;x==="rtl"&&S==null?this.quill.format("align","right",s.default.sources.USER):!x&&S==="right"&&this.quill.format("align",!1,s.default.sources.USER),this.quill.format("direction",x,s.default.sources.USER)},indent:function(x){var S=this.quill.getSelection(),T=this.quill.getFormat(S),C=parseInt(T.indent||0);if(x==="+1"||x==="-1"){var q=x==="+1"?1:-1;T.direction==="rtl"&&(q*=-1),this.quill.format("indent",C+q,s.default.sources.USER)}},link:function(x){x===!0&&(x=prompt("Enter link URL:")),this.quill.format("link",x,s.default.sources.USER)},list:function(x){var S=this.quill.getSelection(),T=this.quill.getFormat(S);x==="check"?T.list==="checked"||T.list==="unchecked"?this.quill.format("list",!1,s.default.sources.USER):this.quill.format("list","unchecked",s.default.sources.USER):this.quill.format("list",x,s.default.sources.USER)}}},e.default=_,e.addControls=P},function(t,e){t.exports='<svg viewbox="0 0 18 18"> <polyline class="ql-even ql-stroke" points="5 7 3 9 5 11"></polyline> <polyline class="ql-even ql-stroke" points="13 7 15 9 13 11"></polyline> <line class=ql-stroke x1=10 x2=8 y1=5 y2=13></line> </svg>'},function(t,e,n){Object.defineProperty(e,"__esModule",{value:!0});var r=function(){function g(m,v){for(var h=0;h<v.length;h++){var p=v[h];p.enumerable=p.enumerable||!1,p.configurable=!0,"value"in p&&(p.writable=!0),Object.defineProperty(m,p.key,p)}}return function(m,v,h){return v&&g(m.prototype,v),h&&g(m,h),m}}(),o=function g(m,v,h){m===null&&(m=Function.prototype);var p=Object.getOwnPropertyDescriptor(m,v);if(p===void 0){var y=Object.getPrototypeOf(m);return y===null?void 0:g(y,v,h)}else{if("value"in p)return p.value;var d=p.get;return d===void 0?void 0:d.call(h)}},i=n(28),a=f(i);function f(g){return g&&g.__esModule?g:{default:g}}function u(g,m){if(!(g instanceof m))throw new TypeError("Cannot call a class as a function")}function c(g,m){if(!g)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return m&&(typeof m=="object"||typeof m=="function")?m:g}function s(g,m){if(typeof m!="function"&&m!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof m);g.prototype=Object.create(m&&m.prototype,{constructor:{value:g,enumerable:!1,writable:!0,configurable:!0}}),m&&(Object.setPrototypeOf?Object.setPrototypeOf(g,m):g.__proto__=m)}var l=function(g){s(m,g);function m(v,h){u(this,m);var p=c(this,(m.__proto__||Object.getPrototypeOf(m)).call(this,v));return p.label.innerHTML=h,p.container.classList.add("ql-color-picker"),[].slice.call(p.container.querySelectorAll(".ql-picker-item"),0,7).forEach(function(y){y.classList.add("ql-primary")}),p}return r(m,[{key:"buildItem",value:function(h){var p=o(m.prototype.__proto__||Object.getPrototypeOf(m.prototype),"buildItem",this).call(this,h);return p.style.backgroundColor=h.getAttribute("value")||"",p}},{key:"selectItem",value:function(h,p){o(m.prototype.__proto__||Object.getPrototypeOf(m.prototype),"selectItem",this).call(this,h,p);var y=this.label.querySelector(".ql-color-label"),d=h&&h.getAttribute("data-value")||"";y&&(y.tagName==="line"?y.style.stroke=d:y.style.fill=d)}}]),m}(a.default);e.default=l},function(t,e,n){Object.defineProperty(e,"__esModule",{value:!0});var r=function(){function g(m,v){for(var h=0;h<v.length;h++){var p=v[h];p.enumerable=p.enumerable||!1,p.configurable=!0,"value"in p&&(p.writable=!0),Object.defineProperty(m,p.key,p)}}return function(m,v,h){return v&&g(m.prototype,v),h&&g(m,h),m}}(),o=function g(m,v,h){m===null&&(m=Function.prototype);var p=Object.getOwnPropertyDescriptor(m,v);if(p===void 0){var y=Object.getPrototypeOf(m);return y===null?void 0:g(y,v,h)}else{if("value"in p)return p.value;var d=p.get;return d===void 0?void 0:d.call(h)}},i=n(28),a=f(i);function f(g){return g&&g.__esModule?g:{default:g}}function u(g,m){if(!(g instanceof m))throw new TypeError("Cannot call a class as a function")}function c(g,m){if(!g)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return m&&(typeof m=="object"||typeof m=="function")?m:g}function s(g,m){if(typeof m!="function"&&m!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof m);g.prototype=Object.create(m&&m.prototype,{constructor:{value:g,enumerable:!1,writable:!0,configurable:!0}}),m&&(Object.setPrototypeOf?Object.setPrototypeOf(g,m):g.__proto__=m)}var l=function(g){s(m,g);function m(v,h){u(this,m);var p=c(this,(m.__proto__||Object.getPrototypeOf(m)).call(this,v));return p.container.classList.add("ql-icon-picker"),[].forEach.call(p.container.querySelectorAll(".ql-picker-item"),function(y){y.innerHTML=h[y.getAttribute("data-value")||""]}),p.defaultItem=p.container.querySelector(".ql-selected"),p.selectItem(p.defaultItem),p}return r(m,[{key:"selectItem",value:function(h,p){o(m.prototype.__proto__||Object.getPrototypeOf(m.prototype),"selectItem",this).call(this,h,p),h=h||this.defaultItem,this.label.innerHTML=h.innerHTML}}]),m}(a.default);e.default=l},function(t,e,n){Object.defineProperty(e,"__esModule",{value:!0});var r=function(){function a(f,u){for(var c=0;c<u.length;c++){var s=u[c];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(f,s.key,s)}}return function(f,u,c){return u&&a(f.prototype,u),c&&a(f,c),f}}();function o(a,f){if(!(a instanceof f))throw new TypeError("Cannot call a class as a function")}var i=function(){function a(f,u){var c=this;o(this,a),this.quill=f,this.boundsContainer=u||document.body,this.root=f.addContainer("ql-tooltip"),this.root.innerHTML=this.constructor.TEMPLATE,this.quill.root===this.quill.scrollingContainer&&this.quill.root.addEventListener("scroll",function(){c.root.style.marginTop=-1*c.quill.root.scrollTop+"px"}),this.hide()}return r(a,[{key:"hide",value:function(){this.root.classList.add("ql-hidden")}},{key:"position",value:function(u){var c=u.left+u.width/2-this.root.offsetWidth/2,s=u.bottom+this.quill.root.scrollTop;this.root.style.left=c+"px",this.root.style.top=s+"px",this.root.classList.remove("ql-flip");var l=this.boundsContainer.getBoundingClientRect(),g=this.root.getBoundingClientRect(),m=0;if(g.right>l.right&&(m=l.right-g.right,this.root.style.left=c+m+"px"),g.left<l.left&&(m=l.left-g.left,this.root.style.left=c+m+"px"),g.bottom>l.bottom){var v=g.bottom-g.top,h=u.bottom-u.top+v;this.root.style.top=s-h+"px",this.root.classList.add("ql-flip")}return m}},{key:"show",value:function(){this.root.classList.remove("ql-editing"),this.root.classList.remove("ql-hidden")}}]),a}();e.default=i},function(t,e,n){Object.defineProperty(e,"__esModule",{value:!0});var r=function(){function A(E,x){var S=[],T=!0,C=!1,q=void 0;try{for(var B=E[Symbol.iterator](),Q;!(T=(Q=B.next()).done)&&(S.push(Q.value),!(x&&S.length===x));T=!0);}catch(M){C=!0,q=M}finally{try{!T&&B.return&&B.return()}finally{if(C)throw q}}return S}return function(E,x){if(Array.isArray(E))return E;if(Symbol.iterator in Object(E))return A(E,x);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),o=function A(E,x,S){E===null&&(E=Function.prototype);var T=Object.getOwnPropertyDescriptor(E,x);if(T===void 0){var C=Object.getPrototypeOf(E);return C===null?void 0:A(C,x,S)}else{if("value"in T)return T.value;var q=T.get;return q===void 0?void 0:q.call(S)}},i=function(){function A(E,x){for(var S=0;S<x.length;S++){var T=x[S];T.enumerable=T.enumerable||!1,T.configurable=!0,"value"in T&&(T.writable=!0),Object.defineProperty(E,T.key,T)}}return function(E,x,S){return x&&A(E.prototype,x),S&&A(E,S),E}}(),a=n(3),f=y(a),u=n(8),c=y(u),s=n(43),l=y(s),g=n(27),m=y(g),v=n(15),h=n(41),p=y(h);function y(A){return A&&A.__esModule?A:{default:A}}function d(A,E){if(!(A instanceof E))throw new TypeError("Cannot call a class as a function")}function b(A,E){if(!A)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return E&&(typeof E=="object"||typeof E=="function")?E:A}function w(A,E){if(typeof E!="function"&&E!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof E);A.prototype=Object.create(E&&E.prototype,{constructor:{value:A,enumerable:!1,writable:!0,configurable:!0}}),E&&(Object.setPrototypeOf?Object.setPrototypeOf(A,E):A.__proto__=E)}var _=[[{header:["1","2","3",!1]}],["bold","italic","underline","link"],[{list:"ordered"},{list:"bullet"}],["clean"]],O=function(A){w(E,A);function E(x,S){d(this,E),S.modules.toolbar!=null&&S.modules.toolbar.container==null&&(S.modules.toolbar.container=_);var T=b(this,(E.__proto__||Object.getPrototypeOf(E)).call(this,x,S));return T.quill.container.classList.add("ql-snow"),T}return i(E,[{key:"extendToolbar",value:function(S){S.container.classList.add("ql-snow"),this.buildButtons([].slice.call(S.container.querySelectorAll("button")),p.default),this.buildPickers([].slice.call(S.container.querySelectorAll("select")),p.default),this.tooltip=new P(this.quill,this.options.bounds),S.container.querySelector(".ql-link")&&this.quill.keyboard.addBinding({key:"K",shortKey:!0},function(T,C){S.handlers.link.call(S,!C.format.link)})}}]),E}(l.default);O.DEFAULTS=(0,f.default)(!0,{},l.default.DEFAULTS,{modules:{toolbar:{handlers:{link:function(E){if(E){var x=this.quill.getSelection();if(x==null||x.length==0)return;var S=this.quill.getText(x);/^\S+@\S+\.\S+$/.test(S)&&S.indexOf("mailto:")!==0&&(S="mailto:"+S);var T=this.quill.theme.tooltip;T.edit("link",S)}else this.quill.format("link",!1)}}}}});var P=function(A){w(E,A);function E(x,S){d(this,E);var T=b(this,(E.__proto__||Object.getPrototypeOf(E)).call(this,x,S));return T.preview=T.root.querySelector("a.ql-preview"),T}return i(E,[{key:"listen",value:function(){var S=this;o(E.prototype.__proto__||Object.getPrototypeOf(E.prototype),"listen",this).call(this),this.root.querySelector("a.ql-action").addEventListener("click",function(T){S.root.classList.contains("ql-editing")?S.save():S.edit("link",S.preview.textContent),T.preventDefault()}),this.root.querySelector("a.ql-remove").addEventListener("click",function(T){if(S.linkRange!=null){var C=S.linkRange;S.restoreFocus(),S.quill.formatText(C,"link",!1,c.default.sources.USER),delete S.linkRange}T.preventDefault(),S.hide()}),this.quill.on(c.default.events.SELECTION_CHANGE,function(T,C,q){if(T!=null){if(T.length===0&&q===c.default.sources.USER){var B=S.quill.scroll.descendant(m.default,T.index),Q=r(B,2),M=Q[0],k=Q[1];if(M!=null){S.linkRange=new v.Range(T.index-k,M.length());var I=m.default.formats(M.domNode);S.preview.textContent=I,S.preview.setAttribute("href",I),S.show(),S.position(S.quill.getBounds(S.linkRange));return}}else delete S.linkRange;S.hide()}})}},{key:"show",value:function(){o(E.prototype.__proto__||Object.getPrototypeOf(E.prototype),"show",this).call(this),this.root.removeAttribute("data-mode")}}]),E}(s.BaseTooltip);P.TEMPLATE=['<a class="ql-preview" rel="noopener noreferrer" target="_blank" href="about:blank"></a>','<input type="text" data-formula="e=mc^2" data-link="https://quilljs.com" data-video="Embed URL">','<a class="ql-action"></a>','<a class="ql-remove"></a>'].join(""),e.default=O},function(t,e,n){Object.defineProperty(e,"__esModule",{value:!0});var r=n(29),o=Z(r),i=n(36),a=n(38),f=n(64),u=n(65),c=Z(u),s=n(66),l=Z(s),g=n(67),m=Z(g),v=n(37),h=n(26),p=n(39),y=n(40),d=n(56),b=Z(d),w=n(68),_=Z(w),O=n(27),P=Z(O),A=n(69),E=Z(A),x=n(70),S=Z(x),T=n(71),C=Z(T),q=n(72),B=Z(q),Q=n(73),M=Z(Q),k=n(13),I=Z(k),R=n(74),D=Z(R),U=n(75),F=Z(U),N=n(57),L=Z(N),z=n(41),V=Z(z),W=n(28),ne=Z(W),he=n(59),pe=Z(he),Ee=n(60),Se=Z(Ee),et=n(61),Ue=Z(et),$=n(108),G=Z($),Y=n(62),ee=Z(Y);function Z(ge){return ge&&ge.__esModule?ge:{default:ge}}o.default.register({"attributors/attribute/direction":a.DirectionAttribute,"attributors/class/align":i.AlignClass,"attributors/class/background":v.BackgroundClass,"attributors/class/color":h.ColorClass,"attributors/class/direction":a.DirectionClass,"attributors/class/font":p.FontClass,"attributors/class/size":y.SizeClass,"attributors/style/align":i.AlignStyle,"attributors/style/background":v.BackgroundStyle,"attributors/style/color":h.ColorStyle,"attributors/style/direction":a.DirectionStyle,"attributors/style/font":p.FontStyle,"attributors/style/size":y.SizeStyle},!0),o.default.register({"formats/align":i.AlignClass,"formats/direction":a.DirectionClass,"formats/indent":f.IndentClass,"formats/background":v.BackgroundStyle,"formats/color":h.ColorStyle,"formats/font":p.FontClass,"formats/size":y.SizeClass,"formats/blockquote":c.default,"formats/code-block":I.default,"formats/header":l.default,"formats/list":m.default,"formats/bold":b.default,"formats/code":k.Code,"formats/italic":_.default,"formats/link":P.default,"formats/script":E.default,"formats/strike":S.default,"formats/underline":C.default,"formats/image":B.default,"formats/video":M.default,"formats/list/item":g.ListItem,"modules/formula":D.default,"modules/syntax":F.default,"modules/toolbar":L.default,"themes/bubble":G.default,"themes/snow":ee.default,"ui/icons":V.default,"ui/picker":ne.default,"ui/icon-picker":Se.default,"ui/color-picker":pe.default,"ui/tooltip":Ue.default},!0),e.default=o.default},function(t,e,n){Object.defineProperty(e,"__esModule",{value:!0}),e.IndentClass=void 0;var r=function(){function m(v,h){for(var p=0;p<h.length;p++){var y=h[p];y.enumerable=y.enumerable||!1,y.configurable=!0,"value"in y&&(y.writable=!0),Object.defineProperty(v,y.key,y)}}return function(v,h,p){return h&&m(v.prototype,h),p&&m(v,p),v}}(),o=function m(v,h,p){v===null&&(v=Function.prototype);var y=Object.getOwnPropertyDescriptor(v,h);if(y===void 0){var d=Object.getPrototypeOf(v);return d===null?void 0:m(d,h,p)}else{if("value"in y)return y.value;var b=y.get;return b===void 0?void 0:b.call(p)}},i=n(0),a=f(i);function f(m){return m&&m.__esModule?m:{default:m}}function u(m,v){if(!(m instanceof v))throw new TypeError("Cannot call a class as a function")}function c(m,v){if(!m)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return v&&(typeof v=="object"||typeof v=="function")?v:m}function s(m,v){if(typeof v!="function"&&v!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof v);m.prototype=Object.create(v&&v.prototype,{constructor:{value:m,enumerable:!1,writable:!0,configurable:!0}}),v&&(Object.setPrototypeOf?Object.setPrototypeOf(m,v):m.__proto__=v)}var l=function(m){s(v,m);function v(){return u(this,v),c(this,(v.__proto__||Object.getPrototypeOf(v)).apply(this,arguments))}return r(v,[{key:"add",value:function(p,y){if(y==="+1"||y==="-1"){var d=this.value(p)||0;y=y==="+1"?d+1:d-1}return y===0?(this.remove(p),!0):o(v.prototype.__proto__||Object.getPrototypeOf(v.prototype),"add",this).call(this,p,y)}},{key:"canAdd",value:function(p,y){return o(v.prototype.__proto__||Object.getPrototypeOf(v.prototype),"canAdd",this).call(this,p,y)||o(v.prototype.__proto__||Object.getPrototypeOf(v.prototype),"canAdd",this).call(this,p,parseInt(y))}},{key:"value",value:function(p){return parseInt(o(v.prototype.__proto__||Object.getPrototypeOf(v.prototype),"value",this).call(this,p))||void 0}}]),v}(a.default.Attributor.Class),g=new l("indent","ql-indent",{scope:a.default.Scope.BLOCK,whitelist:[1,2,3,4,5,6,7,8]});e.IndentClass=g},function(t,e,n){Object.defineProperty(e,"__esModule",{value:!0});var r=n(4),o=i(r);function i(s){return s&&s.__esModule?s:{default:s}}function a(s,l){if(!(s instanceof l))throw new TypeError("Cannot call a class as a function")}function f(s,l){if(!s)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return l&&(typeof l=="object"||typeof l=="function")?l:s}function u(s,l){if(typeof l!="function"&&l!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof l);s.prototype=Object.create(l&&l.prototype,{constructor:{value:s,enumerable:!1,writable:!0,configurable:!0}}),l&&(Object.setPrototypeOf?Object.setPrototypeOf(s,l):s.__proto__=l)}var c=function(s){u(l,s);function l(){return a(this,l),f(this,(l.__proto__||Object.getPrototypeOf(l)).apply(this,arguments))}return l}(o.default);c.blotName="blockquote",c.tagName="blockquote",e.default=c},function(t,e,n){Object.defineProperty(e,"__esModule",{value:!0});var r=function(){function l(g,m){for(var v=0;v<m.length;v++){var h=m[v];h.enumerable=h.enumerable||!1,h.configurable=!0,"value"in h&&(h.writable=!0),Object.defineProperty(g,h.key,h)}}return function(g,m,v){return m&&l(g.prototype,m),v&&l(g,v),g}}(),o=n(4),i=a(o);function a(l){return l&&l.__esModule?l:{default:l}}function f(l,g){if(!(l instanceof g))throw new TypeError("Cannot call a class as a function")}function u(l,g){if(!l)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return g&&(typeof g=="object"||typeof g=="function")?g:l}function c(l,g){if(typeof g!="function"&&g!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof g);l.prototype=Object.create(g&&g.prototype,{constructor:{value:l,enumerable:!1,writable:!0,configurable:!0}}),g&&(Object.setPrototypeOf?Object.setPrototypeOf(l,g):l.__proto__=g)}var s=function(l){c(g,l);function g(){return f(this,g),u(this,(g.__proto__||Object.getPrototypeOf(g)).apply(this,arguments))}return r(g,null,[{key:"formats",value:function(v){return this.tagName.indexOf(v.tagName)+1}}]),g}(i.default);s.blotName="header",s.tagName=["H1","H2","H3","H4","H5","H6"],e.default=s},function(t,e,n){Object.defineProperty(e,"__esModule",{value:!0}),e.default=e.ListItem=void 0;var r=function(){function d(b,w){for(var _=0;_<w.length;_++){var O=w[_];O.enumerable=O.enumerable||!1,O.configurable=!0,"value"in O&&(O.writable=!0),Object.defineProperty(b,O.key,O)}}return function(b,w,_){return w&&d(b.prototype,w),_&&d(b,_),b}}(),o=function d(b,w,_){b===null&&(b=Function.prototype);var O=Object.getOwnPropertyDescriptor(b,w);if(O===void 0){var P=Object.getPrototypeOf(b);return P===null?void 0:d(P,w,_)}else{if("value"in O)return O.value;var A=O.get;return A===void 0?void 0:A.call(_)}},i=n(0),a=l(i),f=n(4),u=l(f),c=n(25),s=l(c);function l(d){return d&&d.__esModule?d:{default:d}}function g(d,b,w){return b in d?Object.defineProperty(d,b,{value:w,enumerable:!0,configurable:!0,writable:!0}):d[b]=w,d}function m(d,b){if(!(d instanceof b))throw new TypeError("Cannot call a class as a function")}function v(d,b){if(!d)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return b&&(typeof b=="object"||typeof b=="function")?b:d}function h(d,b){if(typeof b!="function"&&b!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof b);d.prototype=Object.create(b&&b.prototype,{constructor:{value:d,enumerable:!1,writable:!0,configurable:!0}}),b&&(Object.setPrototypeOf?Object.setPrototypeOf(d,b):d.__proto__=b)}var p=function(d){h(b,d);function b(){return m(this,b),v(this,(b.__proto__||Object.getPrototypeOf(b)).apply(this,arguments))}return r(b,[{key:"format",value:function(_,O){_===y.blotName&&!O?this.replaceWith(a.default.create(this.statics.scope)):o(b.prototype.__proto__||Object.getPrototypeOf(b.prototype),"format",this).call(this,_,O)}},{key:"remove",value:function(){this.prev==null&&this.next==null?this.parent.remove():o(b.prototype.__proto__||Object.getPrototypeOf(b.prototype),"remove",this).call(this)}},{key:"replaceWith",value:function(_,O){return this.parent.isolate(this.offset(this.parent),this.length()),_===this.parent.statics.blotName?(this.parent.replaceWith(_,O),this):(this.parent.unwrap(),o(b.prototype.__proto__||Object.getPrototypeOf(b.prototype),"replaceWith",this).call(this,_,O))}}],[{key:"formats",value:function(_){return _.tagName===this.tagName?void 0:o(b.__proto__||Object.getPrototypeOf(b),"formats",this).call(this,_)}}]),b}(u.default);p.blotName="list-item",p.tagName="LI";var y=function(d){h(b,d),r(b,null,[{key:"create",value:function(_){var O=_==="ordered"?"OL":"UL",P=o(b.__proto__||Object.getPrototypeOf(b),"create",this).call(this,O);return(_==="checked"||_==="unchecked")&&P.setAttribute("data-checked",_==="checked"),P}},{key:"formats",value:function(_){if(_.tagName==="OL")return"ordered";if(_.tagName==="UL")return _.hasAttribute("data-checked")?_.getAttribute("data-checked")==="true"?"checked":"unchecked":"bullet"}}]);function b(w){m(this,b);var _=v(this,(b.__proto__||Object.getPrototypeOf(b)).call(this,w)),O=function(A){if(A.target.parentNode===w){var E=_.statics.formats(w),x=a.default.find(A.target);E==="checked"?x.format("list","unchecked"):E==="unchecked"&&x.format("list","checked")}};return w.addEventListener("touchstart",O),w.addEventListener("mousedown",O),_}return r(b,[{key:"format",value:function(_,O){this.children.length>0&&this.children.tail.format(_,O)}},{key:"formats",value:function(){return g({},this.statics.blotName,this.statics.formats(this.domNode))}},{key:"insertBefore",value:function(_,O){if(_ instanceof p)o(b.prototype.__proto__||Object.getPrototypeOf(b.prototype),"insertBefore",this).call(this,_,O);else{var P=O==null?this.length():O.offset(this),A=this.split(P);A.parent.insertBefore(_,A)}}},{key:"optimize",value:function(_){o(b.prototype.__proto__||Object.getPrototypeOf(b.prototype),"optimize",this).call(this,_);var O=this.next;O!=null&&O.prev===this&&O.statics.blotName===this.statics.blotName&&O.domNode.tagName===this.domNode.tagName&&O.domNode.getAttribute("data-checked")===this.domNode.getAttribute("data-checked")&&(O.moveChildren(this),O.remove())}},{key:"replace",value:function(_){if(_.statics.blotName!==this.statics.blotName){var O=a.default.create(this.statics.defaultChild);_.moveChildren(O),this.appendChild(O)}o(b.prototype.__proto__||Object.getPrototypeOf(b.prototype),"replace",this).call(this,_)}}]),b}(s.default);y.blotName="list",y.scope=a.default.Scope.BLOCK_BLOT,y.tagName=["OL","UL"],y.defaultChild="list-item",y.allowedChildren=[p],e.ListItem=p,e.default=y},function(t,e,n){Object.defineProperty(e,"__esModule",{value:!0});var r=n(56),o=i(r);function i(s){return s&&s.__esModule?s:{default:s}}function a(s,l){if(!(s instanceof l))throw new TypeError("Cannot call a class as a function")}function f(s,l){if(!s)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return l&&(typeof l=="object"||typeof l=="function")?l:s}function u(s,l){if(typeof l!="function"&&l!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof l);s.prototype=Object.create(l&&l.prototype,{constructor:{value:s,enumerable:!1,writable:!0,configurable:!0}}),l&&(Object.setPrototypeOf?Object.setPrototypeOf(s,l):s.__proto__=l)}var c=function(s){u(l,s);function l(){return a(this,l),f(this,(l.__proto__||Object.getPrototypeOf(l)).apply(this,arguments))}return l}(o.default);c.blotName="italic",c.tagName=["EM","I"],e.default=c},function(t,e,n){Object.defineProperty(e,"__esModule",{value:!0});var r=function(){function g(m,v){for(var h=0;h<v.length;h++){var p=v[h];p.enumerable=p.enumerable||!1,p.configurable=!0,"value"in p&&(p.writable=!0),Object.defineProperty(m,p.key,p)}}return function(m,v,h){return v&&g(m.prototype,v),h&&g(m,h),m}}(),o=function g(m,v,h){m===null&&(m=Function.prototype);var p=Object.getOwnPropertyDescriptor(m,v);if(p===void 0){var y=Object.getPrototypeOf(m);return y===null?void 0:g(y,v,h)}else{if("value"in p)return p.value;var d=p.get;return d===void 0?void 0:d.call(h)}},i=n(6),a=f(i);function f(g){return g&&g.__esModule?g:{default:g}}function u(g,m){if(!(g instanceof m))throw new TypeError("Cannot call a class as a function")}function c(g,m){if(!g)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return m&&(typeof m=="object"||typeof m=="function")?m:g}function s(g,m){if(typeof m!="function"&&m!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof m);g.prototype=Object.create(m&&m.prototype,{constructor:{value:g,enumerable:!1,writable:!0,configurable:!0}}),m&&(Object.setPrototypeOf?Object.setPrototypeOf(g,m):g.__proto__=m)}var l=function(g){s(m,g);function m(){return u(this,m),c(this,(m.__proto__||Object.getPrototypeOf(m)).apply(this,arguments))}return r(m,null,[{key:"create",value:function(h){return h==="super"?document.createElement("sup"):h==="sub"?document.createElement("sub"):o(m.__proto__||Object.getPrototypeOf(m),"create",this).call(this,h)}},{key:"formats",value:function(h){if(h.tagName==="SUB")return"sub";if(h.tagName==="SUP")return"super"}}]),m}(a.default);l.blotName="script",l.tagName=["SUB","SUP"],e.default=l},function(t,e,n){Object.defineProperty(e,"__esModule",{value:!0});var r=n(6),o=i(r);function i(s){return s&&s.__esModule?s:{default:s}}function a(s,l){if(!(s instanceof l))throw new TypeError("Cannot call a class as a function")}function f(s,l){if(!s)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return l&&(typeof l=="object"||typeof l=="function")?l:s}function u(s,l){if(typeof l!="function"&&l!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof l);s.prototype=Object.create(l&&l.prototype,{constructor:{value:s,enumerable:!1,writable:!0,configurable:!0}}),l&&(Object.setPrototypeOf?Object.setPrototypeOf(s,l):s.__proto__=l)}var c=function(s){u(l,s);function l(){return a(this,l),f(this,(l.__proto__||Object.getPrototypeOf(l)).apply(this,arguments))}return l}(o.default);c.blotName="strike",c.tagName="S",e.default=c},function(t,e,n){Object.defineProperty(e,"__esModule",{value:!0});var r=n(6),o=i(r);function i(s){return s&&s.__esModule?s:{default:s}}function a(s,l){if(!(s instanceof l))throw new TypeError("Cannot call a class as a function")}function f(s,l){if(!s)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return l&&(typeof l=="object"||typeof l=="function")?l:s}function u(s,l){if(typeof l!="function"&&l!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof l);s.prototype=Object.create(l&&l.prototype,{constructor:{value:s,enumerable:!1,writable:!0,configurable:!0}}),l&&(Object.setPrototypeOf?Object.setPrototypeOf(s,l):s.__proto__=l)}var c=function(s){u(l,s);function l(){return a(this,l),f(this,(l.__proto__||Object.getPrototypeOf(l)).apply(this,arguments))}return l}(o.default);c.blotName="underline",c.tagName="U",e.default=c},function(t,e,n){Object.defineProperty(e,"__esModule",{value:!0});var r=function(){function v(h,p){for(var y=0;y<p.length;y++){var d=p[y];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(h,d.key,d)}}return function(h,p,y){return p&&v(h.prototype,p),y&&v(h,y),h}}(),o=function v(h,p,y){h===null&&(h=Function.prototype);var d=Object.getOwnPropertyDescriptor(h,p);if(d===void 0){var b=Object.getPrototypeOf(h);return b===null?void 0:v(b,p,y)}else{if("value"in d)return d.value;var w=d.get;return w===void 0?void 0:w.call(y)}},i=n(0),a=u(i),f=n(27);function u(v){return v&&v.__esModule?v:{default:v}}function c(v,h){if(!(v instanceof h))throw new TypeError("Cannot call a class as a function")}function s(v,h){if(!v)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return h&&(typeof h=="object"||typeof h=="function")?h:v}function l(v,h){if(typeof h!="function"&&h!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof h);v.prototype=Object.create(h&&h.prototype,{constructor:{value:v,enumerable:!1,writable:!0,configurable:!0}}),h&&(Object.setPrototypeOf?Object.setPrototypeOf(v,h):v.__proto__=h)}var g=["alt","height","width"],m=function(v){l(h,v);function h(){return c(this,h),s(this,(h.__proto__||Object.getPrototypeOf(h)).apply(this,arguments))}return r(h,[{key:"format",value:function(y,d){g.indexOf(y)>-1?d?this.domNode.setAttribute(y,d):this.domNode.removeAttribute(y):o(h.prototype.__proto__||Object.getPrototypeOf(h.prototype),"format",this).call(this,y,d)}}],[{key:"create",value:function(y){var d=o(h.__proto__||Object.getPrototypeOf(h),"create",this).call(this,y);return typeof y=="string"&&d.setAttribute("src",this.sanitize(y)),d}},{key:"formats",value:function(y){return g.reduce(function(d,b){return y.hasAttribute(b)&&(d[b]=y.getAttribute(b)),d},{})}},{key:"match",value:function(y){return/\.(jpe?g|gif|png)$/.test(y)||/^data:image\/.+;base64/.test(y)}},{key:"sanitize",value:function(y){return(0,f.sanitize)(y,["http","https","data"])?y:"//:0"}},{key:"value",value:function(y){return y.getAttribute("src")}}]),h}(a.default.Embed);m.blotName="image",m.tagName="IMG",e.default=m},function(t,e,n){Object.defineProperty(e,"__esModule",{value:!0});var r=function(){function v(h,p){for(var y=0;y<p.length;y++){var d=p[y];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(h,d.key,d)}}return function(h,p,y){return p&&v(h.prototype,p),y&&v(h,y),h}}(),o=function v(h,p,y){h===null&&(h=Function.prototype);var d=Object.getOwnPropertyDescriptor(h,p);if(d===void 0){var b=Object.getPrototypeOf(h);return b===null?void 0:v(b,p,y)}else{if("value"in d)return d.value;var w=d.get;return w===void 0?void 0:w.call(y)}},i=n(4),a=n(27),f=u(a);function u(v){return v&&v.__esModule?v:{default:v}}function c(v,h){if(!(v instanceof h))throw new TypeError("Cannot call a class as a function")}function s(v,h){if(!v)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return h&&(typeof h=="object"||typeof h=="function")?h:v}function l(v,h){if(typeof h!="function"&&h!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof h);v.prototype=Object.create(h&&h.prototype,{constructor:{value:v,enumerable:!1,writable:!0,configurable:!0}}),h&&(Object.setPrototypeOf?Object.setPrototypeOf(v,h):v.__proto__=h)}var g=["height","width"],m=function(v){l(h,v);function h(){return c(this,h),s(this,(h.__proto__||Object.getPrototypeOf(h)).apply(this,arguments))}return r(h,[{key:"format",value:function(y,d){g.indexOf(y)>-1?d?this.domNode.setAttribute(y,d):this.domNode.removeAttribute(y):o(h.prototype.__proto__||Object.getPrototypeOf(h.prototype),"format",this).call(this,y,d)}}],[{key:"create",value:function(y){var d=o(h.__proto__||Object.getPrototypeOf(h),"create",this).call(this,y);return d.setAttribute("frameborder","0"),d.setAttribute("allowfullscreen",!0),d.setAttribute("src",this.sanitize(y)),d}},{key:"formats",value:function(y){return g.reduce(function(d,b){return y.hasAttribute(b)&&(d[b]=y.getAttribute(b)),d},{})}},{key:"sanitize",value:function(y){return f.default.sanitize(y)}},{key:"value",value:function(y){return y.getAttribute("src")}}]),h}(i.BlockEmbed);m.blotName="video",m.className="ql-video",m.tagName="IFRAME",e.default=m},function(t,e,n){Object.defineProperty(e,"__esModule",{value:!0}),e.default=e.FormulaBlot=void 0;var r=function(){function y(d,b){for(var w=0;w<b.length;w++){var _=b[w];_.enumerable=_.enumerable||!1,_.configurable=!0,"value"in _&&(_.writable=!0),Object.defineProperty(d,_.key,_)}}return function(d,b,w){return b&&y(d.prototype,b),w&&y(d,w),d}}(),o=function y(d,b,w){d===null&&(d=Function.prototype);var _=Object.getOwnPropertyDescriptor(d,b);if(_===void 0){var O=Object.getPrototypeOf(d);return O===null?void 0:y(O,b,w)}else{if("value"in _)return _.value;var P=_.get;return P===void 0?void 0:P.call(w)}},i=n(35),a=l(i),f=n(5),u=l(f),c=n(9),s=l(c);function l(y){return y&&y.__esModule?y:{default:y}}function g(y,d){if(!(y instanceof d))throw new TypeError("Cannot call a class as a function")}function m(y,d){if(!y)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return d&&(typeof d=="object"||typeof d=="function")?d:y}function v(y,d){if(typeof d!="function"&&d!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof d);y.prototype=Object.create(d&&d.prototype,{constructor:{value:y,enumerable:!1,writable:!0,configurable:!0}}),d&&(Object.setPrototypeOf?Object.setPrototypeOf(y,d):y.__proto__=d)}var h=function(y){v(d,y);function d(){return g(this,d),m(this,(d.__proto__||Object.getPrototypeOf(d)).apply(this,arguments))}return r(d,null,[{key:"create",value:function(w){var _=o(d.__proto__||Object.getPrototypeOf(d),"create",this).call(this,w);return typeof w=="string"&&(window.katex.render(w,_,{throwOnError:!1,errorColor:"#f00"}),_.setAttribute("data-value",w)),_}},{key:"value",value:function(w){return w.getAttribute("data-value")}}]),d}(a.default);h.blotName="formula",h.className="ql-formula",h.tagName="SPAN";var p=function(y){v(d,y),r(d,null,[{key:"register",value:function(){u.default.register(h,!0)}}]);function d(){g(this,d);var b=m(this,(d.__proto__||Object.getPrototypeOf(d)).call(this));if(window.katex==null)throw new Error("Formula module requires KaTeX.");return b}return d}(s.default);e.FormulaBlot=h,e.default=p},function(t,e,n){Object.defineProperty(e,"__esModule",{value:!0}),e.default=e.CodeToken=e.CodeBlock=void 0;var r=function(){function w(_,O){for(var P=0;P<O.length;P++){var A=O[P];A.enumerable=A.enumerable||!1,A.configurable=!0,"value"in A&&(A.writable=!0),Object.defineProperty(_,A.key,A)}}return function(_,O,P){return O&&w(_.prototype,O),P&&w(_,P),_}}(),o=function w(_,O,P){_===null&&(_=Function.prototype);var A=Object.getOwnPropertyDescriptor(_,O);if(A===void 0){var E=Object.getPrototypeOf(_);return E===null?void 0:w(E,O,P)}else{if("value"in A)return A.value;var x=A.get;return x===void 0?void 0:x.call(P)}},i=n(0),a=m(i),f=n(5),u=m(f),c=n(9),s=m(c),l=n(13),g=m(l);function m(w){return w&&w.__esModule?w:{default:w}}function v(w,_){if(!(w instanceof _))throw new TypeError("Cannot call a class as a function")}function h(w,_){if(!w)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return _&&(typeof _=="object"||typeof _=="function")?_:w}function p(w,_){if(typeof _!="function"&&_!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof _);w.prototype=Object.create(_&&_.prototype,{constructor:{value:w,enumerable:!1,writable:!0,configurable:!0}}),_&&(Object.setPrototypeOf?Object.setPrototypeOf(w,_):w.__proto__=_)}var y=function(w){p(_,w);function _(){return v(this,_),h(this,(_.__proto__||Object.getPrototypeOf(_)).apply(this,arguments))}return r(_,[{key:"replaceWith",value:function(P){this.domNode.textContent=this.domNode.textContent,this.attach(),o(_.prototype.__proto__||Object.getPrototypeOf(_.prototype),"replaceWith",this).call(this,P)}},{key:"highlight",value:function(P){var A=this.domNode.textContent;this.cachedText!==A&&((A.trim().length>0||this.cachedText==null)&&(this.domNode.innerHTML=P(A),this.domNode.normalize(),this.attach()),this.cachedText=A)}}]),_}(g.default);y.className="ql-syntax";var d=new a.default.Attributor.Class("token","hljs",{scope:a.default.Scope.INLINE}),b=function(w){p(_,w),r(_,null,[{key:"register",value:function(){u.default.register(d,!0),u.default.register(y,!0)}}]);function _(O,P){v(this,_);var A=h(this,(_.__proto__||Object.getPrototypeOf(_)).call(this,O,P));if(typeof A.options.highlight!="function")throw new Error("Syntax module requires highlight.js. Please include the library on the page before Quill.");var E=null;return A.quill.on(u.default.events.SCROLL_OPTIMIZE,function(){clearTimeout(E),E=setTimeout(function(){A.highlight(),E=null},A.options.interval)}),A.highlight(),A}return r(_,[{key:"highlight",value:function(){var P=this;if(!this.quill.selection.composing){this.quill.update(u.default.sources.USER);var A=this.quill.getSelection();this.quill.scroll.descendants(y).forEach(function(E){E.highlight(P.options.highlight)}),this.quill.update(u.default.sources.SILENT),A!=null&&this.quill.setSelection(A,u.default.sources.SILENT)}}}]),_}(s.default);b.DEFAULTS={highlight:function(){return window.hljs==null?null:function(w){var _=window.hljs.highlightAuto(w);return _.value}}(),interval:1e3},e.CodeBlock=y,e.CodeToken=d,e.default=b},function(t,e){t.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=3 x2=15 y1=9 y2=9></line> <line class=ql-stroke x1=3 x2=13 y1=14 y2=14></line> <line class=ql-stroke x1=3 x2=9 y1=4 y2=4></line> </svg>'},function(t,e){t.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=15 x2=3 y1=9 y2=9></line> <line class=ql-stroke x1=14 x2=4 y1=14 y2=14></line> <line class=ql-stroke x1=12 x2=6 y1=4 y2=4></line> </svg>'},function(t,e){t.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=15 x2=3 y1=9 y2=9></line> <line class=ql-stroke x1=15 x2=5 y1=14 y2=14></line> <line class=ql-stroke x1=15 x2=9 y1=4 y2=4></line> </svg>'},function(t,e){t.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=15 x2=3 y1=9 y2=9></line> <line class=ql-stroke x1=15 x2=3 y1=14 y2=14></line> <line class=ql-stroke x1=15 x2=3 y1=4 y2=4></line> </svg>'},function(t,e){t.exports='<svg viewbox="0 0 18 18"> <g class="ql-fill ql-color-label"> <polygon points="6 6.868 6 6 5 6 5 7 5.942 7 6 6.868"></polygon> <rect height=1 width=1 x=4 y=4></rect> <polygon points="6.817 5 6 5 6 6 6.38 6 6.817 5"></polygon> <rect height=1 width=1 x=2 y=6></rect> <rect height=1 width=1 x=3 y=5></rect> <rect height=1 width=1 x=4 y=7></rect> <polygon points="4 11.439 4 11 3 11 3 12 3.755 12 4 11.439"></polygon> <rect height=1 width=1 x=2 y=12></rect> <rect height=1 width=1 x=2 y=9></rect> <rect height=1 width=1 x=2 y=15></rect> <polygon points="4.63 10 4 10 4 11 4.192 11 4.63 10"></polygon> <rect height=1 width=1 x=3 y=8></rect> <path d=M10.832,4.2L11,4.582V4H10.708A1.948,1.948,0,0,1,10.832,4.2Z></path> <path d=M7,4.582L7.168,4.2A1.929,1.929,0,0,1,7.292,4H7V4.582Z></path> <path d=M8,13H7.683l-0.351.8a1.933,1.933,0,0,1-.124.2H8V13Z></path> <rect height=1 width=1 x=12 y=2></rect> <rect height=1 width=1 x=11 y=3></rect> <path d=M9,3H8V3.282A1.985,1.985,0,0,1,9,3Z></path> <rect height=1 width=1 x=2 y=3></rect> <rect height=1 width=1 x=6 y=2></rect> <rect height=1 width=1 x=3 y=2></rect> <rect height=1 width=1 x=5 y=3></rect> <rect height=1 width=1 x=9 y=2></rect> <rect height=1 width=1 x=15 y=14></rect> <polygon points="13.447 10.174 13.469 10.225 13.472 10.232 13.808 11 14 11 14 10 13.37 10 13.447 10.174"></polygon> <rect height=1 width=1 x=13 y=7></rect> <rect height=1 width=1 x=15 y=5></rect> <rect height=1 width=1 x=14 y=6></rect> <rect height=1 width=1 x=15 y=8></rect> <rect height=1 width=1 x=14 y=9></rect> <path d=M3.775,14H3v1H4V14.314A1.97,1.97,0,0,1,3.775,14Z></path> <rect height=1 width=1 x=14 y=3></rect> <polygon points="12 6.868 12 6 11.62 6 12 6.868"></polygon> <rect height=1 width=1 x=15 y=2></rect> <rect height=1 width=1 x=12 y=5></rect> <rect height=1 width=1 x=13 y=4></rect> <polygon points="12.933 9 13 9 13 8 12.495 8 12.933 9"></polygon> <rect height=1 width=1 x=9 y=14></rect> <rect height=1 width=1 x=8 y=15></rect> <path d=M6,14.926V15H7V14.316A1.993,1.993,0,0,1,6,14.926Z></path> <rect height=1 width=1 x=5 y=15></rect> <path d=M10.668,13.8L10.317,13H10v1h0.792A1.947,1.947,0,0,1,10.668,13.8Z></path> <rect height=1 width=1 x=11 y=15></rect> <path d=M14.332,12.2a1.99,1.99,0,0,1,.166.8H15V12H14.245Z></path> <rect height=1 width=1 x=14 y=15></rect> <rect height=1 width=1 x=15 y=11></rect> </g> <polyline class=ql-stroke points="5.5 13 9 5 12.5 13"></polyline> <line class=ql-stroke x1=11.63 x2=6.38 y1=11 y2=11></line> </svg>'},function(t,e){t.exports='<svg viewbox="0 0 18 18"> <rect class="ql-fill ql-stroke" height=3 width=3 x=4 y=5></rect> <rect class="ql-fill ql-stroke" height=3 width=3 x=11 y=5></rect> <path class="ql-even ql-fill ql-stroke" d=M7,8c0,4.031-3,5-3,5></path> <path class="ql-even ql-fill ql-stroke" d=M14,8c0,4.031-3,5-3,5></path> </svg>'},function(t,e){t.exports='<svg viewbox="0 0 18 18"> <path class=ql-stroke d=M5,4H9.5A2.5,2.5,0,0,1,12,6.5v0A2.5,2.5,0,0,1,9.5,9H5A0,0,0,0,1,5,9V4A0,0,0,0,1,5,4Z></path> <path class=ql-stroke d=M5,9h5.5A2.5,2.5,0,0,1,13,11.5v0A2.5,2.5,0,0,1,10.5,14H5a0,0,0,0,1,0,0V9A0,0,0,0,1,5,9Z></path> </svg>'},function(t,e){t.exports='<svg class="" viewbox="0 0 18 18"> <line class=ql-stroke x1=5 x2=13 y1=3 y2=3></line> <line class=ql-stroke x1=6 x2=9.35 y1=12 y2=3></line> <line class=ql-stroke x1=11 x2=15 y1=11 y2=15></line> <line class=ql-stroke x1=15 x2=11 y1=11 y2=15></line> <rect class=ql-fill height=1 rx=0.5 ry=0.5 width=7 x=2 y=14></rect> </svg>'},function(t,e){t.exports='<svg viewbox="0 0 18 18"> <line class="ql-color-label ql-stroke ql-transparent" x1=3 x2=15 y1=15 y2=15></line> <polyline class=ql-stroke points="5.5 11 9 3 12.5 11"></polyline> <line class=ql-stroke x1=11.63 x2=6.38 y1=9 y2=9></line> </svg>'},function(t,e){t.exports='<svg viewbox="0 0 18 18"> <polygon class="ql-stroke ql-fill" points="3 11 5 9 3 7 3 11"></polygon> <line class="ql-stroke ql-fill" x1=15 x2=11 y1=4 y2=4></line> <path class=ql-fill d=M11,3a3,3,0,0,0,0,6h1V3H11Z></path> <rect class=ql-fill height=11 width=1 x=11 y=4></rect> <rect class=ql-fill height=11 width=1 x=13 y=4></rect> </svg>'},function(t,e){t.exports='<svg viewbox="0 0 18 18"> <polygon class="ql-stroke ql-fill" points="15 12 13 10 15 8 15 12"></polygon> <line class="ql-stroke ql-fill" x1=9 x2=5 y1=4 y2=4></line> <path class=ql-fill d=M5,3A3,3,0,0,0,5,9H6V3H5Z></path> <rect class=ql-fill height=11 width=1 x=5 y=4></rect> <rect class=ql-fill height=11 width=1 x=7 y=4></rect> </svg>'},function(t,e){t.exports='<svg viewbox="0 0 18 18"> <path class=ql-fill d=M14,16H4a1,1,0,0,1,0-2H14A1,1,0,0,1,14,16Z /> <path class=ql-fill d=M14,4H4A1,1,0,0,1,4,2H14A1,1,0,0,1,14,4Z /> <rect class=ql-fill x=3 y=6 width=12 height=6 rx=1 ry=1 /> </svg>'},function(t,e){t.exports='<svg viewbox="0 0 18 18"> <path class=ql-fill d=M13,16H5a1,1,0,0,1,0-2h8A1,1,0,0,1,13,16Z /> <path class=ql-fill d=M13,4H5A1,1,0,0,1,5,2h8A1,1,0,0,1,13,4Z /> <rect class=ql-fill x=2 y=6 width=14 height=6 rx=1 ry=1 /> </svg>'},function(t,e){t.exports='<svg viewbox="0 0 18 18"> <path class=ql-fill d=M15,8H13a1,1,0,0,1,0-2h2A1,1,0,0,1,15,8Z /> <path class=ql-fill d=M15,12H13a1,1,0,0,1,0-2h2A1,1,0,0,1,15,12Z /> <path class=ql-fill d=M15,16H5a1,1,0,0,1,0-2H15A1,1,0,0,1,15,16Z /> <path class=ql-fill d=M15,4H5A1,1,0,0,1,5,2H15A1,1,0,0,1,15,4Z /> <rect class=ql-fill x=2 y=6 width=8 height=6 rx=1 ry=1 /> </svg>'},function(t,e){t.exports='<svg viewbox="0 0 18 18"> <path class=ql-fill d=M5,8H3A1,1,0,0,1,3,6H5A1,1,0,0,1,5,8Z /> <path class=ql-fill d=M5,12H3a1,1,0,0,1,0-2H5A1,1,0,0,1,5,12Z /> <path class=ql-fill d=M13,16H3a1,1,0,0,1,0-2H13A1,1,0,0,1,13,16Z /> <path class=ql-fill d=M13,4H3A1,1,0,0,1,3,2H13A1,1,0,0,1,13,4Z /> <rect class=ql-fill x=8 y=6 width=8 height=6 rx=1 ry=1 transform="translate(24 18) rotate(-180)"/> </svg>'},function(t,e){t.exports='<svg viewbox="0 0 18 18"> <path class=ql-fill d=M11.759,2.482a2.561,2.561,0,0,0-3.53.607A7.656,7.656,0,0,0,6.8,6.2C6.109,9.188,5.275,14.677,4.15,14.927a1.545,1.545,0,0,0-1.3-.933A0.922,0.922,0,0,0,2,15.036S1.954,16,4.119,16s3.091-2.691,3.7-5.553c0.177-.826.36-1.726,0.554-2.6L8.775,6.2c0.381-1.421.807-2.521,1.306-2.676a1.014,1.014,0,0,0,1.02.56A0.966,0.966,0,0,0,11.759,2.482Z></path> <rect class=ql-fill height=1.6 rx=0.8 ry=0.8 width=5 x=5.15 y=6.2></rect> <path class=ql-fill d=M13.663,12.027a1.662,1.662,0,0,1,.266-0.276q0.193,0.069.456,0.138a2.1,2.1,0,0,0,.535.069,1.075,1.075,0,0,0,.767-0.3,1.044,1.044,0,0,0,.314-0.8,0.84,0.84,0,0,0-.238-0.619,0.8,0.8,0,0,0-.594-0.239,1.154,1.154,0,0,0-.781.3,4.607,4.607,0,0,0-.781,1q-0.091.15-.218,0.346l-0.246.38c-0.068-.288-0.137-0.582-0.212-0.885-0.459-1.847-2.494-.984-2.941-0.8-0.482.2-.353,0.647-0.094,0.529a0.869,0.869,0,0,1,1.281.585c0.217,0.751.377,1.436,0.527,2.038a5.688,5.688,0,0,1-.362.467,2.69,2.69,0,0,1-.264.271q-0.221-.08-0.471-0.147a2.029,2.029,0,0,0-.522-0.066,1.079,1.079,0,0,0-.768.3A1.058,1.058,0,0,0,9,15.131a0.82,0.82,0,0,0,.832.852,1.134,1.134,0,0,0,.787-0.3,5.11,5.11,0,0,0,.776-0.993q0.141-.219.215-0.34c0.046-.076.122-0.194,0.223-0.346a2.786,2.786,0,0,0,.918,1.726,2.582,2.582,0,0,0,2.376-.185c0.317-.181.212-0.565,0-0.494A0.807,0.807,0,0,1,14.176,15a5.159,5.159,0,0,1-.913-2.446l0,0Q13.487,12.24,13.663,12.027Z></path> </svg>'},function(t,e){t.exports='<svg viewBox="0 0 18 18"> <path class=ql-fill d=M10,4V14a1,1,0,0,1-2,0V10H3v4a1,1,0,0,1-2,0V4A1,1,0,0,1,3,4V8H8V4a1,1,0,0,1,2,0Zm6.06787,9.209H14.98975V7.59863a.54085.54085,0,0,0-.605-.60547h-.62744a1.01119,1.01119,0,0,0-.748.29688L11.645,8.56641a.5435.5435,0,0,0-.022.8584l.28613.30762a.53861.53861,0,0,0,.84717.0332l.09912-.08789a1.2137,1.2137,0,0,0,.2417-.35254h.02246s-.01123.30859-.01123.60547V13.209H12.041a.54085.54085,0,0,0-.605.60547v.43945a.54085.54085,0,0,0,.605.60547h4.02686a.54085.54085,0,0,0,.605-.60547v-.43945A.54085.54085,0,0,0,16.06787,13.209Z /> </svg>'},function(t,e){t.exports='<svg viewBox="0 0 18 18"> <path class=ql-fill d=M16.73975,13.81445v.43945a.54085.54085,0,0,1-.605.60547H11.855a.58392.58392,0,0,1-.64893-.60547V14.0127c0-2.90527,3.39941-3.42187,3.39941-4.55469a.77675.77675,0,0,0-.84717-.78125,1.17684,1.17684,0,0,0-.83594.38477c-.2749.26367-.561.374-.85791.13184l-.4292-.34082c-.30811-.24219-.38525-.51758-.1543-.81445a2.97155,2.97155,0,0,1,2.45361-1.17676,2.45393,2.45393,0,0,1,2.68408,2.40918c0,2.45312-3.1792,2.92676-3.27832,3.93848h2.79443A.54085.54085,0,0,1,16.73975,13.81445ZM9,3A.99974.99974,0,0,0,8,4V8H3V4A1,1,0,0,0,1,4V14a1,1,0,0,0,2,0V10H8v4a1,1,0,0,0,2,0V4A.99974.99974,0,0,0,9,3Z /> </svg>'},function(t,e){t.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=7 x2=13 y1=4 y2=4></line> <line class=ql-stroke x1=5 x2=11 y1=14 y2=14></line> <line class=ql-stroke x1=8 x2=10 y1=14 y2=4></line> </svg>'},function(t,e){t.exports='<svg viewbox="0 0 18 18"> <rect class=ql-stroke height=10 width=12 x=3 y=4></rect> <circle class=ql-fill cx=6 cy=7 r=1></circle> <polyline class="ql-even ql-fill" points="5 12 5 11 7 9 8 10 11 7 13 9 13 12 5 12"></polyline> </svg>'},function(t,e){t.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=3 x2=15 y1=14 y2=14></line> <line class=ql-stroke x1=3 x2=15 y1=4 y2=4></line> <line class=ql-stroke x1=9 x2=15 y1=9 y2=9></line> <polyline class="ql-fill ql-stroke" points="3 7 3 11 5 9 3 7"></polyline> </svg>'},function(t,e){t.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=3 x2=15 y1=14 y2=14></line> <line class=ql-stroke x1=3 x2=15 y1=4 y2=4></line> <line class=ql-stroke x1=9 x2=15 y1=9 y2=9></line> <polyline class=ql-stroke points="5 7 5 11 3 9 5 7"></polyline> </svg>'},function(t,e){t.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=7 x2=11 y1=7 y2=11></line> <path class="ql-even ql-stroke" d=M8.9,4.577a3.476,3.476,0,0,1,.36,4.679A3.476,3.476,0,0,1,4.577,8.9C3.185,7.5,2.035,6.4,4.217,4.217S7.5,3.185,8.9,4.577Z></path> <path class="ql-even ql-stroke" d=M13.423,9.1a3.476,3.476,0,0,0-4.679-.36,3.476,3.476,0,0,0,.36,4.679c1.392,1.392,2.5,2.542,4.679.36S14.815,10.5,13.423,9.1Z></path> </svg>'},function(t,e){t.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=7 x2=15 y1=4 y2=4></line> <line class=ql-stroke x1=7 x2=15 y1=9 y2=9></line> <line class=ql-stroke x1=7 x2=15 y1=14 y2=14></line> <line class="ql-stroke ql-thin" x1=2.5 x2=4.5 y1=5.5 y2=5.5></line> <path class=ql-fill d=M3.5,6A0.5,0.5,0,0,1,3,5.5V3.085l-0.276.138A0.5,0.5,0,0,1,2.053,3c-0.124-.247-0.023-0.324.224-0.447l1-.5A0.5,0.5,0,0,1,4,2.5v3A0.5,0.5,0,0,1,3.5,6Z></path> <path class="ql-stroke ql-thin" d=M4.5,10.5h-2c0-.234,1.85-1.076,1.85-2.234A0.959,0.959,0,0,0,2.5,8.156></path> <path class="ql-stroke ql-thin" d=M2.5,14.846a0.959,0.959,0,0,0,1.85-.109A0.7,0.7,0,0,0,3.75,14a0.688,0.688,0,0,0,.6-0.736,0.959,0.959,0,0,0-1.85-.109></path> </svg>'},function(t,e){t.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=6 x2=15 y1=4 y2=4></line> <line class=ql-stroke x1=6 x2=15 y1=9 y2=9></line> <line class=ql-stroke x1=6 x2=15 y1=14 y2=14></line> <line class=ql-stroke x1=3 x2=3 y1=4 y2=4></line> <line class=ql-stroke x1=3 x2=3 y1=9 y2=9></line> <line class=ql-stroke x1=3 x2=3 y1=14 y2=14></line> </svg>'},function(t,e){t.exports='<svg class="" viewbox="0 0 18 18"> <line class=ql-stroke x1=9 x2=15 y1=4 y2=4></line> <polyline class=ql-stroke points="3 4 4 5 6 3"></polyline> <line class=ql-stroke x1=9 x2=15 y1=14 y2=14></line> <polyline class=ql-stroke points="3 14 4 15 6 13"></polyline> <line class=ql-stroke x1=9 x2=15 y1=9 y2=9></line> <polyline class=ql-stroke points="3 9 4 10 6 8"></polyline> </svg>'},function(t,e){t.exports='<svg viewbox="0 0 18 18"> <path class=ql-fill d=M15.5,15H13.861a3.858,3.858,0,0,0,1.914-2.975,1.8,1.8,0,0,0-1.6-1.751A1.921,1.921,0,0,0,12.021,11.7a0.50013,0.50013,0,1,0,.957.291h0a0.914,0.914,0,0,1,1.053-.725,0.81,0.81,0,0,1,.744.762c0,1.076-1.16971,1.86982-1.93971,2.43082A1.45639,1.45639,0,0,0,12,15.5a0.5,0.5,0,0,0,.5.5h3A0.5,0.5,0,0,0,15.5,15Z /> <path class=ql-fill d=M9.65,5.241a1,1,0,0,0-1.409.108L6,7.964,3.759,5.349A1,1,0,0,0,2.192,6.59178Q2.21541,6.6213,2.241,6.649L4.684,9.5,2.241,12.35A1,1,0,0,0,3.71,13.70722q0.02557-.02768.049-0.05722L6,11.036,8.241,13.65a1,1,0,1,0,1.567-1.24277Q9.78459,12.3777,9.759,12.35L7.316,9.5,9.759,6.651A1,1,0,0,0,9.65,5.241Z /> </svg>'},function(t,e){t.exports='<svg viewbox="0 0 18 18"> <path class=ql-fill d=M15.5,7H13.861a4.015,4.015,0,0,0,1.914-2.975,1.8,1.8,0,0,0-1.6-1.751A1.922,1.922,0,0,0,12.021,3.7a0.5,0.5,0,1,0,.957.291,0.917,0.917,0,0,1,1.053-.725,0.81,0.81,0,0,1,.744.762c0,1.077-1.164,1.925-1.934,2.486A1.423,1.423,0,0,0,12,7.5a0.5,0.5,0,0,0,.5.5h3A0.5,0.5,0,0,0,15.5,7Z /> <path class=ql-fill d=M9.651,5.241a1,1,0,0,0-1.41.108L6,7.964,3.759,5.349a1,1,0,1,0-1.519,1.3L4.683,9.5,2.241,12.35a1,1,0,1,0,1.519,1.3L6,11.036,8.241,13.65a1,1,0,0,0,1.519-1.3L7.317,9.5,9.759,6.651A1,1,0,0,0,9.651,5.241Z /> </svg>'},function(t,e){t.exports='<svg viewbox="0 0 18 18"> <line class="ql-stroke ql-thin" x1=15.5 x2=2.5 y1=8.5 y2=9.5></line> <path class=ql-fill d=M9.007,8C6.542,7.791,6,7.519,6,6.5,6,5.792,7.283,5,9,5c1.571,0,2.765.679,2.969,1.309a1,1,0,0,0,1.9-.617C13.356,4.106,11.354,3,9,3,6.2,3,4,4.538,4,6.5a3.2,3.2,0,0,0,.5,1.843Z></path> <path class=ql-fill d=M8.984,10C11.457,10.208,12,10.479,12,11.5c0,0.708-1.283,1.5-3,1.5-1.571,0-2.765-.679-2.969-1.309a1,1,0,1,0-1.9.617C4.644,13.894,6.646,15,9,15c2.8,0,5-1.538,5-3.5a3.2,3.2,0,0,0-.5-1.843Z></path> </svg>'},function(t,e){t.exports='<svg viewbox="0 0 18 18"> <path class=ql-stroke d=M5,3V9a4.012,4.012,0,0,0,4,4H9a4.012,4.012,0,0,0,4-4V3></path> <rect class=ql-fill height=1 rx=0.5 ry=0.5 width=12 x=3 y=15></rect> </svg>'},function(t,e){t.exports='<svg viewbox="0 0 18 18"> <rect class=ql-stroke height=12 width=12 x=3 y=3></rect> <rect class=ql-fill height=12 width=1 x=5 y=3></rect> <rect class=ql-fill height=12 width=1 x=12 y=3></rect> <rect class=ql-fill height=2 width=8 x=5 y=8></rect> <rect class=ql-fill height=1 width=3 x=3 y=5></rect> <rect class=ql-fill height=1 width=3 x=3 y=7></rect> <rect class=ql-fill height=1 width=3 x=3 y=10></rect> <rect class=ql-fill height=1 width=3 x=3 y=12></rect> <rect class=ql-fill height=1 width=3 x=12 y=5></rect> <rect class=ql-fill height=1 width=3 x=12 y=7></rect> <rect class=ql-fill height=1 width=3 x=12 y=10></rect> <rect class=ql-fill height=1 width=3 x=12 y=12></rect> </svg>'},function(t,e){t.exports='<svg viewbox="0 0 18 18"> <polygon class=ql-stroke points="7 11 9 13 11 11 7 11"></polygon> <polygon class=ql-stroke points="7 7 9 5 11 7 7 7"></polygon> </svg>'},function(t,e,n){Object.defineProperty(e,"__esModule",{value:!0}),e.default=e.BubbleTooltip=void 0;var r=function _(O,P,A){O===null&&(O=Function.prototype);var E=Object.getOwnPropertyDescriptor(O,P);if(E===void 0){var x=Object.getPrototypeOf(O);return x===null?void 0:_(x,P,A)}else{if("value"in E)return E.value;var S=E.get;return S===void 0?void 0:S.call(A)}},o=function(){function _(O,P){for(var A=0;A<P.length;A++){var E=P[A];E.enumerable=E.enumerable||!1,E.configurable=!0,"value"in E&&(E.writable=!0),Object.defineProperty(O,E.key,E)}}return function(O,P,A){return P&&_(O.prototype,P),A&&_(O,A),O}}(),i=n(3),a=v(i),f=n(8),u=v(f),c=n(43),s=v(c),l=n(15),g=n(41),m=v(g);function v(_){return _&&_.__esModule?_:{default:_}}function h(_,O){if(!(_ instanceof O))throw new TypeError("Cannot call a class as a function")}function p(_,O){if(!_)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return O&&(typeof O=="object"||typeof O=="function")?O:_}function y(_,O){if(typeof O!="function"&&O!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof O);_.prototype=Object.create(O&&O.prototype,{constructor:{value:_,enumerable:!1,writable:!0,configurable:!0}}),O&&(Object.setPrototypeOf?Object.setPrototypeOf(_,O):_.__proto__=O)}var d=[["bold","italic","link"],[{header:1},{header:2},"blockquote"]],b=function(_){y(O,_);function O(P,A){h(this,O),A.modules.toolbar!=null&&A.modules.toolbar.container==null&&(A.modules.toolbar.container=d);var E=p(this,(O.__proto__||Object.getPrototypeOf(O)).call(this,P,A));return E.quill.container.classList.add("ql-bubble"),E}return o(O,[{key:"extendToolbar",value:function(A){this.tooltip=new w(this.quill,this.options.bounds),this.tooltip.root.appendChild(A.container),this.buildButtons([].slice.call(A.container.querySelectorAll("button")),m.default),this.buildPickers([].slice.call(A.container.querySelectorAll("select")),m.default)}}]),O}(s.default);b.DEFAULTS=(0,a.default)(!0,{},s.default.DEFAULTS,{modules:{toolbar:{handlers:{link:function(O){O?this.quill.theme.tooltip.edit():this.quill.format("link",!1)}}}}});var w=function(_){y(O,_);function O(P,A){h(this,O);var E=p(this,(O.__proto__||Object.getPrototypeOf(O)).call(this,P,A));return E.quill.on(u.default.events.EDITOR_CHANGE,function(x,S,T,C){if(x===u.default.events.SELECTION_CHANGE)if(S!=null&&S.length>0&&C===u.default.sources.USER){E.show(),E.root.style.left="0px",E.root.style.width="",E.root.style.width=E.root.offsetWidth+"px";var q=E.quill.getLines(S.index,S.length);if(q.length===1)E.position(E.quill.getBounds(S));else{var B=q[q.length-1],Q=E.quill.getIndex(B),M=Math.min(B.length()-1,S.index+S.length-Q),k=E.quill.getBounds(new l.Range(Q,M));E.position(k)}}else document.activeElement!==E.textbox&&E.quill.hasFocus()&&E.hide()}),E}return o(O,[{key:"listen",value:function(){var A=this;r(O.prototype.__proto__||Object.getPrototypeOf(O.prototype),"listen",this).call(this),this.root.querySelector(".ql-close").addEventListener("click",function(){A.root.classList.remove("ql-editing")}),this.quill.on(u.default.events.SCROLL_OPTIMIZE,function(){setTimeout(function(){if(!A.root.classList.contains("ql-hidden")){var E=A.quill.getSelection();E!=null&&A.position(A.quill.getBounds(E))}},1)})}},{key:"cancel",value:function(){this.show()}},{key:"position",value:function(A){var E=r(O.prototype.__proto__||Object.getPrototypeOf(O.prototype),"position",this).call(this,A),x=this.root.querySelector(".ql-tooltip-arrow");if(x.style.marginLeft="",E===0)return E;x.style.marginLeft=-1*E-x.offsetWidth/2+"px"}}]),O}(c.BaseTooltip);w.TEMPLATE=['<span class="ql-tooltip-arrow"></span>','<div class="ql-tooltip-editor">','<input type="text" data-formula="e=mc^2" data-link="https://quilljs.com" data-video="Embed URL">','<a class="ql-close"></a>',"</div>"].join(""),e.BubbleTooltip=w,e.default=b},function(t,e,n){t.exports=n(63)}]).default});/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */function xt(t,e,n,r){var o=arguments.length,i=o<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,n):r,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")i=Reflect.decorate(t,e,n,r);else for(var f=t.length-1;f>=0;f--)(a=t[f])&&(i=(o<3?a(i):o>3?a(e,n,i):a(e,n))||i);return o>3&&i&&Object.defineProperty(e,n,i),i}/**
 * @license
 * Copyright (c) 2017 The Polymer Project Authors. All rights reserved.
 * This code may only be used under the BSD style license found at
 * http://polymer.github.io/LICENSE.txt
 * The complete set of authors may be found at
 * http://polymer.github.io/AUTHORS.txt
 * The complete set of contributors may be found at
 * http://polymer.github.io/CONTRIBUTORS.txt
 * Code distributed by Google as part of the polymer project is also
 * subject to an additional IP rights grant found at
 * http://polymer.github.io/PATENTS.txt
 */const Fa=typeof window!="undefined"&&window.customElements!=null&&window.customElements.polyfillWrapFlushCallback!==void 0,Ki=(t,e,n=null)=>{for(;e!==n;){const r=e.nextSibling;t.removeChild(e),e=r}};/**
 * @license
 * Copyright (c) 2017 The Polymer Project Authors. All rights reserved.
 * This code may only be used under the BSD style license found at
 * http://polymer.github.io/LICENSE.txt
 * The complete set of authors may be found at
 * http://polymer.github.io/AUTHORS.txt
 * The complete set of contributors may be found at
 * http://polymer.github.io/CONTRIBUTORS.txt
 * Code distributed by Google as part of the polymer project is also
 * subject to an additional IP rights grant found at
 * http://polymer.github.io/PATENTS.txt
 */const Lt=`{{lit-${String(Math.random()).slice(2)}}}`,$s=`<!--${Lt}-->`,ja=new RegExp(`${Lt}|${$s}`),Ar="$lit$";class Ks{constructor(e,n){this.parts=[],this.element=n;const r=[],o=[],i=document.createTreeWalker(n.content,133,null,!1);let a=0,f=-1,u=0;const{strings:c,values:{length:s}}=e;for(;u<s;){const l=i.nextNode();if(l===null){i.currentNode=o.pop();continue}if(f++,l.nodeType===1){if(l.hasAttributes()){const g=l.attributes,{length:m}=g;let v=0;for(let h=0;h<m;h++)Ba(g[h].name,Ar)&&v++;for(;v-- >0;){const h=c[u],p=Ei.exec(h)[2],y=p.toLowerCase()+Ar,d=l.getAttribute(y);l.removeAttribute(y);const b=d.split(ja);this.parts.push({type:"attribute",index:f,name:p,strings:b}),u+=b.length-1}}l.tagName==="TEMPLATE"&&(o.push(l),i.currentNode=l.content)}else if(l.nodeType===3){const g=l.data;if(g.indexOf(Lt)>=0){const m=l.parentNode,v=g.split(ja),h=v.length-1;for(let p=0;p<h;p++){let y,d=v[p];if(d==="")y=Qt();else{const b=Ei.exec(d);b!==null&&Ba(b[2],Ar)&&(d=d.slice(0,b.index)+b[1]+b[2].slice(0,-Ar.length)+b[3]),y=document.createTextNode(d)}m.insertBefore(y,l),this.parts.push({type:"node",index:++f})}v[h]===""?(m.insertBefore(Qt(),l),r.push(l)):l.data=v[h],u+=h}}else if(l.nodeType===8)if(l.data===Lt){const g=l.parentNode;(l.previousSibling===null||f===a)&&(f++,g.insertBefore(Qt(),l)),a=f,this.parts.push({type:"node",index:f}),l.nextSibling===null?l.data="":(r.push(l),f--),u++}else{let g=-1;for(;(g=l.data.indexOf(Lt,g+1))!==-1;)this.parts.push({type:"node",index:-1}),u++}}for(const l of r)l.parentNode.removeChild(l)}}const Ba=(t,e)=>{const n=t.length-e.length;return n>=0&&t.slice(n)===e},Gs=t=>t.index!==-1,Qt=()=>document.createComment(""),Ei=/([ \x09\x0a\x0c\x0d])([^\0-\x1F\x7F-\x9F "'>=/]+)([ \x09\x0a\x0c\x0d]*=[ \x09\x0a\x0c\x0d]*(?:[^ \x09\x0a\x0c\x0d"'`<>=]*|"[^"]*|'[^']*))$/;/**
 * @license
 * Copyright (c) 2017 The Polymer Project Authors. All rights reserved.
 * This code may only be used under the BSD style license found at
 * http://polymer.github.io/LICENSE.txt
 * The complete set of authors may be found at
 * http://polymer.github.io/AUTHORS.txt
 * The complete set of contributors may be found at
 * http://polymer.github.io/CONTRIBUTORS.txt
 * Code distributed by Google as part of the polymer project is also
 * subject to an additional IP rights grant found at
 * http://polymer.github.io/PATENTS.txt
 */const Gi=133;function Ws(t,e){const{element:{content:n},parts:r}=t,o=document.createTreeWalker(n,Gi,null,!1);let i=Pr(r),a=r[i],f=-1,u=0;const c=[];let s=null;for(;o.nextNode();){f++;const l=o.currentNode;for(l.previousSibling===s&&(s=null),e.has(l)&&(c.push(l),s===null&&(s=l)),s!==null&&u++;a!==void 0&&a.index===f;)a.index=s!==null?-1:a.index-u,i=Pr(r,i),a=r[i]}c.forEach(l=>l.parentNode.removeChild(l))}const Ld=t=>{let e=t.nodeType===11?0:1;const n=document.createTreeWalker(t,Gi,null,!1);for(;n.nextNode();)e++;return e},Pr=(t,e=-1)=>{for(let n=e+1;n<t.length;n++){const r=t[n];if(Gs(r))return n}return-1};function qd(t,e,n=null){const{element:{content:r},parts:o}=t;if(n==null){r.appendChild(e);return}const i=document.createTreeWalker(r,Gi,null,!1);let a=Pr(o),f=0,u=-1;for(;i.nextNode();)for(u++,i.currentNode===n&&(f=Ld(e),n.parentNode.insertBefore(e,n));a!==-1&&o[a].index===u;){if(f>0){for(;a!==-1;)o[a].index+=f,a=Pr(o,a);return}a=Pr(o,a)}}/**
 * @license
 * Copyright (c) 2017 The Polymer Project Authors. All rights reserved.
 * This code may only be used under the BSD style license found at
 * http://polymer.github.io/LICENSE.txt
 * The complete set of authors may be found at
 * http://polymer.github.io/AUTHORS.txt
 * The complete set of contributors may be found at
 * http://polymer.github.io/CONTRIBUTORS.txt
 * Code distributed by Google as part of the polymer project is also
 * subject to an additional IP rights grant found at
 * http://polymer.github.io/PATENTS.txt
 */const Qs=new WeakMap,Md=t=>(...e)=>{const n=t(...e);return Qs.set(n,!0),n},Fr=t=>typeof t=="function"&&Qs.has(t);/**
 * @license
 * Copyright (c) 2018 The Polymer Project Authors. All rights reserved.
 * This code may only be used under the BSD style license found at
 * http://polymer.github.io/LICENSE.txt
 * The complete set of authors may be found at
 * http://polymer.github.io/AUTHORS.txt
 * The complete set of contributors may be found at
 * http://polymer.github.io/CONTRIBUTORS.txt
 * Code distributed by Google as part of the polymer project is also
 * subject to an additional IP rights grant found at
 * http://polymer.github.io/PATENTS.txt
 */const yt={},Ua={};/**
 * @license
 * Copyright (c) 2017 The Polymer Project Authors. All rights reserved.
 * This code may only be used under the BSD style license found at
 * http://polymer.github.io/LICENSE.txt
 * The complete set of authors may be found at
 * http://polymer.github.io/AUTHORS.txt
 * The complete set of contributors may be found at
 * http://polymer.github.io/CONTRIBUTORS.txt
 * Code distributed by Google as part of the polymer project is also
 * subject to an additional IP rights grant found at
 * http://polymer.github.io/PATENTS.txt
 */class Ai{constructor(e,n,r){this.__parts=[],this.template=e,this.processor=n,this.options=r}update(e){let n=0;for(const r of this.__parts)r!==void 0&&r.setValue(e[n]),n++;for(const r of this.__parts)r!==void 0&&r.commit()}_clone(){const e=Fa?this.template.element.content.cloneNode(!0):document.importNode(this.template.element.content,!0),n=[],r=this.template.parts,o=document.createTreeWalker(e,133,null,!1);let i=0,a=0,f,u=o.nextNode();for(;i<r.length;){if(f=r[i],!Gs(f)){this.__parts.push(void 0),i++;continue}for(;a<f.index;)a++,u.nodeName==="TEMPLATE"&&(n.push(u),o.currentNode=u.content),(u=o.nextNode())===null&&(o.currentNode=n.pop(),u=o.nextNode());if(f.type==="node"){const c=this.processor.handleTextExpression(this.options);c.insertAfterNode(u.previousSibling),this.__parts.push(c)}else this.__parts.push(...this.processor.handleAttributeExpressions(u,f.name,f.strings,this.options));i++}return Fa&&(document.adoptNode(e),customElements.upgrade(e)),e}}/**
 * @license
 * Copyright (c) 2017 The Polymer Project Authors. All rights reserved.
 * This code may only be used under the BSD style license found at
 * http://polymer.github.io/LICENSE.txt
 * The complete set of authors may be found at
 * http://polymer.github.io/AUTHORS.txt
 * The complete set of contributors may be found at
 * http://polymer.github.io/CONTRIBUTORS.txt
 * Code distributed by Google as part of the polymer project is also
 * subject to an additional IP rights grant found at
 * http://polymer.github.io/PATENTS.txt
 */const za=window.trustedTypes&&trustedTypes.createPolicy("lit-html",{createHTML:t=>t}),Fd=` ${Lt} `;class Zs{constructor(e,n,r,o){this.strings=e,this.values=n,this.type=r,this.processor=o}getHTML(){const e=this.strings.length-1;let n="",r=!1;for(let o=0;o<e;o++){const i=this.strings[o],a=i.lastIndexOf("<!--");r=(a>-1||r)&&i.indexOf("-->",a+1)===-1;const f=Ei.exec(i);f===null?n+=i+(r?Fd:$s):n+=i.substr(0,f.index)+f[1]+f[2]+Ar+f[3]+Lt}return n+=this.strings[e],n}getTemplateElement(){const e=document.createElement("template");let n=this.getHTML();return za!==void 0&&(n=za.createHTML(n)),e.innerHTML=n,e}}/**
 * @license
 * Copyright (c) 2017 The Polymer Project Authors. All rights reserved.
 * This code may only be used under the BSD style license found at
 * http://polymer.github.io/LICENSE.txt
 * The complete set of authors may be found at
 * http://polymer.github.io/AUTHORS.txt
 * The complete set of contributors may be found at
 * http://polymer.github.io/CONTRIBUTORS.txt
 * Code distributed by Google as part of the polymer project is also
 * subject to an additional IP rights grant found at
 * http://polymer.github.io/PATENTS.txt
 */const To=t=>t===null||!(typeof t=="object"||typeof t=="function"),xi=t=>Array.isArray(t)||!!(t&&t[Symbol.iterator]);class Xs{constructor(e,n,r){this.dirty=!0,this.element=e,this.name=n,this.strings=r,this.parts=[];for(let o=0;o<r.length-1;o++)this.parts[o]=this._createPart()}_createPart(){return new Ys(this)}_getValue(){const e=this.strings,n=e.length-1,r=this.parts;if(n===1&&e[0]===""&&e[1]===""){const i=r[0].value;if(typeof i=="symbol")return String(i);if(typeof i=="string"||!xi(i))return i}let o="";for(let i=0;i<n;i++){o+=e[i];const a=r[i];if(a!==void 0){const f=a.value;if(To(f)||!xi(f))o+=typeof f=="string"?f:String(f);else for(const u of f)o+=typeof u=="string"?u:String(u)}}return o+=e[n],o}commit(){this.dirty&&(this.dirty=!1,this.element.setAttribute(this.name,this._getValue()))}}class Ys{constructor(e){this.value=void 0,this.committer=e}setValue(e){e!==yt&&(!To(e)||e!==this.value)&&(this.value=e,Fr(e)||(this.committer.dirty=!0))}commit(){for(;Fr(this.value);){const e=this.value;this.value=yt,e(this)}this.value!==yt&&this.committer.commit()}}class Zr{constructor(e){this.value=void 0,this.__pendingValue=void 0,this.options=e}appendInto(e){this.startNode=e.appendChild(Qt()),this.endNode=e.appendChild(Qt())}insertAfterNode(e){this.startNode=e,this.endNode=e.nextSibling}appendIntoPart(e){e.__insert(this.startNode=Qt()),e.__insert(this.endNode=Qt())}insertAfterPart(e){e.__insert(this.startNode=Qt()),this.endNode=e.endNode,e.endNode=this.startNode}setValue(e){this.__pendingValue=e}commit(){if(this.startNode.parentNode===null)return;for(;Fr(this.__pendingValue);){const n=this.__pendingValue;this.__pendingValue=yt,n(this)}const e=this.__pendingValue;e!==yt&&(To(e)?e!==this.value&&this.__commitText(e):e instanceof Zs?this.__commitTemplateResult(e):e instanceof Node?this.__commitNode(e):xi(e)?this.__commitIterable(e):e===Ua?(this.value=Ua,this.clear()):this.__commitText(e))}__insert(e){this.endNode.parentNode.insertBefore(e,this.endNode)}__commitNode(e){this.value!==e&&(this.clear(),this.__insert(e),this.value=e)}__commitText(e){const n=this.startNode.nextSibling;e=e==null?"":e;const r=typeof e=="string"?e:String(e);n===this.endNode.previousSibling&&n.nodeType===3?n.data=r:this.__commitNode(document.createTextNode(r)),this.value=e}__commitTemplateResult(e){const n=this.options.templateFactory(e);if(this.value instanceof Ai&&this.value.template===n)this.value.update(e.values);else{const r=new Ai(n,e.processor,this.options),o=r._clone();r.update(e.values),this.__commitNode(o),this.value=r}}__commitIterable(e){Array.isArray(this.value)||(this.value=[],this.clear());const n=this.value;let r=0,o;for(const i of e)o=n[r],o===void 0&&(o=new Zr(this.options),n.push(o),r===0?o.appendIntoPart(this):o.insertAfterPart(n[r-1])),o.setValue(i),o.commit(),r++;r<n.length&&(n.length=r,this.clear(o&&o.endNode))}clear(e=this.startNode){Ki(this.startNode.parentNode,e.nextSibling,this.endNode)}}class jd{constructor(e,n,r){if(this.value=void 0,this.__pendingValue=void 0,r.length!==2||r[0]!==""||r[1]!=="")throw new Error("Boolean attributes can only contain a single expression");this.element=e,this.name=n,this.strings=r}setValue(e){this.__pendingValue=e}commit(){for(;Fr(this.__pendingValue);){const n=this.__pendingValue;this.__pendingValue=yt,n(this)}if(this.__pendingValue===yt)return;const e=!!this.__pendingValue;this.value!==e&&(e?this.element.setAttribute(this.name,""):this.element.removeAttribute(this.name),this.value=e),this.__pendingValue=yt}}class Bd extends Xs{constructor(e,n,r){super(e,n,r);this.single=r.length===2&&r[0]===""&&r[1]===""}_createPart(){return new Ud(this)}_getValue(){return this.single?this.parts[0].value:super._getValue()}commit(){this.dirty&&(this.dirty=!1,this.element[this.name]=this._getValue())}}class Ud extends Ys{}let Js=!1;(()=>{try{const t={get capture(){return Js=!0,!1}};window.addEventListener("test",t,t),window.removeEventListener("test",t,t)}catch{}})();class zd{constructor(e,n,r){this.value=void 0,this.__pendingValue=void 0,this.element=e,this.eventName=n,this.eventContext=r,this.__boundHandleEvent=o=>this.handleEvent(o)}setValue(e){this.__pendingValue=e}commit(){for(;Fr(this.__pendingValue);){const i=this.__pendingValue;this.__pendingValue=yt,i(this)}if(this.__pendingValue===yt)return;const e=this.__pendingValue,n=this.value,r=e==null||n!=null&&(e.capture!==n.capture||e.once!==n.once||e.passive!==n.passive),o=e!=null&&(n==null||r);r&&this.element.removeEventListener(this.eventName,this.__boundHandleEvent,this.__options),o&&(this.__options=Vd(e),this.element.addEventListener(this.eventName,this.__boundHandleEvent,this.__options)),this.value=e,this.__pendingValue=yt}handleEvent(e){typeof this.value=="function"?this.value.call(this.eventContext||this.element,e):this.value.handleEvent(e)}}const Vd=t=>t&&(Js?{capture:t.capture,passive:t.passive,once:t.once}:t.capture);/**
 * @license
 * Copyright (c) 2017 The Polymer Project Authors. All rights reserved.
 * This code may only be used under the BSD style license found at
 * http://polymer.github.io/LICENSE.txt
 * The complete set of authors may be found at
 * http://polymer.github.io/AUTHORS.txt
 * The complete set of contributors may be found at
 * http://polymer.github.io/CONTRIBUTORS.txt
 * Code distributed by Google as part of the polymer project is also
 * subject to an additional IP rights grant found at
 * http://polymer.github.io/PATENTS.txt
 */function Hd(t){let e=jr.get(t.type);e===void 0&&(e={stringsArray:new WeakMap,keyString:new Map},jr.set(t.type,e));let n=e.stringsArray.get(t.strings);if(n!==void 0)return n;const r=t.strings.join(Lt);return n=e.keyString.get(r),n===void 0&&(n=new Ks(t,t.getTemplateElement()),e.keyString.set(r,n)),e.stringsArray.set(t.strings,n),n}const jr=new Map;/**
 * @license
 * Copyright (c) 2017 The Polymer Project Authors. All rights reserved.
 * This code may only be used under the BSD style license found at
 * http://polymer.github.io/LICENSE.txt
 * The complete set of authors may be found at
 * http://polymer.github.io/AUTHORS.txt
 * The complete set of contributors may be found at
 * http://polymer.github.io/CONTRIBUTORS.txt
 * Code distributed by Google as part of the polymer project is also
 * subject to an additional IP rights grant found at
 * http://polymer.github.io/PATENTS.txt
 */const Yn=new WeakMap,$d=(t,e,n)=>{let r=Yn.get(e);r===void 0&&(Ki(e,e.firstChild),Yn.set(e,r=new Zr(Object.assign({templateFactory:Hd},n))),r.appendInto(e)),r.setValue(t),r.commit()};/**
 * @license
 * Copyright (c) 2017 The Polymer Project Authors. All rights reserved.
 * This code may only be used under the BSD style license found at
 * http://polymer.github.io/LICENSE.txt
 * The complete set of authors may be found at
 * http://polymer.github.io/AUTHORS.txt
 * The complete set of contributors may be found at
 * http://polymer.github.io/CONTRIBUTORS.txt
 * Code distributed by Google as part of the polymer project is also
 * subject to an additional IP rights grant found at
 * http://polymer.github.io/PATENTS.txt
 */class Kd{handleAttributeExpressions(e,n,r,o){const i=n[0];return i==="."?new Bd(e,n.slice(1),r).parts:i==="@"?[new zd(e,n.slice(1),o.eventContext)]:i==="?"?[new jd(e,n.slice(1),r)]:new Xs(e,n,r).parts}handleTextExpression(e){return new Zr(e)}}const Gd=new Kd;/**
 * @license
 * Copyright (c) 2017 The Polymer Project Authors. All rights reserved.
 * This code may only be used under the BSD style license found at
 * http://polymer.github.io/LICENSE.txt
 * The complete set of authors may be found at
 * http://polymer.github.io/AUTHORS.txt
 * The complete set of contributors may be found at
 * http://polymer.github.io/CONTRIBUTORS.txt
 * Code distributed by Google as part of the polymer project is also
 * subject to an additional IP rights grant found at
 * http://polymer.github.io/PATENTS.txt
 */typeof window!="undefined"&&(window.litHtmlVersions||(window.litHtmlVersions=[])).push("1.3.0");const vt=(t,...e)=>new Zs(t,e,"html",Gd);/**
 * @license
 * Copyright (c) 2017 The Polymer Project Authors. All rights reserved.
 * This code may only be used under the BSD style license found at
 * http://polymer.github.io/LICENSE.txt
 * The complete set of authors may be found at
 * http://polymer.github.io/AUTHORS.txt
 * The complete set of contributors may be found at
 * http://polymer.github.io/CONTRIBUTORS.txt
 * Code distributed by Google as part of the polymer project is also
 * subject to an additional IP rights grant found at
 * http://polymer.github.io/PATENTS.txt
 */const el=(t,e)=>`${t}--${e}`;let xo=!0;typeof window.ShadyCSS=="undefined"?xo=!1:typeof window.ShadyCSS.prepareTemplateDom=="undefined"&&(console.warn("Incompatible ShadyCSS version detected. Please update to at least @webcomponents/webcomponentsjs@2.0.2 and @webcomponents/shadycss@1.3.1."),xo=!1);const Wd=t=>e=>{const n=el(e.type,t);let r=jr.get(n);r===void 0&&(r={stringsArray:new WeakMap,keyString:new Map},jr.set(n,r));let o=r.stringsArray.get(e.strings);if(o!==void 0)return o;const i=e.strings.join(Lt);if(o=r.keyString.get(i),o===void 0){const a=e.getTemplateElement();xo&&window.ShadyCSS.prepareTemplateDom(a,t),o=new Ks(e,a),r.keyString.set(i,o)}return r.stringsArray.set(e.strings,o),o},Qd=["html","svg"],Zd=t=>{Qd.forEach(e=>{const n=jr.get(el(e,t));n!==void 0&&n.keyString.forEach(r=>{const{element:{content:o}}=r,i=new Set;Array.from(o.querySelectorAll("style")).forEach(a=>{i.add(a)}),Ws(r,i)})})},tl=new Set,Xd=(t,e,n)=>{tl.add(t);const r=n?n.element:document.createElement("template"),o=e.querySelectorAll("style"),{length:i}=o;if(i===0){window.ShadyCSS.prepareTemplateStyles(r,t);return}const a=document.createElement("style");for(let c=0;c<i;c++){const s=o[c];s.parentNode.removeChild(s),a.textContent+=s.textContent}Zd(t);const f=r.content;n?qd(n,a,f.firstChild):f.insertBefore(a,f.firstChild),window.ShadyCSS.prepareTemplateStyles(r,t);const u=f.querySelector("style");if(window.ShadyCSS.nativeShadow&&u!==null)e.insertBefore(u.cloneNode(!0),e.firstChild);else if(n){f.insertBefore(a,f.firstChild);const c=new Set;c.add(a),Ws(n,c)}},Yd=(t,e,n)=>{if(!n||typeof n!="object"||!n.scopeName)throw new Error("The `scopeName` option is required.");const r=n.scopeName,o=Yn.has(e),i=xo&&e.nodeType===11&&!!e.host,a=i&&!tl.has(r),f=a?document.createDocumentFragment():e;if($d(t,f,Object.assign({templateFactory:Wd(r)},n)),a){const u=Yn.get(f);Yn.delete(f);const c=u.value instanceof Ai?u.value.template:void 0;Xd(r,f,c),Ki(e,e.firstChild),e.appendChild(f),Yn.set(e,u)}!o&&i&&window.ShadyCSS.styleElement(e.host)};/**
 * @license
 * Copyright (c) 2017 The Polymer Project Authors. All rights reserved.
 * This code may only be used under the BSD style license found at
 * http://polymer.github.io/LICENSE.txt
 * The complete set of authors may be found at
 * http://polymer.github.io/AUTHORS.txt
 * The complete set of contributors may be found at
 * http://polymer.github.io/CONTRIBUTORS.txt
 * Code distributed by Google as part of the polymer project is also
 * subject to an additional IP rights grant found at
 * http://polymer.github.io/PATENTS.txt
 */var nl;window.JSCompiler_renameProperty=(t,e)=>t;const _i={toAttribute(t,e){switch(e){case Boolean:return t?"":null;case Object:case Array:return t==null?t:JSON.stringify(t)}return t},fromAttribute(t,e){switch(e){case Boolean:return t!==null;case Number:return t===null?null:Number(t);case Object:case Array:return JSON.parse(t)}return t}},rl=(t,e)=>e!==t&&(e===e||t===t),ti={attribute:!0,type:String,converter:_i,reflect:!1,hasChanged:rl},ni=1,ri=1<<2,oi=1<<3,ii=1<<4,Oi="finalized";class ol extends HTMLElement{constructor(){super();this.initialize()}static get observedAttributes(){this.finalize();const e=[];return this._classProperties.forEach((n,r)=>{const o=this._attributeNameForProperty(r,n);o!==void 0&&(this._attributeToPropertyMap.set(o,r),e.push(o))}),e}static _ensureClassProperties(){if(!this.hasOwnProperty(JSCompiler_renameProperty("_classProperties",this))){this._classProperties=new Map;const e=Object.getPrototypeOf(this)._classProperties;e!==void 0&&e.forEach((n,r)=>this._classProperties.set(r,n))}}static createProperty(e,n=ti){if(this._ensureClassProperties(),this._classProperties.set(e,n),n.noAccessor||this.prototype.hasOwnProperty(e))return;const r=typeof e=="symbol"?Symbol():`__${e}`,o=this.getPropertyDescriptor(e,r,n);o!==void 0&&Object.defineProperty(this.prototype,e,o)}static getPropertyDescriptor(e,n,r){return{get(){return this[n]},set(o){const i=this[e];this[n]=o,this.requestUpdateInternal(e,i,r)},configurable:!0,enumerable:!0}}static getPropertyOptions(e){return this._classProperties&&this._classProperties.get(e)||ti}static finalize(){const e=Object.getPrototypeOf(this);if(e.hasOwnProperty(Oi)||e.finalize(),this[Oi]=!0,this._ensureClassProperties(),this._attributeToPropertyMap=new Map,this.hasOwnProperty(JSCompiler_renameProperty("properties",this))){const n=this.properties,r=[...Object.getOwnPropertyNames(n),...typeof Object.getOwnPropertySymbols=="function"?Object.getOwnPropertySymbols(n):[]];for(const o of r)this.createProperty(o,n[o])}}static _attributeNameForProperty(e,n){const r=n.attribute;return r===!1?void 0:typeof r=="string"?r:typeof e=="string"?e.toLowerCase():void 0}static _valueHasChanged(e,n,r=rl){return r(e,n)}static _propertyValueFromAttribute(e,n){const r=n.type,o=n.converter||_i,i=typeof o=="function"?o:o.fromAttribute;return i?i(e,r):e}static _propertyValueToAttribute(e,n){if(n.reflect===void 0)return;const r=n.type,o=n.converter;return(o&&o.toAttribute||_i.toAttribute)(e,r)}initialize(){this._updateState=0,this._updatePromise=new Promise(e=>this._enableUpdatingResolver=e),this._changedProperties=new Map,this._saveInstanceProperties(),this.requestUpdateInternal()}_saveInstanceProperties(){this.constructor._classProperties.forEach((e,n)=>{if(this.hasOwnProperty(n)){const r=this[n];delete this[n],this._instanceProperties||(this._instanceProperties=new Map),this._instanceProperties.set(n,r)}})}_applyInstanceProperties(){this._instanceProperties.forEach((e,n)=>this[n]=e),this._instanceProperties=void 0}connectedCallback(){this.enableUpdating()}enableUpdating(){this._enableUpdatingResolver!==void 0&&(this._enableUpdatingResolver(),this._enableUpdatingResolver=void 0)}disconnectedCallback(){}attributeChangedCallback(e,n,r){n!==r&&this._attributeToProperty(e,r)}_propertyToAttribute(e,n,r=ti){const o=this.constructor,i=o._attributeNameForProperty(e,r);if(i!==void 0){const a=o._propertyValueToAttribute(n,r);if(a===void 0)return;this._updateState=this._updateState|oi,a==null?this.removeAttribute(i):this.setAttribute(i,a),this._updateState=this._updateState&~oi}}_attributeToProperty(e,n){if(this._updateState&oi)return;const r=this.constructor,o=r._attributeToPropertyMap.get(e);if(o!==void 0){const i=r.getPropertyOptions(o);this._updateState=this._updateState|ii,this[o]=r._propertyValueFromAttribute(n,i),this._updateState=this._updateState&~ii}}requestUpdateInternal(e,n,r){let o=!0;if(e!==void 0){const i=this.constructor;r=r||i.getPropertyOptions(e),i._valueHasChanged(this[e],n,r.hasChanged)?(this._changedProperties.has(e)||this._changedProperties.set(e,n),r.reflect===!0&&!(this._updateState&ii)&&(this._reflectingProperties===void 0&&(this._reflectingProperties=new Map),this._reflectingProperties.set(e,r))):o=!1}!this._hasRequestedUpdate&&o&&(this._updatePromise=this._enqueueUpdate())}requestUpdate(e,n){return this.requestUpdateInternal(e,n),this.updateComplete}async _enqueueUpdate(){this._updateState=this._updateState|ri;try{await this._updatePromise}catch{}const e=this.performUpdate();return e!=null&&await e,!this._hasRequestedUpdate}get _hasRequestedUpdate(){return this._updateState&ri}get hasUpdated(){return this._updateState&ni}performUpdate(){if(!this._hasRequestedUpdate)return;this._instanceProperties&&this._applyInstanceProperties();let e=!1;const n=this._changedProperties;try{e=this.shouldUpdate(n),e?this.update(n):this._markUpdated()}catch(r){throw e=!1,this._markUpdated(),r}e&&(this._updateState&ni||(this._updateState=this._updateState|ni,this.firstUpdated(n)),this.updated(n))}_markUpdated(){this._changedProperties=new Map,this._updateState=this._updateState&~ri}get updateComplete(){return this._getUpdateComplete()}_getUpdateComplete(){return this._updatePromise}shouldUpdate(e){return!0}update(e){this._reflectingProperties!==void 0&&this._reflectingProperties.size>0&&(this._reflectingProperties.forEach((n,r)=>this._propertyToAttribute(r,this[r],n)),this._reflectingProperties=void 0),this._markUpdated()}updated(e){}firstUpdated(e){}}nl=Oi;ol[nl]=!0;/**
 * @license
 * Copyright (c) 2017 The Polymer Project Authors. All rights reserved.
 * This code may only be used under the BSD style license found at
 * http://polymer.github.io/LICENSE.txt
 * The complete set of authors may be found at
 * http://polymer.github.io/AUTHORS.txt
 * The complete set of contributors may be found at
 * http://polymer.github.io/CONTRIBUTORS.txt
 * Code distributed by Google as part of the polymer project is also
 * subject to an additional IP rights grant found at
 * http://polymer.github.io/PATENTS.txt
 */const Jd=(t,e)=>(window.customElements.define(t,e),e),eh=(t,e)=>{const{kind:n,elements:r}=e;return{kind:n,elements:r,finisher(o){window.customElements.define(t,o)}}},fr=t=>e=>typeof e=="function"?Jd(t,e):eh(t,e),th=(t,e)=>e.kind==="method"&&e.descriptor&&!("value"in e.descriptor)?Object.assign(Object.assign({},e),{finisher(n){n.createProperty(e.key,t)}}):{kind:"field",key:Symbol(),placement:"own",descriptor:{},initializer(){typeof e.initializer=="function"&&(this[e.key]=e.initializer.call(this))},finisher(n){n.createProperty(e.key,t)}},nh=(t,e,n)=>{e.constructor.createProperty(n,t)};function Xr(t){return(e,n)=>n!==void 0?nh(t,e,n):th(t,e)}/**
@license
Copyright (c) 2019 The Polymer Project Authors. All rights reserved.
This code may only be used under the BSD style license found at
http://polymer.github.io/LICENSE.txt The complete set of authors may be found at
http://polymer.github.io/AUTHORS.txt The complete set of contributors may be
found at http://polymer.github.io/CONTRIBUTORS.txt Code distributed by Google as
part of the polymer project is also subject to an additional IP rights grant
found at http://polymer.github.io/PATENTS.txt
*/const wi=window.ShadowRoot&&(window.ShadyCSS===void 0||window.ShadyCSS.nativeShadow)&&"adoptedStyleSheets"in Document.prototype&&"replace"in CSSStyleSheet.prototype,Wi=Symbol();class Qi{constructor(e,n){if(n!==Wi)throw new Error("CSSResult is not constructable. Use `unsafeCSS` or `css` instead.");this.cssText=e}get styleSheet(){return this._styleSheet===void 0&&(wi?(this._styleSheet=new CSSStyleSheet,this._styleSheet.replaceSync(this.cssText)):this._styleSheet=null),this._styleSheet}toString(){return this.cssText}}const rh=t=>new Qi(String(t),Wi),oh=t=>{if(t instanceof Qi)return t.cssText;if(typeof t=="number")return t;throw new Error(`Value passed to 'css' function must be a 'css' function result: ${t}. Use 'unsafeCSS' to pass non-literal values, but
            take care to ensure page security.`)},il=(t,...e)=>{const n=e.reduce((r,o,i)=>r+oh(o)+t[i+1],t[0]);return new Qi(n,Wi)};/**
 * @license
 * Copyright (c) 2017 The Polymer Project Authors. All rights reserved.
 * This code may only be used under the BSD style license found at
 * http://polymer.github.io/LICENSE.txt
 * The complete set of authors may be found at
 * http://polymer.github.io/AUTHORS.txt
 * The complete set of contributors may be found at
 * http://polymer.github.io/CONTRIBUTORS.txt
 * Code distributed by Google as part of the polymer project is also
 * subject to an additional IP rights grant found at
 * http://polymer.github.io/PATENTS.txt
 */(window.litElementVersions||(window.litElementVersions=[])).push("2.4.0");const Va={};class pn extends ol{static getStyles(){return this.styles}static _getUniqueStyles(){if(this.hasOwnProperty(JSCompiler_renameProperty("_styles",this)))return;const e=this.getStyles();if(Array.isArray(e)){const n=(i,a)=>i.reduceRight((f,u)=>Array.isArray(u)?n(u,f):(f.add(u),f),a),r=n(e,new Set),o=[];r.forEach(i=>o.unshift(i)),this._styles=o}else this._styles=e===void 0?[]:[e];this._styles=this._styles.map(n=>{if(n instanceof CSSStyleSheet&&!wi){const r=Array.prototype.slice.call(n.cssRules).reduce((o,i)=>o+i.cssText,"");return rh(r)}return n})}initialize(){super.initialize(),this.constructor._getUniqueStyles(),this.renderRoot=this.createRenderRoot(),window.ShadowRoot&&this.renderRoot instanceof window.ShadowRoot&&this.adoptStyles()}createRenderRoot(){return this.attachShadow({mode:"open"})}adoptStyles(){const e=this.constructor._styles;e.length!==0&&(window.ShadyCSS!==void 0&&!window.ShadyCSS.nativeShadow?window.ShadyCSS.ScopingShim.prepareAdoptedCssText(e.map(n=>n.cssText),this.localName):wi?this.renderRoot.adoptedStyleSheets=e.map(n=>n instanceof CSSStyleSheet?n:n.styleSheet):this._needsShimAdoptedStyleSheets=!0)}connectedCallback(){super.connectedCallback(),this.hasUpdated&&window.ShadyCSS!==void 0&&window.ShadyCSS.styleElement(this)}update(e){const n=this.render();super.update(e),n!==Va&&this.constructor.render(n,this.renderRoot,{scopeName:this.localName,eventContext:this}),this._needsShimAdoptedStyleSheets&&(this._needsShimAdoptedStyleSheets=!1,this.constructor._styles.forEach(r=>{const o=document.createElement("style");o.textContent=r.cssText,this.renderRoot.appendChild(o)}))}render(){return Va}}pn.finalized=!0;pn.render=Yd;/**
@license
Copyright (c) 2018 The Polymer Project Authors. All rights reserved.
This code may only be used under the BSD style license found at http://polymer.github.io/LICENSE.txt
The complete set of authors may be found at http://polymer.github.io/AUTHORS.txt
The complete set of contributors may be found at http://polymer.github.io/CONTRIBUTORS.txt
Code distributed by Google as part of the polymer project is also
subject to an additional IP rights grant found at http://polymer.github.io/PATENTS.txt
*/const Zi=t=>e=>class extends e{connectedCallback(){super.connectedCallback&&super.connectedCallback(),this._storeUnsubscribe=t.subscribe(()=>this.stateChanged(t.getState())),this.stateChanged(t.getState())}disconnectedCallback(){this._storeUnsubscribe(),super.disconnectedCallback&&super.disconnectedCallback()}stateChanged(n){}};function ih(t){var e,n=t.Symbol;return typeof n=="function"?n.observable?e=n.observable:(e=n("observable"),n.observable=e):e="@@observable",e}var Wn;typeof self!="undefined"?Wn=self:typeof window!="undefined"?Wn=window:typeof global!="undefined"?Wn=global:typeof module!="undefined"?Wn=module:Wn=Function("return this")();var Ha=ih(Wn),ai=function(){return Math.random().toString(36).substring(7).split("").join(".")},Tr={INIT:"@@redux/INIT"+ai(),REPLACE:"@@redux/REPLACE"+ai(),PROBE_UNKNOWN_ACTION:function(){return"@@redux/PROBE_UNKNOWN_ACTION"+ai()}};function ah(t){if(typeof t!="object"||t===null)return!1;for(var e=t;Object.getPrototypeOf(e)!==null;)e=Object.getPrototypeOf(e);return Object.getPrototypeOf(t)===e}function al(t,e,n){var r;if(typeof e=="function"&&typeof n=="function"||typeof n=="function"&&typeof arguments[3]=="function")throw new Error("It looks like you are passing several store enhancers to createStore(). This is not supported. Instead, compose them together to a single function.");if(typeof e=="function"&&typeof n=="undefined"&&(n=e,e=void 0),typeof n!="undefined"){if(typeof n!="function")throw new Error("Expected the enhancer to be a function.");return n(al)(t,e)}if(typeof t!="function")throw new Error("Expected the reducer to be a function.");var o=t,i=e,a=[],f=a,u=!1;function c(){f===a&&(f=a.slice())}function s(){if(u)throw new Error("You may not call store.getState() while the reducer is executing. The reducer has already received the state as an argument. Pass it down from the top reducer instead of reading it from the store.");return i}function l(h){if(typeof h!="function")throw new Error("Expected the listener to be a function.");if(u)throw new Error("You may not call store.subscribe() while the reducer is executing. If you would like to be notified after the store has been updated, subscribe from a component and invoke store.getState() in the callback to access the latest state. See https://redux.js.org/api-reference/store#subscribelistener for more details.");var p=!0;return c(),f.push(h),function(){if(!!p){if(u)throw new Error("You may not unsubscribe from a store listener while the reducer is executing. See https://redux.js.org/api-reference/store#subscribelistener for more details.");p=!1,c();var d=f.indexOf(h);f.splice(d,1),a=null}}}function g(h){if(!ah(h))throw new Error("Actions must be plain objects. Use custom middleware for async actions.");if(typeof h.type=="undefined")throw new Error('Actions may not have an undefined "type" property. Have you misspelled a constant?');if(u)throw new Error("Reducers may not dispatch actions.");try{u=!0,i=o(i,h)}finally{u=!1}for(var p=a=f,y=0;y<p.length;y++){var d=p[y];d()}return h}function m(h){if(typeof h!="function")throw new Error("Expected the nextReducer to be a function.");o=h,g({type:Tr.REPLACE})}function v(){var h,p=l;return h={subscribe:function(d){if(typeof d!="object"||d===null)throw new TypeError("Expected the observer to be an object.");function b(){d.next&&d.next(s())}b();var w=p(b);return{unsubscribe:w}}},h[Ha]=function(){return this},h}return g({type:Tr.INIT}),r={dispatch:g,subscribe:l,getState:s,replaceReducer:m},r[Ha]=v,r}function sh(t,e){var n=e&&e.type,r=n&&'action "'+String(n)+'"'||"an action";return"Given "+r+', reducer "'+t+'" returned undefined. To ignore an action, you must explicitly return the previous state. If you want this reducer to hold no value, you can return null instead of undefined.'}function lh(t){Object.keys(t).forEach(function(e){var n=t[e],r=n(void 0,{type:Tr.INIT});if(typeof r=="undefined")throw new Error('Reducer "'+e+`" returned undefined during initialization. If the state passed to the reducer is undefined, you must explicitly return the initial state. The initial state may not be undefined. If you don't want to set a value for this reducer, you can use null instead of undefined.`);if(typeof n(void 0,{type:Tr.PROBE_UNKNOWN_ACTION()})=="undefined")throw new Error('Reducer "'+e+'" returned undefined when probed with a random type. '+("Don't try to handle "+Tr.INIT+' or other actions in "redux/*" ')+"namespace. They are considered private. Instead, you must return the current state for any unknown actions, unless it is undefined, in which case you must return the initial state, regardless of the action type. The initial state may not be undefined, but can be null.")})}function uh(t){for(var e=Object.keys(t),n={},r=0;r<e.length;r++){var o=e[r];typeof t[o]=="function"&&(n[o]=t[o])}var i=Object.keys(n),a;try{lh(n)}catch(f){a=f}return function(u,c){if(u===void 0&&(u={}),a)throw a;for(var s=!1,l={},g=0;g<i.length;g++){var m=i[g],v=n[m],h=u[m],p=v(h,c);if(typeof p=="undefined"){var y=sh(m,c);throw new Error(y)}l[m]=p,s=s||p!==h}return s=s||i.length!==Object.keys(u).length,s?l:u}}const ch=(t={},e)=>{switch(e.type){default:return t}},H={agrupadorGenerico:{tipo:"DispositivoAgrupadorGenerico",name:void 0,tagId:"dg",descricao:void 0,descricaoPlural:void 0,tiposPermitidosPai:["Articulacao","Parte","Livro","Titulo","Capitulo","Secao"],tiposPermitidosFilhos:["Parte","Livro","Titulo","Capitulo","Secao","Artigo"],tipoProvavelFilho:"Artigo",INDICADOR_SEQUENCIA:["NA"],INDICADOR_FIM_SEQUENCIA:[""],INDICADOR_DESDOBRAMENTO:["NA"]},alinea:{tipo:"Alinea",name:"Alinea",tagId:"ali",descricao:"Al\xEDnea",descricaoPlural:"Al\xEDneas",tiposPermitidosPai:["Inciso"],tiposPermitidosFilhos:["Item"],tipoProvavelFilho:"Item",INDICADOR_SEQUENCIA:[";","; e","; ou"],INDICADOR_FIM_SEQUENCIA:["."],INDICADOR_DESDOBRAMENTO:[":"]},articulacao:{tipo:"Articulacao",name:"Articulacao",tagId:"",descricao:"Articula\xE7\xE3o",descricaoPlural:"Articula\xE7\xF5es",tiposPermitidosPai:[],tiposPermitidosFilhos:["Parte","Livro","Titulo","Capitulo","Secao","Artigo"],tipoProvavelFilho:"Artigo",INDICADOR_SEQUENCIA:["."],INDICADOR_FIM_SEQUENCIA:["NA"],INDICADOR_DESDOBRAMENTO:[":"]},artigo:{tipo:"Artigo",name:"Artigo",tagId:"art",descricao:"Artigo",descricaoPlural:"Artigos",tiposPermitidosPai:["Articulacao","Parte","Livro","Titulo","Capitulo","Secao","Subsecao"],tiposPermitidosFilhos:["Paragrafo","Inciso"],tipoProvavelFilho:"Inciso",INDICADOR_SEQUENCIA:["."],INDICADOR_FIM_SEQUENCIA:["NA"],INDICADOR_DESDOBRAMENTO:[":"]},capitulo:{tipo:"Capitulo",name:"Capitulo",tagId:"cap",descricao:"Cap\xEDtulo",descricaoPlural:"Cap\xEDtulos",tiposPermitidosPai:["Articulacao","Parte","Livro","Titulo"],tiposPermitidosFilhos:["Secao","Artigo"],tipoProvavelFilho:"Artigo",INDICADOR_SEQUENCIA:["NA"],INDICADOR_FIM_SEQUENCIA:[""],INDICADOR_DESDOBRAMENTO:["NA"]},caput:{tipo:"Caput",name:"Caput",tagId:"cpt",descricao:"Caput",descricaoPlural:"Capita",tiposPermitidosPai:["Artigo"],tiposPermitidosFilhos:["Inciso"],tipoProvavelFilho:"Inciso",INDICADOR_SEQUENCIA:["."],INDICADOR_FIM_SEQUENCIA:["NA"],INDICADOR_DESDOBRAMENTO:[":"]},generico:{tipo:"DispositivoGenerico",name:void 0,tagId:"gen",descricao:"Dispositivo gen\xE9rico",descricaoPlural:"Dispositivos gen\xE9ricos",tiposPermitidosPai:["Articulacao","Parte","Livro","Titulo","Capitulo","Secao","Subsecao"],tiposPermitidosFilhos:["Paragrafo","Inciso","Alinea","Item"],tipoProvavelFilho:"DispositivoGenerico",INDICADOR_SEQUENCIA:[";","; e","; ou"],INDICADOR_FIM_SEQUENCIA:["."],INDICADOR_DESDOBRAMENTO:[":"]},inciso:{tipo:"Inciso",name:"Inciso",tagId:"inc",descricao:"Inciso",descricaoPlural:"Incisos",tiposPermitidosPai:["Artigo","Caput","Paragrafo"],tiposPermitidosFilhos:["Alinea"],tipoProvavelFilho:"Alinea",INDICADOR_SEQUENCIA:[";","; e","; ou"],INDICADOR_FIM_SEQUENCIA:["."],INDICADOR_DESDOBRAMENTO:[":"]},item:{tipo:"Item",name:"Item",tagId:"ite",descricao:"Item",descricaoPlural:"Itens",tiposPermitidosPai:["Alinea"],tiposPermitidosFilhos:[],tipoProvavelFilho:"DispositivoGenerico",INDICADOR_SEQUENCIA:[";","; e","; ou"],INDICADOR_FIM_SEQUENCIA:["."],INDICADOR_DESDOBRAMENTO:[":"]},livro:{tipo:"Livro",name:"Livro",tagId:"liv",descricao:"Livro",descricaoPlural:"Livros",tiposPermitidosPai:["Articulacao","Parte"],tiposPermitidosFilhos:["Titulo","Capitulo","Secao","Artigo"],tipoProvavelFilho:"Artigo",INDICADOR_SEQUENCIA:["NA"],INDICADOR_FIM_SEQUENCIA:[""],INDICADOR_DESDOBRAMENTO:["NA"]},omissis:{tipo:"Omissis",name:"Omissis",tagId:"omi",descricao:"Omissis",descricaoPlural:"Linhas pontilhadas (omissis)",tiposPermitidosPai:["Articulacao","Parte","Livro","Titulo","Capitulo","Secao","Subsecao","Artigo","Caput","Paragrafo","Alinea","Inciso"],tiposPermitidosFilhos:["Parte","Livro","Titulo","Capitulo","Secao","Subsecao","Artigo","Paragrafo","Alinea","Inciso","Item"],tipoProvavelFilho:void 0,INDICADOR_SEQUENCIA:["NA"],INDICADOR_FIM_SEQUENCIA:["NA"],INDICADOR_DESDOBRAMENTO:["NA"]},paragrafo:{tipo:"Paragrafo",name:"Paragrafo",tagId:"par",descricao:"Par\xE1grafo",descricaoPlural:"Par\xE1grafos",tiposPermitidosPai:["Artigo"],tiposPermitidosFilhos:["Inciso"],tipoProvavelFilho:"Inciso",INDICADOR_SEQUENCIA:["."],INDICADOR_FIM_SEQUENCIA:["NA"],INDICADOR_DESDOBRAMENTO:[":"]},parte:{tipo:"Parte",name:"Parte",tagId:"prt",descricao:"Parte",descricaoPlural:"Partes",tiposPermitidosPai:["Articulacao"],tiposPermitidosFilhos:["Livro","Titulo","Capitulo","Secao","Artigo"],tipoProvavelFilho:"Artigo",INDICADOR_SEQUENCIA:["NA"],INDICADOR_FIM_SEQUENCIA:[""],INDICADOR_DESDOBRAMENTO:["NA"]},secao:{tipo:"Secao",name:"Secao",tagId:"sec",descricao:"Se\xE7\xE3o",descricaoPlural:"Se\xE7\xF5es",tiposPermitidosPai:["Articulacao","Parte","Livro","Titulo","Capitulo"],tiposPermitidosFilhos:["Subsecao","Artigo"],tipoProvavelFilho:"Artigo",INDICADOR_SEQUENCIA:["NA"],INDICADOR_FIM_SEQUENCIA:[""],INDICADOR_DESDOBRAMENTO:["NA"]},subsecao:{tipo:"Subsecao",name:"Subsecao",tagId:"sub",descricao:"Subse\xE7\xE3o",descricaoPlural:"Subse\xE7\xF5es",tiposPermitidosPai:["Secao"],tiposPermitidosFilhos:["Artigo"],tipoProvavelFilho:"Artigo",INDICADOR_SEQUENCIA:["NA"],INDICADOR_FIM_SEQUENCIA:[""],INDICADOR_DESDOBRAMENTO:["NA"]},titulo:{tipo:"Titulo",name:"Titulo",tagId:"tit",descricao:"T\xEDtulo",descricaoPlural:"T\xEDtulos",tiposPermitidosPai:["Articulacao","Parte","Livro"],tiposPermitidosFilhos:["Capitulo","Secao","Artigo"],tipoProvavelFilho:"Artigo",INDICADOR_SEQUENCIA:["NA"],INDICADOR_FIM_SEQUENCIA:[""],INDICADOR_DESDOBRAMENTO:["NA"]}},Xi="ADICIONAR_ELEMENTO";class mn{constructor(e){var n;this.isDispositivoAlteracao=!1,this.descricao=`Adicionar ${(n=e==null?void 0:e.descricao)!==null&&n!==void 0?n:""}`,this.tipo=e==null?void 0:e.tipo}execute(e,n,r,o=!1){return{type:Xi,atual:e,novo:{tipo:r,isDispositivoAlteracao:this.isDispositivoAlteracao,conteudo:{texto:n}},hasDesmembramento:o}}}const Yi=new mn,sl=new mn(H.artigo),Ji=new mn(H.alinea),No=new mn(H.inciso),ll=new mn(H.item),ul=new mn(H.omissis),cl=new mn(H.paragrafo),fl="AGRUPAR_ELEMENTO";class wt{constructor(e){this.descricao="Adicionar "+e.descricao,this.tipo=e.tipo}execute(e){return{type:fl,atual:e,novo:{tipo:this.tipo}}}}const fh=new wt(H.parte),dh=new wt(H.livro),hh=new wt(H.titulo),dl=new wt(H.capitulo),ph=new wt(H.secao),mh=new wt(H.subsecao),hl="ATUALIZAR_ELEMENTO";class gh{constructor(){this.descricao="Atualizar dispositivo"}execute(e){return this.tipo=e.tipo,{type:hl,atual:e}}}const vh=new gh,pl="ATUALIZAR_REFERENCIA_ELEMENTO";class yh{constructor(){this.descricao="Atualizar Norma Referenciada"}execute(e){return this.tipo=e.tipo,{type:pl,atual:e}}}const bh=new yh,ml="ATUALIZAR_TEXTO_ELEMENTO";class Eh{constructor(){this.descricao="Atualizar dispositivo"}execute(e){return this.tipo=e.tipo,{type:ml,atual:e}}}const $a=new Eh,gl="ELEMENTO_SELECIONADO";class Ah{constructor(){this.descricao="Elemento selecionado"}execute(e){return{type:gl,atual:e}}}const xh=new Ah,vl="INFORMAR_NORMA";class _h{constructor(){this.descricao="Informar norma alterada"}execute(e){return{type:vl,atual:e}}}const yl=new _h,bl="Mover para baixo";class El{constructor(){this.descricao="Mover para baixo"}execute(e){return{type:bl,atual:e}}}const gn=new El,Al="Mover para cima";class xl{constructor(){this.descricao="Mover para cima"}execute(e){return{type:Al,atual:e}}}const vn=new xl,_l="ABRIR_ARTICULACAO",Oh=(t,e)=>({type:_l,classificacao:e,articulacao:t}),Ol="REDO",wh=()=>({type:Ol}),wl="REMOVER_ELEMENTO";class Ro{constructor(){this.descricao="Remover dispositivo"}execute(e){return{type:wl,atual:e}}}const It=new Ro,Il="RENUMERAR_ELEMENTO";class Co{constructor(){this.descricao="Numerar e criar r\xF3tulo para o dispositivo "}execute(e,n){return this.tipo=e.tipo,{type:Il,atual:e,novo:{numero:n}}}}const Et=new Co,Sl="RESTAURAR_ELEMENTO";class Ih{constructor(){this.descricao="Abandonar modifica\xE7\xF5es do dispositivo"}execute(e){return{type:Sl,atual:e}}}const Do=new Ih,Pl="SHIFT_TAB",Sh=t=>({type:Pl,atual:t}),Tl="SUPRIMIR_ELEMENTO";class Ph{constructor(){this.descricao="Suprimir dispositivo"}execute(e){return{type:Tl,atual:e}}}const Nl=new Ph,ea="TAB",Th=t=>({type:ea,atual:t}),ta="TRANSFORMAR_TIPO_ELEMENTO";class ce{constructor(e,n,r){this.descricao=n,this.tipo=e.tipo,this.nomeAcao=r}execute(e){return{type:ta,subType:this.nomeAcao,atual:e,novo:{tipo:this.tipo}}}}const Rl=new ce(H.omissis,"Transformar em Omissis de Al\xEDnea","transformarAlineaEmOmissisAlinea"),Cl=new ce(H.omissis,"Transformar em Omissis de Inciso de Caput","transformarIncisoCaputEmOmissisIncisoCaput"),Dl=new ce(H.omissis,"Transformar em Omissis de Item","transformarItemEmOmissisItem"),kl=new ce(H.omissis,"Transformar em Omissis de Par\xE1grafo","transformarParagrafoEmOmissisParagrafo"),Ii=new ce(H.omissis,"Transformar em Omissis de Inciso de Par\xE1grafo","transformarIncisoParagrafoEmOmissisIncisoParagrafo"),Br=new ce(H.inciso,"Transformar Al\xEDnea em Inciso","transformarAlineaEmIncisoCaput"),Ur=new ce(H.inciso,"Transformar Al\xEDnea em Inciso","transformarAlineaEmIncisoParagrafo"),Ll=new ce(H.item,"Transformar Al\xEDnea em Item","transformarAlineaEmItem"),ql=new ce(H.paragrafo,"Transformar Artigo em Par\xE1grafo","transformarArtigoEmParagrafo"),Nh=new ce(H.inciso,"Transformar em Inciso","transformarDispositivoGenericoEmInciso"),Rh=new ce(H.alinea,"Transformar em Al\xEDnea","transformarDispositivoGenericoEmAlinea"),Ch=new ce(H.item,"Transformar em Item","transformarDispositivoGenericoEmItem"),zr=new ce(H.paragrafo,"Transformar Inciso em Par\xE1grafo","transformarIncisoParagrafoEmParagrafo"),Vr=new ce(H.paragrafo,"Transformar Inciso Caput em Par\xE1grafo","transformarIncisoCaputEmParagrafo"),Ka=new ce(H.alinea,"Transformar Inciso de Caput em Al\xEDnea","transformarIncisoCaputEmAlinea"),Ga=new ce(H.alinea,"Transformar Inciso de Caput em Al\xEDnea","transformarIncisoParagrafoEmAlinea"),Ml=new ce(H.alinea,"Transformar Omissis em Al\xEDnea","transformarOmissisEmAlinea"),Fl=new ce(H.artigo,"Transformar Omissis em Artigo","transformarOmissisEmArtigo"),jl=new ce(H.inciso,"Transformar Omissis em Inciso de Caput","transformarOmissisEmIncisoCaput"),Bl=new ce(H.inciso,"Transformar Omissis em Inciso de Par\xE1grafo","transformarOmissisEmIncisoParagrafo"),Ul=new ce(H.item,"Transformar Omissis em Item","transformarOmissisEmItem"),zl=new ce(H.paragrafo,"Transformar Omissis em Par\xE1grafo","transformarOmissisEmParagrafo"),Vl=new ce(H.alinea,"Transformar Item em Al\xEDnea","transformarItemEmAlinea"),Hl=new ce(H.artigo,"Transformar Par\xE1grafo em Artigo","transformarParagrafoEmArtigo"),$l=new ce(H.inciso,"Transformar Par\xE1grafo em Inciso de Par\xE1grafo","transformarParagrafoEmIncisoParagrafo"),Kl=new ce(H.inciso,"Transformar Par\xE1grafo em Inciso de Caput","transformarParagrafoEmIncisoCaput"),Gl="UNDO",Dh=()=>({type:Gl}),Wl="VALIDAR_ARTICULACAO";class kh{constructor(){this.descricao="Articula\xE7\xE3o validada"}execute(){return{type:Wl}}}const Ql=new kh,Zl="VALIDAR_ELEMENTO";class Lh{constructor(){this.descricao="Elemento validado"}execute(e){return{type:Zl,atual:e}}}const Xl=new Lh,Te=t=>t.tipo===H.articulacao.tipo,lt=t=>t.tipo===H.generico.tipo,ie=t=>t.tipo===H.artigo.tipo,nt=t=>t.tipo===H.caput.tipo,we=t=>t.tipo===H.paragrafo.tipo,ft=t=>t.tipo===H.inciso.tipo,st=t=>ft(t)&&nt(t.pai),Wt=t=>ft(t)&&we(t.pai),Tn=t=>t.tipo===H.alinea.tipo,Wa=t=>t.tipo===H.item.tipo,Xe=t=>t.tipo===H.omissis.tipo,be=t=>[H.articulacao.tipo,H.agrupadorGenerico.tipo,H.capitulo.tipo,H.livro.tipo,H.parte.tipo,H.secao.tipo,H.subsecao.tipo,H.titulo.tipo].includes(t.tipo),Qa=t=>t.tipo===H.agrupadorGenerico.tipo,Qn=t=>[H.paragrafo.tipo,H.inciso.tipo,H.alinea.tipo,H.item.tipo].includes(t.tipo);function qh(t){return/<.+>/g.test(t==null?void 0:t.trim())}function Mh(t){return/[.,:]\s*$/.test(t)}function Fh(t){const e=document.createElement("div");return e.innerHTML=t,e.innerHTML===t}function jh(t){const e=t.replace(/(<([^>]+)>)/gi,"").trim();return e.length>0?e.charAt(e.length-1):""}function na(t,e){return e.map(n=>new RegExp(tn(xr(n))+"\\s*$").test(t)).filter(n=>n)[0]===!0}function Tt(t){switch(t[0].trim()){case".":return"ponto";case":":return"dois pontos";case";":return"ponto e v\xEDrgula";case",":return"v\xEDrgula";default:return t[0].trim()}}function xr(t){return t.replace(/[-/\\^$*+?.()|[\]{}]/g,"\\$&")}function tn(t){return t.replace(/\s+/g,"\\s+")}function Bh(t){let e="";return t.forEach(n=>{e+=n}),e}function ra(t){return t.replace(/\s{2,}/g," ")}class ht{constructor(){this.strs=new Array}append(e){e&&this.strs.push(e)}toString(){return Bh(this.strs)}}var re;(function(t){t.DISPOSITIVO_ADICIONADO="Dispositivo Adicionado",t.DISPOSITIVO_NOVO="Dispositivo Novo",t.DISPOSITIVO_MODIFICADO="Dispositivo Modificado",t.DISPOSITIVO_ORIGINAL="Dispositivo Original",t.DISPOSITIVO_SUPRIMIDO="Dispositivo Suprimido"})(re||(re={}));const oa=t=>[re.DISPOSITIVO_ADICIONADO.toString(),re.DISPOSITIVO_MODIFICADO.toString(),re.DISPOSITIVO_SUPRIMIDO.toString()].includes(t.situacao.descricaoSituacao),Yl=t=>oa(t)?!0:t.pai===void 0?!1:Yl(t.pai);function Le(t){if(!t||Te(t))return t;if(t.pai===void 0)throw new Error("N\xE3o foi encontrada a articula\xE7\xE3o");return Le(t.pai)}function Jl(t,e){if(e.uuid===t)return e;if(e.filhos!==null){let n=null;const r=e.hasAlteracao()?e.alteracoes.filhos:e.filhos;for(let o=0;n===null&&o<r.length;o++)n=Jl(t,r[o]);return n}return null}const yo=(t,e)=>{if(e===void 0)throw new Error("uuid n\xE3o foi informado");return Jl(e,t)},sr=t=>{var e;return ze(t)?sr(t.filhos[t.filhos.length-1]):(t==null?void 0:t.hasAlteracao())&&((e=t.alteracoes)===null||e===void 0?void 0:e.filhos.length)?sr(t.alteracoes.filhos[t.alteracoes.filhos.length-1]):t},Ge=t=>ie(t)?Le(t).artigos.filter(e=>e.tipo===t.tipo):t.pai?t.pai.filhos.filter(e=>e.tipo===t.tipo):[t],Yr=(t,e,n)=>{if(t!=null&&t.filhos){for(let r=t==null?void 0:t.indexOf(e);r>=0;r--){const o=t==null?void 0:t.filhos[r];be(o)&&n.push(o)}if(t!=null&&t.pai)return Yr(t.pai,e.pai,n)}return n},Uh=t=>t.filhos.filter(e=>be(e)).length>0,zh=t=>{var e;const n=[];return((e=t.pai)===null||e===void 0?void 0:e.pai)===void 0?!1:Yr(t.pai.pai,t.pai,n).length>0},Vh=(t,e)=>[...new Set(Yr(t.pai,t,[]))].filter(n=>n.tipo===e).reverse()[0],Hh=(t,e)=>Yr(t.pai.pai,t.pai,[]).filter(n=>n.tipo===e).length>0,ia=(t,e)=>{if(!(!t||!t.pai))return t.pai&&t.pai.tipo===e?t.pai:ia(t.pai,e)},$h=(t,e)=>ia(t,e)!==void 0,eu=t=>ie(t.pai)?t.pai:eu(t.pai),Kh=t=>{const e=Le(t).indexOfArtigo(t);return e===-1||Le(t).artigos.length===e+1?[]:Le(t).artigos.filter((n,r)=>r>e)},Jr=(t,e)=>{if(t!=null&&t.filhos){for(let n=(t==null?void 0:t.indexOf(e))-1;n>=0;n--){const r=t==null?void 0:t.filhos[n];if(ie(r))return r;if(be(r))return tu(r)}if(t!=null&&t.pai)return Jr(t.pai,e.pai)}},tu=t=>{if(t!==void 0&&t.filhos)for(let e=t.filhos.length-1;e>=0;e--){const n=t.filhos[e];if(ie(n))return n;if(be(n))return tu(n)}},Za=t=>{const e=t.pai.indexOf(t);return t.pai.filhos.filter((n,r)=>r>e&&be(n))[0]},Gh=t=>{const e=t.pai.indexOf(t);return t.pai.filhos.filter((n,r)=>r>e&&be(n)).length>0},Xa=t=>{var e;return((e=t.filhos)===null||e===void 0?void 0:e.filter(n=>lt(n)).length)>0},xe=t=>Ge(t).length===1,je=t=>{const e=Ge(t);return e[e.length-1]===t},Ya=t=>{const e=Ge(t);return e.length>1&&e[e.length-2]===t},kt=t=>Ge(t)[0]===t,ze=t=>t.filhos&&t.filhos.length>0,Me=t=>{const e=t.pai.indexOf(t);return e>0?t.pai.filhos[e-1]:void 0},on=t=>{const e=Ge(t),n=e.indexOf(t);return n>0?e[n-1]:void 0},Ln=t=>{const e=t.pai.indexOf(t);return e===0?void 0:t.pai.filhos.filter((r,o)=>o<e&&(r.tipo===t.tipo||r.tipo===ul.tipo)).pop()},Hr=t=>{const e=t.pai.indexOf(t);return e<t.pai.filhos.length-1?t.pai.filhos[e+1]:void 0},Wh=t=>{const e=Ge(t),n=e.indexOf(t);return n<e.length-1?e[n+1]:void 0},aa=t=>{var e,n,r;const o=(e=t.pai)===null||e===void 0?void 0:e.indexOf(t);return(r=(n=t.pai)===null||n===void 0?void 0:n.filhos.filter((i,a)=>a<o&&i.tipo===t.tipo&&i.pai===t.pai))!==null&&r!==void 0?r:[]},nu=t=>{var e,n,r;const o=(e=t.pai)===null||e===void 0?void 0:e.indexOf(t);return(r=(n=t.pai)===null||n===void 0?void 0:n.filhos.filter((i,a)=>a>o&&i.tipo===t.tipo))!==null&&r!==void 0?r:[]},qn=t=>{const e=t.pai.indexOf(t);return e===t.pai.filhos.length-1?void 0:t.pai.filhos.filter((r,o)=>o>e&&(r.tipo===t.tipo||r.tipo===ul.tipo))[0]},ru=(t,e=!1)=>{if(ie(t)){const r=Le(t),o=Le(t).indexOfArtigo(t);return r.artigos.filter((i,a)=>a>o)}const n=t.pai.indexOf(t);return t.pai.filhos.filter((r,o)=>e?o>n:o>=n).filter(r=>t.tipo===r.tipo)},_o=t=>ie(t)&&xe(t),ou=t=>we(t)&&xe(t),sa=t=>t.cabecaAlteracao||_t(t)?t:sa(t.pai),_t=t=>oe(t)&&Te(t.pai)&&t.pai.pai!==void 0,dt=t=>{const e=sa(t),n=Cn(e);return n.length>0&&n[n.length-1]===t},Mn=t=>{const e=Le(t).pai;if(!e)return!1;const n=Le(e);return xe(e)||n.indexOfArtigo(e)<n.artigos.length-1},yn=t=>Te(t)&&t.pai!==void 0,oe=t=>{if(!!t.isDispositivoAlteracao)return!0;try{return Le(t).pai!==void 0}catch{return!1}},Fn=t=>t.situacao.descricaoSituacao===re.DISPOSITIVO_ORIGINAL,iu=t=>t.situacao.descricaoSituacao===re.DISPOSITIVO_MODIFICADO||t.situacao.descricaoSituacao===re.DISPOSITIVO_SUPRIMIDO,Cn=t=>an(t,[]),an=(t,e)=>{e.push(t);const n=t.hasAlteracao()?t.alteracoes.filhos:t.filhos;return n.length&&n.forEach(r=>an(r,e)),e},bo=(t,e)=>{if(!!t)if(e(t),t.tipo===H.artigo.tipo){const n=t;n.caput&&(bo(n.caput,e),t.filhos.filter(r=>we(r)).forEach(r=>{bo(r,e)}))}else t.filhos.forEach(n=>{bo(n,e)})},Nr=t=>t&&!t.pai&&t.tipo===H.articulacao.tipo;var ae;(function(t){t[t.INFO=0]="INFO",t[t.WARNING=1]="WARNING",t[t.ERROR=2]="ERROR"})(ae||(ae={}));const pt="...........................................................................................",tt=t=>{var e;const n=ie(t)?t.caput:t;return na(n.texto,(e=n.INDICADOR_DESDOBRAMENTO)!==null&&e!==void 0?e:[])},$r=t=>{var e;const n=ie(t)?t.caput:t;return na(n.texto,(e=n.INDICADOR_FIM_SEQUENCIA)!==null&&e!==void 0?e:[])},Jn=t=>{var e;const n=ie(t)?t.caput:t;return na(n.texto,(e=n.INDICADOR_SEQUENCIA)!==null&&e!==void 0?e:[])},Kr=pt+".\u201D (NR)",au=t=>new RegExp(tn(xr("o seguinte acr\xE9scimo:"))+"\\s*$").test(t)||new RegExp(tn(xr("os seguintes acr\xE9scimos:"))+"\\s*$").test(t)||new RegExp(tn(xr("passa a vigorar com a seguinte altera\xE7\xE3o:"))+"\\s*$").test(t)||new RegExp(tn(xr("passa a vigorar com as seguintes altera\xE7\xF5es:"))+"\\s*$").test(t),qt=t=>/^[.]*(?:\s*)["]?(\s*)?\(NR\)\s*$/.test(t)?Kr:/["]?(\s*)?\(NR\)?\s*$/.test(t)?t.replace(/["](?!.*["])/,"\u201D"):t===pt||t===Kr||!new RegExp("^[.]+$").test(t)?t:pt,su=t=>/\.["](?:\s*\(NR\))\s*$/.test(t),Ja=t=>t!==void 0&&/.*:[\s]{1,2}["].*[.]["]$/.test(t),Qh=t=>{const e=[];return!Te(t)&&(!t.texto||t.texto.trim().length===0)&&e.push({tipo:ae.ERROR,descricao:`N\xE3o foi informado um texto para ${t.artigoDefinido} ${t.descricao}`}),!Te(t)&&t.texto&&Mh(t.texto)&&e.push({tipo:ae.ERROR,descricao:`N\xE3o pode haver sinal de pontua\xE7\xE3o ao final do texto d${t.artigoDefinido} ${t.descricao}`}),!Te(t)&&qh(t.texto)&&e.push({tipo:ae.ERROR,descricao:`Texto d${t.artigoDefinido} ${t.descricao} n\xE3o pode possuir formata\xE7\xE3o`}),e},Zh=t=>{var e;const n=[];return(!Te(t)&&!t.texto||t.texto.trim().length===0)&&n.push({tipo:ae.ERROR,descricao:`N\xE3o foi informado um texto para ${t.artigoDefinido+" "+t.descricao}`}),!Te(t)&&t.texto&&!Fh(t.texto)&&n.push({tipo:ae.ERROR,descricao:"O conte\xFAdo do dispositivo n\xE3o \xE9 um HTML v\xE1lido"}),!Te(t)&&t.texto&&t.texto.trim().length>300&&n.push({tipo:ae.WARNING,descricao:"Pelo princ\xEDpio da concis\xE3o, o texto dos dispositivos n\xE3o deve ser extenso, devendo ser utilizadas frases curtas e concisas"}),Qn(t)&&!we(t)&&t.texto&&/^[A-Z-]/.test(t.texto)&&n.push({tipo:ae.WARNING,descricao:`${t.descricao} deveria iniciar com letra min\xFAscula, a n\xE3o ser que se trate de uma situa\xE7\xE3o especial, como nome pr\xF3prio`}),Qn(t)&&!we(t)&&!Xe(t)&&t.texto&&!xe(t)&&!je(t)&&!Ya(t)&&!ze(t)&&t.INDICADOR_SEQUENCIA!==void 0&&jh(t.texto)!==t.INDICADOR_SEQUENCIA[0]&&n.push({tipo:ae.ERROR,descricao:`${t.descricao} deveria terminar com ${Tt(t.INDICADOR_SEQUENCIA)}. ${Jn(t)?"A varia\xE7\xE3o informada s\xF3 \xE9 permitida para o pen\xFAltimo elemento":""}`}),(ie(t)||we(t))&&t.texto&&!/^[...]{3,}/.test(t.texto)&&!/^[A-Z-]/.test(t.texto)&&n.push({tipo:ae.ERROR,descricao:`${t.descricao} deveria iniciar com letra mai\xFAscula`}),!oe(t)&&!be(t)&&!Xe(t)&&t.texto&&(!ie(t)&&ze(t)||ie(t)&&ze(t.caput))&&!tt(t)&&n.push({tipo:ae.ERROR,descricao:`${t.descricao} deveria terminar com ${Tt(t.INDICADOR_DESDOBRAMENTO)}`}),!oe(t)&&Qn(t)&&!we(t)&&t.texto&&(xe(t)||je(t))&&!Xa(t.pai)&&!ze(t)&&!$r(t)&&n.push({tipo:ae.ERROR,descricao:`\xDAltimo dispositivo de uma sequ\xEAncia deveria terminar com ${Tt(t.INDICADOR_FIM_SEQUENCIA)}`}),!oe(t)&&Qn(t)&&!we(t)&&t.texto&&!xe(t)&&Ya(t)&&!ze(t)&&!Jn(t)&&n.push({tipo:ae.ERROR,descricao:`${t.descricao} deveria terminar com uma das seguintes possibilidades: ${t.INDICADOR_SEQUENCIA.join("     ")}`}),!oe(t)&&(ie(t)||we(t))&&t.texto&&!ze(t)&&!t.hasAlteracao()&&!xe(t)&&!Jn(t)&&!Ja(t.texto)&&n.push({tipo:ae.ERROR,descricao:`${t.descricao} deveria terminar com ${Tt(t.INDICADOR_SEQUENCIA)}`}),!oe(t)&&ie(t)&&t.texto&&t.hasAlteracao()&&!tt(t)&&!au(t.texto)&&n.push({tipo:ae.ERROR,descricao:`${t.descricao} deveria terminar com ${Tt(t.INDICADOR_DESDOBRAMENTO)}`}),!oe(t)&&ie(t)&&t.texto&&!t.hasAlteracao()&&(!ze(t)||!ze(t.caput))&&tt(t)&&n.push({tipo:ae.ERROR,descricao:`${t.descricao} deveria terminar com ${Tt(t.INDICADOR_SEQUENCIA)}`}),!oe(t)&&ie(t)&&t.hasAlteracao()&&!(!((e=t.alteracoes)===null||e===void 0)&&e.base)&&n.push({tipo:ae.ERROR,descricao:"\xC9 necess\xE1rio informar a norma a ser alterada"}),oe(t)&&!be(t)&&t.texto!==pt&&t.texto&&(!ie(t)&&ze(t)||ie(t)&&ze(t.caput))&&!tt(t)&&n.push({tipo:ae.ERROR,descricao:`${t.descricao} deveria terminar com ${Tt(t.INDICADOR_DESDOBRAMENTO)}`}),oe(t)&&we(t)&&t.texto&&!ze(t)&&!xe(t)&&!je(t)&&!Jn(t)&&n.push({tipo:ae.ERROR,descricao:`${t.descricao} deveria terminar com ${Tt(t.INDICADOR_SEQUENCIA)}`}),oe(t)&&dt(t)&&(!t.texto||!su(t.texto))&&n.push({tipo:ae.ERROR,descricao:"O \xFAltimo dispositivo do bloco de altera\xE7\xE3o deve terminar com: <b>.&#8221; (NR)</b>"}),oe(t)&&t.texto&&!dt(t)&&/.*["]$/.test(t.texto)&&!Ja(t.texto)&&!/.*(NR)/.test(t.texto)&&n.push({tipo:ae.ERROR,descricao:"Somente o \xFAltimo dispositivo do bloco de altera\xE7\xE3o poderia ser finalizado com aspas"}),oe(t)&&t.texto&&!dt(t)&&/.*(NR)/.test(t.texto)&&n.push({tipo:ae.ERROR,descricao:"Somente o \xFAltimo dispositivo do bloco de altera\xE7\xE3o poderia terminar com &#8221; (NR)"}),oe(t)&&t.texto&&t===sa(t)&&t.filhos.length===0&&(t.texto===Kr||t.texto===pt)&&n.push({tipo:ae.ERROR,descricao:"N\xE3o foi informada nenhuma altera\xE7\xE3o"}),oe(t)&&t.texto&&Qn(t)&&!we(t)&&!Xe(t)&&t.pai.filhos.filter(r=>Xe(r)).length===0&&xe(t)&&!Xa(t.pai)&&!ze(t)&&!$r(t)&&!dt(t)&&n.push({tipo:ae.ERROR,descricao:`\xDAltimo dispositivo de uma sequ\xEAncia deveria terminar com ${Tt(t.INDICADOR_FIM_SEQUENCIA)}`}),n},Xh=t=>be(t)?Qh(t):Zh(t);var es;(function(t){t.MASCULINO="masculino",t.FEMININO="feminino",t.INDEFINIDO="indefinido"})(es||(es={}));function eo(t){return class extends t{constructor(){super(...arguments);this.tipoGenero="feminino",this.artigoDefinido="a",this.pronomePossessivoSingular=" da ",this.pronomePossessivoPlural=" das ",this.artigoDefinidoSingular=" a ",this.artigoDefinidoPlural=" as ",this.artigoIndefinidoSingular=" uma ",this.artigoDefinidoPrecedidoPreposicaoASingular=" \xE0 ",this.artigoDefinidoPrecedidoPreposicaoAPlural=" \xE0s ",this.contracaoEmArtigoDefinidoSingular=" na "}}}function ko(t){return class extends t{constructor(){super(...arguments);this.tipoGenero="indefinido",this.artigoDefinido="",this.pronomePossessivoSingular="",this.pronomePossessivoPlural="",this.artigoDefinidoSingular="",this.artigoDefinidoPlural="",this.artigoIndefinidoSingular="",this.artigoDefinidoPrecedidoPreposicaoASingular="",this.artigoDefinidoPrecedidoPreposicaoAPlural="",this.contracaoEmArtigoDefinidoSingular=""}}}function St(t){return class extends t{constructor(){super(...arguments);this.tipoGenero="masculino",this.artigoDefinido="o",this.pronomePossessivoSingular=" do ",this.pronomePossessivoPlural=" dos ",this.artigoDefinidoSingular=" o ",this.artigoDefinidoPlural=" os ",this.artigoIndefinidoSingular=" um ",this.artigoDefinidoPrecedidoPreposicaoASingular=" ao ",this.artigoDefinidoPrecedidoPreposicaoAPlural=" aos ",this.contracaoEmArtigoDefinidoSingular=" no "}}}const lu=new(eo(Object)),uu=new(St(Object)),Yh=new(ko(Object)),cu=t=>t==="F"?lu:t==="M"?uu:Yh;class Jh{constructor(e,n){this.nome=e,this.genero=typeof n=="string"?cu(n):n}}const fu={autoridades:[{urn:"federal",descricao:"Federal"},{urn:"senado.federal",descricao:"Senado Federal"},{urn:"congresso.nacional",descricao:"Congresso Nacional"}],tiposDocumento:[{urn:"lei",descricao:"Lei",genero:"F"},{urn:"lei.complementar",descricao:"Lei Complementar",genero:"F"},{urn:"lei.delegada",descricao:"Lei Delegada",genero:"F"},{urn:"decreto.legislativo",descricao:"Decreto Legislativo",genero:"M"},{urn:"decreto.lei",descricao:"Decreto-Lei",genero:"M"},{urn:"decreto",descricao:"Decreto",genero:"M"},{urn:"consolidacao.leis.trabalho",descricao:"Consolida\xE7\xE3o das Leis do Trabalho",genero:"F"},{urn:"resolucao",descricao:"Resolu\xE7\xE3o",genero:"F"},{urn:"regimento.interno",descricao:"Regimento Interno",genero:"M"},{urn:"constituicao",descricao:"Constitui\xE7\xE3o",genero:"F"},{urn:"ato.disposicoes.constitucionais.transitorias",descricao:"Ato das Disposi\xE7\xF5es Constitucionais Transit\xF3rias",genero:"M"},{urn:"medida.provisoria",descricao:"Medida Provis\xF3ria",genero:"F"},{urn:"medida.provisoria;mpv",descricao:"Medida Provis\xF3ria",genero:"F"},{urn:"emenda.constitucional",descricao:"Emenda Constitucional",genero:"F"},{urn:"emenda.constitucional.revisao",descricao:"Emenda Constitucional de Revis\xE3o",genero:"F"},{urn:"proposta.emenda.constitucional;pec",descricao:"Proposta de Emenda Constitucional",genero:"F"},{urn:"projeto.lei;pl",descricao:"Projeto de Lei",genero:"M"},{urn:"projeto.lei;pls",descricao:"Projeto de Lei do Senado",genero:"M"},{urn:"projeto.lei.complementar;plp",descricao:"Projeto de Lei Complementar",genero:"M"},{urn:"projeto.lei.complementar;pls",descricao:"Projeto de Lei Complementar do Senado",genero:"M"},{urn:"projeto.lei;plc",descricao:"Projeto de Lei da C\xE2mara",genero:"M"},{urn:"projeto.lei.complementar;plc",descricao:"Projeto de Lei Complementar da C\xE2mara",genero:"M"},{urn:"projeto.lei.conversao;plv",descricao:"Projeto de Lei de Convers\xE3o",genero:"M"},{urn:"projeto.resolucao;prs",descricao:"Projeto de Resolu\xE7\xE3o do Senado",genero:"M"},{urn:"projeto.decreto.legislativo;pds",descricao:"Projeto de Decreto Legislativo",genero:"M"},{urn:"projeto.decreto.legislativo;pdl",descricao:"Projeto de Decreto Legislativo",genero:"M"},{urn:"substitutivo.projeto.lei.senado;scd",descricao:"Substitutivo da C\xE2mara dos Deputados",genero:"M"},{urn:"emenda.projeto.lei.senado;ecd",descricao:"Emenda(s) da C\xE2mara dos Deputados",genero:"F"}],fakeUrns:[{sigla:"PEC",urnAutoridade:"senado.federal",urnTipoDocumento:"proposta.emenda.constitucional;pec"},{sigla:"PL",urnAutoridade:"senado.federal",urnTipoDocumento:"projeto.lei;pl"},{sigla:"PLS",urnAutoridade:"senado.federal",urnTipoDocumento:"projeto.lei;pls"},{sigla:"PLP",urnAutoridade:"senado.federal",urnTipoDocumento:"projeto.lei.complementar;plp"},{sigla:"PLC",urnAutoridade:"senado.federal",urnTipoDocumento:"projeto.lei;plc"},{sigla:"PLV",urnAutoridade:"senado.federal",urnTipoDocumento:"projeto.lei.conversao;plv"},{sigla:"PRS",urnAutoridade:"senado.federal",urnTipoDocumento:"projeto.resolucao;prs"},{sigla:"PDS",urnAutoridade:"senado.federal",urnTipoDocumento:"projeto.decreto.legislativo;pds"},{sigla:"PDL",urnAutoridade:"senado.federal",urnTipoDocumento:"projeto.decreto.legislativo;pdl"},{sigla:"SCD",urnAutoridade:"senado.federal",urnTipoDocumento:"substitutivo.projeto.lei.senado;scd"},{sigla:"ECD",urnAutoridade:"senado.federal",urnTipoDocumento:"emenda.projeto.lei.senado;ecd"},{sigla:"MPV",urnAutoridade:"senado.federal",urnTipoDocumento:"medida.provisoria;mpv"}],siglas:[{urnAutoridade:"federal",urnTipoDocumento:"medida.provisoria",sigla:"MPV"},{urnAutoridade:"congresso.nacional",urnTipoDocumento:"projeto.lei",sigla:"PLN"},{urnAutoridade:"senado.federal",urnTipoDocumento:"projeto.lei",sigla:"PLS"},{urnAutoridade:"congresso.nacional",urnTipoDocumento:"medida.provisoria",sigla:"MPV"},{urnAutoridade:"senado.federal",urnTipoDocumento:"projeto.lei.senado.federal",sigla:"PLS"},{urnAutoridade:"camara.deputados",urnTipoDocumento:"projeto.lei",sigla:"PLC"}],atalhosUrn:[{urnTipoDocumento:"constituicao",urnAutoridade:"federal",urn:"urn:lex:br:federal:constituicao:1988-10-05;1988",nome:"Constitui\xE7\xE3o Federal"},{urnTipoDocumento:"ato.disposicoes.constitucionais.transitorias",urnAutoridade:"federal",urn:"urn:lex:br:federal:ato.disposicoes.constitucionais.transitorias:1988-10-05;1988",nome:"Ato das Disposi\xE7\xF5es Constitucionais Transit\xF3rias - ADCT"},{urnTipoDocumento:"consolidacao.leis.trabalho",urnAutoridade:"federal",urn:"urn:lex:br:federal:decreto.lei:1943-05-01;5452",nome:"Consolida\xE7\xE3o das Leis do Trabalho - CLT, aprovada pelo Decreto-Lei n\xBA 5.452, de 1\xBA de maio de 1943",genero:"F"},{urnTipoDocumento:"regimento.interno",urnAutoridade:"senado.federal",urn:"urn:lex:br:senado.federal:resolucao:1970-11-27;93",nome:"Regimento Interno do Senado Federal",genero:"M"},{urnTipoDocumento:"regimento.interno",urnAutoridade:"congresso.nacional",urn:"urn:lex:br:congresso.nacional:resolucao:1970-08-11;1",nome:"Regimento Comum do Congresso Nacional",genero:"M"}],eventos:[{urn:"leitura",tipoTextoProcessoLegislativo:"Texto inicial",genero:"M"},{urn:"aprovacao.substitutivo.decisao.terminativa",tipoTextoProcessoLegislativo:"Reda\xE7\xE3o do vencido em turno suplementar na Comiss\xE3o",substitutivo:"s",genero:"F"},{urn:"aprovacao.substitutivo",tipoTextoProcessoLegislativo:"Reda\xE7\xE3o do vencido em turno suplementar no Plen\xE1rio",substitutivo:"s",genero:"F"},{urn:"apresentacao.substitutivo",tipoTextoProcessoLegislativo:"Texto do substitutivo",substitutivo:"s",genero:"M"}]},ep=t=>{var e;const n=(e=t.replace("urn:lex:br:",""))===null||e===void 0?void 0:e.split(":");return fu.autoridades.filter(r=>r.urn===n[0])[0]},dr=t=>{var e;const n=(e=t.replace("urn:lex:br:",""))===null||e===void 0?void 0:e.split(":");return fu.tiposDocumento.filter(r=>r.urn===n[1])[0]},Lo=t=>{var e,n,r;const o=(e=t.replace("urn:lex:br:",""))===null||e===void 0?void 0:e.split(":");return((n=o[2])===null||n===void 0?void 0:n.indexOf(";"))>-1?(r=o[2])===null||r===void 0?void 0:r.substring(o[2].indexOf(";")+1):""},rr=t=>{var e,n,r,o,i;const a=(e=t.replace("urn:lex:br:",""))===null||e===void 0?void 0:e.split(":"),f=(n=a[2])===null||n===void 0?void 0:n.substring(0,a[2].indexOf(";"));if(/\d{4}$/.test(f))return f;const u=(i=(o=(r=a[2])===null||r===void 0?void 0:r.substring(0,a[2].indexOf(";")))===null||o===void 0?void 0:o.split("-"))===null||i===void 0?void 0:i.reverse();return u?u.join("/"):""},du=t=>{const e=t.indexOf("!");return e!==-1?t.substring(0,e):t},hu=t=>{const e=t.match(/^(0[1-9]|[12][0-9]|3[01])[-/](0[1-9]|1[012])[-/](\d{4})$/);return e?`${e[3]}-${e[2]}-${e[1]}`:""},tp=(t,e,n,r)=>{var o;const i=(o=hu(r))!==null&&o!==void 0?o:r;return`urn:lex:br:${t}:${e}:${i};${n}`},pu=t=>{var e,n;const r=(e=ep(t))===null||e===void 0?void 0:e.urn,o=(n=dr(t))===null||n===void 0?void 0:n.urn,i=/^\d{1,5}$/.test(Lo(t)),a=/\d{4}$/.test(rr(t))?rr(t):hu(rr(t));return(t==null?void 0:t.startsWith("urn:lex:br:"))&&r&&o&&i&&a},np=t=>{var e;const n=du(t),r=Lo(n),o=(e=dr(n))===null||e===void 0?void 0:e.descricao,i=rr(n);return(o||"")+(r?" n\xBA "+r:"")+(i.length>7?" de "+i:"")},rp=t=>{var e;const n=du(t),r=Lo(n),o=(e=dr(n))===null||e===void 0?void 0:e.descricao,i=rr(n),[a,f,u]=i.split("/").map(s=>parseInt(s)),c=i.length>7?ip(new Date(u,f-1,a)):void 0;return(o||"")+(r?" n\xBA "+parseInt(r).toLocaleString("pt-BR"):"")+(c?", de "+c:"")},op=t=>{const e=rp(t);return`<a href="${t}"> ${e} </a>`},ip=t=>t?t.getDate()+" de "+t.toLocaleDateString("pt-BR",{month:"long"})+" de "+t.getFullYear():void 0,ap=t=>{const e=dr(t);let n=cu(e.genero),r="Projeto";return n===lu&&(e.urn.startsWith("medida.provisoria")?r="Medida Provis\xF3ria":r="Proposta"),new Jh(r,n)},sp=t=>{const e=[];if(t===null&&e.push({tipo:ae.ERROR,descricao:"O dispositivo n\xE3o foi informado"}),t!==null&&t.filhos.length>0&&t.tiposPermitidosFilhos.length===0&&e.push({tipo:ae.ERROR,descricao:`Segundo a Legisla\xE7\xE3o vigente, ${t.descricao} n\xE3o poderia possuir filhos`}),t!==null&&(lt(t)||Qa(t))&&e.push({tipo:ae.ERROR,descricao:"N\xE3o foi poss\xEDvel validar a natureza deste dispositivo com base na legisla\xE7\xE3o vigente"}),t!==null&&t.pai&&!Qa(t.pai)&&!lt(t)&&!t.tiposPermitidosPai.includes(t.pai.tipo)&&e.push({tipo:ae.ERROR,descricao:`Segundo a Legisla\xE7\xE3o vigente, ${t.descricao} somente poderia pertencer a ${t.tiposPermitidosPai.join(", ")}`}),t!==null&&!lt&&t.filhos.length>0&&(t.tiposPermitidosFilhos.length===0||t.filhos.filter(n=>!t.tiposPermitidosFilhos.includes(n.tipo)).length>0)){const n=t.tiposPermitidosFilhos.length===0?"n\xE3o poderia possuir filhos":`somente poderia possuir ${t.tiposPermitidosFilhos.join(", ")}`;e.push({tipo:ae.ERROR,descricao:`Segundo a Legisla\xE7\xE3o vigente, ${t.descricao} ${n}`})}return e},mu=1,lp=5,up=10,cp=50,fp=100,dp=500,hp=1e3,si={M:1e3,CM:900,D:500,CD:400,C:100,XC:90,L:50,XV:40,X:10,IX:9,V:5,IV:4,I:1},pp=t=>/^\d+$/.test(t),sn=t=>/^\d{1,}([-]?[a-zA-Z]+)?$/.test(t),mp=t=>/[a-zA-Z]+/.test(t),gu=t=>/^(?=[MDCLXVI])M*(C[MD]|D?C{0,3})(X[CL]|L?X{0,3})(I[XV]|V?I{0,3})$/i.test(t),vu=t=>{if(!mp(t))throw new Error(`O valor ${t} n\xE3o \xE9 uma sequ\xEAncia de letras v\xE1lida.`);t=t.toLowerCase();let e=0;return[...t].forEach(n=>e=n.toLowerCase().charCodeAt(0)-97+1+e*26),e.toString()},Si=t=>{const e=parseInt(t);return e?Pi(e):t},Pi=t=>{let e="",n=0;for(;t>0;)n=(t-1)%26,t=(t-n-1)/26,e=e.replace(/^/,String.fromCharCode(97+n));return e},yu=t=>{if(!gu(t))throw new Error("O valor '"+t+"' n\xE3o \xE9 um n\xFAmero em algarismo romano v\xE1lido.");t=t.toLowerCase();let e=0,n=mu;for(let r=t.length-1;r>=0;r--){const o=gp(t.charAt(r));o>n&&(n=o),o<n?e-=o:e+=o}return e.toString()},gp=t=>{switch(t.toLowerCase()){case"i":return mu;case"v":return lp;case"x":return up;case"l":return cp;case"c":return fp;case"d":return dp;case"m":return hp;default:return 0}},Rr=t=>{let e="",n,r=t.search(/[a-zA-Z-]/)===-1?parseInt(t):parseInt(t.substring(0,t.search(/[a-zA-Z-]/)));const o=t.search(/[a-zA-Z-]/)===-1?"":t.substring(t.search(/[a-zA-Z-]/));for(const i in si){if(n=Math.floor(r/si[i]),n>=0)for(let a=0;a<n;a++)e+=i;r=r%si[i]}return e+o},bt=(t,e)=>{const n=t.search(/-[a-zA-Z-]/)===-1?t:t.substring(0,t.search(/-[a-zA-Z-]/)),r=t.search(/-[a-zA-Z-]/)===-1?"":t.substring(t.search(/-[a-zA-Z-]/));return(e?e(n):n)+(r==null?void 0:r.toUpperCase())},vp=t=>{const e=t==null?void 0:t.split("-"),[n,...r]=e,o=r.map(i=>vu(i));return(o==null?void 0:o.length)>0?n+"-"+(o==null?void 0:o.join("-").toUpperCase()):n},ts=(t,e)=>!t||e&&t<e?1:!e||t&&t>e?-1:0,yp=t=>t.replace(/\./g,"").replace(/["]/g,"").replace(/^Parte$/i,"").replace(/^Livro$/i,"").replace(/^Titulo$/i,"").replace(/^Capitulo$/i,"").replace(/^Secao$/i,"").replace(/^Subsecao$/i,"").replace(/^Artigo$/i,"").replace(/^Paragrafo$/i,"").replace(/^Inciso$/i,"").replace(/^Alinea$/i,"").replace(/^Item$/i,"").replace(/Art/i,"").replace(//i,"").replace(//i,"").replace(/[]/i,"").replace(/[-][/s]*$/,"").replace(/[)][/s]*$/,"").trim(),bp=t=>{var e,n;return((n=(e=t.hierarquia)===null||e===void 0?void 0:e.pai)===null||n===void 0?void 0:n.uuidAlteracao)!==void 0&&t.descricaoSituacao!==re.DISPOSITIVO_ORIGINAL},Ep=t=>{const e=xp(t);if(Fn(t))return new vr(e);const n=_p(t),r=e>0,o=Ap(t);if(!r&&!o)return new vr(n);if(!r&&o){const i=new vr(0);return i.addNovoSeqOrdem(n),i}if(r&&o){const i=new vr(e);return i.addNovoSeqOrdem(n),i}return new vr(e+n)},Ap=t=>{var e;return(ie(t)?(e=Kh(t))!==null&&e!==void 0?e:[]:nu(t)).filter(r=>Fn(r)).length>0},xp=t=>{let e=0;const n=t.tipo;do(Fn(t)||iu(t))&&t.tipo===n&&e++,t=ie(t)?Jr(t.pai,t):Me(t);while(t!==void 0);return e},_p=t=>{let e=0;const n=t.tipo;for(;t!==void 0&&!Fn(t)&&!iu(t)&&t.tipo===n;)e++,t=ie(t)?Jr(t.pai,t):Me(t);return e},qo=t=>Ep(t).getNumeracao(Yl(t));class vr{constructor(e){this.seq=e}addNovoSeqOrdem(e){this.seq>0?this.letras=Pi(e).toUpperCase():e>1&&(this.letras=Pi(e-1).toUpperCase())}getNumeracao(e){var n;return""+this.seq+(e&&this.letras?"-":"")+((n=this.letras)!==null&&n!==void 0?n:"")}}const Op=t=>{const e=[];return t===null&&e.push({tipo:ae.ERROR,descricao:"O dispositivo n\xE3o foi informado"}),t!==null&&t.numero&&t.numero.trim().length===0&&e.push({tipo:ae.ERROR,descricao:"O dispositivo n\xE3o cont\xE9m numera\xE7\xE3o"}),t!==null&&t.rotulo&&t.rotulo.trim().length===0&&e.push({tipo:ae.ERROR,descricao:"O dispositivo n\xE3o cont\xE9m r\xF3tulo"}),e},wp=t=>{var e,n,r,o,i,a,f;const u=[];return t===null&&u.push({tipo:ae.ERROR,descricao:"O dispositivo n\xE3o foi informado"}),t!==null&&t.numero!==void 0&&t.numero.trim().length===0&&u.push({tipo:ae.ERROR,descricao:"O dispositivo n\xE3o cont\xE9m numera\xE7\xE3o"}),t!==null&&((e=t.rotulo)===null||e===void 0?void 0:e.trim().length)===0&&u.push({tipo:ae.ERROR,descricao:"O dispositivo n\xE3o cont\xE9m r\xF3tulo"}),t!==null&&!lt(t)&&((n=t.rotulo)===null||n===void 0?void 0:n.endsWith(t.tipo))&&u.push({tipo:ae.ERROR,descricao:"O r\xF3tulo informado n\xE3o \xE9 v\xE1lido. Numere o dispositivo"}),t!==null&&oe(t)&&we(t)&&!xe(t)&&((r=t.rotulo)===null||r===void 0?void 0:r.endsWith("\xFAnico."))&&u.push({tipo:ae.ERROR,descricao:`Quando houver mais de um ${t.descricao}, n\xE3o pode se tratar de '${t.descricao} \xFAnico'`}),t!==null&&!_t(t)&&t.numero!==void 0&&((o=t.pai)===null||o===void 0?void 0:o.indexOf(t))===0&&t.numero!=="1"&&u.push({tipo:ae.ERROR,descricao:"\xC9 necess\xE1rio um omissis antes deste dispositivo"}),t!==null&&Xe(t)&&(((i=Me(t))===null||i===void 0?void 0:i.tipo)===H.omissis.name||((a=Hr(t))===null||a===void 0?void 0:a.tipo)===H.omissis.name)&&u.push({tipo:ae.ERROR,descricao:"N\xE3o pode haver mais de um omissis sequencialmente"}),t!==null&&t.numero!==void 0&&t.pai.indexOf(t)>0&&aa(t).filter(c=>c.numero!==void 0).filter(c=>ts(c.numero,t.numero)===-1).length>0&&u.push({tipo:ae.ERROR,descricao:"O dispositivo tem n\xFAmero menor do que algum dispositivo anterior"}),t!==null&&t.numero!==void 0&&!t.pai.isLastFilho(t)&&ru(t).filter(c=>t.pai===c.pai&&c.numero!==void 0).filter(c=>ts(c.numero,t.numero)===1).length>0&&u.push({tipo:ae.ERROR,descricao:"O dispositivo tem n\xFAmero maior do que algum dispositivo posterior"}),t!==null&&!_t(t)&&t.numero!==void 0&&Ge(t).filter(c=>c.numero&&c.numero===t.numero).length>1&&u.push({tipo:ae.ERROR,descricao:"O dispositivo tem n\xFAmero igual a de outro dispositivo"}),t!==null&&!_t(t)&&t.numero!==void 0&&pp(t.numero)&&parseInt(t.numero)>2&&t.pai.indexOf(t)>0&&on(t)&&t.tipo!==((f=on(t))===null||f===void 0?void 0:f.rotulo)&&Ge(t).filter(c=>c.numero&&c.numero===t.numero).length===0&&parseInt(t.numero)!==parseInt(on(t).numero)+1&&u.push({tipo:ae.ERROR,descricao:"\xC9 necess\xE1rio um omissis antes deste dispositivo"}),u},Ip=t=>oe(t)?wp(t):Op(t),Sp=t=>{const e=[];return!t.alteracoes||!t.alteracoes.base?[]:(pu(t.alteracoes.base)||e.push({tipo:ae.ERROR,descricao:"N\xE3o foi informada uma norma alterada v\xE1lida"}),e)},qe=t=>Fn(t)?[]:sp(t).concat(Xh(t),Ip(t),Sp(t));class Oo{constructor(e){this.descricaoSituacao=re.DISPOSITIVO_SUPRIMIDO,this.dispositivoOriginal=e}getAcoesPermitidas(e,n){const r=[];return(st(e)?e.pai.pai:e.pai).situacao.descricaoSituacao!==re.DISPOSITIVO_SUPRIMIDO&&r.push(Do),r}}const Mt=t=>{var e;if(Te(t))return"cpt_alt1";if(t.tagId)return t.createNumeroFromRotulo((e=t.rotulo)!==null&&e!==void 0?e:""),(ie(t)?"":t.pai.id+"_")+t.tagId+(nt(t)?"":Xe(t)?aa(t).length+1:t.numero?vp(t.numero):ie(t)?"Art.":"")},la=(t,e=[])=>{if(Te(t)&&t.pai===void 0)return;const n=Mt(t);n&&e.unshift(n),la(t.pai,e)},Pp=t=>{const e=[];return la(t,e),e.join("_")},Tp=t=>{const e=[];return la(t,e),e.join("_")+"_alt1"},ua=t=>{var e,n;return((n=(e=t.hierarquia)===null||e===void 0?void 0:e.pai)===null||n===void 0?void 0:n.uuidAlteracao)!==void 0||t.uuidAlteracao!==void 0},bu=(t,e=0)=>(t==null?void 0:t.pai)===void 0||be(t)?e:ie(t)?oe(t)?++e:e:(e=_t(t==null?void 0:t.pai)?e+2:++e,ie(t==null?void 0:t.pai)?e:bu(t.pai,e)),Np=t=>{var e;const n=t.pai?nt(t.pai)?t.pai.pai:t.pai:void 0;return{tipo:n==null?void 0:n.tipo,uuid:n==null?void 0:n.uuid,uuidAlteracao:n&&oe(t)?(e=Le(t).pai)===null||e===void 0?void 0:e.uuid:void 0}},se=(t,e=!0)=>{var n,r,o;const i=t.pai;return{tipo:t.tipo,nivel:bu(t),agrupador:be(t),hierarquia:{pai:i?Np(t):void 0,posicao:i?i.indexOf(t):void 0,numero:t.numero},editavel:!(Te(t)||t.situacao instanceof Oo),sendoEditado:!1,uuid:t.uuid,lexmlId:t.id&&t.numero&&Mt(t),numero:t.numero,rotulo:(n=t.rotulo)!==null&&n!==void 0?n:"",conteudo:{texto:t.texto},norma:(r=t.alteracoes)===null||r===void 0?void 0:r.base,index:0,acoesPossiveis:e?t.getAcoesPossiveis(t):[],descricaoSituacao:(o=t.situacao)===null||o===void 0?void 0:o.descricaoSituacao,mensagens:Fn(t)?[]:t.mensagens}},Gr=(t,e)=>{e.filhos!==void 0&&e.filhos.forEach(n=>{var r;const o=se(n);ie(n)&&(o.conteudo.texto=n.caput.texto),t.push(o),ie(n)&&n.hasAlteracao()&&((r=n.alteracoes)===null||r===void 0||r.filhos.forEach(i=>{t.push(se(i)),Gr(t,i)})),Gr(t,n)})},rt=t=>{var e;const n=[];return n.push(se(t,!0)),ie(t)&&t.hasAlteracao()&&ie(t)&&t.hasAlteracao()&&((e=t.alteracoes)===null||e===void 0||e.filhos.forEach(r=>{n.push(se(r)),Gr(n,r)})),Gr(n,t),n},Rp=(t,e)=>{var n,r;return!ua(e)||yn(t)?t:(r=(n=Ce(t,{uuid:e.hierarquia?e.hierarquia.pai.uuidAlteracao:e.uuidAlteracao}))===null||n===void 0?void 0:n.alteracoes)!==null&&r!==void 0?r:t},Ce=(t,e,n=!1)=>{var r;const o=Rp(t,e);if(!n&&ua(e)){const a=Ce(o,{uuid:e.hierarquia?e.hierarquia.pai.uuidAlteracao:e.uuidAlteracao});return a!=null&&a.alteracoes?(r=a.alteracoes)===null||r===void 0?void 0:r.filhos.flatMap(f=>{const u=[];return an(f,u),u}).filter(f=>f.uuid===e.uuid)[0]:void 0}if((e==null?void 0:e.tipo)===H.artigo.tipo){const a=o.filhos.find(f=>f.uuid===e.uuid);if(a)return a}const i=(e==null?void 0:e.tipo)===H.articulacao.tipo||(e==null?void 0:e.uuid)===void 0?o:yo(o,e.uuid);if(i!==null)return i},$n=(t,e,n)=>{var r;const o=qe(e);if(o.length>0||e.mensagens&&((r=e.mensagens)===null||r===void 0?void 0:r.length)>0){e.mensagens=o;const i=se(e,n);i.mensagens=qe(e),t.push(i)}},to=(t,e=!0)=>{const n=[];if(!t)return[];if(oe(t)&&ze(t)&&t.filhos.filter(r=>r.tipo===H.omissis.tipo).length>0&&($n(n,t),t.filhos.filter(r=>r.tipo===H.omissis.tipo).forEach(r=>$n(n,r))),Qn(t)||lt(t)){const r=st(t)?t.pai.pai:t.pai;$n(n,r),be(r)&&$n(n,st(t)?t.pai.pai:t.pai),Ge(t).forEach(o=>{!e&&o===t||$n(n,o,!0)})}else e&&!Te(t)&&!be(t)&&$n(n,t,!0);return n},lr=t=>(ie(t)||we(t))&&Ge(t).length===2?Ge(t).filter(e=>t.uuid!==e.uuid):ru(t,!0).filter(e=>e.tipo===t.tipo),Eu=t=>lr(t).map(e=>(e.mensagens=qe(e),se(e)));var K;(function(t){t.ArticulacaoAtualizada="ArticulacaoAtualizada",t.ComandoEmendaGerado="ComandoEmendaGerado",t.DocumentoCarregado="DocumentoCarregado",t.InformarNorma="InformarNorma",t.ElementoModificado="ElementoModificado",t.ElementoIncluido="ElementoIncluido",t.ElementoRemovido="ElementoRemovido",t.ElementoRenumerado="ElementoRenumerado",t.ElementoRestaurado="ElementoRestaurado",t.ElementoSuprimido="ElementoSuprimido",t.ElementoValidado="ElementoValidado",t.ElementoSelecionado="ElementoSelecionado",t.ElementoMarcado="ElementoMarcado",t.SituacaoElementoModificada="SituacaoElementoModificada"})(K||(K={}));const Cp=(t,e)=>{const n=rt(t);return{articulacao:t,modo:e,past:[],present:[],future:[],ui:{events:[{stateType:K.DocumentoCarregado,elementos:n}]}}},Dp=(t,e)=>Cp(e.articulacao,e.classificacao);var ln;(function(t){t.EMENDA="emenda",t.EMENDA_ARTIGO_ONDE_COUBER="emendaArtigoOndeCouber",t.NORMA="norma",t.PROJETO="projeto"})(ln||(ln={}));function kp(t=0){return{next:()=>++t}}const ca=kp();function Ye(t){return class extends t{constructor(){super(...arguments);this.mensagens=[]}}}const Cr="INICIAR_BLOCO",Au="FINALIZAR_BLOCO";class xu{constructor(e){this.tipoAcao=e,this.isDispositivoAlteracao=!0,this.descricao=e===Cr?"Inserir bloco de altera\xE7\xE3o":"Finalizar bloco de altera\xE7\xE3o"}execute(e,n,r,o=!1){return{type:Xi,subType:this.tipoAcao,atual:e,novo:{tipo:r,isDispositivoAlteracao:this.isDispositivoAlteracao,conteudo:{texto:n}},hasDesmembramento:o}}}const Ft=new xu(Cr),bn=new xu(Au);function Je(t){return class extends t{get alteracoes(){}hasAlteracao(){return!1}}}function Lp(t){return class extends t{hasAlteracao(){var e;return this.alteracoes?((e=this.alteracoes.filhos)===null||e===void 0?void 0:e.length)>0:!1}}}var wo;(function(t){t.ConteudoTexto="Conte\xFAdo de Texto"})(wo||(wo={}));function ot(t){return class extends t{constructor(){super(...arguments);this.tipoConteudo=wo.ConteudoTexto,this.texto=""}}}function qp(t){return class extends t{constructor(){super(...arguments);this.tipoConteudo=wo.ConteudoTexto,this._texto=pt}get texto(){return this._texto}set texto(e){const n=qt(e);this._texto=n===Kr?Kr:pt}}}function En(t){return class extends t{addFilho(e,n){if(n&&this.filhos.indexOf(n)>=0){const r=this.filhos.indexOf(n)+1;this.isLastFilho(n)?this.filhos.push(e):this.filhos.splice(r,0,e)}else this.filhos.push(e);ie(e)&&Le(e).addArtigo(e,n)}addFilhoOnPosition(e,n){var r;if(this.filhos.splice(n,0,e),ie(e)){const o=(r=Me(e))!==null&&r!==void 0?r:Jr(e.pai.pai,e.pai),i=Le(e),a=o?i.indexOfArtigo(o)+1:0;i.addArtigoOnPosition(e,a)}}hasArtigos(){return this.filhos.filter(e=>ie(e)).length>0}isLastFilho(e){return this.filhos.indexOf(e)===this.filhos.length-1}get filhos(){var e;return this._filhos=(e=this._filhos)!==null&&e!==void 0?e:[],this._filhos}indexOf(e){return this.filhos.indexOf(e)}removeFilho(e){this._filhos=this.filhos.filter(n=>n.uuid!==e.uuid),ie(e)&&Le(e).removeArtigo(e)}renumeraFilhos(){var e;this.filhos.filter(n=>!ie(n)).forEach(n=>{n.numero=qo(n),n.createRotulo(n),n.id=Mt(n)}),(e=Le(this.filhos[0]))===null||e===void 0||e.renumeraArtigos()}}}function Mp(t){return class extends t{get filhos(){const e=this.getIncisosCaput(),n=this.paragrafos;return e.concat(n)}getIncisosCaput(){var e,n;return(n=(e=this.caput)===null||e===void 0?void 0:e.filhos)!==null&&n!==void 0?n:[]}get paragrafos(){var e;return this._paragrafos=(e=this._paragrafos)!==null&&e!==void 0?e:[],this._paragrafos}addFilhoOnPosition(e,n){ft(e)?this.caput.addFilhoOnPosition(e,n):this.paragrafos.splice(n-this.getIncisosCaput().length,0,e)}addFilho(e,n){nt(e)?this.caput=e:ft(e)?this.addIncisoCaput(e,n):this.addParagrafo(e,n)}removeFilho(e){var n;ft(e)?(n=this.caput)===null||n===void 0||n.removeFilho(e):this.removeParagrafo(e)}addIncisoCaput(e,n){this.caput.addFilho(e,n)}addParagrafo(e,n){if(n){const r=this.paragrafos.indexOf(n)+1;this.isLastFilho(n)?this.paragrafos.push(e):this.paragrafos.splice(r,0,e)}else this.paragrafos.push(e)}removeParagrafo(e){var n;this._paragrafos=(n=this._paragrafos)===null||n===void 0?void 0:n.filter(r=>r.uuid!==e.uuid?r:r.pai=void 0)}isLastFilho(e){return this.paragrafos.indexOf(e)===this.paragrafos.length-1}indexOf(e){return ft(e)?this.caput.indexOf(e):this.filhos.indexOf(e)}renumeraIncisos(){var e;(e=this.caput)===null||e===void 0||e.renumeraFilhos()}renumeraParagrafos(){this.paragrafos.filter(e=>!oe(e)&&!Fn(e)).forEach(e=>{e.numero=qo(e),e.createRotulo(e),e.id=Mt(e)})}isParagrafoUnico(){return this.paragrafos.length===1}renumeraFilhos(){this.renumeraIncisos(),this.renumeraParagrafos()}}}function jn(t){return class extends t{addFilho(e,n){if(n){const r=this.filhos.indexOf(n)+1;this.isLastFilho(n)?this.filhos.push(e):this.filhos.splice(r,0,e)}else this.filhos.push(e)}addFilhoOnPosition(e,n){this.filhos.splice(n,0,e)}hasArtigos(){return this.filhos.filter(e=>ie(e)).length>0}isLastFilho(e){return this.filhos.indexOf(e)===this.filhos.length-1}get filhos(){var e;return this._filhos=(e=this._filhos)!==null&&e!==void 0?e:[],this._filhos}indexOf(e){return this.filhos.indexOf(e)}removeFilho(e){this._filhos=this.filhos.filter(n=>n.uuid!==e.uuid)}renumeraFilhos(){this.filhos.filter(e=>!oe(e)&&(e.situacao.descricaoSituacao===re.DISPOSITIVO_NOVO||e.situacao.descricaoSituacao===re.DISPOSITIVO_ADICIONADO)).forEach(e=>{e.numero=qo(e),e.createRotulo(e),e.id=Mt(e)})}}}function An(t){return class extends t{constructor(){super(...arguments);this.type="NumeracaoAgrupadorLcp95",this.informouAgrupadorUnico=!1}getNomeAgrupadorUnico(e){return`${e.descricao} \xFAnic${e.artigoDefinido}`.toLocaleUpperCase()}normalizaNumeracao(e){const n=e.trim().split(/\s+/);if(n.length!==2)return"";const o=n[1].split("-");return gu(o[0])?(o[0]=yu(o[0]),o.join("-")):""}createNumeroFromRotulo(e){if(this.informouAgrupadorUnico=/.*[u]nic[ao]/i.test(e),this.informouAgrupadorUnico)this.numero="1";else{const n=this.normalizaNumeracao(e);this.numero=this.informouAgrupadorUnico?"1":sn(n)?n:void 0}}createRotulo(e){var n;const r=e.descricao===void 0?(n=e.name)!==null&&n!==void 0?n:"":e.descricao.toLocaleUpperCase();this.numero===void 0?this.rotulo=_t(e)?"\u201C"+e.tipo:e.tipo:this.numero!==void 0&&!sn(this.numero)?this.rotulo=r+" "+this.numero:e.isDispositivoAlteracao&&_t(e)?this.rotulo="\u201C"+(this.informouAgrupadorUnico?this.getNomeAgrupadorUnico(e):r+" "+bt(this.numero,Rr)):Ge(e).length===1?this.rotulo=this.getNomeAgrupadorUnico(e):this.rotulo=r+" "+bt(this.numero,Rr)}getNumeracaoParaComandoEmenda(){const e=new ht,n=this.numero?bt(this.numero,Rr):"???";e.append(this.descricao+" "+n);const r=this.pai;return!!r&&!Nr(r)&&(e.append(r.pronomePossessivoSingular),e.append(" "),e.append(r.getNumeracaoParaComandoEmenda())),e.toString()}getNumeracaoComRotuloParaComandoEmenda(){return this.getNumeracaoParaComandoEmenda()}}}function Fp(t){return class extends t{constructor(){super(...arguments);this.type="NumeracaoAlineaLcp95",this.SUFIXO=")"}normalizaNumeracao(e){const n=/[a-z]+(-[a-zA-Z]+)*/.exec(e.trim());return n?n[0]:tn(e).trim().replace(/\)$/,"").trim()}createNumeroFromRotulo(e){this.numero=bt(this.normalizaNumeracao(e),vu)}createRotulo(){this.rotulo=this.numero===void 0?H.alinea.name:bt(this.numero,Si)+this.SUFIXO}getNumeracaoParaComandoEmenda(){var e;return this.numero===void 0?((e=H.alinea.descricao)===null||e===void 0?void 0:e.toLocaleLowerCase())+"":"\u201C"+bt(this.numero,Si)+"\u201D"}getNumeracaoComRotuloParaComandoEmenda(){var e,n;return this.numero===void 0?((e=H.alinea.descricao)===null||e===void 0?void 0:e.toLocaleLowerCase())+"":((n=H.alinea.descricao)===null||n===void 0?void 0:n.toLocaleLowerCase())+" "+this.getNumeracaoParaComandoEmenda()}}}function jp(t){return class extends t{constructor(){super(...arguments);this.type="NumeracaoArtigoLcp95",this.PREFIXO="Art. ",this.SUFIXO="\xBA",this.ARTIGO_UNICO="Artigo \xFAnico.",this.informouArtigoUnico=!1}normalizaNumeracao(e){return e.replace(/["]/g,"").replace(/\./g,"").replace(/artigo [u]nico/i,"1").replace(/(art[.]{0,1})/i,"").replace(/[]/i,"").trim()}createNumeroFromRotulo(e){const n=this.normalizaNumeracao(e);this.informouArtigoUnico=/.[u]nico/i.test(e),this.numero=this.informouArtigoUnico?"1u":sn(n)?n:void 0}createRotulo(e){e===void 0?this.rotulo=H.artigo.descricao:e.situacao.descricaoSituacao===re.DISPOSITIVO_ADICIONADO?this.rotulo="Art.":this.numero===void 0?this.rotulo=_t(e)?"\u201C"+e.tipo:e.tipo:this.numero!==void 0&&!sn(this.numero)?this.rotulo=this.PREFIXO+this.numero+this.SUFIXO:_t(e)?this.rotulo="\u201C"+(this.informouArtigoUnico?this.ARTIGO_UNICO:this.PREFIXO+this.getNumeroAndSufixoNumeracao()):Le(e).artigos.length===1?this.rotulo=this.ARTIGO_UNICO:this.rotulo=this.PREFIXO+this.numero===void 0?void 0:this.PREFIXO+this.getNumeroAndSufixoNumeracao()}getNumeroAndSufixoNumeracao(e=!1){var n;const r=(n=this.numero)===null||n===void 0?void 0:n.split("-"),[o,...i]=r;return(parseInt(o!=null?o:"1",10)<10?o+this.SUFIXO:o)+(i.length>0?"-"+(i==null?void 0:i.map(Si).join("-").toUpperCase()):"")+(!e&&parseInt(o!=null?o:"1",10)>9?".":"")}getNumeracaoParaComandoEmenda(){var e;return this.numero===void 0?((e=H.artigo.descricao)===null||e===void 0?void 0:e.toLowerCase())+"":this.informouArtigoUnico?"artigo \xFAnico":this.getNumeroAndSufixoNumeracao(!0)}getNumeracaoComRotuloParaComandoEmenda(){var e;return this.numero===void 0?((e=H.artigo.descricao)===null||e===void 0?void 0:e.toLowerCase())+"":this.informouArtigoUnico?"artigo \xFAnico":"art. "+this.getNumeroAndSufixoNumeracao()}}}function Bp(t){return class extends t{constructor(){super(...arguments);this.type="NumeracaoIndisponivel"}createRotulo(){this.rotulo=void 0}createNumeroFromRotulo(){}getNumeracaoParaComandoEmenda(){return""}getNumeracaoComRotuloParaComandoEmenda(){return"caput"}}}function Up(t){return class extends t{constructor(){super(...arguments);this.type="NumeracaoDispositivoGenericoLcp95",this.SUFIXO=" -"}createNumeroFromRotulo(){}createRotulo(){this.rotulo=this.numero===void 0?"dg":this.numero+this.SUFIXO}getNumeracaoParaComandoEmenda(){return this.numero===void 0?"dg":this.numero}getNumeracaoComRotuloParaComandoEmenda(){return this.getNumeracaoParaComandoEmenda()}}}function zp(t){return class extends t{constructor(){super(...arguments);this.type="NumeracaoIncisoLcp95",this.SUFIXO=" \u2013"}normalizaNumeracao(e){const n=/[CDILMVX]+(-[a-zA-Z]+)*/.exec(e);return n?n[0]:tn(e).trim().replace(/-$/,"").trim()}createNumeroFromRotulo(e){const n=bt(this.normalizaNumeracao(e),yu);this.numero=sn(n)?n:void 0}createRotulo(){this.rotulo=this.numero===void 0?H.inciso.name:bt(this.numero,Rr)+this.SUFIXO}getNumeracaoParaComandoEmenda(){var e;return this.numero===void 0?((e=H.inciso.descricao)===null||e===void 0?void 0:e.toLocaleLowerCase())+"":bt(this.numero,Rr)}getNumeracaoComRotuloParaComandoEmenda(){var e,n;return this.numero===void 0?((e=H.inciso.descricao)===null||e===void 0?void 0:e.toLocaleLowerCase())+"":((n=H.inciso.descricao)===null||n===void 0?void 0:n.toLocaleLowerCase())+" "+this.getNumeracaoParaComandoEmenda()}}}function Vp(t){return class extends t{constructor(){super(...arguments);this.type="NumeracaoIndisponivel"}createRotulo(){this.rotulo=void 0}createNumeroFromRotulo(){}getNumeracaoParaComandoEmenda(){return""}getNumeracaoComRotuloParaComandoEmenda(){return""}}}function Hp(t){return class extends t{constructor(){super(...arguments);this.type="NumeracaoItemLcp95",this.SUFIXO="."}normalizaNumeracao(e){const n=/\d+(-[a-zA-Z]+)*/.exec(e.trim());return n?n[0]:tn(e).trim().replace(/\.$/,"").trim()}createNumeroFromRotulo(e){const n=this.normalizaNumeracao(e);this.numero=sn(n)?n:void 0}createRotulo(){this.rotulo=this.numero===void 0?H.item.name:bt(this.numero)+this.SUFIXO}getNumeracaoParaComandoEmenda(){var e;return this.numero===void 0?((e=H.item.descricao)===null||e===void 0?void 0:e.toLowerCase())+"":bt(this.numero)}getNumeracaoComRotuloParaComandoEmenda(){var e,n;return this.numero===void 0?((e=H.item.descricao)===null||e===void 0?void 0:e.toLocaleLowerCase())+"":((n=H.item.descricao)===null||n===void 0?void 0:n.toLocaleLowerCase())+" "+this.getNumeracaoParaComandoEmenda()}}}function $p(t){return class extends t{constructor(){super(...arguments);this.type="NumeracaoParagrafoLcp95",this.PREFIXO="\xA7 ",this.SUFIXO="\xBA",this.PARAGRAFO_UNICO="Par\xE1grafo \xFAnico.",this.informouParagrafoUnico=!1}normalizaNumeracao(e){return e.trim().replace(/\./g,"").replace(//i,"").replace(/par[a]grafo [u]nico/i,"1").replace(/[]/i,"").trim()}createNumeroFromRotulo(e){const n=this.normalizaNumeracao(e);this.informouParagrafoUnico=/.[u]nico/i.test(e),this.numero=this.informouParagrafoUnico?"1u":sn(n)?n:void 0}createRotulo(e){var n;this.numero===void 0||!e?this.rotulo=H.paragrafo.name:sn(this.numero)?e.isDispositivoAlteracao?this.rotulo=this.informouParagrafoUnico?this.PARAGRAFO_UNICO:this.PREFIXO+this.getNumeroAndSufixoNumeracao():((n=e.pai)===null||n===void 0?void 0:n.filhos.filter(r=>we(r)).length)===1?this.rotulo=this.PARAGRAFO_UNICO:this.rotulo=this.PREFIXO+this.numero===void 0?void 0:this.PREFIXO+this.getNumeroAndSufixoNumeracao():this.rotulo=this.getNumeroAndSufixoNumeracao()}getNumeroAndSufixoNumeracao(){if(!this.numero)return"";const e=this.numero.search(/[a-zA-Z-]/)===-1?parseInt(this.numero):parseInt(this.numero.substring(0,this.numero.search(/[a-zA-Z-]/))),n=this.numero.search(/[a-zA-Z-]/)===-1?"":this.numero.substring(this.numero.search(/[a-zA-Z-]/));return(e<10?e+this.SUFIXO:e)+((n==null?void 0:n.length)>0?n:"")+(e>9?".":"")}getNumeracaoParaComandoEmenda(){var e;return this.numero===void 0?((e=H.paragrafo.descricao)===null||e===void 0?void 0:e.toLocaleLowerCase())+"":this.isParagrafoUnico()?"par\xE1grafo \xFAnico":this.getNumeroAndSufixoNumeracao()}getNumeracaoComRotuloParaComandoEmenda(){var e;return this.numero===void 0?((e=H.paragrafo.descricao)===null||e===void 0?void 0:e.toLocaleLowerCase())+"":this.isParagrafoUnico()?"par\xE1grafo \xFAnico":"\xA7 "+this.getNumeroAndSufixoNumeracao()}isParagrafoUnico(){var e;return this.isDispositivoAlteracao&&this.informouParagrafoUnico||((e=this.pai)===null||e===void 0?void 0:e.filhos.filter(n=>we(n)).length)===1}}}const me=[];me.push(yl);me.push(gn);me.push(vn);me.push(Et);me.push(Ft);me.push(bn);me.push(Rl);me.push(Cl);me.push(Dl);me.push(kl);me.push(Ii);me.push(Br);me.push(Ur);me.push(Ll);me.push(ql);me.push(Nh);me.push(Rh);me.push(Ch);me.push(zr);me.push(Vl);me.push(Vr);me.push(Ml);me.push(Fl);me.push(jl);me.push(Bl);me.push(Ul);me.push(zl);me.push(Hl);me.push($l);me.push(Kl);me.push(It);me.push(Do);me.push(Nl);me.push(Xl);me.push(fh);me.push(dh);me.push(hh);me.push(dl);me.push(ph);me.push(mh);const Bn=[];Bn.push(Yi);Bn.push(sl);Bn.push(Ji);Bn.push(No);Bn.push(ll);Bn.push(cl);const Kp=t=>me.includes(t),fa=[...me,...Bn,Ql],Gp=t=>fa.filter(e=>e.descricao===t.trim())[0],or=t=>fa.filter(e=>e instanceof wt&&e.tipo===t)[0];function xn(t){return class extends t{getAcoesPossiveis(e){var n,r,o,i;const a=[];if(!be(e))return[];if(aa(e).length===0&&nu(e).length>0&&Uh(e)||a.push(It),e.pai&&Te(e.pai)&&be(e.pai)&&on(e)===void 0){const f=(n=e.tiposPermitidosPai)===null||n===void 0?void 0:n.indexOf(e.pai.tipo);(r=e.tiposPermitidosPai)===null||r===void 0||r.filter((u,c)=>c>f).forEach(u=>a.push(or(u)))}if(e.pai&&!Te(e.pai)&&be(e.pai)&&e.pai.indexOf(e)===0){const f=(o=e.tiposPermitidosPai)===null||o===void 0?void 0:o.indexOf(e.pai.tipo);(i=e.tiposPermitidosPai)===null||i===void 0||i.filter((u,c)=>c>f).forEach(u=>a.push(or(u)))}return e.pai&&e.pai.indexOf(e)>0&&be(e.pai)&&!Te(e.pai)&&a.push(or(e.pai.tipo)),oe(e)&&a.push(Et),e.getAcoesPermitidas(e,a)}getAcaoPossivelTab(e){}getAcaoPossivelShiftTab(e){}}}const Wr=t=>{var e,n;return oe(t.pai)&&t.filhos.length===0&&t.tipo!==H.omissis.name&&((e=Me(t))===null||e===void 0?void 0:e.tipo)!==H.omissis.name&&((n=Hr(t))===null||n===void 0?void 0:n.tipo)!==H.omissis.name},Wp=t=>{var e;return((e=t.pai.filhos)===null||e===void 0?void 0:e.filter(n=>n.situacao.descricaoSituacao!==re.DISPOSITIVO_ADICIONADO).length)===0};function Qp(t){return class extends t{getAcoesPossiveis(e){const n=[];return Tn(e)?(n.push(It),qn(e)!==void 0&&n.push(gn),Ln(e)!==void 0&&n.push(vn),oe(e)&&n.push(Et),oe(e)&&dt(e)&&(n.push(Ft),Mn(e)&&n.push(bn)),(e.texto.length===0||Jn(e))&&n.push(Ji),(e.texto.length===0||tt(e))&&n.push(ll),(xe(e)||je(e))&&n.push(we(e.pai.pai)?Ur:Br),(!kt(e)||Me(e)!==void 0&&Xe(Me(e)))&&n.push(Ll),Wr(e)&&n.push(Rl),e.getAcoesPermitidas(e,n)):[]}getAcaoPossivelTab(e){var n;if(!!Tn(e))return(n=e.tiposPermitidosFilhos)===null||n===void 0?void 0:n.map(r=>{const o="transformar"+e.tipo+"Em"+r;return e.getAcoesPossiveis(e).filter(i=>i instanceof ce).filter(i=>i instanceof ce&&i.nomeAcao&&o&&i.nomeAcao===o)[0]})[0]}getAcaoPossivelShiftTab(e){var n;if(!!Tn(e))return xe(e)||je(e)?we(e.pai.pai)?Ur:Br:(n=e.tiposPermitidosPai)===null||n===void 0?void 0:n.map(r=>{const o="transformar"+e.tipo+"Em"+r;return e.getAcoesPossiveis(e).filter(i=>i instanceof ce).filter(i=>i instanceof ce&&i.nomeAcao&&o&&i.nomeAcao===o)[0]})[0]}}}function Zp(t){return class extends t{getAcoesPossiveis(e){var n,r,o,i,a,f;const u=[];if(!ie(e))return[];if(u.push(Yi),u.push(It),qn(e)!==void 0&&u.push(gn),Ln(e)!==void 0&&u.push(vn),oe(e)&&!lt(e)&&u.push(Et),oe(e)&&dt(e)&&(u.push(Ft),Mn(e)&&u.push(bn)),e.alteracoes&&u.push(yl),!e.hasAlteracao()&&!oe(e)&&(e.texto.length===0||!tt(e))&&u.push(sl),!e.hasAlteracao()&&!oe(e)&&(e.texto.length===0||tt(e))&&u.push(No),!e.hasAlteracao()&&!oe(e)&&!ze(e)&&u.push(Ft),e.pai.indexOf(e)>0&&u.push(ql),e.pai&&!oe(e)&&Te(e.pai)&&e.pai.filhos.filter(c=>be(c)).length===0&&u.push(dl),!oe(e)&&e.pai&&Gh(e)&&u.push(or(Za(e).tipo)),!oe(e)&&be(e.pai)){const c=(r=(n=e.tiposPermitidosPai)===null||n===void 0?void 0:n.indexOf(e.pai.tipo))!==null&&r!==void 0?r:0;(o=e.tiposPermitidosPai)===null||o===void 0||o.filter(()=>c>0).filter((s,l)=>e.pai.indexOf(e)>0?l>=c:l>c).forEach(s=>u.push(or(s)))}if(!oe(e)&&be(e.pai)&&!Te(e.pai)&&e.pai.indexOf(e)>0&&zh(e)){const c=(a=(i=e.tiposPermitidosPai)===null||i===void 0?void 0:i.indexOf(e.pai.tipo))!==null&&a!==void 0?a:0,s=Yr(e.pai.pai,e.pai,[]).reduce((l,g)=>l.includes(g.tipo)&&Za(g)!==void 0?l:l.concat(g.tipo),[]);(f=e.tiposPermitidosPai)===null||f===void 0||f.filter(()=>c>0).filter(l=>s.includes(l)).forEach(l=>u.push(or(l)))}return e.getAcoesPermitidas(e,u)}getAcaoPossivelTab(e){var n;if(!!ie(e))return(n=e.tiposPermitidosFilhos)===null||n===void 0?void 0:n.map(r=>{const o="transformar"+e.tipo+"Em"+r;return e.getAcoesPossiveis(e).filter(i=>i instanceof ce).filter(i=>i instanceof ce&&i.nomeAcao&&o&&i.nomeAcao===o)[0]})[0]}getAcaoPossivelShiftTab(e){var n;if(!!e.tiposPermitidosFilhos)return st(e)&&(xe(e)||je(e))?Vr:Wt(e)&&(xe(e)||je(e))?zr:Tn(e)&&(xe(e)||je(e))?we(e.pai.pai)?Ur:Br:(n=e.tiposPermitidosPai)===null||n===void 0?void 0:n.map(r=>{const o="transformar"+e.tipo+"Em"+r;return e.getAcoesPossiveis(e).filter(i=>i instanceof ce).filter(i=>i instanceof ce&&i.nomeAcao&&o&&i.nomeAcao===o)[0]})[0]}}}function Xp(t){return class extends t{getAcoesPossiveis(e){return[]}getAcaoPossivelTab(e){}getAcaoPossivelShiftTab(e){}}}function Yp(t){return class extends t{getAcoesPossiveis(e){const n=[];return lt(e)?(n.push(It),oe(e)&&dt(e)&&(n.push(Ft),Mn(e)&&n.push(bn)),(we(e.pai)||nt(e.pai)||ft(e.pai)||Tn(e.pai))&&e.pai.tipoProvavelFilho.length>0&&n.push(fa.filter(r=>r instanceof ce&&r.nomeAcao==="transformarDispositivoGenericoEm"+e.pai.tipoProvavelFilho)[0]),e.getAcoesPermitidas(e,n)):[]}getAcaoPossivelTab(e){}getAcaoPossivelShiftTab(e){}}}function Jp(t){return class extends t{getAcoesPossiveis(e){const n=[];return ft(e)?(n.push(It),qn(e)!==void 0&&n.push(gn),Ln(e)!==void 0&&n.push(vn),oe(e)&&!lt(e)&&n.push(Et),oe(e)&&dt(e)&&(n.push(Ft),Mn(e)&&n.push(bn)),oe(e)&&!lt(e)&&n.push(Et),tt(e)&&n.push(Ji),Jn(e)&&n.push(No),$r(e)&&je(e)&&n.push(cl),st(e)&&(!kt(e)||Me(e)!==void 0&&Xe(Me(e)))&&n.push(Ka),st(e)&&(xe(e)||je(e))&&n.push(Vr),st(e)&&Wr(e)&&n.push(Cl),Wt(e)&&(xe(e)||kt(e))&&n.push(Ii),Wt(e)&&(!kt(e)||Me(e)!==void 0&&Xe(Me(e)))&&n.push(Ga),Wt(e)&&Wr(e)&&n.push(Ii),Wt(e)&&(xe(e)||je(e))&&n.push(zr),e.getAcoesPermitidas(e,n)):[]}getAcaoPossivelTab(e){var n;if(!!ft(e))return st(e)&&(!xe(e)||!kt(e))?Ka:Wt(e)&&(xe(e)||je(e))?Ga:(n=e.tiposPermitidosFilhos)===null||n===void 0?void 0:n.map(r=>{const o=ft(e)?e.pai.tipo:"",i=r.endsWith(H.inciso.name)?we(e)&&(!xe(e)||!kt(e))?"IncisoParagrafo":"IncisoCaput":r,a="transformar"+e.tipo+o+"Em"+i;return e.getAcoesPossiveis(e).filter(f=>f instanceof ce).filter(f=>f instanceof ce&&f.nomeAcao&&a&&f.nomeAcao===a)[0]})[0]}getAcaoPossivelShiftTab(e){var n;if(!!ft(e))return st(e)&&(xe(e)||je(e))?Vr:Wt(e)&&(xe(e)||je(e))?zr:(n=e.tiposPermitidosPai)===null||n===void 0?void 0:n.map(r=>{const o="transformar"+e.tipo+"Em"+r;return e.getAcoesPossiveis(e).filter(i=>i instanceof ce).filter(i=>i instanceof ce&&i.nomeAcao&&o&&i.nomeAcao===o)[0]})[0]}}}function em(t){return class extends t{getAcoesPossiveis(e){const n=[];return Wa(e)?(n.push(It),qn(e)!==void 0&&n.push(gn),Ln(e)!==void 0&&n.push(vn),oe(e)&&!lt(e)&&n.push(Et),oe(e)&&dt(e)&&(n.push(Ft),Mn(e)&&n.push(bn)),(xe(e)||je(e))&&n.push(Vl),Wr(e)&&n.push(Dl),e.getAcoesPermitidas(e,n)):[]}getAcaoPossivelTab(e){var n;if(!!Wa)return(n=e.tiposPermitidosFilhos)===null||n===void 0?void 0:n.map(r=>{const o="transformar"+e.tipo+"Em"+r;return e.getAcoesPossiveis(e).filter(i=>i instanceof ce).filter(i=>i instanceof ce&&i.nomeAcao&&o&&i.nomeAcao===o)[0]})[0]}getAcaoPossivelShiftTab(e){var n;if(!!e.tiposPermitidosFilhos)return(n=e.tiposPermitidosPai)===null||n===void 0?void 0:n.map(r=>{const o="transformar"+e.tipo+"Em"+r;return e.getAcoesPossiveis(e).filter(i=>i instanceof ce).filter(i=>i instanceof ce&&i.nomeAcao&&o&&i.nomeAcao===o)[0]})[0]}}}function tm(t){return class extends t{getAcoesPossiveis(e){const n=[];return Xe(e)?(n.push(It),qn(e)!==void 0&&n.push(gn),Ln(e)!==void 0&&n.push(vn),oe(e)&&!lt(e)&&n.push(Et),oe(e)&&dt(e)&&(n.push(Ft),Mn(e)&&n.push(bn)),Te(e.pai)&&Me(e)!==void 0&&n.push(Fl),nt(e.pai)&&n.push(jl),ie(e.pai)&&n.push(zl),we(e.pai)&&n.push(Bl),ft(e.pai)&&n.push(Ml),Tn(e.pai)&&n.push(Ul),e.getAcoesPermitidas(e,n)):[]}getAcaoPossivelTab(e){}getAcaoPossivelShiftTab(e){}}}function nm(t){return class extends t{getAcoesPossiveis(e){const n=[];return we(e)?(n.push(It),qn(e)!==void 0&&n.push(gn),Ln(e)!==void 0&&n.push(vn),oe(e)&&n.push(Et),e.texto&&tt(e)&&n.push(No),(kt(e)||xe(e))&&n.push(Kl),xe(e)||n.push($l),(je(e)||xe(e))&&n.push(Hl),Wr(e)&&n.push(kl),oe(e)&&dt(e)&&(n.push(Ft),Mn(e)&&n.push(bn)),e.getAcoesPermitidas(e,n)):[]}getAcaoPossivelTab(e){var n;if(!!we(e))return(n=e.tiposPermitidosFilhos)===null||n===void 0?void 0:n.map(r=>{const o=r.endsWith(H.inciso.name)?we(e)&&(!xe(e)||!kt(e))?"IncisoParagrafo":"IncisoCaput":r,i="transformar"+e.tipo+"Em"+o;return e.getAcoesPossiveis(e).filter(a=>a instanceof ce).filter(a=>a instanceof ce&&a.nomeAcao&&i&&a.nomeAcao===i)[0]})[0]}getAcaoPossivelShiftTab(e){var n;if(!!e.tiposPermitidosFilhos)return st(e)&&(xe(e)||je(e))?Vr:Wt(e)&&(xe(e)||je(e))?zr:Tn(e)&&(xe(e)||je(e))?we(e.pai.pai)?Ur:Br:(n=e.tiposPermitidosPai)===null||n===void 0?void 0:n.map(r=>{const o="transformar"+e.tipo+"Em"+r;return e.getAcoesPossiveis(e).filter(i=>i instanceof ce).filter(i=>i instanceof ce&&i.nomeAcao&&o&&i.nomeAcao===o)[0]})[0]}}}class da{constructor(){this.descricaoSituacao=re.DISPOSITIVO_NOVO}getAcoesPermitidas(e,n){return[...new Set(n)].filter(o=>o!==void 0).filter(o=>o.descricao!=="Adicionar"&&o.descricao!=="Atualizar dispositivo").sort((o,i)=>o.descricao.localeCompare(i.descricao))}}function We(t){return class extends t{constructor(){super(...arguments);this.situacao=new da}getAcoesPermitidas(e,n){var r;return(r=this.situacao)===null||r===void 0?void 0:r.getAcoesPermitidas(e,n)}}}class Qe{constructor(e){this.tipo=H[e].tipo,this.tagId=H[e].tagId,this.name=H[e].name,this.descricao=H[e].descricao,this.descricaoPlural=H[e].descricaoPlural,this.tiposPermitidosPai=H[e].tiposPermitidosPai,this.tiposPermitidosFilhos=H[e].tiposPermitidosFilhos,this.tipoProvavelFilho=H[e].tipoProvavelFilho,this.INDICADOR_SEQUENCIA=H[e].INDICADOR_SEQUENCIA,this.INDICADOR_FIM_SEQUENCIA=H[e].INDICADOR_FIM_SEQUENCIA,this.INDICADOR_DESDOBRAMENTO=H[e].INDICADOR_DESDOBRAMENTO}}class rm extends Qe{constructor(){super("articulacao")}get artigos(){var e;return(e=this._artigos)!==null&&e!==void 0?e:[]}addArtigo(e,n){var r;this._artigos=(r=this._artigos)!==null&&r!==void 0?r:[],n!==void 0?this._artigos.splice(this._artigos.indexOf(n)+1,0,e):this._artigos.push(e)}addArtigoOnPosition(e,n){var r;this._artigos=(r=this._artigos)!==null&&r!==void 0?r:[],this._artigos.splice(n,0,e)}removeArtigo(e){var n;this._artigos=(n=this._artigos)!==null&&n!==void 0?n:[],this._artigos=this._artigos.filter(r=>r.uuid!==e.uuid)}renumeraArtigos(){this.artigos.filter(e=>e.situacao.descricaoSituacao===re.DISPOSITIVO_NOVO||e.situacao.descricaoSituacao===re.DISPOSITIVO_ADICIONADO).forEach(e=>{e.numero=qo(e),e.createRotulo(e),e.id=Mt(e)})}indexOfArtigo(e){return this.artigos.indexOf(e)}}class om extends Qe{constructor(){super("artigo")}get texto(){var e,n;return(n=(e=this.caput)===null||e===void 0?void 0:e.texto)!==null&&n!==void 0?n:""}set texto(e){this.caput.texto=e}}const ha=(t,e)=>{e.tipoProvavelFilho!==void 0&&t.filhos.forEach((n,r)=>{var o;const i=Ae(ie(e)&&H.inciso.name===e.tipoProvavelFilho?e.caput:e,e.tipoProvavelFilho);i.texto=(o=n.texto)!==null&&o!==void 0?o:"",i.situacao=n.situacao,i.mensagens=qe(n),n.filhos&&ha(n,i),r===t.filhos.length-1&&e.renumeraFilhos()})},im=(t,e)=>{var n,r;const o=t.pai;let i,a;switch(e.subType){case"transformarAlineaEmItem":case"transformarIncisoCaputEmAlinea":case"transformarIncisoParagrafoEmAlinea":case"transformarParagrafoEmIncisoParagrafo":a=Me(t),i=Ae(a,e.novo.tipo);break;case"transformarDispositivoGenericoEmInciso":case"transformarDispositivoGenericoEmAlinea":case"transformarDispositivoGenericoEmItem":case"transformarOmissisEmAlinea":case"transformarOmissisEmArtigo":case"transformarOmissisEmIncisoCaput":case"transformarOmissisEmIncisoParagrafo":case"transformarOmissisEmItem":case"transformarOmissisEmParagrafo":case"transformarAlineaEmOmissisAlinea":case"transformarItemEmOmissisItem":case"transformarParagrafoEmOmissisParagrafo":case"transformarIncisoCaputEmOmissisIncisoCaput":case"transformarIncisoParagrafoEmOmissisIncisoParagrafo":a=o,i=Ae(o,e.novo.tipo,void 0,o==null?void 0:o.indexOf(t));break;case"transformarParagrafoEmInciso":if(we(t)&&(kt(t)||xe(t))){a=o,i=Ae(a.caput,e.novo.tipo);break}a=Me(t),i=Ae(a,e.novo.tipo);break;case"transformarParagrafoEmIncisoCaput":a=o,i=Ae(a.caput,e.novo.tipo);break;case"transformarArtigoEmParagrafo":a=Me(t),i=Ae(a,e.novo.tipo);break;default:a=t.pai.pai,i=Ae(a,e.novo.tipo,t.pai);break}return i.texto=(r=(n=e.atual.conteudo)===null||n===void 0?void 0:n.texto)!==null&&r!==void 0?r:t.texto,i.createRotulo(i),i.situacao=t.situacao,i.mensagens=qe(i),o==null||o.removeFilho(t),o==null||o.renumeraFilhos(),a==null||a.renumeraFilhos(),ha(t,i),i},_u=(t,e)=>{t.tipo===e.tipo&&t.filhos.forEach(n=>{var r;const o=Ae(ie(e)&&nt(n.pai)?e.caput:e,n.tipo);n.rotulo?o.rotulo=n.rotulo:o.createRotulo(o),o.texto=(r=n.texto)!==null&&r!==void 0?r:"",o.situacao=n.situacao,t.removeFilho(n),o.mensagens=qe(n),n.filhos&&(t.tipo===e.tipo?_u(n,o):ha(n,o)),t.filhos.length===0&&e.renumeraFilhos()})},am=(t,e)=>{var n,r,o;if(!oe(t))return!1;const i=eu(t);return je(i)&&su(qt((o=(r=(n=e.atual)===null||n===void 0?void 0:n.conteudo)===null||r===void 0?void 0:r.texto)!==null&&o!==void 0?o:""))&&dt(t)},sm=We(Qp(Ye(eo(Je(ot(Fp(jn(Qe)))))))),lm=We(Zp(Ye(St(Lp(jp(Mp(om))))))),um=We(Xp(Ye(St(Je(ot(Bp(jn(Qe)))))))),cm=We(Yp(Ye(ko(Je(ot(Up(jn(Qe)))))))),fm=We(Jp(Ye(St(Je(ot(zp(jn(Qe)))))))),dm=We(em(Ye(St(Je(ot(Hp(jn(Qe)))))))),hm=We(nm(Ye(St(Je(ot($p(jn(Qe)))))))),pm=We(xn(Ye(ko(Je(ot(An(En(rm)))))))),mm=We(xn(Ye(St(Je(ot(An(En(Qe)))))))),gm=We(xn(Ye(ko(Je(ot(An(En(Qe)))))))),vm=We(xn(Ye(St(Je(ot(An(En(Qe)))))))),ym=We(xn(Ye(eo(Je(ot(An(En(Qe)))))))),bm=We(xn(Ye(eo(Je(ot(An(En(Qe)))))))),Em=We(xn(Ye(eo(Je(ot(An(En(Qe)))))))),Am=We(xn(Ye(St(Je(ot(An(En(Qe)))))))),xm=We(tm(St(Je(qp(Vp(jn(Qe))))))),_m=t=>{t.isDispositivoAlteracao=oe(t),oe(t)&&(t.renumeraFilhos=()=>{},ie(t)&&(t.caput.renumeraFilhos=()=>{}),Le(t).renumeraFilhos=()=>{},Le(t).renumeraArtigos=()=>{})},Ae=(t,e,n,r)=>{const o=Ou(e,t);return r!==void 0&&r>=0?t.addFilhoOnPosition(o,r):n?t.addFilho(o,n):t.addFilho(o),o},Ou=(t,e)=>{let n;switch(t.toLowerCase()){case"alinea":n=new sm(t.toLowerCase());break;case"artigo":n=new lm,n.caput=Ou(H.caput.tipo,n);break;case"capitulo":n=new mm(t.toLowerCase());break;case"caput":n=new um(t.toLowerCase());break;case"inciso":n=new fm(t.toLowerCase());break;case"item":n=new dm(t.toLowerCase());break;case"livro":n=new vm(t.toLowerCase());break;case"omissis":n=new xm(t.toLowerCase());break;case"paragrafo":n=new hm(t.toLowerCase());break;case"parte":n=new ym(t.toLowerCase());break;case"secao":n=new Em(t.toLowerCase());break;case"subsecao":n=new bm(t.toLowerCase());break;case"titulo":n=new Am(t.toLowerCase());break;default:n=e&&be(e)?new gm("agrupadorGenerico"):new cm("generico"),n.mensagens=[],n.mensagens.push({tipo:ae.WARNING,descricao:"N\xE3o foi poss\xEDvel validar a natureza deste dispositivo com base na legisla\xE7\xE3o vigente"})}return n.uuid=ca.next(),n.name=t,n.pai=e,_m(n),n},pa=()=>{const t=new pm;return t.uuid=ca.next(),t},wu=t=>{t.alteracoes=pa(),t.alteracoes.pai=t},Om=(t,e)=>{var n,r,o,i,a,f,u,c,s,l,g,m,v,h,p,y,d,b,w,_,O,P,A,E,x,S,T,C;let q;if(oe(t))if(e.subType===Cr)q=li(H.artigo.tipo,Le(t)),q.texto=((o=(r=(n=e.novo)===null||n===void 0?void 0:n.conteudo)===null||r===void 0?void 0:r.texto)===null||o===void 0?void 0:o.length)>0?(a=(i=e.novo)===null||i===void 0?void 0:i.conteudo)===null||a===void 0?void 0:a.texto:"";else if(e.subType===Au){const B=Le(t);q=co(B.pai),q.texto=qt((c=(u=(f=e.novo)===null||f===void 0?void 0:f.conteudo)===null||u===void 0?void 0:u.texto)!==null&&c!==void 0?c:"")}else if(am(t,e)){const B=Le(t);q=e.subType===Cr?li(H.artigo.tipo,B):co(B.pai),q.texto=e.subType===Cr?"":qt((g=(l=(s=e.novo)===null||s===void 0?void 0:s.conteudo)===null||l===void 0?void 0:l.texto)!==null&&g!==void 0?g:"")}else q=co(t),q.createRotulo(),q.texto=((h=(v=(m=e.novo)===null||m===void 0?void 0:m.conteudo)===null||v===void 0?void 0:v.texto)===null||h===void 0?void 0:h.length)>0?qt((d=(y=(p=e.novo)===null||p===void 0?void 0:p.conteudo)===null||y===void 0?void 0:y.texto)!==null&&d!==void 0?d:""):"";else t.alteracoes||au((w=(b=e.atual)===null||b===void 0?void 0:b.conteudo)===null||w===void 0?void 0:w.texto)||((_=e.novo)===null||_===void 0?void 0:_.isDispositivoAlteracao)?(t.hasAlteracao()||wu(t),q=li(t.tipo,t.alteracoes),q.texto=((A=(P=(O=e.novo)===null||O===void 0?void 0:O.conteudo)===null||P===void 0?void 0:P.texto)===null||A===void 0?void 0:A.length)>0?(x=(E=e.novo)===null||E===void 0?void 0:E.conteudo)===null||x===void 0?void 0:x.texto:""):(q=co(t),q.texto=(C=(T=(S=e.novo)===null||S===void 0?void 0:S.conteudo)===null||T===void 0?void 0:T.texto)!==null&&C!==void 0?C:"");return q},co=t=>t.hasAlteracao()?wm(t):ie(t)?oe(t)?Ae(t.caput,H.inciso.tipo,void 0,0):Sm(t):be(t)?Pm(t):oe(t)?ze(t)||tt(t)?Ae(t,t.tipoProvavelFilho,t):Ae(t.pai,t.tipo===H.omissis.tipo?t.pai.tipoProvavelFilho:t.tipo,t):Im(t),wm=t=>{var e;return t.pai.isLastFilho(t)&&((e=t==null?void 0:t.pai)===null||e===void 0?void 0:e.pai)?Ae(t.pai.pai,t.pai.tipo,t.pai):Ae(t.pai,t.tipo,t)},Im=t=>{if(tt(t)){const e=t.tipoProvavelFilho;return t.pai.filhos.length>0?Ae(t,e,void 0,0):Ae(t,e)}if(t.situacao.descricaoSituacao!==re.DISPOSITIVO_ORIGINAL&&$r(t)&&t.pai.isLastFilho(t))if(st(t)){const e=t.pai.pai;return e.filhos.filter(n=>we(n)).length>0?Ae(e,H.paragrafo.tipo,void 0,0):Ae(e,H.paragrafo.tipo)}else return Ae(t.pai.pai,t.pai.tipo,t.pai);return Ae(t.pai,t.tipo,t)},Sm=t=>{if(tt(t)){const e=t.tipoProvavelFilho;if(e===H.inciso.tipo){const n=t.caput;return n.filhos.length>0?Ae(n,e,void 0,0):Ae(n,e)}return t.pai.filhos.length>0?Ae(t,e,void 0,0):Ae(t,e)}return $r(t)&&t.pai.isLastFilho(t)?Ae(t.pai.pai,t.pai.tipo,t.pai):Ae(t.pai,t.tipo,t)},Pm=t=>Ae(t,H.artigo.tipo,void 0,0),li=(t,e)=>{const n=Ae(e,t);return n.createRotulo(n),n};class Dr extends da{constructor(){super(...arguments);this.descricaoSituacao=re.DISPOSITIVO_ADICIONADO,this.tipoEmenda=ln.EMENDA}getAcoesPermitidas(e,n){return[...new Set(n)].filter(o=>o!==void 0).filter(o=>o.descricao!=="Adicionar"&&o.descricao!=="Atualizar dispositivo").filter(o=>!(o instanceof wt)).filter(o=>{var i;return!(!((i=o.descricao)===null||i===void 0)&&i.startsWith("Mover"))||Wp(e)}).sort((o,i)=>o.descricao.localeCompare(i.descricao))}}class un{constructor(){this.descricaoSituacao=re.DISPOSITIVO_ORIGINAL}getAcoesPermitidas(e,n){const r=n.filter(o=>!(o instanceof wt)).filter(o=>!(o instanceof Ro)).filter(o=>{var i;return!(!((i=o.descricao)===null||i===void 0)&&i.startsWith("Mover"))}).filter(o=>!(o instanceof ce)).filter(o=>!(o instanceof Co));return Cn(e).filter(o=>oa(o)).length>0?r.push(Do):r.push(Nl),r}}const Iu=(t,e)=>{var n;let r;if(e.endsWith("EmOmissis")){const i=e.replace("transformar","").replace("EmOmissis","");r="transformar"+i+"EmOmissis"+i}else r=e;return(n=t.getAcoesPossiveis(t).filter(i=>i instanceof ce).filter(i=>i.nomeAcao===e||i.nomeAcao.replaceAll("IncisoCaput","Inciso").replaceAll("IncisoParagrafo","Inciso")===r)[0])===null||n===void 0?void 0:n.nomeAcao},no=(t,e)=>t.getAcoesPossiveis(t).filter(n=>n instanceof e).length>0,Tm=(t,e)=>{const n=Iu(t,e.subType);return t.getAcoesPossiveis(t).filter(r=>r instanceof ce&&r.nomeAcao&&r.nomeAcao===n).length>0},Su=(t,e,n)=>{var r,o,i,a,f,u,c,s,l;if(n&&((r=n.ui)===null||r===void 0?void 0:r.events)){const g=He(n.ui.events,K.ElementoModificado);if(g&&g.elementos&&((i=(o=g.elementos[0])===null||o===void 0?void 0:o.conteudo)===null||i===void 0?void 0:i.texto)===t.texto)return!0}return t.texto!==""&&((f=(a=e.atual)===null||a===void 0?void 0:a.conteudo)===null||f===void 0?void 0:f.texto)===""||((c=(u=e.atual)===null||u===void 0?void 0:u.conteudo)===null||c===void 0?void 0:c.texto)&&t.texto.localeCompare((l=(s=e.atual)===null||s===void 0?void 0:s.conteudo)===null||l===void 0?void 0:l.texto)!==0},ns=t=>{const e=se(t);return e.mensagens=qe(t),e},Dn=t=>{var e;t.uuid=ca.next(),(e=t.filhos)===null||e===void 0||e.forEach(n=>Dn(n))},Nm=(t,e)=>e.map(n=>{const r=n.pai;Dn(n);const o=ie(n)?on(n):void 0;return r==null||r.removeFilho(n),n.pai=t,t.addFilho(n,o),n}),Rm=t=>ie(t)&&Le(t).indexOfArtigo(t)===0,Cm=(t,e)=>t.pai.tipo===e,ro=(t,e)=>Te(t)||Rm(e)||e.pai.indexOf(e)===0?t:sr(t),Dm=(t,e)=>{var n,r,o;return be(t)&&t.pai&&t.situacao.descricaoSituacao!==re.DISPOSITIVO_NOVO&&!Jr(t.pai,t)||t.situacao.descricaoSituacao===re.DISPOSITIVO_ORIGINAL&&tt(t)&&ze(t)?!0:lt(t)||tt(t)&&!no(t,mn)||((n=t.situacao)===null||n===void 0?void 0:n.descricaoSituacao)===re.DISPOSITIVO_ORIGINAL&&Zn((o=(r=e.novo)===null||r===void 0?void 0:r.conteudo)===null||o===void 0?void 0:o.texto)},Zn=t=>t!==void 0&&t!=="",Pu=(t,e=!1)=>{const n=[];return Cn(t).forEach(r=>{if(e){const o=qe(r);o&&(r.mensagens=o,n.push(se(r)))}else n.push(se(r))}),n};class it{constructor(){this.eventos=[],this.eventos=zm()}add(e,n){const r=this.get(e);n.forEach(o=>{var i;return Um(r,o)||(i=r.elementos)===null||i===void 0?void 0:i.push(o)})}build(){return this.eventos.filter(e=>e.elementos&&e.elementos.length>0)}get(e){return this.eventos.filter(n=>n.stateType===e)[0]}setReferencia(e){this.get(K.ElementoIncluido).referencia=e}}const km=(t,e)=>{const n=new it;return n.setReferencia(se(ro(t,e))),n.add(K.ElementoIncluido,Pu(e)),n.add(K.ElementoRenumerado,Eu(e)),n.add(K.ElementoValidado,to(e,!1)),n},Mo=t=>{const e=new it,n=se(t);return n.mensagens=qe(t),e.add(K.ElementoModificado,[n]),e.add(K.ElementoValidado,to(t)),e},Fo=(t,e)=>{t.mensagens=qe(t);const n=se(t),r=e?[e]:[];return r.push(n),[{stateType:K.ElementoModificado,elementos:r},{stateType:K.ElementoValidado,elementos:to(t,!0)}]},Lm=(t,e,n)=>{const r=new it;return r.add(K.ElementoRemovido,t),r.add(K.ElementoRenumerado,e.map(o=>se(o))),r.add(K.ElementoValidado,n),r},qm=(t,e,n,r,o)=>{const i=new it;return i.setReferencia(se(ro(t,e))),i.add(K.ElementoIncluido,rt(e)),i.add(K.ElementoRemovido,n),i.add(K.ElementoRenumerado,r),i.add(K.ElementoValidado,o.filter(a=>a.mensagens.length>0)),i},Mm=(t,e)=>{const n=rt(e),r=lr(e),o=Me(e),i=e.pai;i.removeFilho(e),i.renumeraFilhos(),yn(i)&&i.filhos.length===0&&(i.pai.alteracoes=void 0);const a=o&&(_o(o)||ou(o))?o:nt(i)?i.pai:i;return t.artigos.length===1&&r.push(t.artigos[0]),Lm(n,r,to(a,!1)).build()},Fm=(t,e)=>{let n=e.pai.indexOf(e);const r=e.pai.filhos.filter((v,h)=>h<n&&be(v)),o=e.pai,i=[...rt(e)],a=on(e),f=(r==null?void 0:r.length)>0&&!oe(e)?r.reverse()[0]:e.pai,u=(r==null?void 0:r.length)>0&&!oe(e)?r.reverse()[0]:n>0?sr(f.filhos[n-1]):f,c=Te(u)?f:sr(u),s=e.filhos.map(v=>(v.pai=f,o.removeFilho(v),Dn(v),(r==null?void 0:r.length)>0?f.addFilho(v):f.addFilhoOnPosition(v,n++),v));e.pai.removeFilho(e),f==null||f.renumeraFilhos(),o.renumeraFilhos();const l=s.map(v=>rt(v)).flat(),g=f.filhos.filter((v,h)=>h>=n&&(be(v)||_t(v))).map(v=>se(v)).flat();a&&Ge(a).length===1&&g.unshift(se(a));const m=new it;return m.setReferencia(Te(c)&&yn(c)?se(c.pai):se(c)),m.add(K.ElementoIncluido,l),m.add(K.ElementoRemovido,i),m.add(K.ElementoRenumerado,g),m.build()},jm=(t,e)=>{const n=Cn(e).filter(o=>o.situacao.descricaoSituacao!==re.DISPOSITIVO_ORIGINAL);n.forEach(o=>{var i,a,f,u,c,s,l,g,m;o.numero=(a=(i=o.situacao.dispositivoOriginal)===null||i===void 0?void 0:i.numero)!==null&&a!==void 0?a:"",o.rotulo=(u=(f=o.situacao.dispositivoOriginal)===null||f===void 0?void 0:f.rotulo)!==null&&u!==void 0?u:"",o.id=(s=(c=o.situacao.dispositivoOriginal)===null||c===void 0?void 0:c.lexmlId)!==null&&s!==void 0?s:"",o.texto=o.situacao.descricaoSituacao===re.DISPOSITIVO_MODIFICADO?(m=(g=(l=o.situacao.dispositivoOriginal)===null||l===void 0?void 0:l.conteudo)===null||g===void 0?void 0:g.texto)!==null&&m!==void 0?m:"":o.texto,o.situacao=new un});const r=new it;return r.add(K.ElementoRestaurado,n.map(o=>se(o))),r.build()},Bm=(t,e)=>{Cn(e).forEach(r=>r.situacao=new Oo(se(r))),e.alteracoes&&e.alteracoes.filhos.length>0&&e.alteracoes.filhos.forEach(r=>Cn(r).forEach(o=>o.situacao=new Oo(se(o))));const n=new it;return n.add(K.ElementoSuprimido,rt(e)),n.build()},He=(t,e)=>t==null?void 0:t.filter(n=>n.stateType===e)[0],Um=(t,e)=>(t==null?void 0:t.elementos.map(n=>{var r,o;return n.uuid===e.uuid&&n.rotulo===e.rotulo&&((r=n.conteudo)===null||r===void 0?void 0:r.texto)===((o=e.conteudo)===null||o===void 0?void 0:o.texto)}).filter(n=>n).length)>0,zm=()=>[{stateType:K.ElementoIncluido,referencia:void 0,pai:void 0,posicao:void 0,elementos:[]},{stateType:K.ElementoRemovido,referencia:void 0,pai:void 0,posicao:void 0,elementos:[]},{stateType:K.ElementoModificado,referencia:void 0,pai:void 0,posicao:void 0,elementos:[]},{stateType:K.ElementoRenumerado,referencia:void 0,pai:void 0,posicao:void 0,elementos:[]},{stateType:K.ElementoRestaurado,referencia:void 0,pai:void 0,posicao:void 0,elementos:[]},{stateType:K.ElementoSuprimido,referencia:void 0,pai:void 0,posicao:void 0,elementos:[]},{stateType:K.ElementoValidado,referencia:void 0,pai:void 0,posicao:void 0,elementos:[]},{stateType:K.ElementoSelecionado,referencia:void 0,pai:void 0,posicao:void 0,elementos:[]},{stateType:K.ElementoMarcado,referencia:void 0,pai:void 0,posicao:void 0,elementos:[]},{stateType:K.SituacaoElementoModificada,referencia:void 0,pai:void 0,posicao:void 0,elementos:[]}],ut=(t,e)=>{const n=t.past?t.past:[];return n.push(JSON.parse(JSON.stringify(e))),n},Vm=(t,e)=>{const n=t.future?t.future:[];return n.push(JSON.parse(JSON.stringify(e))),n},jt=(t,e)=>{var n;return{articulacao:t.articulacao,modo:t.modo,past:t.past,present:t.present,future:t.future,ui:{events:(n=t.ui)===null||n===void 0?void 0:n.events,message:e}}},Hm=(t,e)=>{var n,r,o,i,a,f,u,c,s,l,g,m,v,h,p,y,d;let b=!1;const w=Ce(t.articulacao,e.atual,!0);if(w===void 0)return t;((n=w.situacao)===null||n===void 0?void 0:n.descricaoSituacao)===re.DISPOSITIVO_ORIGINAL&&Zn((o=(r=e.novo)===null||r===void 0?void 0:r.conteudo)===null||o===void 0?void 0:o.texto)&&(e.atual.conteudo.texto=w.texto,e.novo.conteudo.texto=void 0);const _=_o(w)||ou(w),O=ns(w),P=[];if(Gr(P,w),Su(w,e,t)&&(w.texto=oe(w)?qt((f=(a=e.atual.conteudo)===null||a===void 0?void 0:a.texto)!==null&&f!==void 0?f:""):(i=e.atual.conteudo)===null||i===void 0?void 0:i.texto,b=!0),Dm(w,e))return jt(t,{tipo:ae.INFO,descricao:"N\xE3o \xE9 poss\xEDvel criar dispositivos nessa situa\xE7\xE3o"});const A=Om(w,e);(((u=w.situacao)===null||u===void 0?void 0:u.descricaoSituacao)===re.DISPOSITIVO_ORIGINAL||((c=w.situacao)===null||c===void 0?void 0:c.descricaoSituacao)===re.DISPOSITIVO_MODIFICADO||w.situacao instanceof Dr)&&(A.situacao=new Dr,A.situacao.tipoEmenda=ln.EMENDA),w.situacao instanceof Dr&&(A.situacao.tipoEmenda=t.modo),Zn((l=(s=e.novo)===null||s===void 0?void 0:s.conteudo)===null||l===void 0?void 0:l.texto)&&w.tipo===A.tipo&&ze(w)&&_u(w,A),oe(A)&&((g=A.mensagens)===null||g===void 0||g.push({tipo:ae.WARNING,descricao:"\xC9 necess\xE1rio informar o r\xF3tulo do dispositivo"})),A.pai.renumeraFilhos();const E=km(w,A),x=ns(w);if(Zn((v=(m=e.novo)===null||m===void 0?void 0:m.conteudo)===null||v===void 0?void 0:v.texto)&&w.tipo===A.tipo&&P&&P.length>0&&E.add(K.ElementoRemovido,P),be(A)&&Ge(A).length===2){const S=Ge(A).filter(T=>T!==A);E.add(K.ElementoModificado,[se(S[0])])}return(b||Zn((p=(h=e.novo)===null||h===void 0?void 0:h.conteudo)===null||p===void 0?void 0:p.texto))&&E.add(K.ElementoModificado,[O,x]),(b||Zn((d=(y=e.novo)===null||y===void 0?void 0:y.conteudo)===null||d===void 0?void 0:d.texto)||Xe(w))&&E.add(K.ElementoValidado,[x]),(_o(w)||_)&&(E.add(K.ElementoValidado,[x]),E.add(K.ElementoRenumerado,[x])),{articulacao:t.articulacao,modo:t.modo,past:ut(t,E.build()),present:E.build(),future:[],ui:{events:E.build()}}},$m=(t,e)=>{var n,r,o,i,a;const f=Ce(t.articulacao,e.atual,!0);if(f===void 0)return t;const u=Me(f),c=f.pai.indexOf(f),s=f.pai.filhos.filter((y,d)=>d>=c&&y.tipo!==e.novo.tipo).map(y=>rt(y)).flat();Su(f,e)&&(f.texto=oe(f)?qt((o=(r=e.atual.conteudo)===null||r===void 0?void 0:r.texto)!==null&&o!==void 0?o:""):(n=e.atual.conteudo)===null||n===void 0?void 0:n.texto);let l,g;Cm(f,e.novo.tipo)?(l=Ae(f.pai.pai,e.novo.tipo,void 0,f.pai.pai.indexOf(f.pai)+1),g=on(l)):!oe(f)&&$h(f,e.novo.tipo)||Hh(f,e.novo.tipo)?(g=(i=ia(f,e.novo.tipo))!==null&&i!==void 0?i:Vh(f,e.novo.tipo),l=Ae(g.pai,e.novo.tipo,g)):(l=Ae(f.pai,e.novo.tipo,void 0,f.pai.indexOf(f)),g=u!=null?u:f.pai),l.texto=(a=e.novo.conteudo)===null||a===void 0?void 0:a.texto;const m=f.pai.filhos.filter((y,d)=>d>=c&&y.tipo!==e.novo.tipo);Nm(l,m),l.renumeraFilhos(),l.pai.renumeraFilhos();const v=[...Eu(l)].concat(l.filhos.filter((y,d)=>d>=c&&y.tipo!==f.tipo).map(y=>rt(y)).flat()),h=on(l);h&&Ge(l).length===2&&v.unshift(se(h));const p=new it;return p.setReferencia(se(ro(g.pai&&Te(g)&&yn(g)?g.pai:g,l))),p.add(K.ElementoIncluido,rt(l)),p.add(K.ElementoRemovido,s),p.add(K.ElementoRenumerado,v),{articulacao:t.articulacao,modo:t.modo,past:ut(t,p.build()),present:p.build(),future:[],ui:{events:p.build()}}};class jo{constructor(e){this.descricaoSituacao=re.DISPOSITIVO_MODIFICADO,this.dispositivoOriginal=e}getAcoesPermitidas(e,n){const r=n.filter(o=>!(o instanceof wt)).filter(o=>!(o instanceof Ro)).filter(o=>!(o instanceof Co)).filter(o=>{var i;return!(!((i=o.descricao)===null||i===void 0)&&i.startsWith("Mover"))}).filter(o=>o.descricao!=="Adicionar"&&o.descricao!=="Atualizar dispositivo").filter(o=>!(o instanceof ce));return r.push(Do),r.filter(o=>o!==void 0).sort((o,i)=>o.descricao.localeCompare(i.descricao))}}const Km=(t,e)=>{var n,r,o,i;const a=Ce(t.articulacao,e.atual,!0);if(a===void 0||a.texto===e.atual.conteudo.texto)return t.ui=[],t;const f=se(a);a.texto=oe(a)?qt((o=(r=e.atual.conteudo)===null||r===void 0?void 0:r.texto)!==null&&o!==void 0?o:""):(n=e.atual.conteudo)===null||n===void 0?void 0:n.texto,((i=a.situacao)===null||i===void 0?void 0:i.descricaoSituacao)===re.DISPOSITIVO_ORIGINAL&&(a.situacao=new jo(f));const u=Mo(a);return{articulacao:t.articulacao,modo:t.modo,past:ut(t,Fo(a,f)),present:u.build(),future:t.future,ui:{events:u.build()}}},Gm=(t,e)=>{var n;const r=Ce(t.articulacao,e.atual,!0),o=e.atual.norma,i=(r==null?void 0:r.alteracoes.base)||"";if(r===void 0||!r.alteracoes||i===o)return t.ui=[],t;const a=se(r);r.alteracoes.base=o;const f=new RegExp(`<a.+href=.${i}.*?>.*?</a>`,"ig");r.texto=r.texto.replace(f,op(o)),((n=r.situacao)===null||n===void 0?void 0:n.descricaoSituacao)===re.DISPOSITIVO_ORIGINAL&&(r.situacao=new jo(a));const u=new it,c=se(r,!0);c.mensagens=qe(r),u.add(K.ElementoValidado,[c]),u.add(K.ElementoModificado,[c]),u.add(K.SituacaoElementoModificada,[c]);const s=Mo(r);return{articulacao:t.articulacao,modo:t.modo,past:ut(t,Fo(r,a)),present:s.build(),future:t.future,ui:{events:u.build()}}},Wm=(t,e)=>{var n,r;return((r=(n=e.atual)===null||n===void 0?void 0:n.conteudo)===null||r===void 0?void 0:r.texto)!==t},Qm=(t,e)=>{var n,r,o,i;const a=Ce(t.articulacao,e.atual,!0);if(a===void 0||a.texto===e.atual.conteudo.texto)return t.ui=[],t;const f=se(a);a.texto=oe(a)?qt((o=(r=e.atual.conteudo)===null||r===void 0?void 0:r.texto)!==null&&o!==void 0?o:""):(n=e.atual.conteudo)===null||n===void 0?void 0:n.texto,((i=a.situacao)===null||i===void 0?void 0:i.descricaoSituacao)===re.DISPOSITIVO_ORIGINAL&&(a.situacao=new jo(f));const u=new it,c=se(a,!0);c.mensagens=qe(a),Wm(a.texto,e)&&u.add(K.ElementoModificado,[c]),u.add(K.SituacaoElementoModificada,[c]),u.add(K.ElementoValidado,to(a));const s=Mo(a);return{articulacao:t.articulacao,modo:t.modo,past:ut(t,Fo(a,f)),present:s.build(),future:[],ui:{events:u.build()}}},Tu=(t,e)=>{const n=Ce(t.articulacao,e.atual,!0);if(n===void 0)return t.ui=[],t;if(!Tm(n,e))return t;e.subType=Iu(n,e.subType);const r=[...rt(n)],o=lr(n),i=im(n,e),f=lr(i).concat(o),u=Pu(i,!0),c=st(i)?i.pai.pai:i.pai,s=Me(i);if(s){const v=qe(s);s.mensagens!==v&&u.unshift(se(s))}const l=u.filter(v=>v.uuid===c.uuid).length>0?n.pai:c;l.mensagens=qe(l),u.unshift(se(l));const g=s!=null?s:i.pai,m=qm(nt(g)?g.pai:g,i,r,f.map(v=>(v.mensagens=qe(v),se(v))),u);return{articulacao:t.articulacao,modo:t.modo,past:ut(t,m.build()),present:m.build(),future:[],ui:{events:m.build()}}},Zm=(t,e)=>{const n=Ce(t.articulacao,e.atual,!0);if(n===void 0)return t.ui=[],t;const r=e.type===ea?n.getAcaoPossivelTab(n):n.getAcaoPossivelShiftTab(n);if(!r)return t.ui=[],t;const o={type:ta,subType:r.nomeAcao,atual:e.atual,novo:{tipo:r.tipo}};return Tu(t,o)},Xm=(t,e)=>{const n=Ce(t.articulacao,e.atual,!0);if(n===void 0)return t.ui=[],t;if(!no(n,El))return jt(t,{tipo:ae.ERROR,descricao:"N\xE3o \xE9 poss\xEDvel excluir um dispositivo original mas apenas suprimi-lo."});const r=qn(n);if(r===void 0)return t;const o=[...rt(n),...rt(r)],i=lr(n),a=n.pai,f=a.indexOf(n);Dn(n),Dn(r),a.removeFilho(n),a.removeFilho(r),a.addFilhoOnPosition(r,f),a.addFilhoOnPosition(n,f+1),n.pai=a,r.pai=a,a.renumeraFilhos();const u=f===0?st(r)||oe(n)&&n.tipo==="Artigo"?a.pai:a:Me(r),c=new it;return c.setReferencia(se(ro(u,r))),c.add(K.ElementoIncluido,an(r,[]).concat(an(n,[])).map(s=>(s.mensagens=qe(s),se(s)))),c.add(K.ElementoRemovido,o),c.add(K.ElementoRenumerado,i.map(s=>se(s))),c.add(K.ElementoMarcado,[se(n),e.atual]),c.add(K.ElementoSelecionado,[se(n)]),{articulacao:t.articulacao,modo:t.modo,past:ut(t,c.build()),present:c.build(),future:[],ui:{events:c.build()}}},Ym=(t,e)=>{var n;const r=Ce(t.articulacao,e.atual,!0);if(r===void 0)return t.ui=[],t;if(!no(r,xl))return jt(t,{tipo:ae.ERROR,descricao:"N\xE3o \xE9 poss\xEDvel excluir um dispositivo original mas apenas suprimi-lo."});const o=Ln(r);if(o===void 0)return t;const i=[...rt(o),...rt(r)],a=lr(r),f=r.pai,u=f.indexOf(o);Dn(o),Dn(r),f.removeFilho(o),f.removeFilho(r),f.addFilhoOnPosition(r,u),f.addFilhoOnPosition(o,u+1),r.pai=f,o.pai=f,f.renumeraFilhos();const c=u===0?((n=r.pai)===null||n===void 0?void 0:n.tipo)===H.caput.tipo||oe(r)&&r.tipo==="Artigo"?f.pai:f:Me(r),s=new it;return s.setReferencia(se(ro(c,r))),s.add(K.ElementoIncluido,an(r,[]).concat(an(o,[])).map(l=>(l.mensagens=qe(l),se(l)))),s.add(K.ElementoRemovido,i),s.add(K.ElementoRenumerado,a.map(l=>se(l))),s.add(K.ElementoMarcado,[se(r),e.atual]),s.add(K.ElementoSelecionado,[se(r)]),{articulacao:t.articulacao,modo:t.modo,past:ut(t,s.build()),present:s.build(),future:[],ui:{events:s.build()}}},Jm=t=>{switch(t){case re.DISPOSITIVO_ADICIONADO:return new Dr;case re.DISPOSITIVO_NOVO:return new da;default:return new un}},Ti=(t,e)=>{if(ua(e)){const n=yn(t)?t.pai:yo(t,e.hierarquia.pai.uuidAlteracao);if(n)return n.alteracoes||(n.alteracoes=pa(),n.alteracoes.pai=n),e.hierarquia.pai.tipo===H.articulacao.tipo?n.alteracoes:yo(n.alteracoes,e.hierarquia.pai.uuid)}return yo(t,e.hierarquia.pai.uuid)},eg=t=>{var e,n;const r=(n=(e=t.lexmlId)===null||e===void 0?void 0:e.split("_"))!==null&&n!==void 0?n:[];return t.tipo===H.omissis.tipo&&r.length>1&&r[r.length-2]==="cpt"},rs=(t,e)=>{var n,r,o;const i=Ae(ie(e)&&(t.tipo===H.inciso.name||eg(t))?e.caput:e,t.tipo,void 0,t.hierarquia.posicao);return i.uuid=t.uuid,i.id=t.lexmlId,i.texto=(r=(n=t==null?void 0:t.conteudo)===null||n===void 0?void 0:n.texto)!==null&&r!==void 0?r:"",i.numero=(o=t==null?void 0:t.hierarquia)===null||o===void 0?void 0:o.numero,i.rotulo=t==null?void 0:t.rotulo,i.mensagens=t==null?void 0:t.mensagens,i.situacao=Jm(t.descricaoSituacao),i},tg=(t,e)=>{const n=e.shift(),r=Ti(t,n),o=rs(n,r),i=[o];return e==null||e.forEach(a=>{var f,u;const c=((f=a.hierarquia)===null||f===void 0?void 0:f.pai)===((u=n==null?void 0:n.hierarquia)===null||u===void 0?void 0:u.pai)?o.pai:Ti(t,a),s=rs(a,c);i.push(s)}),i},Nu=(t,e,n)=>{if(e!==void 0&&e.elementos!==void 0&&e.elementos[0]!==void 0){const r=e.elementos[0],o=Ti(t.articulacao,r),i=tg(t.articulacao,e.elementos);if(o==null||o.renumeraFilhos(),n){const f=r.hierarquia.posicao===0?Te(o)&&yn(o)?o.pai:o:sr(Me(i[0]));if(f){const u=Ce(t.articulacao,f);u?n.referencia=se(u):jt(t,{tipo:ae.ERROR,descricao:"Erro inesperado"})}}return e.stateType===K.ElementoIncluido&&(n.referencia=e.referencia),i.map(a=>se(a))}return[]},Ru=(t,e)=>e!==void 0&&e.elementos!==void 0&&e.elementos[0]!==void 0?(e.elementos.forEach(n=>{const r=Ce(t.articulacao,n,!0);if(r){const o=r.pai;o.removeFilho(r),o.renumeraFilhos()}}),e.elementos):[],Cu=(t,e,n,r)=>e!==void 0&&e.elementos!==void 0&&e.elementos[0]!==void 0?(e.elementos.forEach(o=>{var i,a,f,u,c,s,l;const g=Ce(t.articulacao,o,!0);r instanceof un?(g.numero=(a=(i=g.situacao.dispositivoOriginal)===null||i===void 0?void 0:i.numero)!==null&&a!==void 0?a:"",g.rotulo=(u=(f=g.situacao.dispositivoOriginal)===null||f===void 0?void 0:f.rotulo)!==null&&u!==void 0?u:"",g.texto=(l=(s=(c=g.situacao.dispositivoOriginal)===null||c===void 0?void 0:c.conteudo)===null||s===void 0?void 0:s.texto)!==null&&l!==void 0?l:"",g.situacao=new un):g.situacao=new r(se(g)),n.elementos.push(se(g))}),n.elementos):[],Du=(t,e,n=!1)=>{if(e!==void 0&&e.elementos!==void 0&&e.elementos[0]!==void 0){const r=[];let o=0;return e.elementos.forEach(i=>{var a,f,u,c;const s=Ce(t.articulacao,i,!0);s&&(n&&o===s.uuid||o!==s.uuid)&&(s.situacao.descricaoSituacao===re.DISPOSITIVO_MODIFICADO?(s.texto=(f=(a=s.situacao.dispositivoOriginal.conteudo)===null||a===void 0?void 0:a.texto)!==null&&f!==void 0?f:"",s.situacao=new un):(i.descricaoSituacao===re.DISPOSITIVO_MODIFICADO&&(s.situacao=new jo(se(s))),s.texto=(c=(u=i.conteudo)===null||u===void 0?void 0:u.texto)!==null&&c!==void 0?c:""),s.alteracoes&&(s.alteracoes.base=i.norma),s.mensagens=qe(s),r.push(se(s)),o=s.uuid)}),r}return[]},ku=(t,e)=>{if(e!==void 0&&e.elementos!==void 0&&e.elementos[0]!==void 0){const n=[];return e.elementos.forEach(r=>{const o=Ce(t.articulacao,r,!0);o&&n.push(se(o))}),n}return[]},Lu=(t,e)=>{const n=He(e,K.ElementoValidado);if(n!==void 0&&n.elementos!==void 0&&n.elementos[0]!==void 0){const r=[];return n.elementos.forEach(o=>{const i=Ce(t.articulacao,o,!0);i&&(i.mensagens=qe(i),i.mensagens.length>0&&r.push(se(i)))}),r}return[]},ng=t=>{var e;if(t.future===void 0||t.future.length===0)return t.ui=[],t;const n=t.future.pop(),r={articulacao:t.articulacao,modo:t.modo,past:ut(t,n),present:[],future:t.future,ui:{events:[]}},o=new it;o.add(K.ElementoRemovido,Ru(t,He(n,K.ElementoRemovido))),o.add(K.ElementoIncluido,Nu(t,He(n,K.ElementoIncluido),He(o.eventos,K.ElementoIncluido))),o.add(K.ElementoModificado,Du(t,He(n,K.ElementoModificado),!0)),o.add(K.ElementoSuprimido,Cu(t,He(n,K.ElementoSuprimido),He(o.eventos,K.ElementoSuprimido),Oo)),o.add(K.ElementoRenumerado,ku(t,He(n,K.ElementoRenumerado))),o.add(K.ElementoValidado,Lu(t,n));const i=(e=He(n,K.ElementoMarcado))===null||e===void 0?void 0:e.elementos;return i&&(o.add(K.ElementoMarcado,i),o.add(K.ElementoSelecionado,[i[0]])),r.ui.events=o.build(),r.present=o.build(),r},rg=(t,e)=>{const n=Ce(t.articulacao,e.atual,!0);if(n===void 0)return t.ui=[],t;if(!no(n,Ro))return jt(t,{tipo:ae.ERROR,descricao:"N\xE3o \xE9 poss\xEDvel excluir um dispositivo original mas apenas suprimi-lo."});if(!oe(n)&&(_o(n)||t.articulacao.filhos.length===1&&t.articulacao.filhos[0]===n&&!ze(n)))return jt(t,{tipo:ae.ERROR,descricao:"N\xE3o \xE9 poss\xEDvel excluir o \xFAnico dispositivo dispon\xEDvel."});const r=be(n)?Fm(t.articulacao,n):Mm(t.articulacao,n);return{articulacao:t.articulacao,modo:t.modo,past:ut(t,r),present:r,future:[],ui:{events:r}}},og=(t,e)=>{var n;const r=Ce(t.articulacao,e.atual,!0);if(r===void 0)return t.ui=[],t;if(!no(r,Co))return jt(t,{tipo:ae.INFO,descricao:"Nessa situa\xE7\xE3o, n\xE3o \xE9 poss\xEDvel renumerar o dispositivo"});const o=ut(t,Fo(r));try{r.createNumeroFromRotulo((n=e.novo)===null||n===void 0?void 0:n.numero)}catch(a){return jt(t,{tipo:ae.ERROR,descricao:"O r\xF3tulo informado \xE9 inv\xE1lido",detalhe:a})}r.createRotulo(r);const i=Mo(r);return{articulacao:t.articulacao,modo:t.modo,past:o,present:i.build(),future:t.future,ui:{events:i.build()}}},ig=(t,e)=>{var n,r;const o=Ce(t.articulacao,e.atual,!0);if(o===void 0)return t.ui=[],t;if(!(Cn(o).filter(f=>oa(f)).length>0)&&((n=o.situacao)===null||n===void 0?void 0:n.descricaoSituacao)!==re.DISPOSITIVO_MODIFICADO&&((r=o.situacao)===null||r===void 0?void 0:r.descricaoSituacao)!==re.DISPOSITIVO_SUPRIMIDO)return t;const a=jm(t.articulacao,o);return{articulacao:t.articulacao,modo:t.modo,past:ut(t,a),present:a,future:[],ui:{events:a}}},ag=(t,e)=>{const n=Ce(t.articulacao,e.atual,!0);if(n===void 0)return t.ui.events=[],t;n.mensagens=qe(n);const r=se(n,!0),o=[{stateType:K.ElementoSelecionado,elementos:[r]}];return{articulacao:t.articulacao,modo:t.modo,past:t.past,present:t.present,future:t.future,ui:{events:o}}},sg=(t,e)=>{const n=Ce(t.articulacao,e.atual,!0);if(n===void 0)return t.ui.events=[],t;n.mensagens=qe(n);const r=se(n,!0),o=[{stateType:K.InformarNorma,elementos:[r]}];return{articulacao:t.articulacao,modo:t.modo,past:t.past,present:t.present,future:[],ui:{events:o}}},Ni=(t,e)=>{t.length!==0&&(t==null||t.forEach(n=>{e.add(n.situacao.descricaoSituacao),Ni(n.filhos,e)}))},lg=t=>{var e;const n=new Set;return n.add(t.situacao.descricaoSituacao),Ni(t.filhos,n),t.alteracoes&&Ni((e=t.alteracoes)===null||e===void 0?void 0:e.filhos,n),n.size===1&&[...n][0]===re.DISPOSITIVO_ORIGINAL},ug=(t,e)=>{var n;const r=Ce(t.articulacao,e.atual,!0);if(r===void 0||((n=r.situacao)===null||n===void 0?void 0:n.descricaoSituacao)!==re.DISPOSITIVO_ORIGINAL)return t.ui=[],t;if(!lg(r))return jt(t,{tipo:ae.ERROR,descricao:"S\xF3 \xE9 poss\xEDvel suprimir dispositivos que n\xE3o tenham sofrido modifica\xE7\xE3o."});const o=Bm(t.articulacao,r);return{articulacao:t.articulacao,modo:t.modo,past:ut(t,o),present:o,future:[],ui:{events:o}}},cg=t=>{var e;if(t.past===void 0||t.past.length===0)return t.ui=[],t;const n=t.past.pop(),r={articulacao:t.articulacao,modo:t.modo,past:t.past,present:[],future:Vm(t,n),ui:{events:[]}},o=new it;o.add(K.ElementoRemovido,Ru(t,He(n,K.ElementoIncluido))),o.add(K.ElementoIncluido,Nu(t,He(n,K.ElementoRemovido),He(o.eventos,K.ElementoIncluido))),o.add(K.ElementoRestaurado,Cu(t,He(n,K.ElementoSuprimido),He(o.eventos,K.ElementoRestaurado),un)),o.add(K.ElementoModificado,Du(t,He(n,K.ElementoModificado))),o.add(K.ElementoRenumerado,ku(t,He(n,K.ElementoRenumerado))),o.add(K.ElementoValidado,Lu(t,n));const i=(e=He(n,K.ElementoMarcado))===null||e===void 0?void 0:e.elementos;return i&&(o.add(K.ElementoMarcado,[i[1],i[0]]),o.add(K.ElementoSelecionado,[i[1]])),r.ui.events=o.build(),r.present=o.build(),r},fg=t=>{const e=[];an(t.articulacao,[]).forEach(r=>{const o=qe(r);(o==null?void 0:o.length)>0&&(r.mensagens=o,e.push(se(r)))});const n=[{stateType:K.ElementoValidado,elementos:e}];return{articulacao:t.articulacao,modo:t.modo,past:t.past,present:t.present,future:t.future,ui:{events:n}}},dg=(t,e)=>{const n=Ce(t.articulacao,e.atual,!0);if(n===void 0)return t.ui=[],t;n.mensagens=qe(n);const r=se(n,!0),o=[{stateType:K.ElementoValidado,elementos:[r]}];return{articulacao:t.articulacao,modo:t.modo,past:t.past,present:t.present,future:t.future,ui:{events:o}}},hg=(t={},e)=>{switch(e.type){case hl:return Km(t,e);case pl:return Gm(t,e);case ml:return Qm(t,e);case Xi:return Hm(t,e);case fl:return $m(t,e);case ta:return Tu(t,e);case gl:return ag(t,e);case vl:return sg(t,e);case bl:return Xm(t,e);case Al:return Ym(t,e);case Il:return og(t,e);case Sl:return ig(t,e);case Tl:return ug(t,e);case _l:return Dp(t,e);case Ol:return ng(t);case wl:return rg(t,e);case Pl:case ea:return Zm(t,e);case Gl:return cg(t);case Zl:return dg(t,e);case Wl:return fg(t);default:return t}},pg=uh({appReducer:ch,elementoReducer:hg}),Pe=al(pg,window.__REDUX_DEVTOOLS_EXTENSION__&&window.__REDUX_DEVTOOLS_EXTENSION__());let Ri=class extends Zi(Pe)(pn){constructor(){super();this.elementos=[],this.tabIndex=-1}createRenderRoot(){return this}render(){return vt`
      <style>
        lexml-eta-editor {
          display: block;
          height: 100%;
        }

        lexml-eta-editor:focus {
          outline: 0;
          border: 0px solid #f1f1f1;
          -webkit-box-shadow: 0px;
          box-shadow: none;
        }
      </style>
      <lexml-eta-editor></lexml-eta-editor>
    `}};xt([Xr({type:Array})],Ri.prototype,"elementos",void 0);Ri=xt([fr("lexml-eta-articulacao")],Ri);/**
 * @license
 * Copyright (c) 2017 The Polymer Project Authors. All rights reserved.
 * This code may only be used under the BSD style license found at
 * http://polymer.github.io/LICENSE.txt
 * The complete set of authors may be found at
 * http://polymer.github.io/AUTHORS.txt
 * The complete set of contributors may be found at
 * http://polymer.github.io/CONTRIBUTORS.txt
 * Code distributed by Google as part of the polymer project is also
 * subject to an additional IP rights grant found at
 * http://polymer.github.io/PATENTS.txt
 */const os=new WeakMap,Ci=Md(t=>e=>{if(!(e instanceof Zr))throw new Error("unsafeHTML can only be used in text bindings");const n=os.get(e);if(n!==void 0&&To(t)&&t===n.value&&e.value===n.fragment)return;const r=document.createElement("template");r.innerHTML=t;const o=document.importNode(r.content,!0);e.setValue(o),os.set(e,{value:t,fragment:o})});let Di=class extends pn{createRenderRoot(){return this}update(e){super.update(e)}buildTemplateComando(e){const n=e==null?void 0:e.reduce((r,o)=>r+`<p> ${o.cabecalho} </p>`,"");return vt`${n}`}buildTemplateCitacao(e){return e.replace(/^<Citacao>/,"").replace(/$<\/Citacao>/,"").replaceAll("<Citacao>",'<div style="padding-left: 20px">').replaceAll("</Citacao>","</div>").replaceAll("<Rotulo>","<b>").replaceAll("</Rotulo>","</b> ").replaceAll("<Omissis />"," .........................................................................................................")}render(){var e,n,r;if(!this.emenda)return vt`<div></div>`;const o=(e=this.emenda)===null||e===void 0?void 0:e.comandosEmenda;return vt`
      <style>
        lexml-emenda-comando {
          display: block;
          border: 1px solid #ccc;
          height: 100%;
          padding: 0 10px;
          margin: 0px 5px;
        }

        lexml-emenda-comando:focus {
          outline: 0;
          border: 0px solid #f1f1f1;
          -webkit-box-shadow: 0px;
          box-shadow: none;
        }

        .lexml-emenda-tituloComando {
          margin: 0;
          padding: 3px 10px 3px 10px;
          text-align: center;
          font-weight: bold;
        }

        .lexml-emenda-corpoComando {
          font-size: 14px;
        }

        .lexml-emenda-cabecalhoComando {
          padding-left: 20px;
        }

        .lexml-emenda-citacaoComando {
          padding-left: 40px;
        }

        lexml-emenda-citacaoComando p {
          text-align: justify;
        }
      </style>

      <section class="lexml-emenda-comando">
        <p class="lexml-emenda-tituloComando">Comando de emenda</p>
        <p>${(r=(n=this.emenda)===null||n===void 0?void 0:n.comandoEmenda)===null||r===void 0?void 0:r.cabecalhoComum}</p>

        ${o==null?void 0:o.map(i=>vt`
            ${Ci('<div class="lexml-emenda-cabecalhoComando">'+i.cabecalho+'</div><div class="lexml-emenda-corpoComando lexml-emenda-citacaoComando">'+this.buildTemplateCitacao(i.citacao)+"</div>")}
          `)}
      </section>
    `}};xt([Xr({type:Object})],Di.prototype,"emenda",void 0);Di=xt([fr("lexml-emenda-comando")],Di);class mg{}class is extends mg{constructor(){super(...arguments);this.nivel=0,this.rotulo="",this.agrupador=!1,this.editavel=!0,this.sendoEditado=!1,this.index=0}}const Kn=(t,e)=>new ce(H[e.toLowerCase()],"Transformar "+t.tipo+"em "+H[e.toLowerCase()].name,"transformar"+t.tipo+"Em"+H[e.toLowerCase()].name).execute(t),gg=Quill.import("blots/block");class $t extends gg{get linha(){return this.parent.parent.parent}get tamanho(){return this.length()-1}get tagName(){return this.domNode.tagName}get html(){return this.domNode.innerHTML!=="<br>"?this.domNode.innerHTML.replace("&nbsp;",""):""}set html(e){this.domNode.innerHTML=e}constructor(e){super(e)}}var Qr;(function(t){t[t.Esquerda=0]="Esquerda",t[t.Direita=1]="Direita"})(Qr||(Qr={}));class Bt extends $t{constructor(){super(Bt.create())}static create(){const e=super.create();return e.setAttribute("contenteditable","false"),e.setAttribute("class",Bt.className),e}}Bt.blotName="blotMenu";Bt.tagName="DIV";Bt.className="lx-eta-dropdown";class cn extends $t{constructor(){super(cn.create())}static create(){const e=super.create();return e.setAttribute("contenteditable","false"),e.setAttribute("class",cn.className),e.innerHTML="&vellip;",e}}cn.blotName="blotMenuBotao";cn.tagName="DIV";cn.className="lx-eta-dropbtn";class fn extends $t{constructor(e){super(fn.create(e))}static create(e){const n=super.create(),r=e===Qr.Esquerda?"":" lx-eta-dropdown-content-right";return n.setAttribute("contenteditable","false"),n.setAttribute("class",fn.className+r),n}}fn.blotName="blotMenuConteudo";fn.tagName="DIV";fn.className="lx-eta-dropdown-content";class dn extends $t{constructor(e,n){super(dn.create(e,n))}static create(e,n){var r;const o=super.create();return o.setAttribute("contenteditable","false"),o.setAttribute("class",dn.className),o.innerHTML=(r=e.descricao)!==null&&r!==void 0?r:"",o.addEventListener("click",()=>{n(e.descricao)}),o}}dn.blotName="blotMenuItem";dn.tagName="DIV";dn.className="lx-eta-dropdown-content-item";class Ze extends $t{constructor(e){super(Ze.create(e))}static create(e){const n=super.create();return n.setAttribute("contenteditable","false"),n.setAttribute("style",Ze.criarAtributoStyle(e)),n.setAttribute("data-rotulo",e.rotulo),n.innerHTML="",n}get rotulo(){return this.domNode.getAttribute("data-rotulo")}format(e,n){e===Ze.blotName?this.domNode.setAttribute("data-rotulo",n):e===Ze.formatoStyle?this.domNode.setAttribute("style",Ze.criarAtributoStyle(n)):super.format(e,n)}static criarAtributoStyle(e){let n=e.tipo==="Articulacao"?"color: #373634; font-weight: 600; line-height: 0.42;":"color: #373634; font-weight: 600; line-height: 1.42;";return e.agrupador?n=`${n} display: block; font-size: 1rem; text-align: center;`:n=`${n} float: left; margin-right: 10px;`,n}}Ze.blotName="rotulo";Ze.tagName="LABEL";Ze.formatoStyle="STYLE";class At extends $t{constructor(){super(At.create())}static create(){const e=super.create();return e.setAttribute("contenteditable","false"),e.setAttribute("style","font-size: 1em;"),e.innerHTML="&nbsp;",e}}At.blotName="espaco";At.tagName="ESPACO";At.className="espaco";const vg=Quill.import("blots/container");class $e extends vg{constructor(e){var n,r,o,i,a;super($e.create(e));this._lexmlId=(n=e.lexmlId)!==null&&n!==void 0?n:"",this._editavel=e.editavel,this._nivel=e.nivel,this._numero=(r=e.numero)!==null&&r!==void 0?r:"",this._tipo=(o=e.tipo)!==null&&o!==void 0?o:"",this._agrupador=e.agrupador,this._hierarquia=!((a=(i=e.hierarquia)===null||i===void 0?void 0:i.pai)===null||a===void 0)&&a.uuidAlteracao?e.hierarquia:void 0,this._descricaoSituacao=e.descricaoSituacao?e.descricaoSituacao:void 0}static criarId(e){return`lxEtaId${e!=null?e:0}`}static create(e){const n=super.create();return n.setAttribute("contenteditable",e!=null&&e.editavel?"true":"false"),n.setAttribute("class",$e.className),n.setAttribute("id",$e.criarId(e.uuid)),n.setAttribute("style",$e.criarAtributoStyle(e)),n.setAttribute("cellpadding","0"),n.setAttribute("cellspacing","0"),n.setAttribute("border","0"),n}get blotRotulo(){var e,n;return(n=(e=this.children.head)===null||e===void 0?void 0:e.children)===null||n===void 0?void 0:n.head.children.head}get blotConteudo(){var e;return(e=this.blotRotulo)===null||e===void 0?void 0:e.next}get containerDireito(){return this.children.head.children.tail}get blotContainerDireito(){return this.containerDireito.children.head}get tamanho(){return this.length()-1}get id(){var e;return(e=this.domNode.getAttribute("id"))!==null&&e!==void 0?e:""}set agrupador(e){this._agrupador=e}get agrupador(){return this._agrupador}set editavel(e){this._editavel=e,this.blotConteudo.domNode.contentEditable=this._editavel}get editavel(){return this._editavel}set hierarquia(e){this._hierarquia=e}get hierarquia(){return this._hierarquia}set nivel(e){this._nivel=e}get nivel(){return this._nivel}set numero(e){this._numero=e}get numero(){return this._numero}set tipo(e){this._tipo=e}get tipo(){return this._tipo}set descricaoSituacao(e){this._descricaoSituacao=e}get descricaoSituacao(){return this._descricaoSituacao}get uuid(){return parseInt(this.id.substr(7),0)}set lexmlId(e){this._lexmlId=e}get lexmlId(){var e;return(e=this._lexmlId)!==null&&e!==void 0?e:""}get html(){return this.domNode.innerHTML!=="<br>"?this.domNode.innerHTML:""}set html(e){this.domNode.innerHTML=e}setEstilo(e){var n,r;let o="",i="";switch(e){case re.DISPOSITIVO_ADICIONADO:o="color: green;",i="color: green;";break;case re.DISPOSITIVO_MODIFICADO:o="color: blue;",i="color: blue;";break;case re.DISPOSITIVO_SUPRIMIDO:o="color: red;",i="text-decoration: line-through; color: red;";break;default:o="color: black;",i="text-decoration: none; color: #9d9d9d;";break}this.blotRotulo.domNode.setAttribute("style",((n=this.blotRotulo.domNode.getAttribute("style"))!==null&&n!==void 0?n:"")+o),this.blotConteudo.domNode.setAttribute("style",((r=this.blotConteudo.domNode.getAttribute("style"))!==null&&r!==void 0?r:"")+i)}format(e,n){e===$e.blotName?this.domNode.setAttribute("style",$e.criarAtributoStyle(n)):super.format(e,n)}ativarBorda(){this.domNode.style.borderColor="#24d421"}desativarBorda(){this.domNode.style.borderColor="#ffffff",this.limparContainerDireito()}limparContainerDireito(){this.blotContainerDireito.tagName!==At.tagName&&(this.blotContainerDireito.remove(),new At().insertInto(this.containerDireito))}static criarAtributoStyle(e){let n=e.tipo==="Articulacao"?"width: 100%; min-height: 1px; line-height: 0.42; margin: 1px":"width: 100%; min-height: 26px; border: 1px solid #ffffff; line-height: 1.42; margin: 0px 2px 0px 5px !important;";return e.agrupador&&(n=`${n} text-align: center;`),n}}$e.blotName="containerTable";$e.tagName="DIV";$e.className="container-table";function ke(t){t.stopPropagation(),t.preventDefault()}class yg{constructor(e,n){this.callback=e,this.canceled=n}isCanceled(){var e;return(e=this.canceled)!==null&&e!==void 0?e:!1}cancel(){this.canceled=!0}}class gt{constructor(){this.subscriptions=[]}subscribe(e){const n=new yg(e);return this.subscriptions.push(n),n}notify(e){this.subscriptions.forEach(n=>{n.isCanceled()||setTimeout(()=>{n.callback(e)},1)})}clean(){this.subscriptions=[]}}const bg=/([a-zA-Z0-9 '!@#$%&*()_\-+=`'{[^~}\]<,>.:;?/|\\])/i,Eg=/([^a-zA-Z0-9 '!@#$%&*()_\-+=`'{[^~}\]<,>.:;?/|\\])/gi,qu=Quill.import("modules/keyboard");class Ag extends qu{constructor(e,n){super(e,n);this.operacaoTecladoInvalida=new gt,this.adicionaElementoTeclaEnter=new gt,this.removeElemento=new gt,this.renumeraElemento=new gt,this.transformaElemento=new gt,this.moveElemento=new gt,this.onChange=new gt,this.altGraphPressionado=!1}listen(){this.quill.root.addEventListener("keyup",e=>{if(e.key==="AltGraph"&&(this.altGraphPressionado=!1),e.ctrlKey&&!e.altKey&&!e.shiftKey&&"biBI".includes(e.key)){this.onHotKeyToolbar();return}!(this.quill.cursorDeTextoEstaSobreLink()||e.key==="Backspace"&&this.quill.cursorDeTextoEstaSobreLink(-1))&&this.isTeclaQueAlteraTexto(e)&&this.onChange.notify("keyboard")}),this.quill.root.addEventListener("keypress",e=>{this.quill.cursorDeTextoEstaSobreLink()&&e.key.length===1&&ke(e)}),this.quill.root.addEventListener("keydown",e=>{if(e.key==="AltGraph"&&(this.altGraphPressionado=!0),this.quill.cursorDeTextoEstaSobreLink()||e.key==="Backspace"&&this.quill.cursorDeTextoEstaSobreLink(-1)){if(["Delete","Backspace"].includes(e.key)||!e.ctrlKey&&e.key.length===1||e.ctrlKey&&"xvXV".includes(e.key)||e.altKey&&"0123456789".includes(e.key)){ke(e);return}}else e.ctrlKey?(!e.altKey&&!e.metaKey&&(e.key==="Home"?this.onTeclaHome(e):e.key==="End"?this.onTeclaEnd(e):e.key==="ArrowUp"||e.key==="ArrowDown"?this.onHotKeyMover(e):e.key.toLowerCase()==="a"&&!e.shiftKey?this.onTeclaCtrlA(e):e.key.toLowerCase()==="d"?this.onTeclaCtrlD(e):e.key.toLowerCase()==="z"?this.onTeclaCtrlZ(e):e.key.toLowerCase()==="y"?this.onTeclaCtrlY(e):e.ctrlKey&&e.shiftKey&&e.key.toLowerCase()==="a"?this.onTeclaCtrlShiftA(e):(e.key==="b"||e.key==="i"||e.key==="x"||e.key==="v")&&this.onValidarTecla(e)),(e.altKey||e.metaKey)&&(["a","l","n","o","p","t"].includes(e.key.toLowerCase())?this.onHotKeyTransformacaoTipo(e):e.key.toLowerCase()==="r"&&this.onHotKeyRenumeraDispositivo(e))):e.key==="ArrowRight"?this.onTeclaArrowRight(e):e.key==="ArrowLeft"?this.onTeclaArrowLeft(e):e.key==="ArrowDown"||e.key==="ArrowUp"?this.onTeclaArrowDownOuUp(e):e.key==="Enter"?this.onTeclaEnter(e):e.key==="Escape"?this.onTeclaEscape(e):e.key==="Delete"?this.onTeclaDelete(e):e.key==="Backspace"?this.onTeclaBackspace(e):e.key==="Tab"?this.onTeclaTab(e):e.key.length===1&&bg.test(e.key)&&this.onValidarTecla(e)}),super.listen()}isTeclaComCaracterGrafico(e){const n="123456=[]/";return e.location!==3&&n.includes(e.key)}isTeclaQueAlteraTexto(e){return e.ctrlKey||e.altKey||e.metaKey||this.altGraphPressionado&&!this.isTeclaComCaracterGrafico(e)?!1:!!(["Delete","Backspace"].includes(e.key)||e.key.length===1)}verificarOperacaoTecladoPermitida(){const e=this.quill.textoSelecionado;if(e.conteudo&&e.quantidadeCR>0)if(e.quantidadeCR===1&&/\n$/gi.test(e.conteudo)){const n=this.quill.getSelection(!0);return this.quill.setSelection(n.index,n.length-1,Quill.sources.API),!0}else return this.operacaoTecladoInvalida.notify(),!1;return!0}onTeclaArrowRight(e){const n=this.quill.getSelection(!0),[r,o]=this.quill.getLine(n.index);o===r.tamanho&&(r.linha.next&&this.quill.setIndex(this.quill.getIndex(r.linha.next.blotConteudo),Quill.sources.USER),ke(e))}onTeclaArrowLeft(e){const n=this.quill.getSelection(!0),[r,o]=this.quill.getLine(n.index);if(o===0){if(r.linha.prev){const i=r.linha.prev,a=this.quill.getIndex(i.blotConteudo)+i.blotConteudo.tamanho;this.quill.setIndex(a,Quill.sources.USER)}ke(e)}}onTeclaArrowDownOuUp(e){this.quill.isProcessandoMudancaLinha&&ke(e)}onTeclaEnter(e){if(this.verificarOperacaoTecladoPermitida()){const n=this.quill.getSelection(!0);this.quill.setSelection(n.index,0,Quill.sources.SILENT),this.adicionaElementoTeclaEnter.notify(n)}ke(e)}onTeclaEscape(e){const n=this.quill.getSelection(!0);this.quill.setIndex(n.index,Quill.sources.SILENT),this.quill.setSelection(this.quill.inicioConteudoAtual,0,Quill.sources.SILENT),ke(e)}onTeclaDelete(e){const n=this.quill.getSelection(!0);(!this.verificarOperacaoTecladoPermitida()||n.index===this.quill.fimConteudoAtual)&&ke(e)}onTeclaBackspace(e){const n=this.quill.getSelection(!0);(!this.verificarOperacaoTecladoPermitida()||n.index===this.quill.inicioConteudoAtual&&n.length===0)&&ke(e)}onValidarTecla(e){this.verificarOperacaoTecladoPermitida()||ke(e)}onTeclaHome(e){const n=this.quill.getIndex(this.quill.getPrimeiraLinha().blotConteudo);this.quill.setIndex(n,Quill.sources.USER),this.quill.scroll.domNode.scrollTo(0,0),ke(e)}onTeclaEnd(e){var n,r;const o=(r=this.quill.getIndex(this.quill.getUltimaLinha().blotConteudo)+((n=this.quill.getUltimaLinha().blotConteudo)===null||n===void 0?void 0:n.tamanho))!==null&&r!==void 0?r:0;this.quill.setIndex(o,Quill.sources.USER),this.quill.scroll.domNode.scrollTo(0,this.quill.scroll.domNode.scrollHeight),ke(e)}onTeclaCtrlD(e){this.removeElemento.notify(),ke(e)}onTeclaTab(e){this.transformaElemento.notify(e),ke(e)}onTeclaCtrlZ(e){this.quill.undo(),ke(e)}onTeclaCtrlY(e){this.quill.redo(),ke(e)}onTeclaCtrlA(e){const n=this.quill.getIndex(this.quill.scroll.children.head.blotConteudo);this.quill.setSelection(n,this.quill.getLength(),Quill.sources.SILENT),ke(e)}onTeclaCtrlShiftA(e){this.quill.setSelection(this.quill.inicioConteudoAtual,this.quill.linhaAtual.blotConteudo.tamanho,Quill.sources.SILENT),ke(e)}onHotKeyRenumeraDispositivo(e){this.renumeraElemento.notify(e),ke(e)}onHotKeyMover(e){this.moveElemento.notify(e),ke(e)}onHotKeyTransformacaoTipo(e){this.transformaElemento.notify(e),ke(e)}onHotKeyToolbar(){var e;((e=document.getSelection())===null||e===void 0?void 0:e.toString())&&this.onChange.notify("toolbar(hotkey)")}}class hr extends $t{constructor(e){super(hr.create(e));this._htmlAnt=""}static create(e){var n,r;const o=super.create(),i=((r=(n=e.conteudo)===null||n===void 0?void 0:n.texto)!==null&&r!==void 0?r:"").trim();return o.setAttribute("contenteditable",e!=null&&e.editavel?"true":"false"),o.innerHTML=i!==""?i:"<br>",o}set htmlAnt(e){this._htmlAnt=e}get htmlAnt(){return this._htmlAnt}get alterado(){return this._htmlAnt!==this.html}}hr.blotName="texto";hr.tagName="P";class Un extends $t{constructor(e){super(Un.create(e))}static create(e){const n=super.create();let r="";return e.tipo===ae.INFO?r="green":e.tipo===ae.WARNING?r="#FF5733":r="red",n.setAttribute("contenteditable","false"),n.setAttribute("style",`font-size: 0.8em; font-weight: 600; color:${r};`),n.innerHTML=e.descricao?"- "+e.descricao:"",n}}Un.blotName="mensagem";Un.tagName="div";Un.className="mensagem";class ur extends $t{constructor(){super(ur.create())}static create(){const e=super.create();return e.setAttribute("contenteditable","false"),e.setAttribute("style","font-size: 0.8em;"),e}}ur.blotName="mensagens";ur.tagName="MENSAGENS";const xg=Quill.import("modules/clipboard");class _g extends xg{constructor(e,n){super(e,n);this.onChange=new gt,this.quill.root.addEventListener("cut",r=>{var o;if(this.quill.cursorDeTextoEstaSobreLink()){ke(r);return}((o=document.getSelection())===null||o===void 0?void 0:o.toString())&&this.onChange.notify("clipboard")}),this.quill.root.addEventListener("paste",r=>{var o;if(this.quill.cursorDeTextoEstaSobreLink()){ke(r);return}((o=r.clipboardData)===null||o===void 0?void 0:o.getData("text/plain"))&&this.onChange.notify("clipboard")})}convert(e){if(typeof e=="string")return this.container.innerHTML=e,super.convert();this.container.innerHTML=this.container.innerHTML.replace(Eg,""),this.container.innerHTML=this.container.innerHTML.replace(/(<p\s*)/gi," <p"),this.container.innerHTML=this.container.innerHTML.replace(/(<br\s*\/>)/gi," "),this.container.innerHTML=this.container.innerHTML.replace(/<(?!strong)(?!\/strong)(?!em)(?!\/em)(?!sub)(?!\/sub)(?!sup)(?!\/sup)(.*?)>/gi,""),this.container.innerHTML=this.container.innerHTML.replace(/<([a-z]+) .*?=".*?( *\/?>)/gi,"<$1$2");const n=super.convert();return this.container.innerHTML="",n}}const Og=Quill.import("blots/container");class Ut extends Og{constructor(e){super(Ut.create());this.alinhamentoMenu=e}static create(){const e=super.create();return e.setAttribute("contenteditable","false"),e.setAttribute("class",Ut.className),e.setAttribute("style","width: 30px; vertical-align: top; text-align: center"),e}}Ut.blotName="containerTdDireito";Ut.tagName="DIV";Ut.className="container-td-direito";const wg=Quill.import("blots/container");class zt extends wg{constructor(e){super(zt.create(e))}static create(e){const n=super.create(),r=(e.agrupador?0:e.nivel)*20+5,o=e.agrupador?"center":"left";return n.setAttribute("contenteditable",e.editavel?"true":"false"),n.setAttribute("class",zt.className),n.setAttribute("style",`text-align: ${o} !important; padding-left: ${r}px;`),n}}zt.blotName="containerTdEsquerdo";zt.tagName="DIV";zt.className="container-td-esquerdo";const Ig=Quill.import("blots/container");class Vt extends Ig{constructor(e,n){super(Vt.create(e,n))}static create(e,n){const r=super.create(),o=n===Qr.Esquerda?" container-tr-reverse":"";return r.setAttribute("contenteditable",e?"true":"false"),r.setAttribute("class",Vt.className+o),r}}Vt.blotName="containerTr";Vt.tagName="DIV";Vt.className="container-tr";class Sg extends Quill{constructor(e,n){super(e,n)}getConteudoHtml(e,n,r){const o=this.scroll.children.head;return this.setConteudo(this.converterHtmlParaDelta(e),Quill.sources.SILENT),this.deleteText(n+r,o.length()-r-1,Quill.sources.SILENT),n>0&&this.deleteText(0,n,Quill.sources.SILENT),o.domNode.innerHTML}converterHtmlParaDelta(e){return this.clipboard.convert(e!=null?e:"")}converterDeltaParaHtml(e){return this.setConteudo(e,Quill.sources.SILENT),this.scroll.children.head.domNode.innerHTML}setConteudo(e,n){var r;const o=this.scroll.children.head;let i=0;o.length()>1&&this.deleteText(i,o.length()-1,n!=null?n:Quill.sources.SILENT),this.insertText(i," ",Quill.sources.SILENT),(r=e.ops)===null||r===void 0||r.forEach(a=>{a.attributes?this.insertText(i,a.insert,a.attributes,n!=null?n:Quill.sources.SILENT):this.insertText(i,a.insert,n!=null?n:Quill.sources.SILENT),i+=a.insert.length}),this.deleteText(i,1,Quill.sources.SILENT)}}class Oe extends Quill{constructor(e,n,r){super(e,r);this._undoEstruturaVazio=!0,this._redoEstruturaVazio=!0,this._processandoMudancaLinha=!1,this.undoRedoEstrutura=new gt,this.elementoSelecionado=new gt,this.aspasAberta=!1,this.observableSelectionChange=new gt,this.onSelectionChange=(o,i)=>{const a=this.linhaAtual;this._mudouDeLinha=this.verificarMudouLinha(o,i),this._mudouDeLinha&&(this.observableSelectionChange.notify(a),this.aspasAberta=!1,this.limparHistory())},this.onTextChange=()=>{this._linhaAtual&&setTimeout(()=>{this.acertarAspas()},0)},this.on("text-change",this.onTextChange),this.on("selection-change",this.onSelectionChange),this.buffer=new Sg(n,{}),this.root.addEventListener("dragstart",o=>{o.preventDefault()}),this.root.addEventListener("drop",o=>{o.preventDefault()})}get mudouDeLinha(){var e;return(e=this._mudouDeLinha)!==null&&e!==void 0?e:!1}get linhaAnterior(){return this._linhaAnterior}get linhaAtual(){return this._linhaAtual}get inicioConteudoAtual(){return this.getIndex(this.linhaAtual.blotConteudo)}get fimConteudoAtual(){return this.inicioConteudoAtual+this.linhaAtual.blotConteudo.tamanho}get textoSelecionado(){var e,n,r;const o=(e=this.getSelection(!0))!==null&&e!==void 0?e:{index:0,length:0},i=this.getText().substr(o.index,o.length);return{conteudo:i,quantidadeCR:(r=(n=i.match(/(\n)/gi))===null||n===void 0?void 0:n.length)!==null&&r!==void 0?r:0}}get isUndoEstruturaVazio(){return this._undoEstruturaVazio}set undoEstruturaVazio(e){this._undoEstruturaVazio=e}get isRedoEstruturaVazio(){return this._redoEstruturaVazio}set redoEstruturaVazio(e){this._redoEstruturaVazio=e}get isProcessandoMudancaLinha(){return this._processandoMudancaLinha}set processandoMudancaLinha(e){this._processandoMudancaLinha=e}static configurar(){const e=Oe.import("parchment"),n=new e.Attributor.Attribute("id","id",{scope:e.Scope.BLOCK}),r=new e.Attributor.Style("paddingLeft","padding-left",{scope:e.Scope.BLOCK}),o=new e.Attributor.Style("border","border",{scope:e.Scope.BLOCK}),i=new e.Attributor.Style("borderColor","border-color",{scope:e.Scope.BLOCK}),a=new e.Attributor.Style("display","display",{scope:e.Scope.BLOCK}),f=new e.Attributor.Style("aria-label","aria-label",{scope:e.Scope.BLOCK}),u=new e.Attributor.Attribute("dataRotulo","data-rotulo",{scope:e.Scope.BLOCK});Oe.register("modules/clipboard",_g,!0),Oe.register("modules/keyboard",Ag,!0),Oe.register(hr,!0),Oe.register(At,!0),Oe.register(Un,!0),Oe.register(ur,!0),Oe.register(cn,!0),Oe.register(fn,!0),Oe.register(dn,!0),Oe.register(Bt,!0),Oe.register(Ze,!0),Oe.register($e,!0),Oe.register(zt,!0),Oe.register(Ut,!0),Oe.register(Vt,!0),Oe.register(n,!0),Oe.register(r,!0),Oe.register(o,!0),Oe.register(i,!0),Oe.register(a,!0),Oe.register(f,!0),Oe.register(u,!0)}destroi(){var e,n;this.off("text-change",this.onTextChange),this.off("selection-change",this.onSelectionChange),(e=this.keyboard)===null||e===void 0||e.operacaoTecladoInvalida.clean(),(n=this.keyboard)===null||n===void 0||n.adicionaElementoTeclaEnter.clean()}getConteudoHtmlParteLinha(e,n,r){return this.buffer.getConteudoHtml(e.html,n,r)}getPrimeiraLinha(){return this.scroll.children.head}getUltimaLinha(){return this.scroll.children.tail}getLinha(e,n=this.getPrimeiraLinha()){if(n.uuid===e)return n;if(n.next)return this.getLinha(e,n.next)}getLinhaPorId(e){return Quill.find(this.getHtmlElement($e.criarId(e)),!1)}setIndex(e,n=Quill.sources.USER){var r;const o=(r=this.getSelection(!0))!==null&&r!==void 0?r:{index:0,length:0};(e!==o.index||o.length!==0)&&this.setSelection(e,0,n)}setConteudoLinha(e,n,r){var o;let i=this.getIndex(e);e.length()>1&&this.deleteText(i,e.length()-1,r!=null?r:Quill.sources.SILENT),this.insertText(i," ",Quill.sources.SILENT),(o=n.ops)===null||o===void 0||o.forEach(a=>{a.attributes?this.insertText(i,a.insert,a.attributes,r!=null?r:Quill.sources.SILENT):this.insertText(i,a.insert,r!=null?r:Quill.sources.SILENT),i+=a.insert.length}),this.deleteText(i,1,Quill.sources.SILENT)}converterHtmlParaDelta(e){return this.buffer.converterHtmlParaDelta(e)}converterDeltaParaHtml(e){return this.buffer.converterDeltaParaHtml(e)}irProximaLinha(){var e;const n=this.getIndex((e=this._linhaAtual)===null||e===void 0?void 0:e.next.blotConteudo);this.setSelection(n,0)}desmarcarLinhaAtual(e){this._linhaAnterior=e,e.desativarBorda()}marcarLinhaAtual(e){e.tipo!=="Articulacao"&&(this.atualizarLinhaCorrente(e),this.elementoSelecionado.notify(e.uuid))}undo(){this.history.stack.undo.length===0?this.isUndoEstruturaVazio||this.undoRedoEstrutura.notify(Oe.UNDO):(this.history.undo(),this.focus())}redo(){this.history.stack.redo.length===0?this.isRedoEstruturaVazio||this.undoRedoEstrutura.notify(Oe.REDO):(this.history.redo(),this.focus())}limparHistory(){setTimeout(()=>{this.history.clear()},0)}verificarMudouLinha(e,n){if(n&&(e==null?void 0:e.index)===0&&(e==null?void 0:e.length)===0)return this.setSelection(n.index,0),!1;if(e){const r=this.getLine(e.index)[0],o=r.linha;if((r.tagName===Ze.tagName||r.tagName===At.tagName||r.tagName===Bt.tagName||r.tagName===ur.tagName)&&this.setSelection(this.getIndex(r.linha.blotConteudo),0,Quill.sources.SILENT),n){const i=this.getLine(n.index)[0];if(i){const a=i.linha;if(o===a)return!1;this.desmarcarLinhaAtual(a)}}return this.marcarLinhaAtual(o),!0}return!1}getHtmlElement(e){return this.root.querySelector(`#${e}`)}acertarAspas(){var e,n;if(this._linhaAtual){const r=this.inicioConteudoAtual,o=(n=this.getText(r,(e=this.linhaAtual)===null||e===void 0?void 0:e.blotConteudo.tamanho))!==null&&n!==void 0?n:"";let i=r;if(o.indexOf('"')>-1)for(let a=0;a<o.length;a++)o[a]==='"'&&(i+=a,this.deleteText(i,1,Quill.sources.SILENT),this.insertText(i,this.aspasAberta?"\u201D":"\u201C",Quill.sources.SILENT),this.aspasAberta=!this.aspasAberta,i=r)}}atualizarLinhaCorrente(e){this.processandoMudancaLinha=!0,this._linhaAtual=e,this._linhaAtual.blotConteudo.htmlAnt=this._linhaAtual.blotConteudo.html,e.ativarBorda(),this.scrollToElemento(e.uuid)}scrollToElemento(e){const n=this.getHtmlElement($e.criarId(e));setTimeout(()=>{this.isInEtaBoxViewport(n)||this.scrollIntoEtaBox(n)},0)}scrollIntoEtaBox(e){var n;const r=e.offsetTop;(n=e.closest(".ql-editor"))===null||n===void 0||n.scrollTo(0,r)}isInEtaBoxViewport(e){const n=e.getBoundingClientRect(),o=e.closest("#lx-eta-box").getBoundingClientRect().bottom;return n.top>=0&&n.bottom<=o}cursorDeTextoEstaSobreLink(e=0){var n;const r=this.getSelection(!0),o=this.getContents(r.index+e,1).ops;return o?(n=o[0].attributes)===null||n===void 0?void 0:n.link:!1}}Oe.UNDO="undo";Oe.REDO="redo";class _r{static criarContainerLinha(e){const n=new $e(e),r=new Vt(e.editavel,this.alinhamentoMenu),o=new zt(e),i=new Ut(this.alinhamentoMenu);return new Ze(e).insertInto(o),new hr(e).insertInto(o),new At().insertInto(i),o.insertInto(r),i.insertInto(r),r.insertInto(n),n}static criarContainerMensagens(e){const n=new Vt(!1,this.alinhamentoMenu),r=new zt(e),o=new Ut(this.alinhamentoMenu);return e.mensagens&&e.mensagens.length>0&&e.mensagens.forEach(i=>{new Un(i).insertInto(r)}),new At().insertInto(o),r.insertInto(n),o.insertInto(n),n}}_r.alinhamentoMenu=Qr.Esquerda;async function Pg(t,e,n,r){var o;const i=document.createElement("elix-dialog"),a=document.createRange().createContextualFragment(`
    <style>
    h1.normaDiv {
      font-size: 1em;
      padding: 0.5em;
      font-weight: bold;
    }
    .normaDiv {
      display: grid;
      grid-template-columns: [labels] auto [controls] 1fr;
      grid-auto-flow: row;
      grid-gap: .8em;
      padding: 0.5em;
    }
    .normaDiv > label  {
      grid-column: labels;
      grid-row: auto;
    }
    .normaDiv > input,
    .normaDiv > select {
      grid-column: controls;
      grid-row: auto;
      padding: 0.5em;
    }
  </style>
  <h1 class="normaDiv">Dados da norma vigente</h1>
  <div name="normaDiv" class="normaDiv">
    <label for="tipoNorma">Tipo </label>
      <select name="tipos" name="tipoNorma" id="tipoNorma">      
      <option value="decreto">Decreto</option>
      <option value="decreto-lei">Decreto-Lei</option>
      <option value="lei" selected>Lei</option>
      <option value="lei.complementar">Lei Complementar</option>
      <option value="lei.delegada">Lei Delegada</option>
      <option value="medida.provisoria">Medida Provis\xF3ria</option>
    </select>    
    <label for="numeroNorma">N\xFAmero </label>
    <input type="text" name="numeroNorma" id="numeroNorma" placeholder="8666 (n\xFAmero sem ponto)">
    <label for="dataNorma">Data</label>
    <input type="text" name="dataNorma" id="dataNorma" placeholder="21/06/1993">

    <div style="margin-top: 10px;">
      <button>Ok</button>
      <button>Cancelar</button>
    </div>
    <div class="erro" style="margin-top: 10px; color: red; display: none;"></div>

  </div>


  `),f=t.norma?(o=dr(t.norma))===null||o===void 0?void 0:o.urn:void 0,u=t.norma?Lo(t.norma):void 0,c=t.norma?rr(t.norma):void 0,s=a.querySelector("#tipoNorma"),l=a.querySelector("#numeroNorma"),g=a.querySelector("#dataNorma");f&&(s.value=f),u&&(l.value=u),c&&(g.value=c);const m=a.querySelectorAll("button"),v=m[0],h=m[1],p=a.querySelector(".erro");v.onclick=()=>{var y,d;const b=tp("federal",s.value,(y=l)===null||y===void 0?void 0:y.value,(d=g)===null||d===void 0?void 0:d.value);pu(b)?(e.focus(),i.close(),p.style.display="none",t.norma=b,n.dispatch(r.execute(t))):(p.innerText="Dados inv\xE1lidos",p.style.display="block")},h.onclick=()=>{e.focus(),i.close()},i.appendChild(a),await i.open()}let as=class extends Zi(Pe)(pn){constructor(){super();this.inscricoes=[],this.onSelectionChange=(e,n,r)=>{(e==null?void 0:e.length)===0&&r===Quill.sources.USER&&this.ajustarLinkParaNorma()},this.tabIndex=-1}get quill(){return this._quill}createRenderRoot(){return this}async firstUpdated(){this.inicializar(this.configEditor())}stateChanged(e){var n,r;if(!this.quill){this.quillNaoInicializado(e);return}this.quill.undoEstruturaVazio=((n=e.elementoReducer.past)!==null&&n!==void 0?n:[]).length===0,this.quill.redoEstruturaVazio=((r=e.elementoReducer.future)!==null&&r!==void 0?r:[]).length===0,e.elementoReducer.ui&&(e.elementoReducer.ui.message?this.alertar(e.elementoReducer.ui.message.descricao):this.processarStateEvents(e.elementoReducer.ui.events))}disconnectedCallback(){this.inscricoes.forEach(e=>e.cancel()),this.removeEventListener("ontextchange",e=>console.log(e)),this.destroiQuill(),super.disconnectedCallback()}render(){return vt`
      <link rel="stylesheet" href="assets/css/editor.css" />
      <style>
        #lx-eta-box {
          display: grid;
          grid-template-columns: 1fr;
          grid-template-rows: 30px calc(100% - 30px);
          height: 100%;
        }

        #lx-eta-box .ql-toolbar.ql-snow {
          border: 1px solid #ccc;
          box-sizing: border-box;
          padding: 3px 10px 3px 10px;
        }

        #lx-eta-box .ql-snow.ql-toolbar button,
        .ql-snow .ql-toolbar button {
          height: 20px !important;
          padding: 0px !important;
          width: 24px !important;
          margin: 0px !important;
        }

        #lx-eta-barra-ferramenta button:focus {
          outline: 0;
          border: 0px solid #f1f1f1;
          -webkit-box-shadow: 0px;
          box-shadow: none;
        }

        #lx-eta-barra-ferramenta .lx-eta-ql-button {
          font-size: 1.1em;
          color: #444444;
        }

        .lx-eta-rebate-180-graus {
          -moz-transform: scaleX(-1);
          -o-transform: scaleX(-1);
          -webkit-transform: scaleX(-1);
          transform: scaleX(-1);
        }

        #lx-eta-editor {
          overflow-y: auto;
        }

        #lx-eta-editor .ql-editor {
          font-family: sans-serif, 'Open Sans', -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, 'Helvetica Neue', 'Apple Color Emoji', 'Segoe UI Emoji', 'Segoe UI Symbol',
            'Noto Color Emoji';
          font-size: 1rem;
          line-height: 1.42;
          color: #646260;
          text-transform: none !important;
          padding: 5px;
        }

        #lx-eta-editor .ql-editor *:focus {
          outline: 0;
          border: 0px solid #f1f1f1;
          -webkit-box-shadow: 0px;
          box-shadow: none;
        }

        #lx-eta-editor .ql-editor label:before {
          content: attr(data-rotulo) ' ';
        }

        #toast-msg {
          padding: 1em;
          font-size: 1.1em;
        }

        .lx-eta-dropbtn {
          background-color: #ffffff;
          color: #444444;
          width: 26px;
          font-weight: bold;
          vertical-align: middle;
          border: none;
          cursor: pointer;
          text-align: center;
        }

        .lx-eta-dropdown {
          position: relative;
          display: inline-block;
        }

        .lx-eta-dropdown-content {
          display: none;
          position: absolute;
          background-color: #f9f9f9;
          min-width: 160px;
          box-shadow: 0px 4px 4px 4px rgba(0, 0, 0, 0.25);
          z-index: 1;
        }

        .lx-eta-dropdown-content div {
          color: black;
          padding: 5px 16px;
          text-decoration: none;
          display: block;
          white-space: nowrap;
          font-weight: normal !important;
          text-align: left;
          cursor: pointer;
        }

        .lx-eta-dropdown-content div:hover {
          background-color: #e5e5e5;
        }

        .lx-eta-dropdown:hover .lx-eta-dropdown-content {
          display: block;
        }

        .lx-eta-dropdown:hover .lx-eta-dropbtn {
          background-color: #e1e1e1;
        }

        .lx-eta-btn-disp-atual {
          margin-left: 10px !important;
          text-decoration: underline;
        }

        .lx-eta-btn-desfazer {
          margin-left: 10px !important;
        }

        .icon-undo-redo {
          width: 19px;
          height: 16px !important;
        }

        .icon-undo-redo:hover {
          fill: #0066cc;
        }

        .container-tr {
          display: flex;
          width: 100%;
        }

        .container-tr-reverse {
          flex-direction: row-reverse;
        }

        .container-td-esquerdo {
          flex: 1;
        }

        .container-td-direito {
          width: 30px;
        }

        .lx-eta-dropdown-content-right {
          right: 0;
        }

        .ql-snow .ql-hidden {
          display: none;
        }

        .ql-snow .ql-tooltip::before {
          content: 'Acesse a norma:';
        }

        .ql-snow .ql-tooltip a.ql-action::after {
          display: none;
        }

        .ql-snow .ql-tooltip a.ql-remove::before {
          display: none;
        }

        .ql-snow .ql-tooltip a.ql-preview {
          max-width: 300px;
        }

        .btn--artigoOndeCouber {

        }

      </style>
      <div id="lx-eta-box">
        <div id="lx-eta-barra-ferramenta">
          <button class="ql-bold" title="Negrito (Ctrl+b)"></button>
          <button class="ql-italic" title="Itlico (Ctrl+i)"></button>
          <button class="ql-script" value="sub" title="Subscrito"></button>
          <button class="ql-script" value="super" title="Sobrescrito"></button>

          <button @click=${this.onClickUndo} class="lx-eta-ql-button lx-eta-btn-desfazer" title="Desfazer (Ctrl+Z)">
            <svg class="icon-undo-redo" id="undo" viewBox="0 0 512 512">
              <path
                d="M488,256c0,123.4-100.5,223.9-223.9,223.9c-48.8,0-95.2-15.6-134.2-44.9c-14.1-10.6-17-30.7-6.4-44.8 c10.6-14.1,30.6-16.9,44.8-6.4c27.8,20.9,61,31.9,95.9,31.9c88.1,0,159.8-71.7,159.8-159.8S352.3,96.2,264.2,96.2 c-37.5,0-73.1,13.5-101.3,36.6L208,178c17,17,5,46.1-19.1,46.1H43.2c-10.6,0-19.2-8.6-19.2-19.2V59C24,35,53.1,23,70.1,40l47.6,47.6 c40.2-34.9,91.8-55.5,146.4-55.5C387.5,32.1,488,132.6,488,256z"
              />
            </svg>
          </button>
          <button @click=${this.onClickRedo} class="lx-eta-ql-button" title="Refazer (Ctrl+y)">
            <svg class="icon-undo-redo lx-eta-rebate-180-graus" id="redo" viewBox="0 0 512 512">
              <path
                d="M488,256c0,123.4-100.5,223.9-223.9,223.9c-48.8,0-95.2-15.6-134.2-44.9c-14.1-10.6-17-30.7-6.4-44.8 c10.6-14.1,30.6-16.9,44.8-6.4c27.8,20.9,61,31.9,95.9,31.9c88.1,0,159.8-71.7,159.8-159.8S352.3,96.2,264.2,96.2 c-37.5,0-73.1,13.5-101.3,36.6L208,178c17,17,5,46.1-19.1,46.1H43.2c-10.6,0-19.2-8.6-19.2-19.2V59C24,35,53.1,23,70.1,40l47.6,47.6 c40.2-34.9,91.8-55.5,146.4-55.5C387.5,32.1,488,132.6,488,256z"
              />
            </svg>
          </button>

          <button @click=${this.onClickDispositivoAtual} class="lx-eta-ql-button lx-eta-btn-disp-atual" title="Localizar dispositivo atual">D</button>
          <input type="button" @click=${this.artigoOndeCouber} class="${"ql-hidden"} btn--artigoOndeCouber" value="Propor artigo onde couber" title="Artigo onde couber"></input>
          <lexml-eta-help style="float:right;"></lexml-eta-help>
        </div>
        <div id="lx-eta-editor"></div>
      </div>
      <elix-toast id="toast-alerta" duration="3000">
        <div id="toast-msg"></div>
      </elix-toast>
      <div id="lx-eta-buffer" style="display: none; height: 0px;"><p></p></div>
    `}formatacaoAlterada(){var e;((e=document.getSelection())===null||e===void 0?void 0:e.toString())&&this.agendarEmissaoEventoOnChange("toolbar")}onClickUndo(){this.quill.undo()}onClickRedo(){this.quill.redo()}onClickDispositivoAtual(){this.quill.setSelection(this.quill.getIndex(this.quill.linhaAtual.blotConteudo),0,Quill.sources.SILENT),this.quill.focus()}artigoOndeCouber(){}ajustarLinkParaNorma(){const e=document.querySelector("a.ql-preview"),n=e==null?void 0:e.getAttribute("href");if(n!=null&&n.startsWith("urn")){const r="https://normas.leg.br/?urn="+n;e.setAttribute("href",r),e.innerHTML=np(n)}}onBold(e){this.quill.keyboard.verificarOperacaoTecladoPermitida()&&(this.quill.format("bold",e),this.formatacaoAlterada())}onItalic(e){this.quill.keyboard.verificarOperacaoTecladoPermitida()&&(this.quill.format("italic",e),this.formatacaoAlterada())}onScript(e){this.quill.keyboard.verificarOperacaoTecladoPermitida()&&(this.quill.format("script",e),this.formatacaoAlterada())}onOperacaoInvalida(){this.alertar("Opera\xE7\xE3o n\xE3o permitida.")}isDesmembramento(e,n,r){return(n+r).localeCompare(e)!==0}adicionarElemento(e){var n,r;const o=this.quill.linhaAtual,i=o.blotConteudo,a=(n=this.quill.inicioConteudoAtual)!==null&&n!==void 0?n:0,f=(r=a+i.tamanho)!==null&&r!==void 0?r:0;let u="",c="";if(e.index===a)u="",c=i.html;else if(e.index===f)u=i.html,c="";else{const l=f-e.index;u=this.quill.getConteudoHtmlParteLinha(i,0,i.tamanho-l),c=this.quill.getConteudoHtmlParteLinha(i,e.index-a,l)}const s=this.criarElemento(o.uuid,o.lexmlId,o.tipo,u,o.numero,o.hierarquia);if(this.isDesmembramento(i.htmlAnt,u,c)){const l=this.criarElemento(o.uuid,o.lexmlId,o.tipo,u+c,o.numero,o.hierarquia);Pe.dispatch($a.execute(l))}Pe.dispatch(Yi.execute(s,c))}async renumerarElemento(){var e,n;const r=this.quill.linhaAtual,o=r.blotConteudo.html,i=this.criarElemento((e=r.uuid)!==null&&e!==void 0?e:0,r.lexmlId,(n=r.tipo)!==null&&n!==void 0?n:"","",r.numero,r.hierarquia,r.descricaoSituacao);if(!bp(i))return;const a=document.createElement("elix-dialog"),f=document.createRange().createContextualFragment(`
      <div style="padding: 15px; text-align: center">
        <div>
          Numera\xE7\xE3o do dispositivo:
          <input type="text" style="width: 60px">
        </div>
        <div class="erro" style="margin-top: 10px; color: red; display: none;"></div>
        <div style="margin-top: 10px;">
          <button>Ok</button>
          <button>Cancelar</button>
        </div>
      </div>
    `),u=f.querySelector("input");u.value=`${yp(r.blotRotulo.rotulo)}`;const c=f.querySelectorAll("button"),s=c[0],l=c[1],g=f.querySelector(".erro");s.onclick=()=>{var v;this.quill.focus(),a.close(),((v=i.conteudo)===null||v===void 0?void 0:v.texto)!==o&&(i.conteudo.texto=o,Pe.dispatch(vh.execute(i))),Pe.dispatch(Et.execute(i,u.value.trim()))},l.onclick=()=>{this.quill.focus(),a.close()};const m=()=>{const v=u.value;return/^\s*$/.test(v)?"A numera\xE7\xE3o n\xE3o pode ser vazia.":""};u.onkeyup=v=>{const h=m();g.innerText=h,g.style.display=h?"block":"none",s.disabled=Boolean(h),s.disabled||v.key==="Enter"&&s.click()},a.appendChild(f),s.disabled=Boolean(m()),await a.open()}removerElemento(){const e=this.quill.linhaAtual,n=`Voc\xEA realmente deseja remover o dispositivo ${e.blotRotulo.rotulo}`;this.confirmar(n,["Sim","N\xE3o"],r=>{var o,i;const a=r.detail.closeResult;if((a&&a.choice)==="Sim"){const u=this.criarElemento((o=e.uuid)!==null&&o!==void 0?o:0,e.lexmlId,(i=e.tipo)!==null&&i!==void 0?i:"","",e.numero,e.hierarquia);Pe.dispatch(It.execute(u))}this.quill.focus()})}moverElemento(e){const n=this.quill.linhaAtual,o=n.blotConteudo.html,i=this.criarElemento(n.uuid,n.lexmlId,n.tipo,o,n.numero,n.hierarquia);e.key==="ArrowUp"?Pe.dispatch(vn.execute(i)):e.key==="ArrowDown"&&Pe.dispatch(gn.execute(i))}transformarElemento(e){const n=this.quill.linhaAtual,o=n.blotConteudo.html,i=this.criarElemento(n.uuid,n.lexmlId,n.tipo,o,n.numero,n.hierarquia);e.key.toLowerCase()==="a"?Pe.dispatch(Kn(i,H.artigo.name)):e.key.toLowerCase()==="l"?Pe.dispatch(Kn(i,H.alinea.name)):e.key.toLowerCase()==="n"?Pe.dispatch(Kn(i,H.inciso.name)):e.key.toLowerCase()==="o"?Pe.dispatch(Kn(i,H.omissis.name)):e.key.toLowerCase()==="p"?Pe.dispatch(Kn(i,H.paragrafo.name)):e.key.toLowerCase()==="t"?Pe.dispatch(Kn(i,H.item.name)):qu.keys.TAB&&Pe.dispatch(e.shiftKey?Sh(i):Th(i))}elementoSelecionado(e){var n;const r=this.quill.linhaAtual,o=this.criarElemento(e,r.lexmlId,(n=r.tipo)!==null&&n!==void 0?n:"","",r.numero,r.hierarquia);Pe.dispatch(xh.execute(o)),this.quill.processandoMudancaLinha=!1}undoRedoEstrutura(e){e==="undo"?Pe.dispatch(Dh()):Pe.dispatch(wh())}processarStateEvents(e){e==null||e.forEach(o=>{var i;switch(o.stateType){case K.DocumentoCarregado:this.destroiQuill(),this.inicializar(this.configEditor()),this.carregarArticulacao((i=o.elementos)!==null&&i!==void 0?i:[]);break;case K.InformarNorma:Pg(o.elementos[0],this.quill,Pe,bh);break;case K.ElementoIncluido:this.inserirNovoElementoNoQuill(o.elementos[0],o.referencia,!0),this.inserirNovosElementosNoQuill(o);break;case K.ElementoModificado:case K.ElementoRestaurado:this.atualizarQuill(o),this.montarMenuContexto(o);break;case K.ElementoSuprimido:this.atualizarSituacao(o),this.montarMenuContexto(o);break;case K.ElementoRemovido:this.removerLinhaQuill(o);break;case K.ElementoRenumerado:this.renumerarQuill(o);break;case K.ElementoValidado:this.atualizarMensagemQuill(o);break;case K.ElementoSelecionado:this.montarMenuContexto(o),this.atualizarMensagemQuill(o);break;case K.ElementoMarcado:this.marcarLinha(o);break;case K.SituacaoElementoModificada:this.atualizarSituacao(o),this.montarMenuContexto(o);break}this.quill.limparHistory()});const n=[K.ElementoModificado,K.ElementoSuprimido,K.ElementoRestaurado,K.ElementoIncluido,K.ElementoRemovido,K.ElementoRenumerado],r=e==null?void 0:e.filter(o=>n.includes(o.stateType)).map(o=>o.stateType);r!=null&&r.length&&this.agendarEmissaoEventoOnChange("stateEvents")}marcarLinha(e){this.quill.desmarcarLinhaAtual(this.quill.linhaAtual);const n=e.elementos[0],r=this.quill.getLinha(n.uuid),o=this.quill.getIndex(r.blotConteudo);this.quill.setIndex(o,Quill.sources.SILENT),this.quill.atualizarLinhaCorrente(r),this.elementoSelecionado(r.uuid)}processarEscolhaMenu(e){var n,r,o;if(e==="Remover dispositivo")this.removerElemento();else if(e===Et.descricao)this.renumerarElemento();else{const i=this.quill.linhaAtual,a=this.criarElemento((n=i.uuid)!==null&&n!==void 0?n:0,i.lexmlId,(r=i.tipo)!==null&&r!==void 0?r:"","",i.numero,i.hierarquia);a.conteudo.texto=(o=i.blotConteudo.html)!==null&&o!==void 0?o:"",Pe.dispatch(Gp(e).execute(a))}}inserirNovoElementoNoQuill(e,n,r){const o=this.quill.getLinha(n.uuid);if(o){const i=_r.criarContainerLinha(e);if(o.next?i.insertInto(this.quill.scroll,o.next):i.insertInto(this.quill.scroll),this.quill.linhaAtual.blotConteudo.html!==""||i.blotConteudo.html===""){if(r){this.quill.desmarcarLinhaAtual(this.quill.linhaAtual),this.quill.marcarLinhaAtual(i);try{this.quill.setIndex(this.quill.getIndex(i.blotConteudo),Quill.sources.SILENT)}catch(a){console.log(a)}}}else this.quill.linhaAtual.blotConteudo.htmlAnt=this.quill.linhaAtual.blotConteudo.html;this.quill.linhaAtual.descricaoSituacao=e.descricaoSituacao,this.quill.linhaAtual.setEstilo(e.descricaoSituacao)}}inserirNovosElementosNoQuill(e,n){var r;const o=(r=e.elementos)!==null&&r!==void 0?r:[];for(let i=1;i<o.length;i++)this.inserirNovoElementoNoQuill(o[i],o[i-1],n)}atualizarSituacao(e){var n;const r=(n=e.elementos)!==null&&n!==void 0?n:[];let o;r.map(i=>{var a;o=this.quill.getLinha((a=i.uuid)!==null&&a!==void 0?a:0,o),o&&i.descricaoSituacao!==o.descricaoSituacao&&(o.descricaoSituacao=i.descricaoSituacao,o.setEstilo(i.descricaoSituacao))})}atualizarQuill(e){var n;const r=(n=e.elementos)!==null&&n!==void 0?n:[];let o;r.map(i=>{var a,f,u,c,s;if(o=this.quill.getLinha((a=i.uuid)!==null&&a!==void 0?a:0,o),o){let l=!1;i.editavel!==o.editavel&&(o.editavel=i.editavel),i.rotulo!==o.blotRotulo.html&&(o.numero=(f=i.numero)!==null&&f!==void 0?f:"",o.blotRotulo.format(Ze.blotName,i.rotulo)),i.nivel!==o.nivel&&(o.nivel=i.nivel,o.format($e.blotName,i),l=!0),i.agrupador!==o.agrupador&&(o.agrupador=i.agrupador,o.blotRotulo.format(Ze.formatoStyle,i),l||o.format($e.blotName,i)),((u=i.conteudo)===null||u===void 0?void 0:u.texto)!==o.blotConteudo.html&&(o.blotConteudo.html=(s=(c=i.conteudo)===null||c===void 0?void 0:c.texto)!==null&&s!==void 0?s:""),i.descricaoSituacao!==o.descricaoSituacao&&(o.descricaoSituacao=i.descricaoSituacao,o.setEstilo(i.descricaoSituacao)),o.children.length===2&&o.children.tail.remove(),i.mensagens&&i.mensagens.length>0&&_r.criarContainerMensagens(i).insertInto(o)}})}removerLinhaQuill(e){var n;const r=(n=e.elementos)!==null&&n!==void 0?n:[];let o;r.forEach(f=>{var u;o=this.quill.getLinha((u=f.uuid)!==null&&u!==void 0?u:0,o),o&&o.remove()});const i=this.quill.getLine(this.quill.getSelection(!0).index)[0].linha,a=this.quill.getIndex(i.blotConteudo);this.quill.setSelection(a,0,Quill.sources.SILENT),this.quill.marcarLinhaAtual(i)}renumerarQuill(e){var n;const r=(n=e.elementos)!==null&&n!==void 0?n:[];let o;r.map(i=>{var a;o=this.quill.getLinha((a=i.uuid)!==null&&a!==void 0?a:0,o),o&&o.blotRotulo.format(Ze.blotName,i.rotulo)})}atualizarMensagemQuill(e){var n;const r=(n=e.elementos)!==null&&n!==void 0?n:[];let o;r.map(i=>{var a;o=this.quill.getLinha((a=i.uuid)!==null&&a!==void 0?a:0,o),o&&((o==null?void 0:o.children.length)===2&&o.children.tail.remove(),i.mensagens&&i.mensagens.length>0&&_r.criarContainerMensagens(i).insertInto(o))})}montarMenuContexto(e){var n;const r=e.elementos?e.elementos[0]:new is,o=((n=r==null?void 0:r.acoesPossiveis)!==null&&n!==void 0?n:[]).filter(i=>Kp(i));if(o.length>0){const i=new Bt,a=new fn(this.quill.linhaAtual.containerDireito.alinhamentoMenu),f=u=>{this.processarEscolhaMenu(u),this.quill.focus()};new cn().insertInto(i),o.forEach(u=>{new dn(u,f).insertInto(a)}),a.insertInto(i),this.quill.linhaAtual.blotContainerDireito.remove(),i.insertInto(this.quill.linhaAtual.containerDireito)}}criarElemento(e,n,r,o,i,a,f){const u=new is;return u.uuid=e,u.lexmlId=n,u.tipo=r,u.numero=i,u.conteudo={texto:o},u.hierarquia=a,u.descricaoSituacao=f,u}inicializar(e){const n=this.getHtmlElement("lx-eta-editor"),r=this.getHtmlElement("lx-eta-buffer");Oe.configurar(),this._quill=new Oe(n,r,e),this.quill.on("selection-change",this.onSelectionChange),this.inscricoes.push(this.quill.keyboard.operacaoTecladoInvalida.subscribe(this.onOperacaoInvalida.bind(this))),this.inscricoes.push(this.quill.keyboard.adicionaElementoTeclaEnter.subscribe(this.adicionarElemento.bind(this))),this.inscricoes.push(this.quill.keyboard.moveElemento.subscribe(this.moverElemento.bind(this))),this.inscricoes.push(this.quill.keyboard.removeElemento.subscribe(this.removerElemento.bind(this))),this.inscricoes.push(this.quill.keyboard.renumeraElemento.subscribe(this.renumerarElemento.bind(this))),this.inscricoes.push(this.quill.keyboard.transformaElemento.subscribe(this.transformarElemento.bind(this))),this.inscricoes.push(this.quill.undoRedoEstrutura.subscribe(this.undoRedoEstrutura.bind(this))),this.inscricoes.push(this.quill.elementoSelecionado.subscribe(this.elementoSelecionado.bind(this))),this.inscricoes.push(this.quill.observableSelectionChange.subscribe(this.atualizarTextoElemento.bind(this))),this.inscricoes.push(this.quill.keyboard.onChange.subscribe(this.agendarEmissaoEventoOnChange.bind(this))),this.inscricoes.push(this.quill.clipboard.onChange.subscribe(this.agendarEmissaoEventoOnChange.bind(this)))}agendarEmissaoEventoOnChange(e){clearTimeout(this.timerOnChange),this.timerOnChange=setTimeout(()=>this.emitirEventoOnChange(e),1e3)}atualizarTextoElemento(e){var n,r,o;if(!((n=e==null?void 0:e.blotConteudo)===null||n===void 0)&&n.alterado){const i=this.criarElemento(e.uuid,e.lexmlId,e.tipo,(o=(r=e.blotConteudo)===null||r===void 0?void 0:r.html)!==null&&o!==void 0?o:"",e.numero,e.hierarquia);Pe.dispatch($a.execute(i))}}emitirEventoOnChange(e){this.atualizarTextoElemento(this.quill.linhaAtual),this.dispatchEvent(new CustomEvent("onchange",{bubbles:!0,composed:!0,detail:{origemEvento:e}}))}carregarArticulacao(e){setTimeout(()=>{this.quill.getLine(0)[0].remove(),e.map(n=>{const r=_r.criarContainerLinha(n);r.insertInto(this.quill.scroll),n.tipo===H.generico.tipo&&Pe.dispatch(Xl.execute(n)),n.descricaoSituacao===re.DISPOSITIVO_ADICIONADO&&r.setEstilo(re.DISPOSITIVO_ADICIONADO)}),this.quill.limparHistory(),setTimeout(()=>{const n=this.quill.getLinha(e[1].uuid);this.quill.setSelection(this.quill.getIndex(n==null?void 0:n.blotConteudo),0,Quill.sources.USER)},0),Pe.dispatch(Ql.execute())},0)}configEditor(){return{modules:{toolbar:{container:"#lx-eta-barra-ferramenta",handlers:{bold:this.onBold.bind(this),italic:this.onItalic.bind(this),script:this.onScript.bind(this)}},history:{delay:0,maxStack:500,userOnly:!0}},theme:"snow"}}async confirmar(e,n,r){const o=document.createElement("elix-alert-dialog");o.textContent=e,o.choices=n,o.addEventListener("close",r),await o.open()}alertar(e){const n=this.querySelector("#toast-alerta"),r=this.querySelector("#toast-msg");r.innerHTML=e,n.fromEdge="top",n.open()}quillNaoInicializado(e){var n;let r=[];const o=i=>{setTimeout(()=>{this.quill?this.carregarArticulacao(i):o(i)},70)};e.elementoReducer.ui&&(r=(n=e.elementoReducer.ui.events.find(a=>a.stateType===K.DocumentoCarregado).elementos)!==null&&n!==void 0?n:[]),o(r)}getHtmlElement(e){return this.querySelector(`#${e}`)}destroiQuill(){this.getHtmlElement("lx-eta-editor").innerHTML="",this.getHtmlElement("lx-eta-buffer").innerHTML="",this.quill&&(this.quill.off("selection-change",this.onSelectionChange),this.quill.destroi()),this._quill=void 0}};as=xt([fr("lexml-eta-editor")],as);let Io=class extends pn{constructor(){super(...arguments);this.htmlAgrupador=()=>{var e,n,r;return vt`<p class="rotulo">${this.elemento.rotulo}</p>
      <p class="texto-agrupador">${Ci((r=(n=(e=this.elemento)===null||e===void 0?void 0:e.conteudo)===null||n===void 0?void 0:n.texto)!==null&&r!==void 0?r:"")}</p>`},this.htmlDispositivo=()=>{var e,n,r;return vt`
      <p class="texto" style="${`padding-left: ${this.elemento.nivel*20}px;`}">
        <span class="rotulo">${this.elemento.rotulo}</span>
        ${Ci((r=(n=(e=this.elemento)===null||e===void 0?void 0:e.conteudo)===null||n===void 0?void 0:n.texto)!==null&&r!==void 0?r:"")}
      </p>
    `}}render(){return vt`
      <div class="box">
        <div class="conteudo">${this.elemento.agrupador?this.htmlAgrupador():this.htmlDispositivo()}</div>
      </div>
    `}};Io.styles=il`
    :host {
      display: block;
      padding: 0px;
      margin: 0px;
      font-family: sans-serif, 'Open Sans', -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, 'Helvetica Neue', 'Apple Color Emoji', 'Segoe UI Emoji', 'Segoe UI Symbol',
        'Noto Color Emoji';
      font-size: 1.1em;
      line-height: 1.2;
      color: #646260;
      text-transform: none !important;
    }

    p.rotulo {
      margin: 5px !important;
      color: #373634;
      font-weight: 600;
      text-align: center;
    }

    p.texto {
      margin: 5px !important;
    }

    p.texto-agrupador {
      margin: 5px !important;
      text-align: center;
    }

    span.rotulo {
      color: #373634;
      font-weight: 600;
    }
  `;xt([Xr({type:Object})],Io.prototype,"elemento",void 0);Io=xt([fr("lexml-eta-elemento")],Io);let ki=class extends pn{render(){return vt`
      <div class="lx-eta-help">
        <button class="lx-eta-helpbtn">&quest;</button>
        <div class="lx-eta-help-content">
          <div><b>ctrl-shift-a</b>&nbsp;-&nbsp;Seleciona o texto do dispositivo atual</div>
          <div><b>ctrl-a</b>&nbsp;-&nbsp;Seleciona todos os dispositivos da articulao</div>
          <div><b>ctrl-home</b>&nbsp;-&nbsp;Vai para o primeiro dispositivo</div>
          <div><b>ctrl-end</b>&nbsp;-&nbsp;Vai para o ltimo dispositivo</div>
          <div><b>ctrl-&uarr;</b>&nbsp;-&nbsp;Move o dispositivo acima</div>
          <div><b>ctrl-&darr;</b>&nbsp;-&nbsp;Move o dispositivo abaixo</div>
          <hr></hr>
          <div><b>enter</b>&nbsp;-&nbsp;Finaliza a edio do dispositivo atual e cria um novo</div>
          <div><b>ctrl-d</b>&nbsp;-&nbsp;Remove dispositivo atual</div>
          <div><b>ctrl-z</b>&nbsp;-&nbsp;Desfaz ultima alterao</div>
          <div><b>ctrl-y</b>&nbsp;-&nbsp;Refaz alterao</div>
          <hr></hr>
          <div><b>ctrl-alt-A</b>&nbsp;-&nbsp;Transforma o dispositivo em artigo</div>
          <div><b>ctrl-alt-L</b>&nbsp;-&nbsp;Transforma o dispositivo em alnea</div>
          <div><b>ctrl-alt-N</b>&nbsp;-&nbsp;Transforma o dispositivo em inciso</div>
          <div><b>ctrl-alt-O</b>&nbsp;-&nbsp;Transforma o dispositivo em omissis</div>
          <div><b>ctrl-alt-P</b>&nbsp;-&nbsp;Transforma o dispositivo em pargrafo</div>
          <div><b>ctrl-alt-T</b>&nbsp;-&nbsp;Transforma o dispositivo em item</div>
          <div><b>tab</b>&nbsp;-&nbsp;Indenta para a direita o dispositivo, transformando-o no tipo mais provvel</div>
          <div><b>shift-tab</b>&nbsp;-&nbsp;Recua o dispositivo para a esquerda, transformando-o no tipo mais provvel</div>
          <hr></hr>
          <div><b>ctrl-alt-R</b>&nbsp;-&nbsp;Renumera o dispositivo</div>
        </div>
      </div>
    `}};ki.styles=il`
    :host {
      position: relative;
      display: inline-block;
    }

    .lx-eta-helpbtn {
      background-color: #ffffff;
      color: black;
      width: 26px;
      height: 22px;
      font-size: 1.1em;
      font-weight: bold;
      vertical-align: middle;
      border: none;
      cursor: pointer;
      text-align: center;
    }

    .lx-eta-help-content {
      display: none;
      position: absolute;
      right: 0;
      background-color: #f9f9f9;
      box-shadow: 0px 4px 4px 4px rgba(0, 0, 0, 0.25);
      z-index: 1;
      width: calc(100vw - 30px);
      max-width: 400px;
    }

    .lx-eta-help-content div {
      color: black;
      padding: 2px 5px;
      text-decoration: none;
      display: block;
      white-space: wrap;
      font-size: 0.8em;
      font-weight: normal !important;
      text-align: left;
    }

    .lx-eta-help:hover .lx-eta-help-content {
      display: block;
    }
  `;ki=xt([fr("lexml-eta-help")],ki);class Ne{static getDispositivosComando(e){const n=new Array;for(const r of e){if(r.situacao.descricaoSituacao===re.DISPOSITIVO_ORIGINAL||oe(r)||yn(r))continue;const o=Ne.getDispositivoAfetado(r);o&&!n.includes(o)&&n.push(o)}return n}static getDispositivoAfetado(e){if(be(e)||ie(e))return e;const n=e.pai;return nt(n)&&n.pai.situacao.descricaoSituacao!==re.DISPOSITIVO_ORIGINAL?n.filhos.find(r=>r.situacao.descricaoSituacao===re.DISPOSITIVO_ORIGINAL)?e:n.pai:Ne.isAlteracaoIntegral(n)?Ne.getDispositivoAfetado(n):e}static isTextoOmitido(e){var n;return Xe(e)||e.texto.startsWith(pt)||be(e)&&!!(!((n=e.caput)===null||n===void 0)&&n.texto.startsWith(pt))}static isAlteracaoIntegral(e){if(e.situacao.descricaoSituacao===re.DISPOSITIVO_ORIGINAL)return!1;if(e.situacao.descricaoSituacao===re.DISPOSITIVO_SUPRIMIDO||e.situacao.descricaoSituacao===re.DISPOSITIVO_ADICIONADO)return!0;if(!e.filhos.length)return ie(e)?e.situacao.descricaoSituacao!==re.DISPOSITIVO_ORIGINAL:!0;for(const n of e.filhos)if(!Ne.isAlteracaoIntegral(n))return!1;return!0}static isSequenciasPlural(e){const n=e.length;return n===0?!1:n>1||Ne.isSequenciaPlural(e[0])}static isSequenciaPlural(e){const n=e.getQuantidadeRanges();return n===0?!1:n>1||e.getPrimeiroRange().getQuantidadeDispositivos()>1}static getProximoAgrupador(e){let n=e;do n=Hr(n);while(n&&!be(n));return n}static getDispositivoIrmaoPosterior(e){if(ie(e)||be(e))return this.getArtigoPosterior(e);if(!this.isUltimoDispositivoDoMesmoTipo(e)){const n=e.pai,r=n.filhos.indexOf(e)+1;return n.filhos[r]}}static getArtigoPosterior(e){const n=e.pai;if(n.filhos.length){const r=n.filhos.indexOf(e);for(let o=r+1;o<n.filhos.length;o++){const i=n.filhos[o];if(ie(i))return i;if(be(i)){const a=this.buscaProximoArtigo(i);if(a)return a}}if(n.pai)return this.getArtigoPosterior(n)}}static buscaProximoArtigo(e){const n=e.filhos;for(const r of n){if(ie(r))return r;if(be(r))return this.buscaProximoArtigo(r)}}static isUltimoDispositivoDoMesmoTipo(e){if(!e.pai)return!0;const n=e.pai,r=n.filhos.indexOf(e);return n.filhos.length===r+1?!0:n.filhos[r+1].tipo!==e.tipo}static getFilhosEstiloLexML(e){if(ie(e)){const n=e;return[n.caput,...n.filhos.filter(r=>we(r))]}return e.filhos}static getDispositivoAnteriorDireto(e){const n=e.pai,r=this.getFilhosEstiloLexML(n),o=r.indexOf(e);if(o>0)e=r[o-1];else return n;for(;e.filhos.length;)e=e.filhos[e.filhos.length-1];return e}static getDispositivoPosteriorDireto(e){const n=this.getFilhosEstiloLexML(e);return n.length?n[0]:this.getProximoIrmaoRecursivo(e)}static getProximoIrmaoRecursivo(e){if(!e)return;const n=Hr(e);if(n)return n;{const r=e.pai;return r?void 0:this.getProximoIrmaoRecursivo(r)}}static isMesmoTipoParaComandoEmenda(e,n){return!(e.tipo!==n.tipo||ie(e)&&Ne.isAlteracaoIntegral(e)!==Ne.isAlteracaoIntegral(n))}}const Mu=(t,e)=>{t.splice(t.indexOf(e),1)};class mt{constructor(e){this.dispositivos=[],e&&this.add(e)}isSituacao(e){return!!this.dispositivos.length&&this.dispositivos[0].situacao.descricaoSituacao===e}isTipo(e){return!!this.dispositivos.length&&this.dispositivos[0].tipo===e}add(e){return this.podeAdicionarAoRange(e)?(this.dispositivos.push(e),!0):!1}addInicio(e){this.dispositivos.splice(0,0,e)}isUltimo(e){return this.dispositivos.indexOf(e)===this.dispositivos.length-1}getPrimeiro(){return this.dispositivos[0]}getUltimo(){return this.dispositivos[this.dispositivos.length-1]}getQuantidadeDispositivos(){return this.dispositivos.length}getAnterior(e){if(!(e<1))return this.dispositivos[e-1]}getNumeracaoParaComandoEmenda(){let e=this.dispositivos[0].getNumeracaoParaComandoEmenda();return this.dispositivos.length>1&&(e+=" a "+this.getUltimo().getNumeracaoParaComandoEmenda()),e}print(e,n){this.isRotuloNecessario(n)?this.printRotuloInicio(e,n):e.append(this.dispositivos[0].getNumeracaoParaComandoEmenda()),this.printSeparadorProximoDispositivo(e,n),this.printRotuloFimSeExistir(e)}printRotuloFimSeExistir(e){this.dispositivos.length>=2&&e.append(this.dispositivos[this.dispositivos.length-1].getNumeracaoParaComandoEmenda())}printSeparadorProximoDispositivo(e,n){const r=this.getRangeDispositivosPosterior(n);this.dispositivos.length>=3?e.append(" a "):this.dispositivos.length===2&&!r?e.append(" e "):this.dispositivos.length>1&&this.dispositivos.length<3&&r&&e.append(", ")}printRotuloInicio(e,n){const r=this.getRangeDispositivosPosterior(n);this.hasApenasUmDispositivo()&&!r||r&&!this.isMesmoTipoSituacao(r)?e.append(this.getRotuloCompletoSingular(this.dispositivos[0])):e.append(this.getRotuloCompletoPlural(this.dispositivos[0]))}isMesmoTipoSituacao(e){return e.isTipo(this.dispositivos[0].tipo)&&e.isSituacao(this.dispositivos[0].situacao.descricaoSituacao)}hasApenasUmDispositivo(){return this.dispositivos.length===1}isRotuloNecessario(e){const n=this.getRangeDispositivosAnterior(e);return!!(!n||!n.isMesmoTipoSituacao(this)||this.isSituacao(re.DISPOSITIVO_NOVO)&&!this.isMesmoPai(n))}isMesmoPai(e){return this.getPrimeiro().pai===e.getPrimeiro().pai}getRotuloCompletoSingular(e){const n=new ht;e.situacao.descricaoSituacao!==re.DISPOSITIVO_NOVO?n.append(e.artigoDefinidoSingular):n.append(" ");const r=e.getNumeracaoComRotuloParaComandoEmenda();return r.endsWith(".")?n.append(r.substring(0,r.indexOf("."))):n.append(r),n.toString()}getRotuloCompletoPlural(e){const n=new ht;return e.situacao.descricaoSituacao!==re.DISPOSITIVO_NOVO?n.append(e.artigoDefinidoPlural):n.append(" "),n.append(this.getTipoDispositivoPlural(e)),n.append(" "),n.append(e.getNumeracaoParaComandoEmenda()),n.toString()}getRangeDispositivosAnterior(e){const n=e.indexOf(this);if(n>0)return e[n-1]}getRangeDispositivosPosterior(e){if(e.length===1)return;const n=e.indexOf(this);if(n>=0&&n<e.length-1)return e[n+1]}getTipoDispositivoPlural(e){var n;return e.tipo===H.artigo.tipo?"arts.":e.tipo===H.paragrafo.tipo?"\xA7\xA7":((n=e.descricaoPlural)===null||n===void 0?void 0:n.toLocaleLowerCase())+""}podeAdicionarAoRange(e){if(this.isVazio())return!0;const n=this.getUltimo();return!(n.tipo!==e.tipo||n.situacao.descricaoSituacao!==e.situacao.descricaoSituacao||!ie(e)&&e.pai!==n.pai||Wh(n)!==e||Ne.isAlteracaoIntegral(n)!==Ne.isAlteracaoIntegral(e))}isVazio(){return this.dispositivos.length===0}toString(){const e=new ht;return this.dispositivos.forEach(n=>{e.append(" "),e.append(""+n.rotulo)}),e.toString()}getDispositivos(){return this.dispositivos}getDispositivo(e){return this.dispositivos[e]}}class wn{constructor(){this.ranges=new Array,this.localizarArtigoEmAgrupador=!1,this.informarCaputDoDispositivo=!1}isVazio(){return this.ranges.length===0}add(e){this.ranges.push(e)}addInicio(e){this.ranges.unshift(e)}getQuantidadeRanges(){return this.ranges.length}getPrimeiroRange(){return this.ranges[0]}getPrimeiroDispositivo(){return this.ranges[0].getPrimeiro()}getUltimoDispositivo(){return this.ranges[this.ranges.length-1].getUltimo()}getRanges(){return this.ranges}setRanges(e){this.ranges=e}getRange(e){return this.ranges[e]}getTextoListaDeDispositivos(){const e=new ht,n=this.ranges.length;let r=1;for(const o of this.ranges)r>1&&(r===n?e.append(" e "):e.append(", ")),e.append(o.getNumeracaoParaComandoEmenda()),r++;return e.toString()}static debug(e){const n=new ht;for(const r of e)n.append("seq: "+r);console.log(n)}toString(){return this.ranges.toString()}remove(e){Mu(this.ranges,e)}}class kn{getSequencias(e){const n=this.getRanges(e);return this.agrupaRanges(n)}getRanges(e){let n=new Array,r=new mt;for(const o of e)r.add(o)||(n.push(r),r=new mt,r.add(o));return r.isVazio()||n.push(r),n=kn.separaRangesDeDoisDispositivos(n),n}static separaRangesDeDoisDispositivos(e){const n=new Array;for(const r of e)r.getQuantidadeDispositivos()===2?(n.push(new mt(r.getPrimeiro())),n.push(new mt(r.getUltimo()))):n.push(r);return n}separaRangesDeDoisDispositivosEmSequencias(e){for(const n of e)n.setRanges(kn.separaRangesDeDoisDispositivos(n.getRanges()))}agrupaRanges(e){const n=new Array;let r=new wn;for(const o of e)r.isVazio()?(r.add(o),n.push(r)):this.isMesmaSequencia(r,o)?r.add(o):(r=new wn,r.add(o),n.push(r));return n}isMesmaSequencia(e,n){const r=e.getPrimeiroDispositivo(),o=n.getUltimo();return Ne.isMesmoTipoParaComandoEmenda(r,o)&&r.situacao.descricaoSituacao===o.situacao.descricaoSituacao&&(r.tipo===H.artigo.tipo||r.pai===o.pai)&&r.tipo!==H.omissis.tipo}separaDispositivosSeguidosDeOmissis(e){const n=new Array;for(const r of e)n.push(...this.separaDispositivosSeguidosDeOmissis2(r));return n}separaDispositivosSeguidosDeOmissis2(e){const n=new Array;let r=new wn;n.push(r);let o=new mt;r.add(o);for(const i of e.getRanges()){o.getQuantidadeDispositivos()>0&&(o=new mt,r.add(o));for(const a of i.getDispositivos()){const f=Hr(a);f&&f.tipo===H.omissis.tipo?(this.adicionaouDispositivos(r,o)&&(o.getQuantidadeDispositivos()===0&&r.remove(o),r=new wn,n.push(r),o=new mt,r.add(o)),r.informarCaputDoDispositivo=!0,o.add(a),r=new wn,n.push(r),o=new mt,r.add(o)):o.add(a)}}return o.getQuantidadeDispositivos()===0&&r.remove(o),r.getQuantidadeRanges()===0&&Mu(n,r),this.separaRangesDeDoisDispositivosEmSequencias(n),n}adicionaouDispositivos(e,n){return e.getQuantidadeRanges()>1||n.getQuantidadeDispositivos()>0}}class Fu{static compare(e,n){if(!e||!n)throw new Error("Tentativa de compara\xE7\xE3o de dispositivo nulo.");return e.pai?n.pai?this.comparaIndices(this.getIndices(e),this.getIndices(n)):1:-1}static getIndices(e){const n=[];let r=e.pai;for(;r;)n.push(this.getIndexDoFilho(r,e)),e=r,r=e.pai;return n.reverse(),n}static getIndexDoFilho(e,n){return n.tipo===H.caput.tipo?-1:e.filhos.indexOf(n)}static comparaIndices(e,n){let r=0;const o=e.length,i=n.length;for(let a=0;a<o&&a<i&&r===0;a++)r=e[a]-n[a];return r===0&&(r=o-i),r}}class Bo{constructor(e){this.dispositivos=e}static compare(e,n){var r,o;return!((r=e.dispositivos)===null||r===void 0)&&r.length?!((o=n.dispositivos)===null||o===void 0)&&o.length?Fu.compare(e.dispositivos[0],n.dispositivos[0]):-1:1}}var Nn;(function(t){t[t.NENHUM=0]="NENHUM",t[t.DEFINIDO=1]="DEFINIDO",t[t.DEFINIDO_COM_PREPOSICAO_A=2]="DEFINIDO_COM_PREPOSICAO_A"})(Nn||(Nn={}));class oo{constructor(){this.artigoAntesDispositivo=Nn.NENHUM}getTexto(e){const n=new ht,r=e.length;let o=1;for(const i of e)o>1&&(o===r?n.append(" e "):n.append(", ")),i.informarCaputDoDispositivo?n.append(this.getReferenciaCaputDoDispositivo(i)):n.append(this.getTextoArtigoAntesSequencia(i)),n.append(this.getRotuloTipoDispositivo(i)),n.append(" "),n.append(i.getTextoListaDeDispositivos()),n.append(this.getRotuloPaisSequencia(i)),o++;return n.toString()}getReferenciaCaputDoDispositivo(e){const n=new ht,r=e.getPrimeiroDispositivo();if(r.tipo===H.caput.tipo)return this.getTextoArtigoAntesSequencia(e);const o=Ne.isSequenciaPlural(e);return n.append(this.getTextoArtigoAntesDispositivo(this.artigoAntesDispositivo,uu,o)),n.append(" caput "),e.getRange(0).getQuantidadeDispositivos()===1?n.append(r.pronomePossessivoSingular):n.append(r.pronomePossessivoPlural),n.toString()}getTextoArtigoAntesSequencia(e){const n=e.getPrimeiroDispositivo(),r=Ne.isSequenciaPlural(e);return this.getTextoArtigoAntesDispositivo(this.artigoAntesDispositivo,n,r)}getTextoArtigoAntesDispositivo(e,n,r){switch(e){case Nn.DEFINIDO:return r?n.artigoDefinidoPlural:n.artigoDefinidoSingular;case Nn.DEFINIDO_COM_PREPOSICAO_A:return r?n.artigoDefinidoPrecedidoPreposicaoAPlural:n.artigoDefinidoPrecedidoPreposicaoASingular;default:return""}}getRotuloTipoDispositivo(e){const n=e.getPrimeiroDispositivo();return oo.getRotuloTipoDispositivo(n,Ne.isSequenciaPlural(e))}static getRotuloTipoDispositivo(e,n){return e.getNumeracaoParaComandoEmenda().indexOf("\xFAnico")>=0?"":n?ie(e)?"arts.":we(e)?"\xA7\xA7":String(e.descricaoPlural).toLocaleLowerCase():ie(e)?e.situacao.descricaoSituacao===re.DISPOSITIVO_MODIFICADO&&!Ne.isAlteracaoIntegral(e)?"caput do art.":"art.":we(e)?"\xA7":String(e.descricao).toLowerCase()}getRotuloPaisSequencia(e){const n=e.getPrimeiroDispositivo(),r=e.localizarArtigoEmAgrupador;return this.getRotuloPais(n,r)}getRotuloPais(e,n){var r;const o=new ht;let i;for(;!Nr(e);){if(i=e.pai,i&&yn(i)){if(e.tipo===H.omissis.tipo){const a=Ne.getDispositivoAnteriorDireto(e);if(a.tipo!==H.alteracao.tipo)return o.append("ap\xF3s "),o.append(a.artigoDefinidoSingular),o.append(a.getNumeracaoComRotuloParaComandoEmenda()),o.append(this.getRotuloPais(a,n)),o.toString()}break}if(i&&!Nr(i)&&(!be(i)||ie(e)&&n)){const a=oe(e),f=!a&&e.situacao.descricaoSituacao===re.DISPOSITIVO_ADICIONADO,u=a&&!Ne.isTextoOmitido(e)&&e.situacao.descricaoSituacao===re.DISPOSITIVO_ADICIONADO;if(f||u)o.append(i.artigoDefinidoPrecedidoPreposicaoASingular);else if(Xe(e)){const c=Ne.getDispositivoAnteriorDireto(e),s=Ne.getDispositivoPosteriorDireto(e);if(c===i&&s&&s.pai===i){const l=s.pronomePossessivoSingular+" "+((r=s.descricao)===null||r===void 0?void 0:r.toLowerCase())+" "+s.getNumeracaoParaComandoEmenda();o.append("antes "+l),o.append(i.pronomePossessivoSingular)}else if(!(Te(c)&&c.pai))return o.append("ap\xF3s "),o.append(c.artigoDefinidoSingular),o.append(c.getNumeracaoComRotuloParaComandoEmenda()),o.append(this.getRotuloPais(c,n)),o.toString()}else o.append(i.pronomePossessivoSingular);o.append(i.getNumeracaoComRotuloParaComandoEmenda())}else if(ie(e)&&Nr(i)&&n){const a=Ne.getProximoAgrupador(e);a&&(o.append(" antes "),o.append(a.pronomePossessivoSingular),o.append(a.getNumeracaoComRotuloParaComandoEmenda()))}if(!i)break;e=i}return o.toString()}setArtigoAntesDispositivo(e){this.artigoAntesDispositivo=e}}class Tg extends Bo{constructor(e){super(e);this.dispositivos=e}getTexto(e,n,r){const o=new ht,a=new kn().getSequencias(this.dispositivos);n?(o.append("D\xEA-se "),r||o.append("nova reda\xE7\xE3o ")):(o.append(r?"; e ":"; "),o.append("d\xEA-se nova reda\xE7\xE3o "));const f=new oo;return f.setArtigoAntesDispositivo(Nn.DEFINIDO_COM_PREPOSICAO_A),o.append(f.getTexto(a)),r&&(o.append(" "+e.genero.pronomePossessivoSingular+" "+e.nome),o.append(n?" a seguinte reda\xE7\xE3o:":", nos termos a seguir:")),ra(o.toString())}}class Ng extends Bo{constructor(e){super(e);this.dispositivos=e}getTexto(e,n,r){const o=new ht;let a=new kn().getSequencias(this.dispositivos);a=this.trataLocalizacaoArtigoEmAgrupador(a);const f=Ne.isSequenciasPlural(a);n?o.append(f?"Acrescentem-se ":"Acrescente-se "):(o.append(r?"; e ":"; "),o.append(f?"acrescentem-se ":"acrescente-se "));const u=new oo;if(o.append(u.getTexto(a)),r){const c=a[a.length-1];!ie(c.getPrimeiroDispositivo())||c.localizarArtigoEmAgrupador?o.append(e.genero.pronomePossessivoSingular):o.append(e.genero.artigoDefinidoPrecedidoPreposicaoASingular),o.append(e.nome),o.append(n?", com a seguinte reda\xE7\xE3o:":", nos termos a seguir:")}return ra(o.toString())}trataLocalizacaoArtigoEmAgrupador(e){const n=new Array;for(const r of e)ie(r.getPrimeiroDispositivo())?n.push(...this.trataLocalizacaoArtigoAgrupadorSequencia(r)):n.push(r);return n}trataLocalizacaoArtigoAgrupadorSequencia(e){const n=new Array,r=new Array;for(const u of e.getRanges())r.push(...u.getDispositivos());let o=!1;for(const u of r)if(this.isInclusaoArtigoProximoAgrupador(u)){o=!0;break}if(!o)return n.push(e),n;let i=new wn;i.localizarArtigoEmAgrupador=!0,n.push(i);let a=new mt;i.add(a);let f;for(const u of r)a.isVazio()||(u.pai!==f.pai?(i=new wn,i.localizarArtigoEmAgrupador=!0,n.push(i),a=new mt,i.add(a)):Ne.getDispositivoIrmaoPosterior(f)!==u&&(a=new mt,i.add(a))),a.add(u),f=u;for(const u of n)u.setRanges(kn.separaRangesDeDoisDispositivos(u.getRanges()));return n}isInclusaoArtigoProximoAgrupador(e){return this.isInclusaoArtigoInicioAgrupador(e)||this.isInclusaoArtigoAntesAgrupador(e)}isInclusaoArtigoInicioAgrupador(e){const n=e.pai;return Nr(n)||!be(n)?!1:n.filhos.indexOf(e)===0}isInclusaoArtigoAntesAgrupador(e){const n=e.pai,r=Ne.getDispositivoIrmaoPosterior(e);return!!r&&n!==r.pai}}class Rg extends Bo{constructor(e){super(e);this.dispositivos=e}getTexto(e,n,r){const o=new ht,a=new kn().getSequencias(this.dispositivos),f=Ne.isSequenciasPlural(a);n?o.append(f?"Suprimam-se ":"Suprima-se "):(o.append(r?"; e ":"; "),o.append(f?"suprimam-se ":"suprima-se "));const u=new oo;return u.setArtigoAntesDispositivo(Nn.DEFINIDO),o.append(u.getTexto(a)),r&&(o.append(" "+e.genero.pronomePossessivoSingular+" "+e.nome),o.append(n?".":", nos termos a seguir:")),ra(o.toString())}}class ss{constructor(e,n){this.cabecalho=e,this.citacao=n}}class Cg{constructor(e,n){this.urn=e,this.articulacao=n}getComandos(){const e=[],n=this.getDispositivosEmenda(),r=this.getDispositivosRepresentativosDeCadaComando(n);if(r.sort(Fu.compare),!r.length)return[new ss("","")];const o=ap(this.urn);return r.forEach(i=>{let a,f;Te(i)?(a="n\xE3o implementado",f=""):(a=new Dg(n).getTexto(o),f=""),e.push(new ss(a,f))}),e}getDispositivosRepresentativosDeCadaComando(e){const n=[];let r=!1;return e.forEach(o=>{const i=Le(o);i&&i.pai&&i.situacao.descricaoSituacao!==re.DISPOSITIVO_SUPRIMIDO?n.indexOf(i)===-1&&i.pai.situacao.descricaoSituacao!==re.DISPOSITIVO_NOVO&&n.push(i):r||(r=!0,n.push(o))}),n}getDispositivosEmenda(){const e=[];return bo(this.articulacao,n=>{n.pai&&n.situacao.descricaoSituacao!==re.DISPOSITIVO_ORIGINAL&&e.push(n)}),e}}class Dg{constructor(e){this.dispositivosEmenda=e}getTexto(e){let n="";const r=Ne.getDispositivosComando(this.dispositivosEmenda),o=[],i=r.filter(s=>s.situacao.descricaoSituacao===re.DISPOSITIVO_SUPRIMIDO);i.length&&o.push(new Rg(i));const a=r.filter(s=>s.situacao.descricaoSituacao===re.DISPOSITIVO_MODIFICADO);a.length&&o.push(new Tg(a));const f=r.filter(s=>s.situacao.descricaoSituacao===re.DISPOSITIVO_ADICIONADO);f.length&&o.push(new Ng(f)),o.sort(Bo.compare);let u=0;const c=o.length-1;return o.forEach(s=>{n+=s.getTexto(e,u===0,u===c),u++}),n}}const kg=t=>({TYPE_NAME:"br_gov_lexml__1.Articulacao",lXhier:Uo(t,{articulacao:{}})}),Uo=(t,e)=>{var n;let r;if(be(t)?r=e.lXhier=[]:r=e.lXcontainersOmissis=[],ie(t)){const o=ma(t.caput);Lg(t,o.value),r.push(o),ls((n=t.filhos)===null||n===void 0?void 0:n.filter(i=>!nt(i.pai)),r),Uo(t.caput,o.value)}else ls(t.filhos,r);return r},Lg=(t,e)=>{var n,r,o;t.hasAlteracao()&&(e.alteracao={TYPE_NAME:"br_gov_lexml__1.Alteracao",base:"",id:"",content:[]},e.alteracao.base=(r=(n=t.alteracoes)===null||n===void 0?void 0:n.base)!==null&&r!==void 0?r:"",e.alteracao.id=Tp(t.caput),(o=t.alteracoes.filhos)===null||o===void 0||o.forEach(i=>{const a=ma(i);e.alteracao.content.push(a),Uo(i,a.value)}))},ls=(t,e)=>{t==null||t.forEach(n=>{const r=ma(n);e.push(r),Uo(n,r.value)})},ma=t=>{const e={name:{namespaceURI:"http://www.lexml.gov.br/1.0",localPart:t.tipo,prefix:"",key:`{http://www.lexml.gov.br/1.0}${t.tipo}`,string:`{http://www.lexml.gov.br/1.0}${t.tipo}`},value:{TYPE_NAME:"br_gov_lexml__1.DispositivoType"}};return qg(t,e.value),e},qg=(t,e)=>{e.href=nt(t)?Mt(t.pai)+"_"+Mt(t):Mt(t),e.id=Pp(t),t.rotulo&&/^["].*/.test(t.rotulo)?(e.abreAspas="s",e.rotulo=t.rotulo.substring(1)):!nt(t)&&!Xe(t)&&(e.rotulo=t.rotulo),nt(t)&&/.*(NR)/.test(t.texto)&&(e.fechaAspas="s",e.notaAlteracao="NR"),be(t)?e.nomeAgrupador={TYPE_NAME:"br_gov_lexml__1.GenInline",content:us(t)}:ie(t)||(t.texto===pt?e.textoOmitido="s":e.p=[{TYPE_NAME:"br_gov_lexml__1.GenInline",content:us(t)}])},us=t=>{const e=/<a[^>]+href="(.*?)"[^>]*>(.*?)<\/a>/gi,n=[],r=t.texto.match(e);if(r)t.texto.startsWith(r[0])||n.push(t.texto.substring(0,t.texto.indexOf(r[0])));else{const o=t.texto.indexOf("\u201D (NR)");n.push(t.texto.substring(0,o===-1?void 0:o))}return r==null||r.forEach((o,i)=>{var a,f;const u=o.match(e)?o:"";n.push(Mg(u!=null?u:""));const c=((a=t.texto)===null||a===void 0?void 0:a.indexOf(o))+o.length;if(c<t.texto.length-1){const s=r[i+1]?t.texto.indexOf(r[i+1]):t.texto.length;n.push((f=t.texto.substring(c,s))===null||f===void 0?void 0:f.replace(/strong>/gi,"b>").replace(/em>/gi,"i>"))}}),n},Mg=t=>{var e;const n=t.match(/href="(.*?)"*>/i),r=n&&n[1]?n[1]:"",o=t.match(/<a[^>]+href=".*?"[^>]*>(.*?)<\/a>/),i=o&&o[1]?[(e=o[1])===null||e===void 0?void 0:e.trim()]:[""];return{name:{namespaceURI:"http://www.lexml.gov.br/1.0",localPart:"span",prefix:"",key:"{http://www.lexml.gov.br/1.0}span",string:"{http://www.lexml.gov.br/1.0}span"},value:{TYPE_NAME:"br_gov_lexml__1.GenInline",href:r,content:i}}};let ju=!1;const cs=(t,e=!1)=>{var n,r;if(ju=e,!(!((n=t==null?void 0:t.value)===null||n===void 0)&&n.projetoNorma))throw new Error("N\xE3o se trata de um documento lexml v\xE1lido");return pr(pr(pr({classificacao:!((r=t.value)===null||r===void 0)&&r.projetoNorma.norma?ln.NORMA:ln.PROJETO,tipo:dr(ga(t))},Fg(t)),jg(t)),Bg(t.value.projetoNorma.norma?t.value.projetoNorma.norma:t.value.projetoNorma.projeto))},kr=t=>t==null?void 0:t.replace(/[\n]/g,"").trim(),ga=t=>{var e,n,r;return(r=(n=(e=t==null?void 0:t.value)===null||e===void 0?void 0:e.metadado)===null||n===void 0?void 0:n.identificacao)===null||r===void 0?void 0:r.urn},Fg=t=>({urn:ga(t)}),jg=t=>{var e,n,r,o,i,a,f,u,c,s,l,g,m,v,h,p;const y=(a=(i=(o=(r=(n=(e=t==null?void 0:t.value)===null||e===void 0?void 0:e.projetoNorma)===null||n===void 0?void 0:n.norma)===null||r===void 0?void 0:r.parteInicial)===null||o===void 0?void 0:o.epigrafe)===null||i===void 0?void 0:i.content[0])!==null&&a!==void 0?a:"",d=zu((s=(c=(u=(f=t==null?void 0:t.value)===null||f===void 0?void 0:f.projetoNorma)===null||u===void 0?void 0:u.norma)===null||c===void 0?void 0:c.parteInicial)===null||s===void 0?void 0:s.ementa.content),b=(p=(h=(v=(m=(g=(l=t==null?void 0:t.value)===null||l===void 0?void 0:l.projetoNorma)===null||g===void 0?void 0:g.norma)===null||m===void 0?void 0:m.parteInicial)===null||v===void 0?void 0:v.preambulo)===null||h===void 0?void 0:h.p[0].content[0])!==null&&p!==void 0?p:"";return{epigrafe:kr(y),ementa:kr(d),preambulo:kr(b)}},Bg=t=>({articulacao:Ug(t.articulacao)}),Ug=t=>{const e=pa();return Lr(e,t.lXhier),e},Lr=(t,e)=>{!t||!e||e==null||e.forEach(n=>{var r,o,i,a,f,u,c,s,l,g,m,v,h,p,y,d;let b;const w=(r=n.value)===null||r===void 0?void 0:r.notaAlteracao,_=((o=n.value)===null||o===void 0?void 0:o.fechaAspas)!==void 0?w?`\u201D (${w})`:"\u201D (NR)":"";((i=n.name)===null||i===void 0?void 0:i.localPart)==="Caput"?(((a=n.value)===null||a===void 0?void 0:a.abreAspas)==="s"?(b.rotulo="\u201C"+((f=n.value)===null||f===void 0?void 0:f.rotulo),b.cabecaAlteracao=!0,b.notaAlteracao=w):!((u=n.value)===null||u===void 0)&&u.rotulo&&(b.rotulo=n.value.rotulo,b.createNumeroFromRotulo(b.rotulo)),t.texto=!((c=n.value)===null||c===void 0)&&c.textoOmitido?pt:kr(Uu(n))+_,t.caput.href=(s=n.value)===null||s===void 0?void 0:s.href,t.caput.id=(l=n.value)===null||l===void 0?void 0:l.id,fs(t,(g=n.value)===null||g===void 0?void 0:g.alteracao),Lr(t.caput,(m=n.value)===null||m===void 0?void 0:m.lXcontainersOmissis)):((v=n.name)===null||v===void 0?void 0:v.localPart)==="alteracao"?(fs(t,n),Lr(t.caput,(h=n.value)===null||h===void 0?void 0:h.lXcontainersOmissis)):(b=Bu(t,n),Lr(b,(y=(p=n.value)===null||p===void 0?void 0:p.lXhier)!==null&&y!==void 0?y:(d=n.value)===null||d===void 0?void 0:d.lXcontainersOmissis))})},fs=(t,e)=>{var n;e&&(wu(t),t.alteracoes.uuid=e.id,t.alteracoes.base=e.base,(n=e.content)===null||n===void 0||n.forEach(r=>{var o,i,a,f;const u=Bu(t.alteracoes,r);u.isDispositivoAlteracao=!0,u.rotulo="\u201C"+((o=r.value)===null||o===void 0?void 0:o.rotulo),Lr(u,(a=(i=r.value)===null||i===void 0?void 0:i.lXhier)!==null&&a!==void 0?a:(f=r.value)===null||f===void 0?void 0:f.lXcontainersOmissis)}))},Bu=(t,e)=>{var n,r,o,i,a,f,u,c,s;const l=Ae(t,(n=e.name)===null||n===void 0?void 0:n.localPart),g=(r=e.value)===null||r===void 0?void 0:r.notaAlteracao,m=((o=e.value)===null||o===void 0?void 0:o.fechaAspas)!==void 0?g?`\u201D (${g})`:"\u201D (NR)":"";return Xe(l)||(((i=e.value)===null||i===void 0?void 0:i.abreAspas)==="s"?(l.rotulo="\u201C"+((a=e.value)===null||a===void 0?void 0:a.rotulo),l.cabecaAlteracao=!0,l.notaAlteracao=g):l.rotulo=(f=e.value)===null||f===void 0?void 0:f.rotulo,l.createNumeroFromRotulo(l.rotulo)),l.href=(u=e.value)===null||u===void 0?void 0:u.href,l.id=(c=e.value)===null||c===void 0?void 0:c.id,ju&&(l.situacao=new un,ie(l)&&(l.caput.situacao=new un)),l.texto=!((s=e.value)===null||s===void 0)&&s.textoOmitido?pt:kr(Uu(e))+m,l},zg=t=>`<a href="${t.href}"> ${t.content[0]} </a>`,Uu=t=>{var e,n,r,o,i;let a="";return!((e=t.value)===null||e===void 0)&&e.nomeAgrupador?(n=t.value.nomeAgrupador.content[0])!==null&&n!==void 0?n:"":((i=(o=(r=t.value)===null||r===void 0?void 0:r.p)===null||o===void 0?void 0:o.map(f=>f))===null||i===void 0||i.map(f=>f.content).forEach(f=>a+=zu(f)),a.replace(/b>/gi,"strong>").replace(/i>/gi,"em>"))},zu=t=>{let e="";return t==null||t.forEach(n=>{n.value?e+=zg(n.value):e+=n}),e},ds={name:{namespaceURI:"http://www.lexml.gov.br/1.0",localPart:"LexML",prefix:"",key:"{http://www.lexml.gov.br/1.0}LexML",string:"{http://www.lexml.gov.br/1.0}LexML"},value:{TYPE_NAME:"br_gov_lexml__1.LexML",metadado:{TYPE_NAME:"br_gov_lexml__1.Metadado",identificacao:{TYPE_NAME:"br_gov_lexml__1.Identificacao",urn:""}},projetoNorma:{TYPE_NAME:"br_gov_lexml__1.ProjetoNorma",norma:{TYPE_NAME:"br_gov_lexml__1.HierarchicalStructure",parteInicial:{TYPE_NAME:"br_gov_lexml__1.ParteInicial",epigrafe:{TYPE_NAME:"br_gov_lexml__1.GenInline",id:"epigrafe",content:[""]},ementa:{TYPE_NAME:"br_gov_lexml__1.GenInline",id:"ementa",content:[""]},preambulo:{TYPE_NAME:"br_gov_lexml__1.TextoType",id:"preambulo",p:[{TYPE_NAME:"br_gov_lexml__1.GenInline",content:[""]}]}},articulacao:{TYPE_NAME:"br_gov_lexml__1.Articulacao",lXhier:[{name:{namespaceURI:"http://www.lexml.gov.br/1.0",localPart:"Artigo",prefix:"",key:"{http://www.lexml.gov.br/1.0}Artigo",string:"{http://www.lexml.gov.br/1.0}Artigo"},value:{TYPE_NAME:"br_gov_lexml__1.DispositivoType",id:"art1",rotulo:"Art. 1\xBA",lXcontainersOmissis:[{name:{namespaceURI:"http://www.lexml.gov.br/1.0",localPart:"Caput",prefix:"",key:"{http://www.lexml.gov.br/1.0}Caput",string:"{http://www.lexml.gov.br/1.0}Caput"},value:{TYPE_NAME:"br_gov_lexml__1.DispositivoType",id:"art1_cpt",p:[{TYPE_NAME:"br_gov_lexml__1.GenInline",content:[""]}]}}]}}]}}}}};let So=class extends Zi(Pe)(pn){constructor(){super(...arguments);this.modo="",this.projetoNorma={}}createRenderRoot(){return this}getEmenda(){return{comandosEmenda:new Cg(this.projetoNorma.value.metadado.identificacao.urn,Pe.getState().elementoReducer.articulacao).getComandos()}}getProjetoAtualizado(){const e=pr({},this.projetoNorma),n=kg(Pe.getState().elementoReducer.articulacao);return e.value.projetoNorma[e.value.projetoNorma.norma?"norma":"projeto"].articulacao.lXhier=n.lXhier,e}update(e){var n;let r;if(this.projetoNorma||(this.projetoNorma=ds),this.modo===ln.EMENDA_ARTIGO_ONDE_COUBER){const o=(n=ga(this.projetoNorma))!==null&&n!==void 0?n:"";r=cs(ds,!0),r.urn=o,r.articulacao.artigos[0].numero=void 0,r.articulacao.artigos[0].rotulo="Art.",r.articulacao.artigos[0].situacao=new Dr}else r=cs(this.projetoNorma,this.modo===ln.EMENDA);Pe.dispatch(Oh(r.articulacao,this.modo)),super.update(e)}render(){return vt`
      <style>
        #gtx-trans {
          display: none;
        }

        lexml-eta-articulacao {
          display: block;
          height: 100%;
        }

        lexml-eta-articulacao:focus {
          outline: 0;
          border: 0px solid #f1f1f1;
          -webkit-box-shadow: 0px;
          box-shadow: none;
        }
      </style>

      <lexml-eta-articulacao></lexml-eta-articulacao>
    `}hasProjetoNorma(){return this.projetoNorma&&this.projetoNorma.name}};xt([Xr({type:String})],So.prototype,"modo",void 0);xt([Xr({type:Object})],So.prototype,"projetoNorma",void 0);So=xt([fr("lexml-eta")],So);var Vg={async buscarTextoLexmlAsJson(t,e,n){return(await Gu.get("proposicao/texto-lexml/json",{params:{sigla:t,numero:e,ano:n}})).data}};const io=t=>(Ju("data-v-b79e2f7e"),t=t(),ec(),t),Hg={class:"navbar navbar-expand-sm navbar-light"},$g={class:"container-fluid"},Kg=io(()=>Ve("button",{onclick:"history.back()",type:"button",class:"btn btn-back"},[Ve("span",{class:"btn-label"},[Ve("svg",{class:"bi"},[Ve("use",{"xlink:href":"#arrow-left"})])])],-1)),Gg=io(()=>Ve("button",{class:"navbar-toggler",type:"button","data-bs-toggle":"collapse","data-bs-target":"#navbarSupportedContent","aria-controls":"navbarSupportedContent","aria-expanded":"false","aria-label":"Toggle navigation"},[Ve("span",{class:"navbar-toggler-icon"})],-1)),Wg={class:"collapse navbar-collapse proposicao-actions",id:"navbarSupportedContent"},Qg=tc('<div class="modal fade" id="exampleModal" tabindex="-1" aria-labelledby="exampleModalLabel" aria-hidden="true" data-v-b79e2f7e><div class="modal-dialog modal-dialog-centered modal-dialog-scrollable" data-v-b79e2f7e><div class="modal-content" data-v-b79e2f7e><div class="modal-header" data-v-b79e2f7e><h5 class="modal-title" id="exampleModalLabel" data-v-b79e2f7e> Visualiza\xE7\xE3o </h5><button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close" data-v-b79e2f7e></button></div><div class="modal-body" data-v-b79e2f7e><p data-v-b79e2f7e> The standard Lorem Ipsum passage, used since the 1500s &quot;Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat. Duis aute irure dolor in reprehenderit in voluptate velit esse cillum dolore eu fugiat nulla pariatur. Excepteur sint occaecat cupidatat non proident, sunt in culpa qui officia deserunt mollit anim id est laborum.&quot; </p><p data-v-b79e2f7e> Section 1.10.32 of &quot;de Finibus Bonorum et Malorum&quot;, written by Cicero in 45 BC &quot;Sed ut perspiciatis unde omnis iste natus error sit voluptatem accusantium doloremque laudantium, totam rem aperiam, eaque ipsa quae ab illo inventore veritatis et quasi architecto beatae vitae dicta sunt explicabo. Nemo enim ipsam voluptatem quia voluptas sit aspernatur aut odit aut fugit, sed quia consequuntur magni dolores eos qui ratione voluptatem sequi nesciunt. Neque porro quisquam est, qui dolorem ipsum quia dolor sit amet, consectetur, adipisci velit, sed quia non numquam eius modi tempora incidunt ut labore et dolore magnam aliquam quaerat voluptatem. Ut enim ad minima veniam, quis nostrum exercitationem ullam corporis suscipit laboriosam, nisi ut aliquid ex ea commodi consequatur? Quis autem vel eum iure reprehenderit qui in ea voluptate velit esse quam nihil molestiae consequatur, vel illum qui dolorem eum fugiat quo voluptas nulla pariatur?&quot; </p><p data-v-b79e2f7e> 1914 translation by H. Rackham &quot;But I must explain to you how all this mistaken idea of denouncing pleasure and praising pain was born and I will give you a complete account of the system, and expound the actual teachings of the great explorer of the truth, the master-builder of human happiness. No one rejects, dislikes, or avoids pleasure itself, because it is pleasure, but because those who do not know how to pursue pleasure rationally encounter consequences that are extremely painful. Nor again is there anyone who loves or pursues or desires to obtain pain of itself, because it is pain, but because occasionally circumstances occur in which toil and pain can procure him some great pleasure. To take a trivial example, which of us ever undertakes laborious physical exercise, except to obtain some advantage from it? But who has any right to find fault with a man who chooses to enjoy a pleasure that has no annoying consequences, or one who avoids a pain that produces no resultant pleasure?&quot; </p><p data-v-b79e2f7e> Section 1.10.33 of &quot;de Finibus Bonorum et Malorum&quot;, written by Cicero in 45 BC &quot;At vero eos et accusamus et iusto odio dignissimos ducimus qui blanditiis praesentium voluptatum deleniti atque corrupti quos dolores et quas molestias excepturi sint occaecati cupiditate non provident, similique sunt in culpa qui officia deserunt mollitia animi, id est laborum et dolorum fuga. Et harum quidem rerum facilis est et expedita distinctio. Nam libero tempore, cum soluta nobis est eligendi optio cumque nihil impedit quo minus id quod maxime placeat facere possimus, omnis voluptas assumenda est, omnis dolor repellendus. Temporibus autem quibusdam et aut officiis debitis aut rerum necessitatibus saepe eveniet ut et voluptates repudiandae sint et molestiae non recusandae. Itaque earum rerum hic tenetur a sapiente delectus, ut aut reiciendis voluptatibus maiores alias consequatur aut perferendis doloribus asperiores repellat.&quot; </p><p data-v-b79e2f7e> 1914 translation by H. Rackham &quot;On the other hand, we denounce with righteous indignation and dislike men who are so beguiled and demoralized by the charms of pleasure of the moment, so blinded by desire, that they cannot foresee the pain and trouble that are bound to ensue; and equal blame belongs to those who fail in their duty through weakness of will, which is the same as saying through shrinking from toil and pain. These cases are perfectly simple and easy to distinguish. In a free hour, when our power of choice is untrammelled and when nothing prevents our being able to do what we like best, every pleasure is to be welcomed and every pain avoided. But in certain circumstances and owing to the claims of duty or the obligations of business it will frequently occur that pleasures have to be repudiated and annoyances accepted. The wise man therefore always holds in these matters to this principle of selection: he rejects pleasures to secure other greater pleasures, or else he endures pains to avoid worse pains.&quot; </p></div><div class="modal-footer" data-v-b79e2f7e><button type="button" class="btn btn-secondary" data-bs-dismiss="modal" data-v-b79e2f7e> Fechar </button></div></div></div></div>',1),Zg={class:"container-edicao-emenda"},Xg={class:"container-fluid mt-3"},Yg={class:"row"},Jg={class:"col-md-7 col-sm-12"},ev=io(()=>Ve("input",{type:"input",class:"form-control",placeholder:"T\xEDtulo da emenda","aria-label":"T\xEDtulo da emenda",required:""},null,-1)),tv=io(()=>Ve("span",{class:"proposicao-actions d-md-none"},[Ve("button",{type:"button",class:"btn btn-labeled proposicao-action","data-bs-toggle":"modal","data-bs-target":"#exampleModal"},"Visualiza\xE7\xE3o"),Ve("button",{type:"button",class:"btn btn-labeled proposicao-action","data-bs-toggle":"modal","data-bs-target":"#exampleModal"},"Ajuda")],-1)),nv={key:1},rv=io(()=>Ve("strong",null,"Carregando...",-1)),ov=[rv],iv=["projetoNorma"],av={class:"col-md-5 col-sm-12 d-none d-md-block"},sv=Zu({props:{sigla:null,numero:null,ano:null},setup(t){const e=t,n=Vo(()=>zo(()=>import("./AcoesPermitidas.b17e0df6.js").then(function(b){return b.a}),["assets/AcoesPermitidas.b17e0df6.js","assets/AcoesPermitidas.d20f7ef4.css","assets/vendor.ca3c6b03.js","assets/plugin-vue_export-helper.21dcd24c.js"])),r=Vo(()=>zo(()=>import("./CardProposicao.789546f5.js"),["assets/CardProposicao.789546f5.js","assets/CardProposicao.4e0a661b.css","assets/plugin-vue_export-helper.21dcd24c.js","assets/vendor.ca3c6b03.js"])),o=Vo(()=>zo(()=>import("./EditorEmendaPainelLateral.b5c76235.js"),["assets/EditorEmendaPainelLateral.b5c76235.js","assets/index.1b151157.js","assets/index.b7fe7564.css","assets/vendor.ca3c6b03.js"])),i=Gt(),a=Gt(!0),f=Gt(),u=Gt(),c=Gt([]),s=Gt(""),l=Gt(),g=Gt(null);Xu(()=>{m(e.sigla,e.numero,e.ano),v(e.sigla,e.numero,e.ano)});function m(b,w,_){Wu.buscarProposicao(b,w,_).then(O=>u.value=O)}function v(b,w,_){Vg.buscarTextoLexmlAsJson(b,w,_).then(O=>i.value=O).then(()=>d()).finally(()=>a.value=!1)}function h(){g.value=l.value.getEmenda()}let p=0;function y(){clearInterval(p),p=window.setTimeout(()=>{var w,_,O,P,A;const b=document.querySelectorAll(".lx-eta-dropdown-content-item");c.value=Array.from(b).map(E=>{var x;return(x=E.textContent)!=null?x:""}),s.value=(A=(P=(O=(_=(w=document.querySelector(".lx-eta-dropdown"))==null?void 0:w.closest(".container-td-direito"))==null?void 0:_.previousElementSibling)==null?void 0:O.querySelector("label"))==null?void 0:P.getAttribute("data-rotulo"))!=null?A:""},300)}function d(){const b=document.querySelector("lexml-eta");setTimeout(()=>{b?b.click():d()},300)}return(b,w)=>(mr(),Ho("div",{ref_key:"root",ref:f,onClick:y,onKeyup:y},[Ve("nav",Hg,[Ve("div",$g,[Kg,Gg,Ve("div",Wg,[u.value?(mr(),ba($o(n),{key:0,item:u.value,"acoes-permitidas":["salvar"]},null,8,["item"])):Ea("",!0)])])]),Qg,Ve("div",Zg,[Ve("div",Xg,[Ve("div",Yg,[Ve("section",Jg,[ev,u.value?(mr(),ba($o(r),{key:0,class:"editar-emenda-dados",proposicao:u.value},null,8,["proposicao"])):Ea("",!0),tv,a.value?(mr(),Ho("div",nv,ov)):(mr(),Ho("lexml-eta",{key:2,ref_key:"lexmlEta",ref:l,modo:"emenda",projetoNorma:i.value,onOnchange:h},null,40,iv))]),Ve("aside",av,[Yu($o(o),{"itens-menu":c.value,"texto-rotulo-dispositivo":s.value,emenda:g.value},null,8,["itens-menu","texto-rotulo-dispositivo","emenda"])])])])])],544))}});var Pv=Qu(sv,[["__scopeId","data-v-b79e2f7e"]]);export{Pv as default};
